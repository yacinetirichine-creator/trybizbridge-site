;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b814c11e-0b51-2997-c3bb-266ca8877112")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6226725,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM5.5 11.5607L6.03033 11.0303L8 9.06066L9.96967 11.0303L10.5 11.5607L11.5607 10.5L11.0303 9.96967L9.06066 8L11.0303 6.03033L11.5607 5.5L10.5 4.43934L9.96967 4.96967L8 6.93934L6.03033 4.96967L5.5 4.43934L4.43934 5.5L4.96967 6.03033L6.93934 8L4.96967 9.96967L4.43934 10.5L5.5 11.5607Z" fill="currentColor"/>');e.s(["CrossCircle",0,t])},2107254,e=>{"use strict";var t=e.i(5169864),a=e.i(2405338),r=e.i(1269010),i=e.i(4433738),s=e.i(8042625),n=e.i(277234),l=e.i(4244280),o=e.i(9668517),c=e.i(5140444);function u(e){let{version:t,until:a,limit:r,latestDeployments:i,search:n,slug:o,excludeRepos:c,edgeConfigId:u,edgeConfigTokenId:d,connectConfigurationId:m,from:p,sortByElasticConcurrency:h,buildMachineTypes:f,includePermissions:x}=e;return`${(0,l.API_PROJECTS_VERSION)(t)}${(0,s.encode)({until:a,limit:r,latestDeployments:i,search:n,slug:o,excludeRepos:c,edgeConfigId:u,edgeConfigTokenId:d,connectConfigurationId:m,from:p,sortByElasticConcurrency:h,buildMachineTypes:f,includePermissions:x})}`}let d=null;function m(e,t){let{limit:a=8,latestDeployments:r=3,excludeReposRef:i}=e,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"v9",c=`${(0,l.API_PROJECTS_VERSION)(o)}${(0,s.encode)({limit:a,latestDeployments:r,slug:t,excludeRepos:i?.current[0]??null})}`;d=[c,(0,n.fetchAPI)(c)]}function p(e,t){let a,r,{sortByElasticConcurrency:i}=t;return i&&"string"==typeof e?a=e:"number"==typeof e&&(r=e),{from:a,until:r}}function h(){let{fetchEnabled:e=!0,limit:s=8,latestDeployments:l=3,search:c,excludeReposRef:m,revalidateFirstPage:h=!0,edgeConfigId:f,edgeConfigTokenId:x,connectConfigurationId:g,version:j="v9",slug:y,sortByElasticConcurrency:v,buildMachineTypes:_,includePermissions:w}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=arguments.length>3&&void 0!==arguments[3]&&arguments[3],A=(0,i.useRouter)(),I=(0,o.useTeamSlug)(),L=y||I,T=(0,r.default)((t,a)=>{if(!e||A&&!A.isReady)return null;if(!t)return u({version:j,limit:s,latestDeployments:l,search:c,slug:L,excludeRepos:m?.current[0]??null,edgeConfigId:f,edgeConfigTokenId:x,connectConfigurationId:g,sortByElasticConcurrency:v,buildMachineTypes:_,includePermissions:w});let{until:r,from:i}=p(a?.pagination.next,{sortByElasticConcurrency:v});return r||i?u({version:j,until:r,limit:s,latestDeployments:l,search:c,slug:L,excludeRepos:m?.current[t]??null,edgeConfigId:f,edgeConfigTokenId:x,connectConfigurationId:g,from:i,sortByElasticConcurrency:v,buildMachineTypes:_,includePermissions:w}):null},async e=>{if(d&&d[0]===e){let e=await d[1];return d=null,e}return(0,n.fetchAPI)(e,{throwOnHTTPError:!0})},{...S,keepPreviousData:b,revalidateFirstPage:h,persistSize:!0}),N=!!T.data,k=!!((T.data?.[T.data.length-1]?.projects.length??0)<s||T.data?.[T.data.length-1]?.pagination.next===null),E=(0,t.useMemo)(()=>T.data?T.data.flatMap(e=>e.projects):[],[T.data]),P=N&&0===E.length,F=!!(T.data&&T.size>T.data.length);return(0,a.default)(()=>{if(C||!T.data||k)return null;let e=T.data[T.data.length-1],{from:t,until:a}=p(e?.pagination.next,{sortByElasticConcurrency:v});return u({version:j,until:a,limit:s,latestDeployments:l,search:c,slug:L,excludeRepos:m?.current[0]??null,edgeConfigId:f,edgeConfigTokenId:x,connectConfigurationId:g,from:t,sortByElasticConcurrency:v,buildMachineTypes:_,includePermissions:w})},e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0})),[T,{projects:E,initialDataLoaded:N,isEmpty:P,loadMore:()=>T.setSize(e=>e+1),isLoadingMore:F,isReachingEnd:k,isValidating:T.isValidating}]}function f(){let{fetchEnabled:e=!0,limit:r,from:u,linked:d,search:m,hasProductionDomains:p,domain:h,latestDeployments:f=3,deploymentInfo:x,includePermissions:g=!1,edgeConfigId:j,edgeConfigTokenId:y,connectConfigurationId:v,excludeConnectConfigurationId:_,staticIpsEnabled:w,teamId:S}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=arguments.length>2?arguments[2]:void 0,A=arguments.length>3?arguments[3]:void 0,I=(0,o.useTeamSlug)(),L=(0,i.useRouter)(),{user:T,isNorthstar:N}=(0,c.useUser)(),[k,E]=(0,t.useState)(m);return(0,t.useEffect)(()=>{E(e=>e===m?e:m)},[m]),{...(0,a.default)(()=>e&&(!L||L.isReady)&&T&&(!N||T.defaultTeamId||S)?`${(0,l.API_PROJECTS_VERSION)("v8")}${(0,s.encode)({from:u||null,limit:r,linked:!!d||null,search:k,hasProductionDomains:p?"1":null,domain:h,latestDeployments:void 0===f?null:f,deploymentInfo:x||null,slug:b||I,includePermissions:g,edgeConfigId:j,edgeConfigTokenId:y,connectConfigurationId:v,excludeConnectConfigurationId:_,staticIpsEnabled:void 0===w?null:Number(w).toString(),teamId:S||null})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:!0,throwOnScopeAuthError:A?.throwOnScopeAuthError}),C),updateSearch:E,search:k}}e.s(["default",()=>f,"preloadProjectListInfinite",()=>m,"useProjectListInfinite",()=>h],2107254)},4670733,e=>{"use strict";var t=e.i(5169864),a=e.i(5297230),r=e.i(1360174),i=e.i(6539082),s=e.i(5140444),n=e.i(5338940),l=e.i(588428);let o="vercel:ldFlags",c=(0,a.default)(()=>{let e=i.localStorageWrapper.getItem(o);if(e)return JSON.parse(e)}),u=(0,r.default)(e=>{i.localStorageWrapper.setItem(o,JSON.stringify(e))},1e3),d=()=>{let{flags:e,isLoading:a,mutate:r,isLoggedOut:n}=(0,s.useUser)(),l=(0,t.useMemo)(()=>e??c(),[e]);return(0,t.useEffect)(()=>{e&&(u(e),c.cache.set(void 0,e))},[e]),(0,t.useEffect)(()=>{n&&(i.localStorageWrapper.removeItem(o),c.cache.clear?.(),u.cancel())},[n]),{flags:l,isReady:!a&&void 0!==l,mutate:r}},m=e=>{let{flags:t,isReady:a,mutate:r}=d();return{isReady:a,value:t?.[e]??null,mutate:()=>r().then(t=>({isReady:a,value:t?.flags?.[e]??null}))}};e.s(["useAllAccountTypeBadgesFlag",0,()=>m("show-all-account-type-badges"),"useEmailNotificationRulesFlag",0,()=>{let{isReady:e,value:t}=m("email-notification-rules");return{isReady:e,value:!!t}},"useEnableAiDomainSearchFlag",0,()=>{let{isReady:e,value:t}=m("enable-ai-domain-search");return{isReady:e,value:t??!0}},"useEnableAnsiLogs",0,()=>{let e=(0,n.useTeam)(),t=(0,l.useLaunchDarklyTeamFeatureFlag)("ansi-logs"),a=m("ansi-logs");return{isReady:e.isTeam?t.isReady:a.isReady,value:!!(e.isTeam?t.value:a.value)}},"useEnableSecureComputeSelfServiceFlag",0,()=>(0,l.useLaunchDarklyTeamFeatureFlag)("secure-compute-self-service"),"useFeedbackVariantsDeployStep",0,()=>{let{isReady:e,value:t}=(0,l.useLaunchDarklyTeamFeatureFlag)("feedback-variants-deploy-step"),{isReady:a,value:r}=m("feedback-variants-deploy-step");return(e&&t||a&&r)??!1},"useInstantRollbackHobbyRestrictionFlag",0,()=>m("instant-rollback-hobby-restriction"),"useIsOemPartner",0,()=>m("is-oem-partner"),"useLaunchDarklyFeatureFlag",0,m,"useLaunchDarklyFlags",0,d,"useManualGitDeployFlag",0,()=>{let e=(0,n.useTeam)(),t=(0,l.useLaunchDarklyTeamFeatureFlag)("manual-git-deploys"),a=m("manual-git-deploys");return{isReady:e.isTeam?t.isReady:a.isReady,value:!!(e.isTeam?t.value:a.value)}},"useMonitoringExitSurveyFlag",0,()=>m("monitoring-exit-survey"),"useNetCpuFunctionsFlag",0,e=>{let t=(0,l.useLaunchDarklyTeamFeatureFlag)("net-cpu-functions"),a=(0,l.useLaunchDarklyTeamFeatureFlag)("net-cpu-billing-for-functions-projects"),r="string"==typeof a.value?a.value.split(",").map(e=>e.trim()):[];return{isReady:t.isReady&&a.isReady,value:!!t.value||r?.includes(e)}},"useNewFeedbackSharingModal",0,()=>(0,l.useLaunchDarklyTeamFeatureFlag)("feedback-sharing-modal"),"useOpenTelemetryApiScopeFlag",0,()=>m("open-telemetry-api-scope"),"useShowCronJobsSummary",0,()=>{let{isReady:e,value:t}=(0,l.useLaunchDarklyTeamFeatureFlag)("cron-jobs-deploy-summary"),{isReady:a,value:r}=m("cron-jobs-deploy-summary");return(e&&t||a&&r)??!1},"useStorageEnterpriseFlag",0,e=>{let t=(0,l.useLaunchDarklyTeamFeatureFlag)("storage-enterprise",e),a=t.value?.split(",").map(e=>e.trim()).filter(Boolean)||[];return{isReady:t.isReady,isStorageEnterpriseEnabled:e=>{let{storeType:r,isUnbundled:i,isTrialing:s}=e;return"edge-config"===r||"integration"===r||!!i||!!s||t.isReady&&a.includes(r)}}},"useTrustedIpsCustomLimitFlag",0,()=>{let e=(0,l.useLaunchDarklyTeamFeatureFlag)("trusted-i-ps-custom-limit");return{isReady:e.isReady,value:e.value}},"useVercelAppsFlag",0,()=>{let e=(0,l.useLaunchDarklyTeamFeatureFlag)("vercel-apps");return{isReady:e.isReady,value:!!e.value}}])},5136192,e=>{"use strict";var t=e.i(3846959),a=e.i(6228447);let r=(e,t)=>{let{pathname:a,page:r,teamSlug:n}=e,l=function(e){let{pathname:t,page:a,fromSettings:r}=e;return r&&a&&"settings"!==a?i.exec(t)?"/invoices":s.exec(t)?"/connectivity":t.endsWith("/microfrontends/new")?"/microfrontends/new":`/${a}`:""}({pathname:a,page:r,fromSettings:t});return`/${String(n)}/~/settings${l}`},i=/\/settings\/invoices\//,s=/\/settings\/connectivity\//;function n(e){return(0,t.format)(e)}e.s(["getScopeHref",0,e=>{let{pathname:t,pathParams:i,searchParams:s,team:l,user:o,project:c}=e,u=l?.slug||o?.username,d=function(e){let{pathname:t,pathParams:a,searchParams:i,team:s,user:l,project:o}=e;if(!t)return"/";if(l&&!s){let e;return e="/account",t.endsWith("/~/domains")?`${e}/domains`:t.endsWith("/~/activity")?`${e}/activity`:t.endsWith("/~/settings")?`${e}/settings`:e}let c=s?.slug,u=s?.slug||l?.username,d=o?.name,m=a?.teamSlug??i.get("teamSlug"),p=a?.project??i.get("project"),h=function(e){let t={};for(let[a,r]of e)t[a]=r;return t}(i),f=t.split("/").filter(Boolean),x=f.filter(e=>!/\[.*\]/.test(e)),g=x[0],j=x[x.length-1],y=x[2],v={pathname:t,page:j,query:h,teamSlug:s?.slug};if(m&&p&&d&&u&&t.includes(p))return t.replace(m,u).replace(p,d);if("/dashboard"===t||"/"===t)return`/${u}`;if("help"===g)return c?`/help?teamSlug=${c}`:"/help/";if("new"===g){if("import"===j)return(delete h["create-team-collapsed"],c)?n({pathname:`/new/${c&&c!==l?.username?`${c}/`:""}import`,query:{...h}}):(delete h.teamSlug,n({pathname:"/new/import",query:{...h}}));if("repo"===j)return c?n({pathname:`/new/${c&&c!==l?.username?`${c}/`:""}import/repo`,query:{...h}}):(delete h.teamSlug,n({pathname:"/new/import/repo",query:{...h}}));if("clone"===j)return(u!==h["create-team-collapsed"]&&delete h["create-team-collapsed"],c)?n({pathname:`/new/${u}/clone`,query:{...h}}):(delete h.teamSlug,n({pathname:"/new/clone",query:{...h}}));else if("third-party"===j)return n({pathname:`/new/${u}/git/third-party`});else if(f.includes("templates")){let e=[...f];return e.splice(1,+!!(m&&t.includes(m)),u||""),n({pathname:`/${e.join("/")}`})}return n({pathname:`/new/${u}`})}if(u&&/\/settings\/apps\/([^/]+)/.test(t))return`/${u}/~/settings/apps`;if(f.includes("account"))return c?r(v):"/account";if(f.includes("settings"))return c?c!==m&&!d&&p?`/${c}`:r(v,!0):"/account";if("dashboard"===g||t.includes("/~"))return u&&"integrations"===y?`/${u}/~/integrations`:u&&"domains"===j?`/${u}/~/domains`:u&&m&&t.startsWith(`/${m}/~/repos`)?`/${u}`:u&&m&&t.startsWith(`/${m}/~/ai`)?`/${u}/~/ai`:m&&t.startsWith(`/${m}/~/stores`)||t.startsWith("/dashboard/stores")?c?`/${c}/~/stores`:"/dashboard/stores":t.endsWith("/domains/[domain]")||h.domain||m&&t.startsWith(`/${m}/~/domains`)||t.startsWith("/dashboard/domains")?c?`/${c}/~/domains`:"/dashboard/domains":t.endsWith("/monitoring/[chart]")||h.chart||m&&t.startsWith(`/${m}/~/monitoring`)||t.startsWith("/dashboard/monitoring")?c?`/${c}/~/monitoring`:"/dashboard/monitoring":m&&t.startsWith(`/${m}/~/support/cases`)?c?`/${c}/~/support/cases`:"/dashboard/support/cases":m&&u&&t.includes(`/${m}`)?t.replace(`/${m}`,`/${u}`):t.replace(j,u?`${u}/${j}`:j);if(m&&t.startsWith(`/${m}/~/support/cases`)||t.startsWith("/support/cases")){let e=t.split("/support/cases")[1]||"";return(e.startsWith("/[case-id]")&&(e=""),s)?`/${s.slug}/~/support/cases${e}`:`/support/cases${e}`}return m&&p&&t.startsWith(`/${m}/${p}`)?`/${u}`:"domains"===j?c?(e=>{let{query:t,teamSlug:a}=e;return n({pathname:"/domains",query:{...t,teamSlug:a}})})(v):(e=>{let{query:t}=e;return n({pathname:"/domains",query:{...t,teamSlug:void 0}})})(v):`/${u}`}({pathname:t,pathParams:i,searchParams:s,team:l,user:o,project:c});if((0,a.isAuthenticationRequired)(l)){let e=(0,a.getTeamLimitedBy)(l);return 1===e.length&&e.includes("mfa")?n({pathname:"/two-factor-required",query:{teamSlug:l?.slug}}):n({pathname:`/login/scope/${u}`,query:{missingScope:"1",next:d}})}return d}])},935882,e=>{"use strict";let t=e.i(5169864).useLayoutEffect;e.s(["default",0,t])},271259,e=>{"use strict";var t=e.i(7917902),a=e.i(5169864),r=e.i(588428),i=e.i(4670733);function s(){let{user:e,isLoading:s}=(0,t.useAccount)(),n=function(){let{value:e}=(0,r.useIsOemPartner)(),{value:t}=(0,i.useIsOemPartner)();return(0,a.useMemo)(()=>e||t,[e,t])}();return!e||s||null===n?{ready:!1}:n?{ready:!0,canCreateTrial:!0,isOemPartner:n}:{ready:!0,canCreateTrial:e.hasTrialAvailable??!0,isOemPartner:n}}e.s(["useCanCreateTrial",()=>s],271259)},9543208,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8.00001 0.433594L8.65845 1.64093L10.5908 5.18412L14.5577 5.92698L15.9094 6.18011L14.9646 7.17942L12.192 10.1121L12.7113 14.1144L12.8883 15.4782L11.6459 14.8884L8.00001 13.1577L4.35408 14.8884L3.11173 15.4782L3.28869 14.1144L3.80802 10.1121L1.03538 7.17942L0.0906067 6.18011L1.44233 5.92698L5.40922 5.18412L7.34156 1.64093L8.00001 0.433594ZM8.00001 3.56646L6.55565 6.21487L6.38519 6.52743L6.03525 6.59296L3.07014 7.14822L5.14259 9.34029L5.38718 9.59899L5.34137 9.95205L4.95318 12.9436L7.67838 11.65L8.00001 11.4973L8.32163 11.65L11.0468 12.9436L10.6586 9.95205L10.6128 9.59899L10.8574 9.34029L12.9299 7.14822L9.96476 6.59296L9.61482 6.52743L9.44436 6.21487L8.00001 3.56646Z" fill="currentColor"/>');e.s(["Star",0,t])},387079,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path d="M7.99999 0.489502L10.5734 5.20807L15.8562 6.19736L12.1638 10.1029L12.8554 15.4329L7.99999 13.1281L3.1446 15.4329L3.83621 10.1029L0.143799 6.19736L5.42663 5.20807L7.99999 0.489502Z" fill="currentColor"/>');e.s(["StarFill",0,t])},1613936,e=>{"use strict";var t=e.i(5169864),a=e.i(455575),r=e.i(277234),i=e.i(4244280),s=e.i(7917902),n=e.i(1119178);let l=(e,t)=>e.projectId===t.projectId&&e.teamId===t.teamId;function o(){let{user:e,isLoading:o,mutate:c}=(0,s.useAccount)(),u=(0,a.useToasts)(),d=(0,t.useMemo)(()=>o||!e?[]:e.favoriteProjectsAndSpaces??[],[o,e]),m=(0,t.useCallback)(async e=>{if(d.some(t=>l(t,e)))return void console.error("Favorite already exists",e);try{let t=[...d,e];await (0,r.fetchAPI)(i.API_USER,{method:"PATCH",body:{favoriteProjectsAndSpaces:t},throwOnHTTPError:!0}),await c()}catch(e){console.error(e),u.error("Adding the project to your favorites failed.")}},[d,c,u]),p=(0,t.useCallback)(e=>{(0,n.promiseToCallback)(m)(e)},[m]),h=(0,t.useCallback)(async e=>{let t=d.filter(t=>!l(t,e));try{await (0,r.fetchAPI)(i.API_USER,{method:"PATCH",body:{favoriteProjectsAndSpaces:t},throwOnHTTPError:!0}),await c()}catch{u.error("Removing the project from your favorites failed.")}},[d,c,u]),f=(0,t.useCallback)(e=>{(0,n.promiseToCallback)(h)(e)},[h]),x=(0,t.useCallback)(e=>d.some(t=>l(t,e)),[d]);return{addFavorite:p,favorites:d,removeFavorite:f,isFavorite:x,addFavoriteAsync:m,removeFavoriteAsync:h}}e.s(["serializeFavorite",0,e=>`favorite-project:${e.projectId}`,"useFavoriteProjectsAndSpaces",()=>o])},7056917,e=>{e.v({center:"index-module__fu5KXa__center",container:"index-module__fu5KXa__container",fadeIn:"index-module__fu5KXa__fadeIn",fieldset:"index-module__fu5KXa__fieldset",footer:"index-module__fu5KXa__footer",footerActions:"index-module__fu5KXa__footerActions",gotolink:"index-module__fu5KXa__gotolink",learn:"index-module__fu5KXa__learn"})},4839822,e=>{"use strict";var t=e.i(1146226),a=e.i(5585544),r=e.i(2504781),i=e.i(7137884),s=e.i(8517043),n=e.i(1232681),l=e.i(57106),o=e.i(119294),c=e.i(6352514),u=e.i(7056917);let d="open-scope-switcher";e.s(["OPEN_SCOPE_SWITCHER_EVENT",0,d,"default",0,function(e){let{role:m,teamName:p,action:h,actionButton:f,dataTestId:x,showTeamSwitcher:g}=e;return(0,t.jsx)("div",{className:u.default.center,"data-testid":x,children:(0,t.jsxs)(s.Fieldset,{className:u.default.fieldset,hasShadow:!0,children:[(0,t.jsx)(i.FieldsetContent,{className:u.default.container,children:(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)("span",{className:"text-heading-24",children:"Additional Permissions Required"}),(0,t.jsx)("hr",{className:"geist-hr-reset"}),(0,t.jsxs)("p",{className:"text-copy-16",children:["As a ",(0,t.jsx)("b",{children:m.replaceAll("_"," ").toLowerCase()})," on the"," ",(0,t.jsx)("b",{children:p})," team, you do not have the required permission to"," ",h,"."]}),g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-copy-16",children:"To continue, please switch to a different Vercel account, or request additional permissions."}),(0,t.jsx)(r.Button,{align:"center",onClick:()=>{document.dispatchEvent(new Event(d))},prefix:(0,t.jsx)(a.Users,{}),width:"100%",children:"Open Account Switcher"})]}):null]})}),(0,t.jsxs)(n.FieldsetFooter,{className:u.default.footer,children:[(0,t.jsx)(n.FieldsetFooter.Status,{children:(0,t.jsxs)("span",{className:u.default.learn,children:["Learn more about"," ",(0,t.jsx)(l.Link,{external:!0,href:"/docs/rbac",onClick:()=>{o.analytics.track(c.AnalyticsEvent.PERMISSIONS_CLICKED_LEARN_MORE)},tab:!0,type:"highlight",children:"Roles and Permissions"})]})}),(0,t.jsx)(n.FieldsetFooter.Actions,{className:u.default.footerActions,children:(0,t.jsx)(l.ButtonLink,{className:u.default.gotolink,href:f.link,size:"small",type:"secondary",children:f.text})})]})]})})}])},8391381,e=>{e.v({button:"command-module__eP91eq__button",disabled:"command-module__eP91eq__disabled",hidebutton:"command-module__eP91eq__hidebutton",listWrapper:"command-module__eP91eq__listWrapper"})},1236612,9261674,e=>{"use strict";var t=e.i(1146226),a=e.i(692265),r=e.i(5169864),i=e.i(1992190);let s=r.createContext({listId:"",inputId:"",inputValue:"",selectedIndex:0,inputRef:{current:null},filterList:null,listRef:{current:null},list:{current:[]},map:{current:{}},setInputValue:()=>void 0,setSelectedIndex:()=>void 0,force:()=>void 0});s.displayName="CommandContext";let n=(0,i.createDescendants)();var l=e.i(6143247),o=e.i(57106),c=e.i(935882),u=e.i(6226725),d=e.i(8391381),m=e.i(9338892);function p(){var e,t;let a,{selected:s=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,l]=r.useState(s),[o,c]=r.useState(""),u=r.useRef(null),d=r.useRef(null),{ref:p,...h}=(0,i.useDescendants)(),f=(e=h.map,t=o,(a=Object.values(e.current)).length?""===t?a:(0,m.matchSorter)(a,t,{keys:[e=>e.value]}):null);return{inputValue:o,setInputValue:function(e){"string"==typeof e?c(e):c(e.target.value),l(0)},selectedIndex:n,setSelectedIndex:l,filterList:f,listRef:p,contentRef:u,inputRef:d,...h}}function h(e){let{children:r,inputValue:i,setInputValue:n,selectedIndex:l,setSelectedIndex:o,contentRef:c,inputRef:u,...d}=e,m=(0,a.useId)(),p=(0,a.useId)();return(0,t.jsx)(s.Provider,{value:{listId:m,inputId:p,inputValue:i,setInputValue:n,selectedIndex:l,setSelectedIndex:o,inputRef:u,filterList:[],listRef:{current:null},list:{current:[]},map:{current:{}},force:()=>void 0,...d},children:r})}h.Item=function(e){let{className:a,children:c,callback:u,hideOnFilter:d,isStatic:m=!1,value:p,href:h,...f}=e,[x,g]=(0,r.useState)(""),j=!!f.isDocs;(0,r.useEffect)(()=>{let e=b.current;e&&g((e.textContent??"").trim())},[c]);let{selectedIndex:y,setSelectedIndex:v,filterList:_,list:w,map:S}=r.useContext(s),{index:C,ref:b,id:A}=(0,i.useDescendant)(n,{value:d?null:p||x,callback:u,...f}),I=!!S.current[A],L=w.current[y]?._internalId===A,T=Array.isArray(_)&&I?_.findIndex(e=>{let{_internalId:t}=e;return t===A}):void 0;return((0,r.useEffect)(()=>{if(L&&b.current){let e=b.current,t=e.parentElement;if(t?.hasAttribute("data-command-group")&&t.firstChild===e){let a=e.closest("[data-command-list-wrapper]");t.parentElement&&a?.scrollTop&&a.scrollTop>t.parentElement.offsetTop&&(a.scrollTop=t.parentElement.offsetTop)}e.scrollIntoView({block:"nearest"})}},[L]),j||-1!==T||m)?(0,t.jsx)("li",{...f,"aria-selected":L||void 0,"data-command-item":"","data-order":T,onClick:e=>{u?.(e)},onPointerMove:()=>{v(C)},ref:b,role:"option",className:(0,l.cn)("relative",a),children:h?(0,t.jsx)(o.Link,{href:h,className:"flex size-full items-center",children:c}):(0,t.jsx)(t.Fragment,{children:c})}):null},h.Group=function(e){let{children:i,heading:s,customHeading:n,className:l}=e,o=(0,a.useId)(),u=(0,r.useRef)(null),[d,m]=(0,r.useState)(!0);return(0,c.default)(()=>{u.current&&m(0!==u.current.children.length)}),(0,t.jsxs)("li",{role:"presentation",style:d?void 0:{display:"none"},children:[n?(0,t.jsx)("div",{id:o,children:n}):(0,t.jsx)("div",{className:l,"data-command-group-heading":"",id:o,children:s}),(0,t.jsx)("ul",{"aria-labelledby":o,"data-command-group":"",ref:u,role:"group",children:i})]})},h.Input=function(e){let{onKeyDown:a,disabled:i,...n}=e,{listId:l,inputId:o,inputValue:c,setInputValue:m,inputRef:p}=r.useContext(s),h=function(){let{setSelectedIndex:e,selectedIndex:t,list:a}=r.useContext(s);function i(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=Math.max(t-r,0);a.current[i]?e(i):e(0)}function n(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=Math.min(t+r,a.current.length-1);a.current[i]?e(i):e(a.current.length||0)}return r=>{switch(r.key){case"Home":r.preventDefault(),e(0);break;case"End":r.preventDefault(),e(a.current.length||0);break;case"ArrowDown":r.preventDefault(),r.shiftKey?n(5):n();break;case"ArrowUp":r.preventDefault(),r.shiftKey?i(5):i();break;case"Enter":r.preventDefault(),(a.current[t]?.callback)(r)}}}(),f=!!n.showClear;return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)("input",{onChange:m,onKeyDown:e=>{h(e),a?.(e)},ref:p,value:c,...n,"aria-autocomplete":"list","aria-controls":l,"aria-expanded":!0,"aria-haspopup":"listbox","aria-owns":l,autoComplete:"off",autoFocus:n.autoFocus??!0,"data-command-input":"",disabled:i,id:o,role:"combobox",spellCheck:!1,type:"text"}),!!f&&(0,t.jsx)("button",{className:""===c?d.default.hidebutton:d.default.button,onClick:()=>{m(""),p.current?.focus()},type:"button",children:(0,t.jsx)("span",{children:(0,t.jsx)(u.CrossCircle,{size:20})})})]})},h.List=function(e){let{children:a,maxHeight:i=300,emptyMessage:l,disableDynamicHeight:o,...u}=e,m=(0,r.useRef)(null),{listId:p,listRef:h,map:f,list:x,force:g,inputValue:j}=r.useContext(s);(0,c.default)(()=>{if(!h.current)return;let e=new Map,t=Array.from(h.current.querySelectorAll("[data-descendant], [data-command-separator]"));u.applySort&&t.sort((e,t)=>Number(e.getAttribute("data-order"))-Number(t.getAttribute("data-order"))),t.forEach(t=>{if(t.parentElement){t.parentElement.appendChild(t);let a=t.closest("[data-command-list] > *");a&&a!==t&&a!==h.current&&(e.has(a)||(h.current?.appendChild(a),e.set(a,!0)))}})},[j]),(0,c.default)(()=>{if(!h.current||!m.current||o)return;let e=Math.min(h.current.offsetHeight+1,i);m.current.style.height=`${1===e?0:e}px`});let y=(0,r.useMemo)(()=>({list:x,map:f,force:g}),[x,f,g]),{applySort:v,..._}=u;return(0,t.jsx)("div",{className:d.default.listWrapper,"data-command-list-wrapper":"",ref:m,children:(0,t.jsxs)("ul",{id:p,ref:h,role:"listbox",..._,"data-command-list":"",children:[0===x.current.length&&j.length>0&&(0,t.jsx)("div",{"data-command-empty":"",children:l}),(0,t.jsx)(n.Provider,{value:y,children:a})]})})},h.Separator=function(e){let{className:a}=e,{inputValue:i}=r.useContext(s),n=(0,r.useRef)(null);return((0,c.default)(()=>{let e=n.current;if(!e)return;let t=e.nextElementSibling;t&&t.hasAttribute("data-order")&&e.setAttribute("data-order",t.getAttribute("data-order"))}),i)?null:(0,t.jsx)("li",{className:a,"data-command-separator":"",ref:n,role:"separator"})},e.s(["Command",()=>h],1236612),e.s(["useCommand",()=>p],9261674)},84614,e=>{e.v({avatar:"multi-switcher-module__eIAjoG__avatar",close:"multi-switcher-module__eIAjoG__close",command:"multi-switcher-module__eIAjoG__command","command-overlay":"multi-switcher-module__eIAjoG__command-overlay",content:"multi-switcher-module__eIAjoG__content",crumb:"multi-switcher-module__eIAjoG__crumb","delayed-pointer-events":"multi-switcher-module__eIAjoG__delayed-pointer-events",disabled:"multi-switcher-module__eIAjoG__disabled",empty:"multi-switcher-module__eIAjoG__empty","fav-button":"multi-switcher-module__eIAjoG__fav-button",focused:"multi-switcher-module__eIAjoG__focused",hideOnMobile:"multi-switcher-module__eIAjoG__hideOnMobile",hideOutline:"multi-switcher-module__eIAjoG__hideOutline",hover:"multi-switcher-module__eIAjoG__hover","hover-content":"multi-switcher-module__eIAjoG__hover-content",infoCard:"multi-switcher-module__eIAjoG__infoCard",input:"multi-switcher-module__eIAjoG__input",itemWrapper:"multi-switcher-module__eIAjoG__itemWrapper",kbd:"multi-switcher-module__eIAjoG__kbd",list:"multi-switcher-module__eIAjoG__list",name:"multi-switcher-module__eIAjoG__name",open:"multi-switcher-module__eIAjoG__open",primary:"multi-switcher-module__eIAjoG__primary",protectedProject:"multi-switcher-module__eIAjoG__protectedProject",scopeLink:"multi-switcher-module__eIAjoG__scopeLink",scopeName:"multi-switcher-module__eIAjoG__scopeName",showAllBadges:"multi-switcher-module__eIAjoG__showAllBadges",showOnMobile:"multi-switcher-module__eIAjoG__showOnMobile",teamItem:"multi-switcher-module__eIAjoG__teamItem",trigger:"multi-switcher-module__eIAjoG__trigger"})},5811041,e=>{e.v({modalTitleBody:"multi-switcher-confirm-modal-module__X63FEa__modalTitleBody"})},6016088,e=>{"use strict";var t=e.i(1146226),a=e.i(5169864),r=e.i(6891161),i=e.i(5811041);let s=(0,a.createContext)(null);function n(e){let{teamName:a}=e;return a?(0,t.jsxs)("span",{children:["the ",(0,t.jsx)("span",{className:"text-heading-14",children:a})," team"]}):(0,t.jsxs)("span",{children:["your ",(0,t.jsx)("span",{className:"text-heading-14",children:"Personal Account"})]})}function l(){let[e,t]=(0,a.useState)(!1),[r,i]=(0,a.useState)(),s=(0,a.useCallback)(()=>{t(!1)},[]),n=(0,a.useCallback)(e=>{t(!0),i(e)},[]),[l,o]=(0,a.useState)(0),c=(0,a.useCallback)(()=>{o(e=>e+1)},[o]);return[n,{active:e,onClickOutside:s,key:`multi-switcher-confirm${String(l)}`,onAnimationDone:c,...r}]}function o(e){let{onClickOutside:a,onAnimationDone:s,active:l,callback:o,teamName:c}=e;return(0,t.jsxs)(r.Modal.Modal,{active:l,onAnimationDone:s,onClickOutside:a,width:500,children:[(0,t.jsx)(r.Modal.Body,{children:(0,t.jsxs)("div",{className:i.default.modalTitleBody,children:[(0,t.jsx)(r.Modal.Title,{children:"Confirm switching teams"}),(0,t.jsx)(r.Modal.Inset,{last:!0,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-3 flex-initial",children:[(0,t.jsxs)("p",{className:"text-[14px] leading-[20px] font-medium",children:["You have already created resources for this new project in"," ",(0,t.jsx)(n,{teamName:c}),"."]}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["By switching teams, these resources will be left in"," ",(0,t.jsx)(n,{teamName:c}),", and you will have to create them again once you switch teams. Additionally, these original resources will not be deleted if you continue, and you should remove them manually."]})]})})]})}),(0,t.jsxs)(r.Modal.Actions,{children:[(0,t.jsx)(r.Modal.Action,{onClick:a,type:"secondary",children:"Cancel"}),(0,t.jsx)(r.Modal.Action,{buttonType:"submit",onClick:()=>{a(),o?.()},children:"Switch Team"})]})]})}s.displayName="CloneContext",e.s(["CloneContext",0,s,"MultiSwitcherConfirmModal",()=>o,"useMultiSwitcherState",()=>l])},3220378,e=>{"use strict";var t,a=e.i(1146226),r=e.i(9220646),i=e.i(5169864),s=e.i(5610834),n=e.i(9722978),l=e.i(5883567),o=e.i(2331152),c=e.i(1918911),u=e.i(2504781),d=e.i(4585051),m=e.i(1492947),p=e.i(4004502),h=e.i(119294),f=e.i(6352514),x=e.i(6685186),g=e.i(5338940),j=e.i(5140444),y=e.i(9668517),v=e.i(3322724),_=e.i(57106),w=e.i(7837522),S=e.i(7780974),C=e.i(1236612),b=e.i(9261674),A=e.i(4839822),I=e.i(475038),L=((t={}).PROJECTS="scope-search-projects",t.TEAMS="scope-search-teams",t),T=e.i(827385),N=e.i(271259),k=e.i(8172029),E=e.i(1502164),P=e.i(5756088),F=e.i(6318858),R=e.i(5255926),$=e.i(8977282),M=e.i(6228447),O=e.i(4670733);let D="ðŸ‘¥",G="ðŸ“",W=RegExp("/~/(deployments|observability|storage|ai|settings)(?:/|$)"),q=new Map([["/analytics",new Set(["period","from","to","environment","client_type","tab"])]]);function K(e,t){let a=e.indexOf(`/${t}`);return -1===a?e:e.substring(0,a)}var B=e.i(5136192),V=e.i(6060673),H=e.i(8896705),U=e.i(6016088),z=e.i(84614);function X(e){let{team:t,isCurrent:r,closeSwitcher:l}=e,[o,c]=(0,i.useState)(!1),[u,m]=(0,i.useState)({x:100,translateY:0}),p=(0,s.useRouter)(),h=function(e){let{user:t,team:a}=e;return{name:a?.name||t?.name||a?.slug||t?.username,slug:a?.slug||t?.username,avatar:a?.avatar||t?.avatar}}({team:t}),f=(0,s.usePathname)(),x=(0,s.useParams)()||{},g=(0,s.useSearchParams)()??new URLSearchParams(""),{value:j}=(0,O.useAllAccountTypeBadgesFlag)(),y=(0,i.useContext)(U.CloneContext),v=e=>{if(h.slug&&((0,$.setScope)(h.slug),f)){let a=(0,B.getScopeHref)({pathname:f,pathParams:x,searchParams:g,team:t});e?window.open(a,"_self","noopener"):p.push(a)}},_=h.slug&&f?(0,B.getScopeHref)({pathname:f,pathParams:x,searchParams:g,team:t}):void 0;return(0,a.jsx)(C.Command.Item,{href:_,callback:e=>{if(h.slug){if("key"in e&&"Enter"===e.key)return(e.preventDefault(),l(),y)?void y.openModalSwitchConfirm({callback:()=>v(!0)}):void(_&&(window.location.href=_));if((e.metaKey||e.ctrlKey)&&"preventDefault"in e){e.preventDefault(),_&&window.open(_,"_blank","noopener,noreferrer");return}if(l(),f){if(y)return void y.openModalSwitchConfirm({callback:()=>v(!0)});v(!1)}}},onKeyDown:e=>{if("Enter"===e.key){if(e.preventDefault(),l(),y)return void y.openModalSwitchConfirm({callback:()=>v(!0)});_&&(window.location.href=_)}},className:(0,n.clsx)(z.default.teamItem,{[z.default.hover]:o}),"data-current":r,onMouseMove:e=>{if(o){let{top:t,height:a,bottom:r}=e.currentTarget.getBoundingClientRect(),i=(e.clientY-t)/a*100,s=e.currentTarget.closest("[data-command-list-wrapper]");if(!s)return;let n=s.getBoundingClientRect(),l=0;n.bottom-r<250&&(l=250-(n.bottom-r+a/2)),i>=5&&i<=95?m({x:e.clientX-n.left-16,translateY:l}):(i>100||i<0)&&setTimeout(()=>{c(!1)},500)}},onMouseOut:()=>{c(!1)},onMouseOver:()=>{c(!0)},style:{"--protection-x":`${u.x+1}px`,"--protection-translate-y":`${-u.translateY}px`},value:[h.name,h.slug],children:(0,a.jsxs)(J,{active:r,children:[(0,a.jsx)(d.Avatar,{hash:h.avatar,size:22,teamId:t?.id}),(0,a.jsx)("span",{className:(0,n.clsx)(z.default.name,"geist-ellipsis",{[z.default.showAllBadges]:j}),children:h.name}),(0,a.jsx)(E.ScopeBadge,{fallbackToPlan:!!j,team:t})]})})}function J(e){let{children:t,active:r}=e;return(0,a.jsxs)("div",{className:(0,n.clsx)("flex flex-row items-center justify-between flex-1",z.default.itemWrapper),children:[(0,a.jsx)("div",{className:(0,n.clsx)("flex flex-row items-center justify-start gap-2 flex-1",z.default.itemWrapper),children:t}),r?(0,a.jsx)(F.Check,{className:"ml-2",color:"gray-900"}):null]})}function Y(e){let{projectId:t,teamSlug:r,...i}=e,{data:s,isLoading:n}=(0,V.useProject)(t,{config:{onError:()=>!0},fetchOptions:{throwOnScopeAuthError:!0}},r),{team:l}=(0,g.useTeam)(r);return n?(0,a.jsx)(ee,{}):(0,M.isAuthenticationRequired)(l)?(0,a.jsx)(Z,{isCurrent:i.isCurrent,projectId:t,slug:r}):s?(0,a.jsx)(Q,{...i,project:s,scopeSlug:r}):null}function Z(e){let{isCurrent:t,projectId:r,slug:i}=e,l=(0,s.useRouter)();return(0,a.jsx)(C.Command.Item,{callback:e=>{if("key"in e&&"Enter"===e.key){e.preventDefault(),(0,M.requireAuthentication)({slug:i,push:e=>{l.push(e)}});return}(0,M.requireAuthentication)({slug:i,push:e=>{l.push(e)}})},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),(0,M.requireAuthentication)({slug:i,push:e=>{l.push(e)}}))},"data-current":t,value:["unauthed-project",r,i],children:(0,a.jsxs)("div",{className:(0,n.clsx)("flex flex-row items-center justify-between flex-1",z.default.itemWrapper),children:[(0,a.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,a.jsx)("div",{className:z.default.protectedProject}),(0,a.jsx)("p",{className:"text-copy-14",children:"Protected Project"})]}),(0,a.jsx)(P.LockClosed,{color:"gray-700"})]})})}function Q(e){let{project:t,scopeSlug:r,isCurrent:i,contentRight:n,closeSwitcher:l}=e,o=(0,s.usePathname)(),c=(0,s.useParams)(),u=t.name&&r&&o?(e=>{let{srcPathname:t,srcPathParams:a,srcSearchParamsStr:r,destScopeSlug:i,destProjectName:s}=e,n=`/${i}/${s}`,l=a?.teamSlug,o=a?.project,c=a?.id,u=a?.flagKey,d=a?.slug;if(l&&o&&i&&t.includes(o))n=t.replace(l,D).replace(o,G).replace(D,i).replace(G,s);else l&&!o&&i&&W.test(t)&&(n=t.replace("/~/",`/${s}/`),i!==l&&(n=n.replace(`/${l}/`,`/${i}/`)),(n.includes("/ai/")||n.endsWith("/ai"))&&(n=n.replace(RegExp(`/${s}/ai(/|$)`),`/${s}/ai-gateway$1`)));return null!=c&&(n=K(n,c)),u&&(n=K(n,u)),d&&n.includes("/flags/segments/")&&(n=K(n,d)),r&&(n+=function(e,t){for(let[a,r]of q)if(t.endsWith(a))return function(e,t){let a=new URLSearchParams;for(let[r,i]of new URLSearchParams(e))t.has(r)&&a.set(r,i);let r=a.toString();return r?`?${r}`:""}(e,r);return e}(r,n)),n})({srcPathname:o,srcPathParams:c,srcSearchParamsStr:window.location.search,destScopeSlug:r,destProjectName:t.name}):`/team/${r}/project/${t.name||t.id}`;return(0,a.jsx)(C.Command.Item,{href:u,callback:e=>{if(t.name){if("key"in e&&"Enter"===e.key){e.preventDefault(),l(),window.location.href=u;return}if((e.metaKey||e.ctrlKey)&&"preventDefault"in e){e.preventDefault(),window.open(u,"_blank","noopener,noreferrer");return}l()}},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),l(),window.location.href=u)},"data-current":i,value:[t.name,t.id,r],children:(0,a.jsx)(et,{contentRight:n,isCurrent:i,name:t.name,children:(0,a.jsx)(H.FaviconOrFramework,{project:t,size:16,style:{position:"relative"},teamId:r})})})}function ee(e){let{index:t=0}=e;return(0,a.jsx)(C.Command.Item,{style:{display:"flex",background:"transparent"},children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3",style:{flex:"0 1 100%"},children:[(0,a.jsx)(R.Skeleton,{height:16,rounded:!0,width:16}),(0,a.jsx)(R.Skeleton,{height:20,style:{margin:"2px 0",flex:.7+(t%2?.2:0)}})]})})}function et(e){let{children:t,name:r,isCurrent:i,contentRight:s}=e;return(0,a.jsxs)("div",{className:(0,n.clsx)("flex flex-row items-center justify-between flex-1",z.default.itemWrapper),children:[(0,a.jsxs)("div",{className:`flex flex-row items-center justify-start gap-3 flex-1 ${z.default.itemWrapper}`,children:[(0,a.jsx)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:t}),(0,a.jsx)("span",{className:(0,n.clsx)(z.default.name,"geist-ellipsis"),children:r})]}),(0,a.jsx)("div",{className:z.default["hover-content"],children:s}),i?(0,a.jsx)(F.Check,{className:"ml-2",color:"gray-900"}):null]})}function ea(e){let{fav:t,activeSlug:a,...r}=e;return(0,i.createElement)(Y,{...r,isCurrent:t.projectId===a,key:t.projectId,projectId:t.projectId})}let er="create_team_button";var ei=e.i(9543208),es=e.i(387079),en=e.i(6942035),el=e.i(1900556),eo=e.i(5339191),ec=e.i(2107254),eu=e.i(6774523),ed=e.i(1613936),em=e.i(6161994);function ep(e){let{primary:t,activeSection:r,setActiveSection:i,commandProps:{setInputValue:n,inputValue:l,...o},selectedScope:c,closeSwitcher:u}=e,{addFavorite:d,removeFavorite:m,favorites:p,isFavorite:h}=(0,ed.useFavoriteProjectsAndSpaces)(),{projects:f,microfrontendGroups:x,isLoadingTeamSpecificData:y,isLoadingMicrofrontendsContent:v,teamId:_}=(e=>{let{selectedScope:t,inputValue:a}=e,{user:r}=(0,j.useUser)(),{teams:i}=(0,g.useTeam)(),n=eA((0,s.useParams)()),l=eC(t,i,r),o=(0,M.isAuthenticationRequired)(l),c=i?.find(e=>e.slug===t)?.id,{data:u,isLoading:d}=(0,em.useMicrofrontendsGroups)({overWriteTeamSlug:t}),m=(u??{groups:[]}).groups.filter(e=>e.projects.some(e=>e.name===n)),{data:p,isLoading:h}=(0,ec.default)({fetchEnabled:!o,limit:10,latestDeployments:0,search:a},{onError:()=>!0,revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1},t,{throwOnScopeAuthError:!0}),f=(p?.projects??[]).filter(e=>m.every(t=>t.projects.every(t=>t.id!==e.id)));return a||f.sort((e,t)=>e.name.localeCompare(t.name)),{projects:f,microfrontendGroups:m,isLoading:d||h,isLoadingTeamSpecificData:h,isLoadingMicrofrontendsContent:d,teamId:c??null}})({inputValue:l,selectedScope:c});return c?(0,a.jsx)(eo.AnimatePresence,{initial:!1,mode:"popLayout",presenceAffectsLayout:!0,children:(0,a.jsx)(eh,{activeSection:r,primary:t,setActiveSection:i,style:z.default,children:(0,a.jsxs)(C.Command,{"aria-label":"Projects",inputValue:l,setInputValue:n,...o,children:[(0,a.jsx)(eS,{setActiveSection:i}),(0,a.jsxs)(C.Command.List,{className:z.default.list,disableDynamicHeight:!0,maxHeight:730,emptyMessage:(0,a.jsx)(ef,{inputValue:l,isLoading:y,projects:f,setInputValue:n}),children:[(0,a.jsx)(ex,{closeSwitcher:u,favorites:p,isLoading:!1,removeFavorite:m,selectedScope:c}),(0,a.jsx)(eg,{addFavorite:d,closeSwitcher:u,isFavorite:h,isLoading:v,microfrontendGroups:x,removeFavorite:m,selectedScope:c,teamId:_}),(0,a.jsx)(ej,{addFavorite:d,closeSwitcher:u,inputValue:l,isFavorite:h,isLoading:y,projects:f,removeFavorite:m,selectedScope:c}),(0,a.jsx)(ey,{closeSwitcher:u,selectedScope:c})]})]})})}):null}function eh(e){let{activeSection:t,children:r,primary:i,setActiveSection:s,style:l}=e;return(0,a.jsx)(el.m.div,{animate:{opacity:1},className:(0,n.clsx)(l.command,{[l.focused]:"projects"===t,[l.primary]:i}),"data-testid":(0,p.tid)("project-switcher","dropdown"),exit:{opacity:0},initial:{opacity:1},onMouseEnter:()=>s("projects"),onMouseLeave:e=>{let t=document.querySelector("[data-radix-popper-content-wrapper]");e.relatedTarget instanceof Node&&t?.contains(e.relatedTarget)&&s("teams")},children:r})}function ef(e){let{inputValue:t,isLoading:r,projects:i,setInputValue:s}=e;return r||""===t||i.length>0?null:(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start gap-4 flex-initial",children:[(0,a.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-left",children:"No Projects Found"}),(0,a.jsxs)("p",{className:"text-copy-14 text-gray-900 text-left",children:['Your search for "',t,'" did not match any projects.']}),(0,a.jsx)(u.Button,{onClick:()=>{s("")},size:"small",type:"secondary",width:"100%",children:"Clear Search"})]},"searchNotFound")}function ex(e){let{closeSwitcher:t,favorites:r,isLoading:n,removeFavorite:l,selectedScope:o}=e,{teams:c}=(0,g.useTeam)(),u=eA((0,s.useParams)());return n||null===c||0===r.length?null:(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(C.Command.Group,{"data-order":"1",heading:"Favorites",children:r.map(e=>{let r=c.find(t=>t.id===e.teamId);return r?(0,a.jsx)(ea,{activeSlug:u,closeSwitcher:t,contentRight:(0,a.jsx)("button",{"aria-label":"Remove from favorites",className:z.default["fav-button"],onClick:t=>{t.preventDefault(),t.stopPropagation(),l(e)},type:"button",children:(0,a.jsx)(en.Cross,{})}),fav:e,isCurrent:!1,scopeSlug:o,teamId:e.teamId,teamSlug:r.slug},(0,ed.serializeFavorite)(e)):null})}),(0,a.jsx)(C.Command.Separator,{})]},"favorites")}function eg(e){let{addFavorite:t,closeSwitcher:r,isFavorite:i,isLoading:n,microfrontendGroups:l,removeFavorite:o,selectedScope:c,teamId:u}=e,d=(0,s.useParams)(),{user:m,isLoading:p}=(0,j.useUser)();if(n||p)return null;let h=eA(d);return(0,a.jsx)(a.Fragment,{children:l.map(e=>{let s=e.group.name?e.group.name:e.group.slug;return(0,a.jsx)(C.Command.Group,{"data-order":"2",heading:s,children:e.projects.map(e=>(0,a.jsx)(Q,{closeSwitcher:r,contentRight:u?(0,a.jsx)(e_,{addFavorite:t,isFavorited:i({projectId:e.id,teamId:u}),project:e,removeFavorite:o,selectedScope:c,teamId:u,limited:!!m?.limited}):null,isCurrent:e.name===h,project:e,scopeSlug:c},`scope-project-${e.id}`))},s)})})}function ej(e){let{addFavorite:t,closeSwitcher:r,inputValue:i,isFavorite:n,isLoading:l,projects:o,removeFavorite:c,selectedScope:u}=e,{user:d}=(0,j.useUser)(),{teams:m}=(0,g.useTeam)(),p=eA((0,s.useParams)()),h=m?.find(e=>e.slug===u)??null,f=h?.id??null;if(!h&&eb(u,d))return null;let x={"data-order":"3",heading:"Projects"},y=!(0,M.isAuthenticationRequired)(h)&&!function(e){let{teamOrUser:t,user:a}=e;return!!(t?.mfa&&"enforced"in t.mfa&&t.mfa.enforced)&&!a?.mfa?.enabled}({teamOrUser:h,user:d});return l?(0,a.jsx)(C.Command.Group,{...x,children:[,,,,,].fill(0).map((e,t)=>(0,a.jsx)(ee,{index:t},(0,eu.getUnsafeKey)(t,"scope-loader")))}):0===o.length&&""===i?(0,a.jsxs)(C.Command.Group,{...x,children:[(0,a.jsx)(ew,{closeSwitcher:r,selectedScope:u}),y?(0,a.jsx)(ev,{}):null]}):(0,a.jsxs)(C.Command.Group,{...x,children:[(0,a.jsx)(ew,{closeSwitcher:r,selectedScope:u}),y?o.map(e=>(0,a.jsx)(Q,{closeSwitcher:r,contentRight:(0,a.jsx)(e_,{addFavorite:t,isFavorited:n({teamId:e.accountId??"",projectId:e.id}),project:e,removeFavorite:c,selectedScope:u,teamId:f,limited:!!d?.limited}),isCurrent:e.name===p,project:e,scopeSlug:u},`scope-project-${e.id}`)):null]})}function ey(e){let{closeSwitcher:t,selectedScope:r}=e,{user:i}=(0,j.useUser)(),{teams:n}=(0,g.useTeam)(),o=(0,s.useRouter)(),c=eC(r,n,i);return(0,M.isAuthenticationRequired)(c)||eb(r,i)?null:(0,a.jsx)(C.Command.Item,{callback:e=>{let a=`/new/${r}`;e.ctrlKey||e.metaKey||"button"in e&&1===e.button?window.open(a,"_blank","noopener"):o.push(a),t()},"data-order":"4","data-testid":(0,p.tid)("scope-switcher","create-project"),hideOnFilter:!1,children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,a.jsx)(l.PlusCircle,{color:"blue-900",size:16}),(0,a.jsx)("p",{className:"text-copy-14",children:"Create Project"})]})})}function ev(){return(0,a.jsxs)("div",{className:(0,n.clsx)("flex flex-col items-start justify-start gap-1 flex-initial",z.default.empty),children:[(0,a.jsx)("p",{className:"text-heading-14 text-gray-1000 text-left",children:"No projects, yet!"}),(0,a.jsx)("p",{className:"text-copy-14 text-gray-900 text-left",children:"This team has no projects."})]})}function e_(e){let{isFavorited:t,addFavorite:r,removeFavorite:i,selectedScope:s,project:n,teamId:l,limited:o}=e;return s&&l&&!o?(0,a.jsx)("button",{"aria-label":`${t?"Remove from your":"Add project to your"} favorites`,className:z.default["fav-button"],onClick:e=>{e.preventDefault(),e.stopPropagation(),l&&(t?i:r)({teamId:l,projectId:n.id})},style:{background:"none",height:32,borderRadius:4},type:"button",children:t?(0,a.jsx)(es.StarFill,{size:16,style:{marginRight:-2,flexShrink:0}}):(0,a.jsx)(ei.Star,{size:16,style:{marginRight:-2,flexShrink:0}})}):null}function ew(e){let{closeSwitcher:t,selectedScope:r}=e,{user:i}=(0,j.useUser)(),{teams:l}=(0,g.useTeam)(),o=(0,s.useRouter)(),c=eC(r,l,i),d=(0,M.isAuthenticationRequired)(c),m=(0,M.getTeamLimitedBy)(c);if(!d)return null;let p=!!c&&"saml"in c&&(c.saml?.enforced??!1),h="Re-Authenticate",f=p?"You must authenticate with SAML to access projects in":"You must re-authenticate to access projects in",x=p?"Continue with SAML SSO":"Continue",y=()=>{(0,M.requireAuthentication)({slug:r,next:`/${r}`,push:e=>{o.push(e)}}),t()};return 1===m.length&&m.includes("mfa")&&(h="Two-Factor Required",f="You must enable two-factor authentication to access projects in",x="Configure 2FA",y=()=>{o.push("/account/settings/authentication#two-factor-authentication"),t()}),(0,a.jsxs)("div",{className:(0,n.clsx)("flex flex-col items-center justify-center gap-3 flex-initial",z.default.empty),children:[(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start gap-1 flex-initial",children:[(0,a.jsx)("p",{className:"text-heading-14 text-gray-1000 text-left",children:h}),(0,a.jsxs)("p",{className:"text-copy-14 text-gray-900 text-left",children:[f," ",(0,a.jsx)("span",{className:"text-heading-14",children:c?.name}),"."]})]}),(0,a.jsx)(u.Button,{onClick:y,size:"small",width:"100%",children:x})]})}function eS(e){let{setActiveSection:t}=e;return(0,a.jsxs)("div",{className:(0,n.clsx)("flex flex-row items-center justify-start flex-initial",z.default.input),children:[(0,a.jsx)(o.MagnifyingGlass,{color:"gray-500",size:20}),(0,a.jsx)(C.Command.Input,{autoFocus:!1,itemID:L.PROJECTS,onFocus:()=>t("projects"),placeholder:"Find Project..."})]})}let eC=(e,t,a)=>{let r=t?.find(t=>t.slug===e);return r||(a?.username===e?a??null:null)},eb=(e,t)=>e===t?.username,eA=e=>e?.project||e?.spaceIdOrSlug;function eI(e){let{primary:t,activeSection:r,setActiveSection:i,commandProps:s,selectedScope:n,closeSwitcher:l}=e;return(0,a.jsx)(ep,{activeSection:r,closeSwitcher:l,commandProps:s,primary:t,selectedScope:n,setActiveSection:i})}function eL(e){let{primary:t,activeSection:r,setActiveSection:i,commandProps:s,onShowCreateTeam:c,closeSwitcher:d,team:m}=e,{track:x}=(0,w.useTrackActivity)(),{canCreateTrial:j,isOemPartner:y}=(0,N.useCanCreateTrial)(),v=(0,g.useSortedTeams)(),{setInputValue:_,inputValue:b}=s;return(0,a.jsx)("div",{className:(0,n.clsx)(z.default.command,t&&z.default.primary,{[z.default.focused]:"teams"===r}),"data-testid":(0,p.tid)("scope-switcher","dropdown"),onMouseEnter:()=>i("teams"),onMouseLeave:e=>{let t=document.querySelector("[data-radix-popper-content-wrapper]");e.relatedTarget instanceof Node&&t?.contains(e.relatedTarget)&&i("projects")},children:(0,a.jsxs)(C.Command,{"aria-label":"Command menu",...s,children:[(0,a.jsxs)("div",{className:(0,n.clsx)("flex flex-row items-center justify-start flex-initial",z.default.input),children:[(0,a.jsx)(o.MagnifyingGlass,{color:"gray-900",size:20}),(0,a.jsx)(C.Command.Input,{autoFocus:!1,itemID:L.TEAMS,onFocus:()=>i("teams"),placeholder:"Find Teamâ€¦"})]}),(0,a.jsxs)(C.Command.List,{disableDynamicHeight:!0,emptyMessage:(0,a.jsxs)("div",{className:"flex flex-col items-start justify-start gap-4 flex-initial",children:[(0,a.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-left",children:"No Team Found"}),(0,a.jsxs)("p",{className:"text-copy-14 text-gray-900 text-left",children:['Your search for "',b,'" did not match any teams.']}),(0,a.jsx)(u.Button,{onClick:()=>{_("")},size:"small",type:"secondary",width:"100%",children:"Clear Search"})]}),maxHeight:730,children:[(0,a.jsx)(C.Command.Group,{heading:"Teams",children:v.map(e=>(0,a.jsx)(X,{closeSwitcher:d,isCurrent:!!(m&&e.slug===m.slug),team:e},`scope-team-${e.slug}`))}),(0,a.jsx)(C.Command.Item,{callback:()=>{c(),h.analytics.track(f.AnalyticsEvent.SCOPE_SWITCHER_CLICKED_NEW_TEAM),x(S.VercelActivityAction.CreateTeamClick,{source:"scope-switcher",hasTrialAvailable:j??!1,isOemPartner:y??!1}),d()},"data-testid":(0,p.tid)("scope-switcher","create-team"),hideOnFilter:!0,value:[er,er],children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,a.jsx)(l.PlusCircle,{className:"translate-z-0 translate-x-[3px]",color:"blue-900"}),(0,a.jsx)("span",{children:"Create Team"})]})})]})]})})}function eT(e){let{team:t,hideTextOnMobile:r}=e,l=(0,I.useIsViewingPublicDeployment)(),{user:o,isNorthstar:c}=(0,j.useUser)(),{name:u,avatar:m}=t||o||{},{slug:p}=t||{},{username:h}=o||{},f=u||p||h,x=(0,s.useSearchParams)(),g=x?.get("teamSlug")||"",y=(0,i.useMemo)(()=>(function(e){let{externalPublicDeployment:t,teamSlug:a,team:r,username:i}=e;return t?`${(0,k.getQueryParam)(a)||""}`:r?void 0:i})({externalPublicDeployment:l,teamSlug:g,team:t,username:h}),[l,g,t,h]),v=!!(!t&&c),w=(0,i.useMemo)(()=>(0,T.getNorthstarDashboardHref)({user:o,teamSlug:p}),[p,o]);return(0,a.jsx)(_.Link,{className:(0,n.clsx)(z.default.scopeLink,{[z.default.disabled]:l}),href:w,children:(0,a.jsxs)("div",{className:"flex flex-row items-center justify-start flex-initial",children:[(0,a.jsx)(d.Avatar,{className:z.default.avatar,hash:l?void 0:m,size:22,teamId:t?.id,title:l?g:f,username:y}),(0,a.jsx)("p",{className:`text-[14px] leading-[20px] font-medium ${(0,n.clsx)(z.default.scopeName,"geist-ellipsis",{[z.default.hideOnMobile]:r})}`,children:l?g:f}),!l&&!v&&(0,a.jsx)("div",{className:"geist-hide-on-tablet",children:(0,a.jsx)(E.ScopeBadge,{fallbackToPlan:!0,team:t||void 0})})]})})}function eN(e){let{side:t="bottom",children:n,setCreateModalOpen:l,primaryColumn:o,forceVisible:d=!1,...h}=e,{team:f}=(0,g.useTeam)(),{user:_}=(0,j.useUser)(),w=(0,s.useSearchParams)(),S=(0,y.useTeamSlug)(),[C,T]=(0,i.useState)("teams"),N=S||_?.username||"",k=(0,g.useSortedTeams)(),E=f?k.findIndex(e=>e.id===f.id):0,P=(0,b.useCommand)({selected:E}),F=(0,b.useCommand)({selected:0}),[R,$]=(0,i.useState)(!1),M=()=>{$(!1),P.setInputValue(""),F.setInputValue("")};F.map;let O=(0,v.useIsMobile)(),D=(0,I.useIsViewingPublicDeployment)(),G=(0,i.useRef)(0),W=(0,i.useRef)(0);(0,i.useEffect)(()=>{let e=()=>{$(!0)};return document.addEventListener(A.OPEN_SCOPE_SWITCHER_EVENT,e),()=>{cancelAnimationFrame(G.current),cancelAnimationFrame(W.current),document.removeEventListener(A.OPEN_SCOPE_SWITCHER_EVENT,e)}},[]),(0,i.useEffect)(()=>{w?.get(A.OPEN_SCOPE_SWITCHER_EVENT)==="true"&&$(!0)},[w]),(0,i.useEffect)(()=>{let e,{inputValue:t,setInputValue:a,setSelectedIndex:r,selectedIndex:i}=P;return R||(e=setTimeout(()=>{t&&a(""),i!==E&&r(E)},150)),()=>{e&&clearTimeout(e)}},[R,E]),(0,i.useEffect)(()=>{let e,{inputValue:t,setInputValue:a}=F;return R||(e=setTimeout(()=>{t&&a("")},150)),()=>{e&&clearTimeout(e)}},[R]);let q=(0,a.jsx)(eL,{activeSection:C,closeSwitcher:M,commandProps:P,onShowCreateTeam:()=>{l()},primary:!O&&"team"===o,setActiveSection:T,team:f}),K=(0,i.useMemo)(()=>{let{filterList:e,list:t}=P,a=e||t.current,{selectedIndex:r}=P;return a[r]?.value||[]},[P])[1],B=(0,a.jsx)(eI,{activeSection:C,closeSwitcher:M,commandProps:F,primary:"project"===o,selectedScope:O?N:K,setActiveSection:T});return(0,i.useEffect)(()=>{R&&setTimeout(()=>{let e="team"===o?L.TEAMS:L.PROJECTS,t=document.querySelector(`[itemId=${e}]`);null!==t&&t instanceof HTMLInputElement&&t.focus()},200)},[R,o]),(0,a.jsxs)(r.Root,{...h,onOpenChange:e=>void(0,x.awaitPaint)().then(()=>$(e)),open:R,children:[(0,a.jsxs)(r.Anchor,{style:{display:"flex",alignItems:"center",width:"100%"},children:[n,d||!D?(0,a.jsx)(r.Trigger,{asChild:!0,children:(0,a.jsx)(u.Button,{"aria-label":"Switch team",className:z.default.trigger,"data-testid":(0,p.tid)("scope-switcher","toggle"),style:{marginLeft:2,flexShrink:0,width:28,padding:0,backgroundColor:R?"var(--ds-gray-alpha-200)":void 0},type:"tertiary",typeName:"button",children:(0,a.jsx)(c.ChevronUpDown,{color:"gray-900"})})}):null]}),O?(0,a.jsx)(m.Drawer,{fixed:!0,height:"80vh",onDismiss:M,show:R,children:(0,a.jsx)("div",{style:{position:"relative"},children:"team"===o?(0,a.jsx)("div",{children:q},"teams"):(0,a.jsx)("div",{children:B},"projects")})}):(0,a.jsxs)(r.Content,{align:"start",alignOffset:"team"===o?-16:-255,className:z.default.content,onKeyDown:e=>{if("ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;let t=F.inputRef.current,a=P.inputRef.current;t?.selectionStart!=null&&e.target===t&&(t.selectionStart>0||t.selectionStart!==t.selectionEnd)||(a?.selectionStart==null||e.target!==a||!(a.selectionStart<a.value.length)&&a.selectionStart===a.selectionEnd)&&("ArrowRight"===e.key&&t&&document.activeElement!==t?(cancelAnimationFrame(G.current),t.focus(),G.current=requestAnimationFrame(()=>{t.select()})):"ArrowLeft"===e.key&&a&&document.activeElement!==a&&(cancelAnimationFrame(W.current),a.focus(),W.current=requestAnimationFrame(()=>{a.select()})))},onOpenAutoFocus:e=>e.preventDefault(),side:t,sideOffset:8,style:{display:"flex",position:"relative"},children:[q,B]})]})}(0,p.markLoadedForTest)("multi-switcher"),e.s(["MultiSwitcherPopup",()=>eN,"ScopeLink",()=>eT],3220378)},6388671,e=>{e.n(e.i(3220378))}]);

//# debugId=b814c11e-0b51-2997-c3bb-266ca8877112
//# sourceMappingURL=d09d2eb5d865e473.js.map
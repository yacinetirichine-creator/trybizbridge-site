;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="29959234-51cc-77f0-8f1b-92463a71f4ae")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6663213,5382432,9621575,e=>{"use strict";var t=e.i(9243747);e.i(6887680);var r=e.i(6810699),n=e.i(9668517);function a(e){let{integration:a,marketplaceConfigurations:i}=e,l=(0,n.useTeamSlug)(),o=(0,t.getIntegrationOps)({integration:a}).isSingleProductLayout(),{data:s}=(0,r.useResourceList)({integrationIdOrSlug:a.slug,integrationConfigurationId:i?.[0]?.id,skip:!o||!l});if(!l)return{isLoading:!1,canInstallIntegration:!0};let c=!s&&o;if(!i)return{isLoading:!0};let d=i.at(0);return d?d.deleteRequestedAt?{isLoading:c,canInstallIntegration:!1}:o?s?{isLoading:c,canInstallIntegration:0===s.stores.length}:{isLoading:!0}:{isLoading:!1,canInstallIntegration:!0}:{isLoading:c,canInstallIntegration:!0}}e.s(["useCanInstallIntegration",()=>a],6663213);var i=e.i(8525850);let l=["tag_code_review","tag_code_security","tag_code_testing","tag_security","tag_testing","tag_web_automation","tag_support_agent","tag_optimization","tag_performance","tag_monitoring","tag_dev_tools"];function o(e,t,r,n){if(!e||!t||!r)return{title:"Other",isAgentCategory:!1};let a=e.tagIds||[];if(a.includes("tag_databases")){let t=e.tagIds?.includes("tag_agents")??!1;return"database"===n?{title:"Database",isAgentCategory:t}:{title:"Storage",isAgentCategory:t}}let o=r.find(e=>("tag_database"===e.id||"tag_storage"===e.id)&&a.includes(e.id));if(o){let t=e.tagIds?.includes("tag_agents")??!1;return{title:o.title,isAgentCategory:t}}if(e.tagIds?.includes("tag_agents")){for(let e of l){let t=r.find(t=>t.id===e&&a.includes(t.id));if(t)return{title:t.title,isAgentCategory:!0}}let e=r.find(e=>a.includes(e.id)&&"tag_agents"!==e.id&&!e.id.startsWith("tag_agents_"));if(e)return{title:e.title,isAgentCategory:!0};let t=r.find(e=>"tag_agents"===e.id);return{title:t?.title||"Agents",isAgentCategory:!0}}return{title:(0,i.getProductCategoryDisplayTitle)(e.slug,r,e.tagIds||[]),isAgentCategory:!1}}e.s(["getAgentsCategoryDisplay",()=>o],5382432);var s=e.i(1146226),c=e.i(9650453),d=e.i(5169864),u=e.i(4725703);function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,r]=(0,d.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.default,{id:"78d34819a030602e",children:"@keyframes drill-bob{0%{transform:translateY(.5px)}to{transform:translateY(-.5px)}}.striped-background.jsx-78d34819a030602e{background:repeating-linear-gradient(-45deg,#ffedcc,#ffedcc 10px,#fff 10px 20px)}.powertool-expanded.jsx-78d34819a030602e{transform:translate(-50%)}.powertool-minimized.jsx-78d34819a030602e{transform:translate(calc(50vw - 100%))}"}),(0,s.jsx)("div",{className:`jsx-78d34819a030602e fixed bottom-4 left-1/2 w-90 z-50 transition-all duration-300 ease-out ${t?"powertool-minimized":"powertool-expanded"}`,children:(0,s.jsxs)("div",{className:`jsx-78d34819a030602e relative ${t?"mr-4":"border border-amber-800 rounded py-3 pl-2 pr-5 striped-background shadow-lg"}`,children:[(0,s.jsx)("button",{type:"button",onClick:()=>r(!0),"aria-label":"Minimize powertool warning",className:`jsx-78d34819a030602e absolute -top-2 -right-2 w-6 h-6 bg-amber-800 cursor-pointer rounded-full flex items-center justify-center transition-opacity duration-300 ease-out ${t?"opacity-0":"opacity-100"}`,children:(0,s.jsx)(u.FullscreenClose,{className:"w-3 h-3",color:"gray-100"})}),(0,s.jsxs)("div",{className:"jsx-78d34819a030602e "+((t?"":"flex items-center gap-5")||""),children:[(0,s.jsxs)("div",{onClick:()=>t&&r(!1),className:"jsx-78d34819a030602e [filter:drop-shadow(0px_1px_0px_rgba(255,255,255,1))_drop-shadow(0px_-1px_0px_rgba(255,255,255,1))_drop-shadow(1px_0px_0px_rgba(255,255,255,1))_drop-shadow(-1px_0px_0px_rgba(255,255,255,1))] flex flex-row gap-0 items-start justify-start rotate-[10deg] cursor-pointer",children:[(0,s.jsx)("img",{src:"https://py8fhxnkzwtsqdo9.public.blob.vercel-storage.com/powertool/PowertoolDrill.svg",alt:"powertool drill",style:{animation:"drill-bob 0.1s ease-in-out infinite alternate",animationTimingFunction:"cubic-bezier(0.4, 0, 0.6, 1)"},className:"jsx-78d34819a030602e w-[21px] h-[24px]"}),(0,s.jsx)("img",{src:"https://py8fhxnkzwtsqdo9.public.blob.vercel-storage.com/powertool/PowertoolHandle.svg",alt:"powertool handle",className:"jsx-78d34819a030602e w-[35px] h-[59px]"})]}),!t&&(0,s.jsxs)("div",{className:"jsx-78d34819a030602e opacity-100 transition-opacity duration-300 ease-out",children:[(0,s.jsx)("div",{className:"jsx-78d34819a030602e text-heading-24 dark:text-gray-100",children:"Powertool active."}),(0,s.jsx)("div",{className:"jsx-78d34819a030602e text-label-13 dark:text-gray-100 font-semibold",children:"Changes are global. Toggle with enablePowertool flag."}),e.integration&&(0,s.jsx)("div",{className:"jsx-78d34819a030602e mt-1 text-label-12 dark:text-gray-100 opacity-90",children:e.integration.name&&(0,s.jsxs)("span",{className:"jsx-78d34819a030602e",children:["Current: ",e.integration.name," (",e.integration.installs," installs)"]})})]})]})]})})]})}e.s(["PowertoolWarning",()=>g],9621575)},4404958,1521745,8285718,e=>{"use strict";let t;var r,n,a,i,l,o,s,c,d,u,g,h,p,f,m,x,b,v,y,w=e.i(5169864),C=e.i(2106115);function j(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,w.useMemo)(()=>e=>{t.forEach(t=>t(e))},t)}let S="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function k(e){let t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function L(e){return"nodeType"in e}function N(e){var t,r;return e?k(e)?e:L(e)&&null!=(t=null==(r=e.ownerDocument)?void 0:r.defaultView)?t:window:window}function I(e){let{Document:t}=N(e);return e instanceof t}function M(e){return!k(e)&&e instanceof N(e).HTMLElement}function E(e){return e instanceof N(e).SVGElement}function D(e){return e?k(e)?e.document:L(e)?I(e)?e:M(e)||E(e)?e.ownerDocument:document:document:document}let R=S?w.useLayoutEffect:w.useEffect;function P(e){let t=(0,w.useRef)(e);return R(()=>{t.current=e}),(0,w.useCallback)(function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return null==t.current?void 0:t.current(...r)},[])}function A(){let e=(0,w.useRef)(null);return[(0,w.useCallback)((t,r)=>{e.current=setInterval(t,r)},[]),(0,w.useCallback)(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}function O(e,t){void 0===t&&(t=[e]);let r=(0,w.useRef)(e);return R(()=>{r.current!==e&&(r.current=e)},t),r}function _(e,t){let r=(0,w.useRef)();return(0,w.useMemo)(()=>{let t=e(r.current);return r.current=t,t},[...t])}function F(e){let t=P(e),r=(0,w.useRef)(null),n=(0,w.useCallback)(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,n]}function T(e){let t=(0,w.useRef)();return(0,w.useEffect)(()=>{t.current=e},[e]),t.current}let B={};function z(e,t){return(0,w.useMemo)(()=>{if(t)return t;let r=null==B[e]?0:B[e]+1;return B[e]=r,e+"-"+r},[e,t])}function $(e){return function(t){for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((t,r)=>{for(let[n,a]of Object.entries(r)){let r=t[n];null!=r&&(t[n]=r+e*a)}return t},{...t})}}let U=$(1),q=$(-1);function W(e){if(!e)return!1;let{KeyboardEvent:t}=N(e.target);return t&&e instanceof t}function K(e){if(function(e){if(!e)return!1;let{TouchEvent:t}=N(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){let{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){let{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return"clientX"in e&&"clientY"in e?{x:e.clientX,y:e.clientY}:null}let X=Object.freeze({Translate:{toString(e){if(!e)return;let{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;let{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[X.Translate.toString(e),X.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),Y="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function H(e){return e.matches(Y)?e:e.querySelector(Y)}e.s(["CSS",()=>X,"add",()=>U,"canUseDOM",()=>S,"findFirstFocusableNode",()=>H,"getEventCoordinates",()=>K,"getOwnerDocument",()=>D,"getWindow",()=>N,"isDocument",()=>I,"isHTMLElement",()=>M,"isKeyboardEvent",()=>W,"isNode",()=>L,"isSVGElement",()=>E,"isWindow",()=>k,"subtract",()=>q,"useCombinedRefs",()=>j,"useEvent",()=>P,"useInterval",()=>A,"useIsomorphicLayoutEffect",()=>R,"useLatestValue",()=>O,"useLazyMemo",()=>_,"useNodeRef",()=>F,"usePrevious",()=>T,"useUniqueId",()=>z],1521745);let G={display:"none"};function V(e){let{id:t,value:r}=e;return w.default.createElement("div",{id:t,style:G},r)}function J(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;return w.default.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}let Z=(0,w.createContext)(null),Q={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},ee={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function et(e){var t;let r,{announcements:n=ee,container:a,hiddenTextDescribedById:i,screenReaderInstructions:l=Q}=e,{announce:o,announcement:s}=function(){let[e,t]=(0,w.useState)("");return{announce:(0,w.useCallback)(e=>{null!=e&&t(e)},[]),announcement:e}}(),c=z("DndLiveRegion"),[d,u]=(0,w.useState)(!1);if((0,w.useEffect)(()=>{u(!0)},[]),t=(0,w.useMemo)(()=>({onDragStart(e){let{active:t}=e;o(n.onDragStart({active:t}))},onDragMove(e){let{active:t,over:r}=e;n.onDragMove&&o(n.onDragMove({active:t,over:r}))},onDragOver(e){let{active:t,over:r}=e;o(n.onDragOver({active:t,over:r}))},onDragEnd(e){let{active:t,over:r}=e;o(n.onDragEnd({active:t,over:r}))},onDragCancel(e){let{active:t,over:r}=e;o(n.onDragCancel({active:t,over:r}))}}),[o,n]),r=(0,w.useContext)(Z),(0,w.useEffect)(()=>{if(!r)throw Error("useDndMonitor must be used within a children of <DndContext>");return r(t)},[t,r]),!d)return null;let g=w.default.createElement(w.default.Fragment,null,w.default.createElement(V,{id:i,value:l.draggable}),w.default.createElement(J,{id:c,announcement:s}));return a?(0,C.createPortal)(g,a):g}function er(){}function en(e,t){return(0,w.useMemo)(()=>({sensor:e,options:null!=t?t:{}}),[e,t])}function ea(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,w.useMemo)(()=>[...t].filter(e=>null!=e),[...t])}(r=u||(u={})).DragStart="dragStart",r.DragMove="dragMove",r.DragEnd="dragEnd",r.DragCancel="dragCancel",r.DragOver="dragOver",r.RegisterDroppable="registerDroppable",r.SetDroppableDisabled="setDroppableDisabled",r.UnregisterDroppable="unregisterDroppable";let ei=Object.freeze({x:0,y:0});function el(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function eo(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function es(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function ec(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function ed(e,t){if(!e||0===e.length)return null;let[r]=e;return t?r[t]:r}function eu(e,t,r){return void 0===t&&(t=e.left),void 0===r&&(r=e.top),{x:t+.5*e.width,y:r+.5*e.height}}let eg=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,a=eu(t,t.left,t.top),i=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=el(eu(n),a);i.push({id:t,data:{droppableContainer:e,value:r}})}}return i.sort(eo)},eh=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,a=ec(t),i=[];for(let e of n){let{id:t}=e,n=r.get(t);if(n){let r=ec(n),l=Number((a.reduce((e,t,n)=>e+el(r[n],t),0)/4).toFixed(4));i.push({id:t,data:{droppableContainer:e,value:l}})}}return i.sort(eo)},ep=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e,a=[];for(let e of n){let{id:n}=e,i=r.get(n);if(i){let r=function(e,t){let r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height);if(n<a&&r<i){let l=t.width*t.height,o=e.width*e.height,s=(a-n)*(i-r);return Number((s/(l+o-s)).toFixed(4))}return 0}(i,t);r>0&&a.push({id:n,data:{droppableContainer:e,value:r}})}}return a.sort(es)};function ef(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:ei}let em=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return r.reduce((e,t)=>({...e,top:e.top+ +t.y,bottom:e.bottom+ +t.y,left:e.left+ +t.x,right:e.right+ +t.x}),{...e})},ex={ignoreTransform:!1};function eb(e,t){void 0===t&&(t=ex);let r=e.getBoundingClientRect();if(t.ignoreTransform){let{transform:t,transformOrigin:n}=N(e).getComputedStyle(e);t&&(r=function(e,t,r){let n=function(e){if(e.startsWith("matrix3d(")){let t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){let t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!n)return e;let{scaleX:a,scaleY:i,x:l,y:o}=n,s=e.left-l-(1-a)*parseFloat(r),c=e.top-o-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,u=i?e.height/i:e.height;return{width:d,height:u,top:c,right:s+d,bottom:c+u,left:s}}(r,t,n))}let{top:n,left:a,width:i,height:l,bottom:o,right:s}=r;return{top:n,left:a,width:i,height:l,bottom:o,right:s}}function ev(e){return eb(e,{ignoreTransform:!0})}function ey(e,t){let r=[];return e?function n(a){var i,l;let o;if(null!=t&&r.length>=t||!a)return r;if(I(a)&&null!=a.scrollingElement&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!M(a)||E(a)||r.includes(a))return r;let s=N(e).getComputedStyle(a);return(a!==e&&(void 0===(i=s)&&(i=N(a).getComputedStyle(a)),o=/(auto|scroll|overlay)/,["overflow","overflowX","overflowY"].some(e=>{let t=i[e];return"string"==typeof t&&o.test(t)}))&&r.push(a),void 0===(l=s)&&(l=N(a).getComputedStyle(a)),"fixed"===l.position)?r:n(a.parentNode)}(e):r}function ew(e){let[t]=ey(e,1);return null!=t?t:null}function eC(e){return S&&e?k(e)?e:L(e)?I(e)||e===D(e).scrollingElement?window:M(e)?e:null:null:null}function ej(e){return k(e)?e.scrollX:e.scrollLeft}function eS(e){return k(e)?e.scrollY:e.scrollTop}function ek(e){return{x:ej(e),y:eS(e)}}function eL(e){return!!S&&!!e&&e===document.scrollingElement}function eN(e){let t={x:0,y:0},r=eL(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x;return{isTop:a,isLeft:i,isBottom:e.scrollTop>=n.y,isRight:e.scrollLeft>=n.x,maxScroll:n,minScroll:t}}(n=g||(g={}))[n.Forward=1]="Forward",n[n.Backward=-1]="Backward";let eI={x:.2,y:.2};function eM(e){return e.reduce((e,t)=>U(e,ek(t)),ei)}let eE=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+ej(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+eS(t),0)}]];class eD{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=ey(t),n=eM(r);for(const[t,a,i]of(this.rect={...e},this.width=e.width,this.height=e.height,eE))for(const e of a)Object.defineProperty(this,e,{get:()=>{let a=i(r),l=n[t]-a;return this.rect[e]+l},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class eR{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,r){var n;null==(n=this.target)||n.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function eP(e,t){let r=Math.abs(e.x),n=Math.abs(e.y);return"number"==typeof t?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t&&n>t.y}function eA(e){e.preventDefault()}function eO(e){e.stopPropagation()}(a=h||(h={})).Click="click",a.DragStart="dragstart",a.Keydown="keydown",a.ContextMenu="contextmenu",a.Resize="resize",a.SelectionChange="selectionchange",a.VisibilityChange="visibilitychange",(i=p||(p={})).Space="Space",i.Down="ArrowDown",i.Right="ArrowRight",i.Left="ArrowLeft",i.Up="ArrowUp",i.Esc="Escape",i.Enter="Enter",i.Tab="Tab";let e_={start:[p.Space,p.Enter],cancel:[p.Esc],end:[p.Space,p.Enter,p.Tab]},eF=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case p.Right:return{...r,x:r.x+25};case p.Left:return{...r,x:r.x-25};case p.Down:return{...r,y:r.y+25};case p.Up:return{...r,y:r.y-25}}};class eT{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new eR(D(t)),this.windowListeners=new eR(N(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(h.Resize,this.handleCancel),this.windowListeners.add(h.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(h.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&function(e,t){if(void 0===t&&(t=eb),!e)return;let{top:r,left:n,bottom:a,right:i}=t(e);ew(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(r),t(ei)}handleKeyDown(e){if(W(e)){let{active:t,context:r,options:n}=this.props,{keyboardCodes:a=e_,coordinateGetter:i=eF,scrollBehavior:l="smooth"}=n,{code:o}=e;if(a.end.includes(o))return void this.handleEnd(e);if(a.cancel.includes(o))return void this.handleCancel(e);let{collisionRect:s}=r.current,c=s?{x:s.left,y:s.top}:ei;this.referenceCoordinates||(this.referenceCoordinates=c);let d=i(e,{active:t,context:r.current,currentCoordinates:c});if(d){let t=q(d,c),n={x:0,y:0},{scrollableAncestors:a}=r.current;for(let r of a){let a=e.code,{isTop:i,isRight:o,isLeft:s,isBottom:c,maxScroll:u,minScroll:g}=eN(r),h=function(e){if(e===document.scrollingElement){let{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}let{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}(r),f={x:Math.min(a===p.Right?h.right-h.width/2:h.right,Math.max(a===p.Right?h.left:h.left+h.width/2,d.x)),y:Math.min(a===p.Down?h.bottom-h.height/2:h.bottom,Math.max(a===p.Down?h.top:h.top+h.height/2,d.y))},m=a===p.Right&&!o||a===p.Left&&!s,x=a===p.Down&&!c||a===p.Up&&!i;if(m&&f.x!==d.x){let e=r.scrollLeft+t.x,i=a===p.Right&&e<=u.x||a===p.Left&&e>=g.x;if(i&&!t.y)return void r.scrollTo({left:e,behavior:l});i?n.x=r.scrollLeft-e:n.x=a===p.Right?r.scrollLeft-u.x:r.scrollLeft-g.x,n.x&&r.scrollBy({left:-n.x,behavior:l});break}if(x&&f.y!==d.y){let e=r.scrollTop+t.y,i=a===p.Down&&e<=u.y||a===p.Up&&e>=g.y;if(i&&!t.x)return void r.scrollTo({top:e,behavior:l});i?n.y=r.scrollTop-e:n.y=a===p.Down?r.scrollTop-u.y:r.scrollTop-g.y,n.y&&r.scrollBy({top:-n.y,behavior:l});break}}this.handleMove(e,U(q(d,this.referenceCoordinates),n))}}}handleMove(e,t){let{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){let{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){let{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function eB(e){return!!(e&&"distance"in e)}function ez(e){return!!(e&&"delay"in e)}eT.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=e_,onActivation:a}=t,{active:i}=r,{code:l}=e.nativeEvent;if(n.start.includes(l)){let t=i.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),null==a||a({event:e.nativeEvent}),!0)}return!1}}];class e${constructor(e,t,r){var n;void 0===r&&(r=function(e){let{EventTarget:t}=N(e);return e instanceof t?e:D(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:a}=e,{target:i}=a;this.props=e,this.events=t,this.document=D(i),this.documentListeners=new eR(this.document),this.listeners=new eR(r),this.windowListeners=new eR(N(i)),this.initialCoordinates=null!=(n=K(a))?n:ei,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(h.Resize,this.handleCancel),this.windowListeners.add(h.DragStart,eA),this.windowListeners.add(h.VisibilityChange,this.handleCancel),this.windowListeners.add(h.ContextMenu,eA),this.documentListeners.add(h.Keydown,this.handleKeydown),t){if(null!=r&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ez(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(eB(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){let{active:r,onPending:n}=this.props;n(r,e,this.initialCoordinates,t)}handleStart(){let{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(h.Click,eO,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(h.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;let{activated:r,initialCoordinates:n,props:a}=this,{onMove:i,options:{activationConstraint:l}}=a;if(!n)return;let o=null!=(t=K(e))?t:ei,s=q(n,o);if(!r&&l){if(eB(l)){if(null!=l.tolerance&&eP(s,l.tolerance))return this.handleCancel();if(eP(s,l.distance))return this.handleStart()}return ez(l)&&eP(s,l.tolerance)?this.handleCancel():void this.handlePending(l,s)}e.cancelable&&e.preventDefault(),i(o)}handleEnd(){let{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){let{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===p.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}let eU={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class eq extends e${constructor(e){const{event:t}=e;super(e,eU,D(t.target))}}eq.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!!r.isPrimary&&0===r.button&&(null==n||n({event:r}),!0)}}];(l=f||(f={}))[l.RightClick=2]="RightClick";(o=m||(m={}))[o.Pointer=0]="Pointer",o[o.DraggableRect=1]="DraggableRect",(s=x||(x={}))[s.TreeOrder=0]="TreeOrder",s[s.ReversedTreeOrder=1]="ReversedTreeOrder";let eW={x:{[g.Backward]:!1,[g.Forward]:!1},y:{[g.Backward]:!1,[g.Forward]:!1}};(c=b||(b={}))[c.Always=0]="Always",c[c.BeforeDragging=1]="BeforeDragging",c[c.WhileDragging=2]="WhileDragging",(v||(v={})).Optimized="optimized";let eK=new Map;function eX(e,t){return _(r=>e?r||("function"==typeof t?t(e):e):null,[t,e])}function eY(e){let{callback:t,disabled:r}=e,n=P(t),a=(0,w.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;let{ResizeObserver:e}=window;return new e(n)},[r]);return(0,w.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}function eH(e){return new eD(eb(e),e)}function eG(e,t,r){void 0===t&&(t=eH);let[n,a]=(0,w.useState)(null);function i(){a(n=>{if(!e)return null;if(!1===e.isConnected){var a;return null!=(a=null!=n?n:r)?a:null}let i=t(e);return JSON.stringify(n)===JSON.stringify(i)?n:i})}let l=function(e){let{callback:t,disabled:r}=e,n=P(t),a=(0,w.useMemo)(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;let{MutationObserver:e}=window;return new e(n)},[n,r]);return(0,w.useEffect)(()=>()=>null==a?void 0:a.disconnect(),[a]),a}({callback(t){if(e)for(let r of t){let{type:t,target:n}=r;if("childList"===t&&n instanceof HTMLElement&&n.contains(e)){i();break}}}}),o=eY({callback:i});return R(()=>{i(),e?(null==o||o.observe(e),null==l||l.observe(document.body,{childList:!0,subtree:!0})):(null==o||o.disconnect(),null==l||l.disconnect())},[e]),n}let eV=[];function eJ(e,t){void 0===t&&(t=[]);let r=(0,w.useRef)(null);return(0,w.useEffect)(()=>{r.current=null},t),(0,w.useEffect)(()=>{let t=e!==ei;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?q(e,r.current):ei}function eZ(e){return(0,w.useMemo)(()=>{let t,r;return e?(t=e.innerWidth,{top:0,left:0,right:t,bottom:r=e.innerHeight,width:t,height:r}):null},[e])}let eQ=[],e0=[{sensor:eq,options:{}},{sensor:eT,options:{}}],e1={current:{}},e2={draggable:{measure:ev},droppable:{measure:ev,strategy:b.WhileDragging,frequency:v.Optimized},dragOverlay:{measure:eb}};class e8 extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return null!=(t=null==(r=this.get(e))?void 0:r.node.current)?t:void 0}}let e3={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new e8,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:er},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:e2,measureDroppableContainers:er,windowRect:null,measuringScheduled:!1},e4={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:er,draggableNodes:new Map,over:null,measureDroppableContainers:er},e6=(0,w.createContext)(e4),e5=(0,w.createContext)(e3);function e7(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new e8}}}function e9(e,t){switch(t.type){case u.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case u.DragMove:if(null==e.draggable.active)return e;return{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case u.DragEnd:case u.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case u.RegisterDroppable:{let{element:r}=t,{id:n}=r,a=new e8(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case u.SetDroppableDisabled:{let{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;let l=new e8(e.droppable.containers);return l.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:l}}}case u.UnregisterDroppable:{let{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;let i=new e8(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function te(e){let{disabled:t}=e,{active:r,activatorEvent:n,draggableNodes:a}=(0,w.useContext)(e6),i=T(n),l=T(null==r?void 0:r.id);return(0,w.useEffect)(()=>{if(!t&&!n&&i&&null!=l){if(!W(i)||document.activeElement===i.target)return;let e=a.get(l);if(!e)return;let{activatorNode:t,node:r}=e;(t.current||r.current)&&requestAnimationFrame(()=>{for(let e of[t.current,r.current]){if(!e)continue;let t=H(e);if(t){t.focus();break}}})}},[n,t,a,l,i]),null}let tt=(0,w.createContext)({...ei,scaleX:1,scaleY:1});(d=y||(y={}))[d.Uninitialized=0]="Uninitialized",d[d.Initializing=1]="Initializing",d[d.Initialized=2]="Initialized";let tr=(0,w.memo)(function(e){var t,r,n,a,i,l,o,s;let c,d,h,p,f,v,j,k,{id:L,accessibility:I,autoScroll:E=!0,children:D,sensors:P=e0,collisionDetection:B=ep,measuring:$,modifiers:q,...W}=e,[X,Y]=(0,w.useReducer)(e9,void 0,e7),[H,G]=function(){let[e]=(0,w.useState)(()=>new Set),t=(0,w.useCallback)(t=>(e.add(t),()=>e.delete(t)),[e]);return[(0,w.useCallback)(t=>{let{type:r,event:n}=t;e.forEach(e=>{var t;return null==(t=e[r])?void 0:t.call(e,n)})},[e]),t]}(),[V,J]=(0,w.useState)(y.Uninitialized),Q=V===y.Initialized,{draggable:{active:ee,nodes:er,translate:en},droppable:{containers:ea}}=X,el=null!=ee?er.get(ee):null,eo=(0,w.useRef)({initial:null,translated:null}),es=(0,w.useMemo)(()=>{var e;return null!=ee?{id:ee,data:null!=(e=null==el?void 0:el.data)?e:e1,rect:eo}:null},[ee,el]),ec=(0,w.useRef)(null),[eu,eg]=(0,w.useState)(null),[eh,ex]=(0,w.useState)(null),ev=O(W,Object.values(W)),ej=z("DndDescribedBy",L),eS=(0,w.useMemo)(()=>ea.getEnabled(),[ea]),eE=(0,w.useMemo)(()=>({draggable:{...e2.draggable,...null==$?void 0:$.draggable},droppable:{...e2.droppable,...null==$?void 0:$.droppable},dragOverlay:{...e2.dragOverlay,...null==$?void 0:$.dragOverlay}}),[null==$?void 0:$.draggable,null==$?void 0:$.droppable,null==$?void 0:$.dragOverlay]),{droppableRects:eR,measureDroppableContainers:eP,measuringScheduled:eA}=function(e,t){let{dragging:r,dependencies:n,config:a}=t,[i,l]=(0,w.useState)(null),{frequency:o,measure:s,strategy:c}=a,d=(0,w.useRef)(e),u=function(){switch(c){case b.Always:return!1;case b.BeforeDragging:return r;default:return!r}}(),g=O(u),h=(0,w.useCallback)(function(e){void 0===e&&(e=[]),g.current||l(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[g]),p=(0,w.useRef)(null),f=_(t=>{if(u&&!r)return eK;if(!t||t===eK||d.current!==e||null!=i){let t=new Map;for(let r of e){if(!r)continue;if(i&&i.length>0&&!i.includes(r.id)&&r.rect.current){t.set(r.id,r.rect.current);continue}let e=r.node.current,n=e?new eD(s(e),e):null;r.rect.current=n,n&&t.set(r.id,n)}return t}return t},[e,i,r,u,s]);return(0,w.useEffect)(()=>{d.current=e},[e]),(0,w.useEffect)(()=>{u||h()},[r,u]),(0,w.useEffect)(()=>{i&&i.length>0&&l(null)},[JSON.stringify(i)]),(0,w.useEffect)(()=>{u||"number"!=typeof o||null!==p.current||(p.current=setTimeout(()=>{h(),p.current=null},o))},[o,u,h,...n]),{droppableRects:f,measureDroppableContainers:h,measuringScheduled:null!=i}}(eS,{dragging:Q,dependencies:[en.x,en.y],config:eE.droppable}),eO=_(e=>{var t;return null==ee?null:null!=(t=null!=f?f:e)?t:null},[f=(p=null!=ee?er.get(ee):void 0)?p.node.current:null,ee]),e_=(0,w.useMemo)(()=>eh?K(eh):null,[eh]),eF=(c=(null==eu?void 0:eu.autoScrollEnabled)===!1,d="object"==typeof E?!1===E.enabled:!1===E,h=Q&&!c&&!d,"object"==typeof E?{...E,enabled:h}:{enabled:h}),eT=eX(eO,eE.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e,i=(0,w.useRef)(!1),{x:l,y:o}="boolean"==typeof a?{x:a,y:a}:a;R(()=>{if(!l&&!o||!t){i.current=!1;return}if(i.current||!n)return;let e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;let a=ef(r(e),n);if(l||(a.x=0),o||(a.y=0),i.current=!0,Math.abs(a.x)>0||Math.abs(a.y)>0){let t=ew(e);t&&t.scrollBy({top:a.y,left:a.x})}},[t,l,o,n,r])}({activeNode:null!=ee?er.get(ee):null,config:eF.layoutShiftCompensation,initialRect:eT,measure:eE.draggable.measure});let eB=eG(eO,eE.draggable.measure,eT),ez=eG(eO?eO.parentElement:null),e$=(0,w.useRef)({activatorEvent:null,active:null,activeNode:eO,collisionRect:null,collisions:null,droppableRects:eR,draggableNodes:er,draggingNode:null,draggingNodeRect:null,droppableContainers:ea,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),eU=ea.getNodeFor(null==(t=e$.current.over)?void 0:t.id),eq=function(e){let{measure:t}=e,[r,n]=(0,w.useState)(null),a=eY({callback:(0,w.useCallback)(e=>{for(let{target:r}of e)if(M(r)){n(e=>{let n=t(r);return e?{...e,width:n.width,height:n.height}:n});break}},[t])}),[i,l]=F((0,w.useCallback)(e=>{let r=function(e){if(!e)return null;if(e.children.length>1)return e;let t=e.children[0];return M(t)?t:e}(e);null==a||a.disconnect(),r&&(null==a||a.observe(r)),n(r?t(r):null)},[t,a]));return(0,w.useMemo)(()=>({nodeRef:i,rect:r,setRef:l}),[r,i,l])}({measure:eE.dragOverlay.measure}),eH=null!=(r=eq.nodeRef.current)?r:eO,e8=Q?null!=(n=eq.rect)?n:eB:null,e3=!!(eq.nodeRef.current&&eq.rect),e4=(v=eX(i=e3?null:eB),ef(i,v)),tr=eZ(eH?N(eH):null),tn=(l=Q?null!=eU?eU:eO:null,j=(0,w.useRef)(l),k=_(e=>l?e&&e!==eV&&l&&j.current&&l.parentNode===j.current.parentNode?e:ey(l):eV,[l]),(0,w.useEffect)(()=>{j.current=l},[l]),k),ta=function(e,t){void 0===t&&(t=eb);let[r]=e,n=eZ(r?N(r):null),[a,i]=(0,w.useState)(eQ);function l(){i(()=>e.length?e.map(e=>eL(e)?n:new eD(t(e),e)):eQ)}let o=eY({callback:l});return R(()=>{null==o||o.disconnect(),l(),e.forEach(e=>null==o?void 0:o.observe(e))},[e]),a}(tn),ti=function(e,t){let{transform:r,...n}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...n}),r):r}(q,{transform:{x:en.x-e4.x,y:en.y-e4.y,scaleX:1,scaleY:1},activatorEvent:eh,active:es,activeNodeRect:eB,containerNodeRect:ez,draggingNodeRect:e8,over:e$.current.over,overlayNodeRect:eq.rect,scrollableAncestors:tn,scrollableAncestorRects:ta,windowRect:tr}),tl=e_?U(e_,en):null,to=function(e){let[t,r]=(0,w.useState)(null),n=(0,w.useRef)(e),a=(0,w.useCallback)(e=>{let t=eC(e.target);t&&r(e=>e?(e.set(t,ek(t)),new Map(e)):null)},[]);return(0,w.useEffect)(()=>{let t=n.current;if(e!==t){i(t);let l=e.map(e=>{let t=eC(e);return t?(t.addEventListener("scroll",a,{passive:!0}),[t,ek(t)]):null}).filter(e=>null!=e);r(l.length?new Map(l):null),n.current=e}return()=>{i(e),i(t)};function i(e){e.forEach(e=>{let t=eC(e);null==t||t.removeEventListener("scroll",a)})}},[a,e]),(0,w.useMemo)(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>U(e,t),ei):eM(e):ei,[e,t])}(tn),ts=eJ(to),tc=eJ(to,[eB]),td=U(ti,ts),tu=e8?em(e8,ti):null,tg=es&&tu?B({active:es,collisionRect:tu,droppableRects:eR,droppableContainers:eS,pointerCoordinates:tl}):null,th=ed(tg,"id"),[tp,tf]=(0,w.useState)(null),tm=(o=e3?ti:U(ti,tc),s=null!=(a=null==tp?void 0:tp.rect)?a:null,{...o,scaleX:s&&eB?s.width/eB.width:1,scaleY:s&&eB?s.height/eB.height:1}),tx=(0,w.useRef)(null),tb=(0,w.useCallback)((e,t)=>{let{sensor:r,options:n}=t;if(null==ec.current)return;let a=er.get(ec.current);if(!a)return;let i=e.nativeEvent,l=new r({active:ec.current,activeNode:a,event:i,options:n,context:e$,onAbort(e){if(!er.get(e))return;let{onDragAbort:t}=ev.current,r={id:e};null==t||t(r),H({type:"onDragAbort",event:r})},onPending(e,t,r,n){if(!er.get(e))return;let{onDragPending:a}=ev.current,i={id:e,constraint:t,initialCoordinates:r,offset:n};null==a||a(i),H({type:"onDragPending",event:i})},onStart(e){let t=ec.current;if(null==t)return;let r=er.get(t);if(!r)return;let{onDragStart:n}=ev.current,a={activatorEvent:i,active:{id:t,data:r.data,rect:eo}};(0,C.unstable_batchedUpdates)(()=>{null==n||n(a),J(y.Initializing),Y({type:u.DragStart,initialCoordinates:e,active:t}),H({type:"onDragStart",event:a}),eg(tx.current),ex(i)})},onMove(e){Y({type:u.DragMove,coordinates:e})},onEnd:o(u.DragEnd),onCancel:o(u.DragCancel)});function o(e){return async function(){let{active:t,collisions:r,over:n,scrollAdjustedTranslate:a}=e$.current,l=null;if(t&&a){let{cancelDrop:o}=ev.current;l={activatorEvent:i,active:t,collisions:r,delta:a,over:n},e===u.DragEnd&&"function"==typeof o&&await Promise.resolve(o(l))&&(e=u.DragCancel)}ec.current=null,(0,C.unstable_batchedUpdates)(()=>{Y({type:e}),J(y.Uninitialized),tf(null),eg(null),ex(null),tx.current=null;let t=e===u.DragEnd?"onDragEnd":"onDragCancel";if(l){let e=ev.current[t];null==e||e(l),H({type:t,event:l})}})}}tx.current=l},[er]),tv=(0,w.useCallback)((e,t)=>(r,n)=>{let a=r.nativeEvent,i=er.get(n);null!==ec.current||!i||a.dndKit||a.defaultPrevented||!0===e(r,t.options,{active:i})&&(a.dndKit={capturedBy:t.sensor},ec.current=n,tb(r,t))},[er,tb]),ty=(0,w.useMemo)(()=>P.reduce((e,t)=>{let{sensor:r}=t;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:tv(e.handler,t)}))]},[]),[P,tv]);(0,w.useEffect)(()=>{if(!S)return;let e=P.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(let t of e)null==t||t()}},P.map(e=>{let{sensor:t}=e;return t})),R(()=>{eB&&V===y.Initializing&&J(y.Initialized)},[eB,V]),(0,w.useEffect)(()=>{let{onDragMove:e}=ev.current,{active:t,activatorEvent:r,collisions:n,over:a}=e$.current;if(!t||!r)return;let i={active:t,activatorEvent:r,collisions:n,delta:{x:td.x,y:td.y},over:a};(0,C.unstable_batchedUpdates)(()=>{null==e||e(i),H({type:"onDragMove",event:i})})},[td.x,td.y]),(0,w.useEffect)(()=>{let{active:e,activatorEvent:t,collisions:r,droppableContainers:n,scrollAdjustedTranslate:a}=e$.current;if(!e||null==ec.current||!t||!a)return;let{onDragOver:i}=ev.current,l=n.get(th),o=l&&l.rect.current?{id:l.id,rect:l.rect.current,data:l.data,disabled:l.disabled}:null,s={active:e,activatorEvent:t,collisions:r,delta:{x:a.x,y:a.y},over:o};(0,C.unstable_batchedUpdates)(()=>{tf(o),null==i||i(s),H({type:"onDragOver",event:s})})},[th]),R(()=>{e$.current={activatorEvent:eh,active:es,activeNode:eO,collisionRect:tu,collisions:tg,droppableRects:eR,draggableNodes:er,draggingNode:eH,draggingNodeRect:e8,droppableContainers:ea,over:tp,scrollableAncestors:tn,scrollAdjustedTranslate:td},eo.current={initial:e8,translated:tu}},[es,eO,tg,tu,er,eH,e8,eR,ea,tp,tn,td]),function(e){let{acceleration:t,activator:r=m.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:l=5,order:o=x.TreeOrder,pointerCoordinates:s,scrollableAncestors:c,scrollableAncestorRects:d,delta:u,threshold:h}=e,p=function(e){let{delta:t,disabled:r}=e,n=T(t);return _(e=>{if(r||!n||!e)return eW;let a={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[g.Backward]:e.x[g.Backward]||-1===a.x,[g.Forward]:e.x[g.Forward]||1===a.x},y:{[g.Backward]:e.y[g.Backward]||-1===a.y,[g.Forward]:e.y[g.Forward]||1===a.y}}},[r,t,n])}({delta:u,disabled:!i}),[f,b]=A(),v=(0,w.useRef)({x:0,y:0}),y=(0,w.useRef)({x:0,y:0}),C=(0,w.useMemo)(()=>{switch(r){case m.Pointer:return s?{top:s.y,bottom:s.y,left:s.x,right:s.x}:null;case m.DraggableRect:return a}},[r,a,s]),j=(0,w.useRef)(null),S=(0,w.useCallback)(()=>{let e=j.current;if(!e)return;let t=v.current.x*y.current.x,r=v.current.y*y.current.y;e.scrollBy(t,r)},[]),k=(0,w.useMemo)(()=>o===x.TreeOrder?[...c].reverse():c,[o,c]);(0,w.useEffect)(()=>{if(!i||!c.length||!C)return void b();for(let e of k){if((null==n?void 0:n(e))===!1)continue;let r=d[c.indexOf(e)];if(!r)continue;let{direction:a,speed:i}=function(e,t,r,n,a){let{top:i,left:l,right:o,bottom:s}=r;void 0===n&&(n=10),void 0===a&&(a=eI);let{isTop:c,isBottom:d,isLeft:u,isRight:h}=eN(e),p={x:0,y:0},f={x:0,y:0},m={height:t.height*a.y,width:t.width*a.x};return!c&&i<=t.top+m.height?(p.y=g.Backward,f.y=n*Math.abs((t.top+m.height-i)/m.height)):!d&&s>=t.bottom-m.height&&(p.y=g.Forward,f.y=n*Math.abs((t.bottom-m.height-s)/m.height)),!h&&o>=t.right-m.width?(p.x=g.Forward,f.x=n*Math.abs((t.right-m.width-o)/m.width)):!u&&l<=t.left+m.width&&(p.x=g.Backward,f.x=n*Math.abs((t.left+m.width-l)/m.width)),{direction:p,speed:f}}(e,r,C,t,h);for(let e of["x","y"])p[e][a[e]]||(i[e]=0,a[e]=0);if(i.x>0||i.y>0){b(),j.current=e,f(S,l),v.current=i,y.current=a;return}}v.current={x:0,y:0},y.current={x:0,y:0},b()},[t,S,n,b,i,l,JSON.stringify(C),JSON.stringify(p),f,c,k,d,JSON.stringify(h)])}({...eF,delta:en,draggingRect:tu,pointerCoordinates:tl,scrollableAncestors:tn,scrollableAncestorRects:ta});let tw=(0,w.useMemo)(()=>({active:es,activeNode:eO,activeNodeRect:eB,activatorEvent:eh,collisions:tg,containerNodeRect:ez,dragOverlay:eq,draggableNodes:er,droppableContainers:ea,droppableRects:eR,over:tp,measureDroppableContainers:eP,scrollableAncestors:tn,scrollableAncestorRects:ta,measuringConfiguration:eE,measuringScheduled:eA,windowRect:tr}),[es,eO,eB,eh,tg,ez,eq,er,ea,eR,tp,eP,tn,ta,eE,eA,tr]),tC=(0,w.useMemo)(()=>({activatorEvent:eh,activators:ty,active:es,activeNodeRect:eB,ariaDescribedById:{draggable:ej},dispatch:Y,draggableNodes:er,over:tp,measureDroppableContainers:eP}),[eh,ty,es,eB,Y,ej,er,tp,eP]);return w.default.createElement(Z.Provider,{value:G},w.default.createElement(e6.Provider,{value:tC},w.default.createElement(e5.Provider,{value:tw},w.default.createElement(tt.Provider,{value:tm},D)),w.default.createElement(te,{disabled:(null==I?void 0:I.restoreFocus)===!1})),w.default.createElement(et,{...I,hiddenTextDescribedById:ej}))}),tn=(0,w.createContext)(null),ta="button";function ti(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e,i=z("Draggable"),{activators:l,activatorEvent:o,active:s,activeNodeRect:c,ariaDescribedById:d,draggableNodes:u,over:g}=(0,w.useContext)(e6),{role:h=ta,roleDescription:p="draggable",tabIndex:f=0}=null!=a?a:{},m=(null==s?void 0:s.id)===t,x=(0,w.useContext)(m?tt:tn),[b,v]=F(),[y,C]=F(),j=(0,w.useMemo)(()=>l.reduce((e,r)=>{let{eventName:n,handler:a}=r;return e[n]=e=>{a(e,t)},e},{}),[l,t]),S=O(r);return R(()=>(u.set(t,{id:t,key:i,node:b,activatorNode:y,data:S}),()=>{let e=u.get(t);e&&e.key===i&&u.delete(t)}),[u,t]),{active:s,activatorEvent:o,activeNodeRect:c,attributes:(0,w.useMemo)(()=>({role:h,tabIndex:f,"aria-disabled":n,"aria-pressed":!!m&&h===ta||void 0,"aria-roledescription":p,"aria-describedby":d.draggable}),[n,h,f,m,p,d.draggable]),isDragging:m,listeners:n?void 0:j,node:b,over:g,setNodeRef:v,setActivatorNodeRef:C,transform:x}}function tl(){return(0,w.useContext)(e5)}let to={timeout:25};function ts(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e,i=z("Droppable"),{active:l,dispatch:o,over:s,measureDroppableContainers:c}=(0,w.useContext)(e6),d=(0,w.useRef)({disabled:r}),g=(0,w.useRef)(!1),h=(0,w.useRef)(null),p=(0,w.useRef)(null),{disabled:f,updateMeasurementsFor:m,timeout:x}={...to,...a},b=O(null!=m?m:n),v=eY({callback:(0,w.useCallback)(()=>{if(!g.current){g.current=!0;return}null!=p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{c(Array.isArray(b.current)?b.current:[b.current]),p.current=null},x)},[x]),disabled:f||!l}),[y,C]=F((0,w.useCallback)((e,t)=>{v&&(t&&(v.unobserve(t),g.current=!1),e&&v.observe(e))},[v])),j=O(t);return(0,w.useEffect)(()=>{v&&y.current&&(v.disconnect(),g.current=!1,v.observe(y.current))},[y,v]),(0,w.useEffect)(()=>(o({type:u.RegisterDroppable,element:{id:n,key:i,disabled:r,node:y,rect:h,data:j}}),()=>o({type:u.UnregisterDroppable,key:i,id:n})),[n]),(0,w.useEffect)(()=>{r!==d.current.disabled&&(o({type:u.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,o]),{active:l,rect:h,isOver:(null==s?void 0:s.id)===n,node:y,over:s,setNodeRef:C}}let tc={position:"fixed",touchAction:"none"},td=e=>W(e)?"transform 250ms ease":void 0;function tu(e,t,r){let n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function tg(e){return null!==e&&e>=0}t={styles:{active:{opacity:"0"}}},e.s(["DndContext",()=>tr,"KeyboardCode",()=>p,"KeyboardSensor",()=>eT,"PointerSensor",()=>eq,"closestCenter",()=>eg,"closestCorners",()=>eh,"getClientRect",()=>eb,"getFirstCollision",()=>ed,"getScrollableAncestors",()=>ey,"useDndContext",()=>tl,"useDraggable",()=>ti,"useDroppable",()=>ts,"useSensor",()=>en,"useSensors",()=>ea],4404958);let th={scaleX:1,scaleY:1},tp=e=>{var t,r,n,a;let i,l,o,{rects:s,activeNodeRect:c,activeIndex:d,overIndex:u,index:g}=e,h=null!=(t=s[d])?t:c;if(!h)return null;let p=(r=s,n=g,a=d,i=r[n],l=r[n-1],o=r[n+1],i&&(l||o)?a<n?l?i.left-(l.left+l.width):o.left-(i.left+i.width):o?o.left-(i.left+i.width):i.left-(l.left+l.width):0);if(g===d){let e=s[u];return e?{x:d<u?e.left+e.width-(h.left+h.width):e.left-h.left,y:0,...th}:null}return g>d&&g<=u?{x:-h.width-p,y:0,...th}:g<d&&g>=u?{x:h.width+p,y:0,...th}:{x:0,y:0,...th}},tf=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e,i=tu(t,n,r),l=t[a],o=i[a];return o&&l?{x:o.left-l.left,y:o.top-l.top,scaleX:o.width/l.width,scaleY:o.height/l.height}:null},tm="Sortable",tx=w.default.createContext({activeIndex:-1,containerId:tm,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:tf,disabled:{draggable:!1,droppable:!1}});function tb(e){let{children:t,id:r,items:n,strategy:a=tf,disabled:i=!1}=e,{active:l,dragOverlay:o,droppableRects:s,over:c,measureDroppableContainers:d}=tl(),u=z(tm,r),g=null!==o.rect,h=(0,w.useMemo)(()=>n.map(e=>"object"==typeof e&&"id"in e?e.id:e),[n]),p=null!=l,f=l?h.indexOf(l.id):-1,m=c?h.indexOf(c.id):-1,x=(0,w.useRef)(h),b=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}(h,x.current),v=-1!==m&&-1===f||b,y="boolean"==typeof i?{draggable:i,droppable:i}:i;R(()=>{b&&p&&d(h)},[b,h,p,d]),(0,w.useEffect)(()=>{x.current=h},[h]);let C=(0,w.useMemo)(()=>({activeIndex:f,containerId:u,disabled:y,disableTransforms:v,items:h,overIndex:m,useDragOverlay:g,sortedRects:h.reduce((e,t,r)=>{let n=s.get(t);return n&&(e[r]=n),e},Array(h.length)),strategy:a}),[f,u,y.draggable,y.droppable,v,h,m,s,g,a]);return w.default.createElement(tx.Provider,{value:C},t)}let tv=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return tu(r,n,a).indexOf(t)},ty=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:l,previousItems:o,previousContainerId:s,transition:c}=e;return!!c&&!!n&&(o===i||a!==l)&&(!!r||l!==a&&t===s)},tw={duration:200,easing:"ease"},tC="transform",tj=X.Transition.toString({property:tC,duration:0,easing:"linear"}),tS={roleDescription:"sortable"};function tk(e){var t,r,n,a;let{animateLayoutChanges:i=ty,attributes:l,disabled:o,data:s,getNewIndex:c=tv,id:d,strategy:u,resizeObserverConfig:g,transition:h=tw}=e,{items:p,containerId:f,activeIndex:m,disabled:x,disableTransforms:b,sortedRects:v,overIndex:y,useDragOverlay:C,strategy:S}=(0,w.useContext)(tx),k=(t=o,r=x,"boolean"==typeof t?{draggable:t,droppable:!1}:{draggable:null!=(n=null==t?void 0:t.draggable)?n:r.draggable,droppable:null!=(a=null==t?void 0:t.droppable)?a:r.droppable}),L=p.indexOf(d),N=(0,w.useMemo)(()=>({sortable:{containerId:f,index:L,items:p},...s}),[f,s,L,p]),I=(0,w.useMemo)(()=>p.slice(p.indexOf(d)),[p,d]),{rect:M,node:E,isOver:D,setNodeRef:P}=ts({id:d,data:N,disabled:k.droppable,resizeObserverConfig:{updateMeasurementsFor:I,...g}}),{active:A,activatorEvent:O,activeNodeRect:_,attributes:F,setNodeRef:T,listeners:B,isDragging:z,over:$,setActivatorNodeRef:U,transform:q}=ti({id:d,data:N,attributes:{...tS,...l},disabled:k.draggable}),K=j(P,T),Y=!!A,H=Y&&!b&&tg(m)&&tg(y),G=!C&&z,V=G&&H?q:null,J=H?null!=V?V:(null!=u?u:S)({rects:v,activeNodeRect:_,activeIndex:m,overIndex:y,index:L}):null,Z=tg(m)&&tg(y)?c({id:d,items:p,activeIndex:m,overIndex:y}):L,Q=null==A?void 0:A.id,ee=(0,w.useRef)({activeId:Q,items:p,newIndex:Z,containerId:f}),et=p!==ee.current.items,er=i({active:A,containerId:f,isDragging:z,isSorting:Y,id:d,index:L,items:p,newIndex:ee.current.newIndex,previousItems:ee.current.items,previousContainerId:ee.current.containerId,transition:h,wasDragging:null!=ee.current.activeId}),en=function(e){let{disabled:t,index:r,node:n,rect:a}=e,[i,l]=(0,w.useState)(null),o=(0,w.useRef)(r);return R(()=>{if(!t&&r!==o.current&&n.current){let e=a.current;if(e){let t=eb(n.current,{ignoreTransform:!0}),r={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(r.x||r.y)&&l(r)}}r!==o.current&&(o.current=r)},[t,r,n,a]),(0,w.useEffect)(()=>{i&&l(null)},[i]),i}({disabled:!er,index:L,node:E,rect:M});return(0,w.useEffect)(()=>{Y&&ee.current.newIndex!==Z&&(ee.current.newIndex=Z),f!==ee.current.containerId&&(ee.current.containerId=f),p!==ee.current.items&&(ee.current.items=p)},[Y,Z,f,p]),(0,w.useEffect)(()=>{if(Q===ee.current.activeId)return;if(null!=Q&&null==ee.current.activeId){ee.current.activeId=Q;return}let e=setTimeout(()=>{ee.current.activeId=Q},50);return()=>clearTimeout(e)},[Q]),{active:A,activeIndex:m,attributes:F,data:N,rect:M,index:L,newIndex:Z,items:p,isOver:D,isSorting:Y,isDragging:z,listeners:B,node:E,overIndex:y,over:$,setNodeRef:K,setActivatorNodeRef:U,setDroppableNodeRef:P,setDraggableNodeRef:T,transform:null!=en?en:J,transition:en||et&&ee.current.newIndex===L?tj:(!G||W(O))&&h&&(Y||er)?X.Transition.toString({...h,property:tC}):void 0}}function tL(e){if(!e)return!1;let t=e.data.current;return!!t&&"sortable"in t&&"object"==typeof t.sortable&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable}let tN=[p.Down,p.Right,p.Up,p.Left],tI=(e,t)=>{let{context:{active:r,collisionRect:n,droppableRects:a,droppableContainers:i,over:l,scrollableAncestors:o}}=t;if(tN.includes(e.code)){if(e.preventDefault(),!r||!n)return;let t=[];i.getEnabled().forEach(r=>{if(!r||null!=r&&r.disabled)return;let i=a.get(r.id);if(i)switch(e.code){case p.Down:n.top<i.top&&t.push(r);break;case p.Up:n.top>i.top&&t.push(r);break;case p.Left:n.left>i.left&&t.push(r);break;case p.Right:n.left<i.left&&t.push(r)}});let d=eh({active:r,collisionRect:n,droppableRects:a,droppableContainers:t,pointerCoordinates:null}),u=ed(d,"id");if(u===(null==l?void 0:l.id)&&d.length>1&&(u=d[1].id),null!=u){let e=i.get(r.id),t=i.get(u),l=t?a.get(t.id):null,d=null==t?void 0:t.node.current;if(d&&l&&e&&t){var s,c;let r=ey(d).some((e,t)=>o[t]!==e),a=tM(e,t),i=(s=e,c=t,!!tL(s)&&!!tL(c)&&!!tM(s,c)&&s.data.current.sortable.index<c.data.current.sortable.index),u=r||!a?{x:0,y:0}:{x:i?n.width-l.width:0,y:i?n.height-l.height:0},g={x:l.left,y:l.top};return u.x&&u.y?g:q(g,u)}}}};function tM(e,t){return!!tL(e)&&!!tL(t)&&e.data.current.sortable.containerId===t.data.current.sortable.containerId}e.s(["SortableContext",()=>tb,"arrayMove",()=>tu,"horizontalListSortingStrategy",()=>tp,"rectSortingStrategy",()=>tf,"sortableKeyboardCoordinates",()=>tI,"useSortable",()=>tk],8285718)},2483928,7045711,431597,4272280,6345985,9120086,2660880,e=>{"use strict";var t=e.i(1146226),r=e.i(5169864),n=e.i(57106),a=e.i(5610834),i=e.i(8794163);e.i(8703064);var l=e.i(648779),o=e.i(4877814),s=e.i(4011256),c=e.i(4004502),d=e.i(3306538),u=e.i(2504781),g=e.i(5255926),h=e.i(5468328),p=e.i(7807822),f=e.i(6835270),m=e.i(397094);e.i(553769);var x=e.i(3758860),b=e.i(6663213),v=e.i(2521731),y=e.i(8525850),w=e.i(5382432),C=e.i(1017032),j=e.i(9668517),S=e.i(7594446),k=e.i(3584802),L=e.i(6280036),N=e.i(4597921),I=e.i(9621575),M=e.i(4404958),E=e.i(8285718),D=e.i(1521745),R=e.i(8139291),P=e.i(6891161),A=e.i(3500331),O=e.i(6881349),_=e.i(4460254);let F={Blue:"#0070F3",Red:"#E5484D",Amber:"#FFB224",Green:"#46A758",Teal:"#12A594",Purple:"#8E4EC6",Pink:"#E93D82"};function T(e){let{attributes:n,listeners:a,variant:i="default"}=e,l=(0,r.useCallback)(e=>{e.stopPropagation()},[]);return(0,t.jsx)("div",{...n,...a,"data-drag-handle":!0,className:`${"template"===i?"absolute right-2 top-2 z-50":"absolute -right-2 top-1/2 -translate-y-1/2 z-10"} flex h-5 w-4 border border-gray-alpha-400 items-center cursor-grab active:cursor-grabbing justify-center rounded-sm bg-background-200 backdrop-blur-sm text-white hover:bg-gray-200 duration-100 opacity-0 group-hover:opacity-100`,style:{touchAction:"none"},onClick:l,"aria-label":"Drag to reorder",role:"button",tabIndex:0,children:(0,t.jsx)(R.MoreVertical,{color:"gray-900",className:"h-2 w-2"})})}function B(e){let{onEdit:n,variant:a="default"}=e,i=(0,r.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),n()},[n]);return(0,t.jsx)("button",{type:"button",className:`${"template"===a?"absolute right-2 top-8 z-50":"absolute -right-2 top-4 z-10"} flex h-5 w-4 border border-gray-alpha-400 items-center cursor-pointer justify-center rounded-sm bg-background-200 backdrop-blur-sm text-white hover:bg-gray-200 duration-100 opacity-0 group-hover:opacity-100`,onClick:i,"aria-label":"Edit item",children:(0,t.jsx)(_.Pen,{color:"gray-900",className:"h-2 w-2"})})}function z(e){let{value:r,onChange:n,label:a}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:a}),(0,t.jsxs)(O.Combobox,{value:r,onChange:e=>{e&&n(e)},placeholder:"Select color","aria-label":"Select an accent color",children:[(0,t.jsx)(O.Combobox.Input,{}),(0,t.jsx)(O.Combobox.List,{children:Object.entries(F).map(e=>{let[r,n]=e;return(0,t.jsx)(O.Combobox.Option,{value:n,prefix:(0,t.jsx)("span",{style:{marginRight:"8px",display:"inline-block",width:"20px",height:"20px",borderRadius:"4px",backgroundColor:n,border:"1px solid var(--ds-gray-400)"}}),children:r},n)})})]})]})}e.s(["ACCENT_COLORS",0,F,"VERCEL_BLOB_URL_PREFIX",0,"https://py8fhxnkzwtsqdo9.public.blob.vercel-storage.com/marketplace-hardcode/"],7045711),e.s(["ColorPicker",()=>z,"DragHandle",()=>T,"EditButton",()=>B],431597);var $=e.i(4585051),U=e.i(9256474),q=e.i(4244280),W=e.i(277234);let K=(0,r.createContext)(null);function X(){return(0,r.useContext)(K)||{enabled:!1,openEdit:()=>{},closeEdit:()=>{},editingItem:null,isEditModalOpen:!1}}function Y(e){let{attributes:n,listeners:a}=e,i=(0,r.useCallback)(e=>{e.stopPropagation()},[]);return(0,t.jsx)("div",{...n,...a,"data-drag-handle":!0,className:"absolute -right-2 top-1/2 -translate-y-1/2 z-10 flex h-5 w-4 border border-gray-alpha-400 items-center cursor-grab active:cursor-grabbing justify-center rounded-sm bg-background-200 backdrop-blur-sm text-white hover:bg-gray-200 duration-100 opacity-0 group-hover:opacity-100",style:{touchAction:"none"},onClick:i,"aria-label":"Drag to reorder",role:"button",tabIndex:0,children:(0,t.jsx)(R.MoreVertical,{color:"gray-900",className:"h-2 w-2"})})}function H(e){let{enablePowertool:n=!1,onReorder:a,children:i}=e,l=(0,r.useMemo)(()=>r.default.Children.toArray(i),[i]),{idOrderFromChildren:o,idToElement:s,idToData:c}=(0,r.useMemo)(()=>{let e=[],t=new Map,n=new Map;for(let a of l)if(r.default.isValidElement(a)&&"object"==typeof a.props&&null!==a.props&&"id"in a.props&&"data"in a.props&&"string"==typeof a.props.id){let r=a.props.id;e.push(r),t.set(r,a),n.set(r,a.props.data)}return{idOrderFromChildren:e,idToElement:t,idToData:n}},[l]),[d,g]=(0,r.useState)(o);(0,r.useLayoutEffect)(()=>{g(e=>{if(0===e.length)return o;let t=new Set(o);return e.length===o.length&&e.every(e=>t.has(e))?e:o})},[o]);let[,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[m,x]=(0,r.useState)(null),[b,v]=(0,r.useState)({integrationName:"",integrationDescription:"",integrationIcon:"",iconBackgroundColor:"#0070F3",website:"",slug:"",tags:[]}),[y,w]=(0,r.useState)(!1),C=(0,M.useSensors)((0,M.useSensor)(M.PointerSensor,{activationConstraint:{distance:8}}),(0,M.useSensor)(M.KeyboardSensor,{coordinateGetter:E.sortableKeyboardCoordinates})),j=(0,r.useCallback)(e=>{x(e),v({integrationName:e.integration.name,integrationDescription:e.integration.shortDescription,integrationIcon:e.integration.icon,iconBackgroundColor:e.product.iconBackgroundColor||e.integration.accentColor||"#0070F3",website:e.integration.website,slug:e.integration.slug,tags:e.product.tags}),f(!0)},[]),S=(0,r.useCallback)(async()=>{if(m){try{let e={slug:m.integration.slug,description:b.integrationDescription,lightImgUrl:b.integrationIcon,darkImgUrl:b.integrationIcon,iconBackgroundColor:b.iconBackgroundColor,categoryTitle:b.tags?.[0]||"Other",boldWords:[m.integration.name]},t=await fetch(q.API_MARKETPLACE_CONFIG,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({featuredItems:{products:[e]}})});if(!t.ok){let e=await t.text();console.error("Failed to save featured section:",e);return}}catch(e){console.error("Error saving featured section:",e)}f(!1),x(null)}},[b,m]),k=(0,r.useCallback)(()=>{f(!1),x(null)},[]),L=(0,r.useCallback)(e=>{h(e.active.id)},[]),N=(0,r.useCallback)(e=>{},[]),I=(0,r.useCallback)(e=>{let{active:t,over:r}=e;h(null),r&&t.id!==r.id&&g(e=>{let n=e.indexOf(String(t.id)),i=e.indexOf(String(r.id));if(-1===n||-1===i)return e;let l=(0,E.arrayMove)(e,n,i);return a&&a(l.map(e=>c.get(e)).filter(e=>!!e)),l})},[c,a]),D={enabled:n,openEdit:j,closeEdit:k,editingItem:m,isEditModalOpen:p},R=(0,t.jsxs)(P.Modal.Modal,{active:p,onClickOutside:()=>f(!1),width:"600px",children:[(0,t.jsxs)(P.Modal.Body,{children:[(0,t.jsx)(P.Modal.Header,{children:(0,t.jsx)(P.Modal.Title,{children:"Edit Integration"})}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"16px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Integration Name"}),(0,t.jsx)(A.Input,{id:"integrationName",value:b.integrationName,onChange:e=>v(t=>({...t,integrationName:e.target.value})),placeholder:"Integration name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Integration Description"}),(0,t.jsx)(A.Input,{id:"integrationDescription",value:b.integrationDescription,onChange:e=>v(t=>({...t,integrationDescription:e.target.value})),placeholder:"Integration description"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"8px"},children:"Integration Icon"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,t.jsx)($.Avatar,{hash:b.integrationIcon,size:48,title:"Integration Icon Preview"}),(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)(A.Input,{id:"integrationIcon",value:b.integrationIcon,onChange:e=>v(t=>({...t,integrationIcon:e.target.value})),placeholder:"Hash or URL (e.g., d84320427d57d47879edfeea213a6275cdc24224)"}),(0,t.jsx)("p",{className:"text-label-12 text-gray-900",style:{marginTop:"4px"},children:"Enter a hash ID or full image URL"})]}),(0,t.jsx)(u.Button,{size:"small",type:"secondary",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.onchange=async e=>{let t=e.target.files?.[0];if(t){w(!0);try{let e=new FileReader;e.onload=async()=>{let t=e.result;try{let e=await (0,W.fetchAPI)(q.API_MARKETPLACE_FEATURED_IMAGE_UPLOAD,{method:"POST",body:{image:t}});console.log("Image uploaded successfully:",e.url),v(t=>({...t,integrationIcon:e.url}))}catch(e){console.error("Failed to upload image:",e)}finally{w(!1)}},e.readAsDataURL(t)}catch(e){console.error("Error uploading image:",e),w(!1)}}},e.click()},disabled:y,children:y?"Uploading...":"Upload"})]})]}),(0,t.jsx)(z,{label:"Icon Background Color",value:b.iconBackgroundColor,onChange:e=>v(t=>({...t,iconBackgroundColor:e}))}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Website"}),(0,t.jsx)(A.Input,{id:"website",value:b.website,onChange:e=>v(t=>({...t,website:e.target.value})),placeholder:"https://example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Slug"}),(0,t.jsx)(A.Input,{id:"slug",value:b.slug,onChange:e=>v(t=>({...t,slug:e.target.value})),placeholder:"integration-slug"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",style:{marginBottom:"4px"},children:"Tags"}),(0,t.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,t.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px",marginBottom:"8px"},children:b.tags.map(e=>{let r=U.integrationCategoryTags.find(t=>t.id===e);return(0,t.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",padding:"4px 8px",backgroundColor:"#f3f4f6",borderRadius:"4px",fontSize:"12px",cursor:"pointer"},onClick:()=>{v(t=>({...t,tags:t.tags.filter(t=>t!==e)}))},children:[r?.title||e," "]},e)})}),(0,t.jsxs)(O.Combobox,{value:"",onChange:e=>{e&&!b.tags.includes(e)&&v(t=>({...t,tags:[...t.tags,e]}))},placeholder:"Add a tag...","aria-label":"Select tags",children:[(0,t.jsx)(O.Combobox.Input,{}),(0,t.jsx)(O.Combobox.List,{children:U.integrationCategoryTags.filter(e=>!b.tags.includes(e.id)).map(e=>(0,t.jsx)(O.Combobox.Option,{value:e.id,children:e.title},e.id))})]})]})]})]})]}),(0,t.jsxs)(P.Modal.Actions,{children:[(0,t.jsx)(P.Modal.Action,{type:"secondary",onClick:k,children:"Cancel"}),(0,t.jsx)(P.Modal.Action,{onClick:S,children:"Save Changes"})]})]});return n?(0,t.jsxs)(K.Provider,{value:D,children:[R,(0,t.jsx)(M.DndContext,{sensors:C,collisionDetection:M.closestCenter,onDragStart:L,onDragOver:N,onDragEnd:I,children:(0,t.jsx)(E.SortableContext,{items:d,strategy:E.rectSortingStrategy,children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:d.map(e=>s.get(e)).filter(Boolean)})})})]}):(0,t.jsx)(K.Provider,{value:D,children:(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:i})})}H.Item=function(e){let{id:n,children:a}=e,i=X(),{attributes:l,listeners:o,setNodeRef:s,transform:c,transition:d,isDragging:u}=(0,E.useSortable)({id:n}),g=(0,r.useMemo)(()=>({transform:D.CSS.Transform.toString(c),transition:u?"none":d,opacity:u?.6:1,zIndex:u?1e3:"auto",scale:u?"1.02":"1"}),[c,d,u]),h=(0,r.useCallback)(e=>{if(!i.enabled)return;let t=e.target,r=null!==t.closest("button")||null!==t.closest("[data-drag-handle]")||null!==t.closest("svg")||null!==t.closest("a");(u||r)&&(e.preventDefault(),e.stopPropagation())},[u,i.enabled]);return i.enabled?(0,t.jsxs)("div",{ref:s,style:g,className:`relative group ${u?"shadow-lg":"hover:shadow-md"} transition-shadow duration-200`,onClick:h,children:[(0,t.jsx)(Y,{attributes:l,listeners:o}),a]}):(0,t.jsx)(t.Fragment,{children:a})};var G=e.i(2405338);e.i(2957938);var V=e.i(455575),J=e.i(9208930);function Z(e){let{integration:n,product:a,productName:i,size:l="small",className:o,variant:s="secondary"}=e,c=(0,V.useToasts)(),[d,g]=(0,r.useState)(!1),[h,p]=(0,r.useState)(()=>{try{let e=`marketplace-subscription-${a?.id||n.slug}`;return"true"===localStorage.getItem(e)}catch{return!1}}),f=(0,r.useCallback)(()=>{d||h||(g(!0),fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"localhost"===window.location.hostname?`https://vercel.com/dev-mode${window.location.pathname}`:window.location.toString(),note:`Subscribed to ${i}`,topic:"Marketplace and Integrations",ua:`front production + ${navigator.userAgent} (${navigator.language||"unknown language"})`})}).then(()=>{p(!0);try{let e=`marketplace-subscription-${a?.id||n.slug}`;localStorage.setItem(e,"true")}catch(e){console.error("Failed to save subscription state:",e)}c.success(`You're all set! We'll email you as soon as ${i} is available in our marketplace.`)}).catch(e=>{console.error("Failed to subscribe:",e)}).finally(()=>{g(!1)}))},[d,h,i,a?.id,n.slug,c]);return(0,t.jsx)(u.Button,{className:o,disabled:h,loading:d,onClick:f,prefix:(0,t.jsx)(J.Envelope,{className:"ml-1.5",size:16}),size:l,type:s,typeName:"button",children:h?"Subscribed":"Get notified"})}function Q(e){let{product:n,integration:a,categories:i,variant:l="default"}=e;(0,r.useMemo)(()=>(0,w.getAgentsCategoryDisplay)(a,n,i),[a,n,i]);let o=(0,N.useServerFlag)("enable-marketplace-of-products",!1),s=o?n.name:a.name,c=o?n.iconUrl:a.icon,u=c&&(c.startsWith("http")||c.startsWith("https")||c.startsWith("//")),[g,h]=(0,r.useState)({x:50,y:50}),[p,f]=(0,r.useState)(!1),m=(0,r.useRef)(null),x=(0,r.useCallback)(e=>{m.current&&requestAnimationFrame(()=>{if(!m.current)return;let t=m.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width*100,n=(e.clientY-t.top)/t.height*100;h(e=>{let t=Math.abs(e.x-r),a=Math.abs(e.y-n);return t>2||a>2?{x:r,y:n}:e})})},[]),b=(0,r.useCallback)(()=>{f(!0)},[]),v=(0,r.useCallback)(()=>{f(!1),h({x:50,y:50})},[]),y=(0,r.useMemo)(()=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:+!!p,transition:"opacity 0.5s ease",pointerEvents:"none",zIndex:0}),[p]);return(0,t.jsxs)("div",{className:`group relative h-[200px] flex flex-col items-center justify-between gap-3 overflow-hidden p-4 transition-colors ${"agents"===l?"bg-white shadow-border":"rounded border border-dashed border-gray-alpha-400 hover:border-blue-500"}`,ref:m,onMouseMove:x,onMouseEnter:b,onMouseLeave:v,children:[(0,t.jsx)("div",{style:y,className:"[background:radial-gradient(100%_100%_at_0%_0%,#FFFFFF00_80%,#E2F0FF66_100%)] dark:[background:radial-gradient(100%_100%_at_0%_0%,#00000000_80%,#1a3a5230_100%)]"}),(0,t.jsx)("div",{className:"relative z-10 flex w-full flex-row items-center justify-between",children:(0,t.jsx)("div",{className:"flex flex-row gap-2",children:(0,t.jsx)(d.Badge,{size:"sm",className:"bg-blue-100 text-blue-700",children:"Coming Soon"})})}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[(0,t.jsx)("div",{className:"flex size-[52px] items-center justify-center rounded-full border border-dashed border-gray-alpha-400 transition-colors group-hover:border-blue-500",children:(0,t.jsx)($.Avatar,{className:"!border-none",...u?{url:c}:{hash:c},size:32})}),(0,t.jsx)("div",{className:"text-label-16",children:(0,t.jsx)("strong",{className:"text-gray-900",children:s})})]}),(0,t.jsx)("div",{className:"relative z-10 w-full",children:(0,t.jsx)(Z,{className:"w-full",integration:a,product:n,productName:s,size:"small",variant:"secondary"})})]})}e.s(["GetNotifiedButton",()=>Z],4272280);var ee=e.i(1438473),et=e.i(2762633);function er(e){let{category:n,categories:a,variant:i="default"}=e,[l,o]=(0,r.useState)(!1),[s,c]=(0,r.useState)(""),[u,g]=(0,r.useState)(!1),[h,p]=(0,r.useState)(!1),[f,m]=(0,r.useState)({x:50,y:50}),[x,b]=(0,r.useState)(!1),v=(0,r.useRef)(null),y="agents"===n,w=a.find(e=>e.slug===n),C=w?.title||"Integration",j=n?`tag_${n}`:null,S=j&&j in U.categoryIconMapping?U.categoryIconMapping[j]:et.GridSquare,k=y?"Request an Agent":"Request an Integration",L=`Not seeing the ${C} you need? Request an integration.`,N=y?"Request an Agent":"Request an Integration",I=y?"Not seeing what you need? Request an agent you'd like to use in a project.":"Not seeing what you need? Request an integration you'd like to use in a project.",M=y?"Agent name":"Integration name",E=y?"AI Agent":C,D=(0,r.useCallback)(e=>{v.current&&requestAnimationFrame(()=>{if(!v.current)return;let t=v.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width*100,n=(e.clientY-t.top)/t.height*100;m(e=>{let t=Math.abs(e.x-r),a=Math.abs(e.y-n);return t>2||a>2?{x:r,y:n}:e})})},[]),R=(0,r.useCallback)(()=>{b(!0)},[]),O=(0,r.useCallback)(()=>{b(!1),m({x:50,y:50})},[]),_=(0,r.useMemo)(()=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:+!!x,transition:"opacity 0.5s ease",pointerEvents:"none",zIndex:15}),[x]),F=(0,r.useCallback)(e=>{if(e.preventDefault(),u||!s.trim())return;g(!0);let t=y?"agent":"integration",r=n?` (Category: ${n})`:"";fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:"localhost"===window.location.hostname?`https://vercel.com/dev-mode${window.location.pathname}`:window.location.toString(),note:`Requested ${t}: ${s.trim()}${r}`,topic:"Marketplace and Integrations",ua:`front production + ${navigator.userAgent} (${navigator.language||"unknown language"})`})}).then(()=>{p(!0),setTimeout(()=>{o(!1),c(""),p(!1)},2e3)}).catch(e=>{console.error("Failed to submit request:",e)}).finally(()=>{g(!1)})},[s,u,y,n]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{ref:v,className:`h-[200px] group relative flex cursor-pointer flex-col items-start justify-between gap-3 overflow-hidden transition-colors ${"agents"===i?"bg-white shadow-border":"rounded border border-gray-alpha-400 hover:border-blue-500"}`,onClick:()=>o(!0),onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),o(!0))},onMouseMove:D,onMouseEnter:R,onMouseLeave:O,role:"button",tabIndex:0,children:[(0,t.jsx)("div",{style:_,className:"[background:radial-gradient(100%_100%_at_0%_0%,#FFFFFF00_80%,#E2F0FF66_100%)] dark:[background:radial-gradient(100%_100%_at_0%_0%,#00000000_80%,#1a3a5230_100%)]"}),(0,t.jsx)("div",{className:"absolute inset-0 z-0 overflow-hidden rounded",children:(0,t.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 306 220",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",preserveAspectRatio:"none",children:(0,t.jsx)("path",{d:"M-72.6319 0.914097C-72.7551 0.842564 -72.8476 0.788746 -72.9092 0.752964C-72.9398 0.735172 -72.9632 0.721806 -72.9785 0.712925C-72.9861 0.70853 -72.9923 0.705357 -72.9961 0.703159C-72.9979 0.702122 -72.9991 0.700779 -73 0.70023C-73.001 0.699665 -73.0008 0.697788 -72.8135 0.375034L-72.8047 3.43034e-05C-72.8038 4.95621e-05 -72.8024 3.78558e-06 -72.8008 3.4303e-05C-72.7978 9.53379e-05 -72.7901 0.000888794 -72.7832 0.00101086C-72.768 0.00128552 -72.7444 0.00142285 -72.7139 0.00198742C-72.6523 0.00313182 -72.5597 0.00459666 -72.4365 0.00687021L-49.1192 0.437532C-33.3275 0.729462 -9.63991 1.16812 21.9433 1.75198L306.193 7.00684L306.187 7.38184L306.18 7.75586C179.846 5.42042 85.0963 3.6697 21.9297 2.50198C-8.54546 1.93861 -31.6692 1.51138 -47.4414 1.21976C-31.6687 1.97789 -8.53658 3.08919 21.9541 4.55471C85.1207 7.59079 179.871 12.1446 306.204 18.2168L306.187 18.5918L306.169 18.9658C179.836 12.8937 85.0856 8.33982 21.9189 5.30374C-8.52391 3.84051 -31.6313 2.72977 -47.4024 1.97171L306.216 29.4277L306.157 30.1758L-47.3516 2.72855C-31.5803 4.41954 -8.4709 6.89654 21.9765 10.1612L306.227 40.6387L306.146 41.3848L21.8965 10.9073C-8.44054 7.65448 -31.4927 5.18375 -47.2598 3.4932C-31.4905 5.65039 -8.40798 8.80681 21.9873 12.9649C85.1539 21.6061 179.904 34.5682 306.237 51.8506L306.187 52.2217L306.136 52.5938C179.802 35.3114 85.0524 22.3492 21.8857 13.708C-8.37935 9.56778 -31.3941 6.42018 -47.1582 4.2637L306.248 63.0625L306.125 63.8027C179.792 42.7836 85.0416 27.0184 21.875 16.5088L-47.0469 5.04202L22.0088 18.5742C85.1754 30.9522 179.926 49.5186 306.259 74.2744L306.114 75.0107C179.781 50.2549 85.0309 31.6875 21.8642 19.3096C-8.21697 13.415 -31.1357 8.92439 -46.8916 5.83695L22.0195 21.3789C85.1861 35.6252 179.936 56.9949 306.269 85.4873L306.187 85.8525L306.104 86.2188L21.8545 22.1104L-46.7422 6.63968L306.279 96.6992L306.187 97.0625L306.094 97.4268C179.76 65.1975 85.0104 41.0248 21.8437 24.9102L-46.5469 7.46292C-30.7963 11.947 -7.93425 18.4561 22.039 26.9893C85.2057 44.9723 179.956 71.9461 306.289 107.912L306.187 108.273L306.084 108.634L21.834 27.71L-46.3506 8.29886C-30.6062 13.2468 -7.80629 20.4114 22.0488 29.794C85.2155 49.6453 179.966 79.4232 306.299 119.126L306.074 119.841L21.8242 30.5098C-7.74208 21.218 -30.389 14.1009 -46.1162 9.15824C-30.3799 14.5691 -7.65489 22.3827 22.0586 32.5996C85.2252 54.3194 179.975 86.8994 306.309 130.339L306.064 131.048L-45.8574 10.041C-30.1308 15.9138 -7.48909 24.3691 22.0674 35.4063L306.317 141.553L306.187 141.903L306.056 142.255L21.8056 36.1084C-7.4218 25.1941 -29.888 16.8056 -45.5918 10.9414C-29.8759 17.2751 -7.31911 26.3651 22.0771 38.2119C85.2438 63.6684 179.994 101.853 306.327 152.766L306.187 153.114L306.046 153.462L-45.3369 11.8526C-29.632 18.6464 -7.15785 28.3686 22.0849 41.0186C85.2515 68.3434 180.002 109.33 306.335 163.979L306.187 164.324L306.038 164.668L21.7881 41.7061C-7.09944 29.2098 -29.3819 19.5715 -45.0586 12.7901C-29.3665 20.0423 -6.98213 30.3865 22.0937 43.8242C85.2604 73.0174 180.01 116.808 306.344 175.194L306.187 175.534L306.029 175.875C179.696 117.489 84.9459 73.6981 21.7793 44.5049C-6.89497 31.2528 -29.0611 21.0088 -44.7188 13.7725L306.352 186.408L306.187 186.744L306.021 187.081L-44.4072 14.7618C-28.7484 22.9249 -6.57542 34.4831 22.1103 49.4375L306.36 197.622L306.187 197.955L306.013 198.287L21.7637 50.1026C-6.48659 35.3752 -28.4203 23.9416 -44.0362 15.8008L22.1172 52.2442C85.2838 87.0424 180.034 139.239 306.367 208.836L306.187 209.165L306.006 209.493C179.673 139.897 84.9225 87.6997 21.7558 52.9014L-43.6787 16.8535L306.375 220.051L305.998 220.699L-72.6319 0.914097Z",className:"fill-[#EBEBEB] dark:fill-[#2a2a2a]"})})}),(0,t.jsxs)("div",{className:"z-20 p-4 flex flex-col gap-2 items-start justify-end h-full",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center transition-[gap] duration-200 ease-out group-hover:gap-2.5",children:[(0,t.jsx)("div",{className:"relative z-10 w-full text-start text-label-16",children:(0,t.jsx)("strong",{children:k})}),(0,t.jsx)("div",{className:"text-gray-900",children:(0,t.jsx)(ee.ArrowRight,{})})]}),(0,t.jsx)("div",{className:"relative z-10 w-full text-start text-copy-13 text-gray-alpha-800",children:L})]}),(0,t.jsx)("div",{className:"z-10 absolute w-full h-full bg-gradient-to-b from-background-100/20 to-background-100/90"}),(0,t.jsxs)("div",{className:"bg-background-100 flex justify-center items-center absolute top-8 left-1/2 -translate-x-1/2 z-0 border border-gray-alpha-400 w-60 h-60 text-gray-alpha-400 transition-[top] duration-200 ease-out group-hover:top-6 rounded",children:[(0,t.jsx)("div",{className:"absolute left-2 top-2",children:(0,t.jsx)(d.Badge,{icon:(0,t.jsx)(S,{className:"size-3"}),size:"sm",variant:"gray-subtle",children:E})}),(0,t.jsx)(S,{size:150})]})]}),(0,t.jsxs)(P.Modal.Modal,{active:l,onClickOutside:()=>{u||(o(!1),c(""),p(!1))},children:[(0,t.jsxs)(P.Modal.Body,{children:[(0,t.jsxs)(P.Modal.Header,{children:[(0,t.jsx)(P.Modal.Title,{children:N}),(0,t.jsx)(P.Modal.Subtitle,{children:I})]}),(0,t.jsx)("form",{onSubmit:F,children:(0,t.jsx)(A.Input,{autoFocus:!0,"aria-labelledby":"agent-name-input",disabled:u||h,id:"agent-name-input",onChange:e=>c(e.target.value),placeholder:M,value:s})})]}),(0,t.jsxs)(P.Modal.Actions,{children:[(0,t.jsx)(P.Modal.Action,{onClick:()=>{o(!1),c(""),p(!1)},type:"secondary",disabled:u,children:"Cancel"}),(0,t.jsx)(P.Modal.Action,{disabled:!s.trim()||h,loading:u,onClick:()=>F(new Event("submit")),children:h?"Submitted!":"Submit"})]})]})]})}e.s(["RequestIntegrationCard",()=>er],6345985);var en=e.i(8852425);function ea(e){let{category:a,categories:i,variant:l="default"}=e,[o,s]=(0,r.useState)({x:50,y:50}),[c,d]=(0,r.useState)(!1),u=(0,r.useRef)(null),g=(0,r.useCallback)(e=>{u.current&&requestAnimationFrame(()=>{if(!u.current)return;let t=u.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width*100,n=(e.clientY-t.top)/t.height*100;s(e=>{let t=Math.abs(e.x-r),a=Math.abs(e.y-n);return t>2||a>2?{x:r,y:n}:e})})},[]),h=(0,r.useCallback)(()=>{d(!0)},[]),p=(0,r.useCallback)(()=>{d(!1),s({x:50,y:50})},[]),f=a?`tag_${a}`:null,m=f&&f in U.categoryIconMapping?U.categoryIconMapping[f]:et.GridSquare,x=(0,r.useMemo)(()=>({position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:+!!c,transition:"opacity 0.5s ease",pointerEvents:"none",zIndex:15}),[c]),b="agents"===l;return(0,t.jsx)("div",{ref:u,onMouseMove:g,onMouseEnter:h,onMouseLeave:p,className:"group relative h-[200px]",children:(0,t.jsxs)(n.Link,{href:"/marketplace-providers",target:"_blank",className:`relative flex h-full cursor-pointer flex-col items-start justify-between gap-3 overflow-hidden transition-colors no-underline ${b?"bg-white shadow-border":"rounded border border-gray-alpha-400 hover:border-blue-500"}`,children:[(0,t.jsx)("div",{style:x,className:"[background:radial-gradient(100%_100%_at_0%_0%,#FFFFFF00_80%,#E2F0FF66_100%)] dark:[background:radial-gradient(100%_100%_at_0%_0%,#00000000_80%,#1a3a5230_100%)]"}),(0,t.jsx)("div",{className:`absolute inset-0 z-0 overflow-hidden ${b?"":"rounded"}`,children:(0,t.jsx)("svg",{width:"100%",height:"100%",viewBox:"0 0 306 220",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"absolute inset-0",preserveAspectRatio:"none",children:(0,t.jsx)("path",{d:"M-72.6319 0.914097C-72.7551 0.842564 -72.8476 0.788746 -72.9092 0.752964C-72.9398 0.735172 -72.9632 0.721806 -72.9785 0.712925C-72.9861 0.70853 -72.9923 0.705357 -72.9961 0.703159C-72.9979 0.702122 -72.9991 0.700779 -73 0.70023C-73.001 0.699665 -73.0008 0.697788 -72.8135 0.375034L-72.8047 3.43034e-05C-72.8038 4.95621e-05 -72.8024 3.78558e-06 -72.8008 3.4303e-05C-72.7978 9.53379e-05 -72.7901 0.000888794 -72.7832 0.00101086C-72.768 0.00128552 -72.7444 0.00142285 -72.7139 0.00198742C-72.6523 0.00313182 -72.5597 0.00459666 -72.4365 0.00687021L-49.1192 0.437532C-33.3275 0.729462 -9.63991 1.16812 21.9433 1.75198L306.193 7.00684L306.187 7.38184L306.18 7.75586C179.846 5.42042 85.0963 3.6697 21.9297 2.50198C-8.54546 1.93861 -31.6692 1.51138 -47.4414 1.21976C-31.6687 1.97789 -8.53658 3.08919 21.9541 4.55471C85.1207 7.59079 179.871 12.1446 306.204 18.2168L306.187 18.5918L306.169 18.9658C179.836 12.8937 85.0856 8.33982 21.9189 5.30374C-8.52391 3.84051 -31.6313 2.72977 -47.4024 1.97171L306.216 29.4277L306.157 30.1758L-47.3516 2.72855C-31.5803 4.41954 -8.4709 6.89654 21.9765 10.1612L306.227 40.6387L306.146 41.3848L21.8965 10.9073C-8.44054 7.65448 -31.4927 5.18375 -47.2598 3.4932C-31.4905 5.65039 -8.40798 8.80681 21.9873 12.9649C85.1539 21.6061 179.904 34.5682 306.237 51.8506L306.187 52.2217L306.136 52.5938C179.802 35.3114 85.0524 22.3492 21.8857 13.708C-8.37935 9.56778 -31.3941 6.42018 -47.1582 4.2637L306.248 63.0625L306.125 63.8027C179.792 42.7836 85.0416 27.0184 21.875 16.5088L-47.0469 5.04202L22.0088 18.5742C85.1754 30.9522 179.926 49.5186 306.259 74.2744L306.114 75.0107C179.781 50.2549 85.0309 31.6875 21.8642 19.3096C-8.21697 13.415 -31.1357 8.92439 -46.8916 5.83695L22.0195 21.3789C85.1861 35.6252 179.936 56.9949 306.269 85.4873L306.187 85.8525L306.104 86.2188L21.8545 22.1104L-46.7422 6.63968L306.279 96.6992L306.187 97.0625L306.094 97.4268C179.76 65.1975 85.0104 41.0248 21.8437 24.9102L-46.5469 7.46292C-30.7963 11.947 -7.93425 18.4561 22.039 26.9893C85.2057 44.9723 179.956 71.9461 306.289 107.912L306.187 108.273L306.084 108.634L21.834 27.71L-46.3506 8.29886C-30.6062 13.2468 -7.80629 20.4114 22.0488 29.794C85.2155 49.6453 179.966 79.4232 306.299 119.126L306.074 119.841L21.8242 30.5098C-7.74208 21.218 -30.389 14.1009 -46.1162 9.15824C-30.3799 14.5691 -7.65489 22.3827 22.0586 32.5996C85.2252 54.3194 179.975 86.8994 306.309 130.339L306.064 131.048L-45.8574 10.041C-30.1308 15.9138 -7.48909 24.3691 22.0674 35.4063L306.317 141.553L306.187 141.903L306.056 142.255L21.8056 36.1084C-7.4218 25.1941 -29.888 16.8056 -45.5918 10.9414C-29.8759 17.2751 -7.31911 26.3651 22.0771 38.2119C85.2438 63.6684 179.994 101.853 306.327 152.766L306.187 153.114L306.046 153.462L-45.3369 11.8526C-29.632 18.6464 -7.15785 28.3686 22.0849 41.0186C85.2515 68.3434 180.002 109.33 306.335 163.979L306.187 164.324L306.038 164.668L21.7881 41.7061C-7.09944 29.2098 -29.3819 19.5715 -45.0586 12.7901C-29.3665 20.0423 -6.98213 30.3865 22.0937 43.8242C85.2604 73.0174 180.01 116.808 306.344 175.194L306.187 175.534L306.029 175.875C179.696 117.489 84.9459 73.6981 21.7793 44.5049C-6.89497 31.2528 -29.0611 21.0088 -44.7188 13.7725L306.352 186.408L306.187 186.744L306.021 187.081L-44.4072 14.7618C-28.7484 22.9249 -6.57542 34.4831 22.1103 49.4375L306.36 197.622L306.187 197.955L306.013 198.287L21.7637 50.1026C-6.48659 35.3752 -28.4203 23.9416 -44.0362 15.8008L22.1172 52.2442C85.2838 87.0424 180.034 139.239 306.367 208.836L306.187 209.165L306.006 209.493C179.673 139.897 84.9225 87.6997 21.7558 52.9014L-43.6787 16.8535L306.375 220.051L305.998 220.699L-72.6319 0.914097Z",className:"fill-[#EBEBEB] dark:fill-[#2a2a2a]"})})}),(0,t.jsxs)("div",{className:"z-20 p-4 flex flex-col gap-2 items-start justify-end h-full",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center transition-[gap] duration-200 ease-out group-hover:gap-2.5",children:[(0,t.jsx)("div",{className:"relative z-10 w-full text-start text-label-16",children:(0,t.jsx)("strong",{children:"Join the Marketplace"})}),(0,t.jsx)("div",{className:"text-gray-900",children:(0,t.jsx)(ee.ArrowRight,{})})]}),(0,t.jsx)("div",{className:"relative z-10 w-full text-start text-copy-13 text-gray-alpha-800",children:"Offer your solution to millions of Vercel developers."})]}),(0,t.jsx)("div",{className:"z-10 absolute w-full h-full bg-gradient-to-b from-background-100/20 to-background-100/90"}),(0,t.jsx)("div",{className:"z-[7] bg-background-100 border-dashed flex justify-center items-center absolute top-14 left-[40%] -translate-x-1/2 border border-gray-alpha-400 w-[100px] h-[100px] text-gray-alpha-400 transition-[top] duration-200 ease-out group-hover:top-10 rounded-full",children:(0,t.jsx)(m,{size:48})}),(0,t.jsx)("div",{className:"z-[6] bg-background-100 flex justify-center items-center absolute top-6 left-[60%] -translate-x-1/2 border border-gray-alpha-400 w-[100px] h-[100px] text-gray-alpha-400 transition-[top] duration-200 ease-out group-hover:top-4 rounded-full",children:(0,t.jsx)(en.LogoVercel,{size:48})})]})})}e.s(["JoinMarketplaceCard",()=>ea],9120086);var ei=e.i(5806401),el=e.i(7087273),eo=e.i(6942035);e.i(2331088);var es=e.i(6817234),ec=e.i(545169),ed=e.i(9588822),eu=e.i(373291),eg=e.i(2557188);function eh(e){let{integration:r,product:n,configuration:a,source:i,onContinue:l}=e,{plan:o}=(0,es.useMarketplaceBillingPlansContext)(),{hasMetadataErrors:s,metadataState:c,areMetadataChanged:d}=(0,eu.useStoreIntegrationFormContext)();return(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"pb-6 border-b border-accents-2",children:(0,t.jsx)(ec.ResourceMetadataFieldsWithErrorBoundary,{integrationId:r.id,isLoading:!1,productId:n.id})}),(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(eg.MarketplaceBillingPlanSelectorWithErrorBoundary,{type:"product",areMetadataChanged:d,arePermissionsLoading:!1,hasLogDrainsSupport:!1,installationId:a.id,integrationId:r.id,integrationName:r.name,integrationSlug:r.slug,integrationFlags:r.flags,isInstallationLevel:!1,metadata:c,productId:n.id,source:i})}),(0,t.jsx)("div",{className:"mt-6 flex justify-end",children:(0,t.jsx)(u.Button,{onClick:()=>{if(!s){if(!o)throw Error("Billing plan must be selected to continue.");l(o)}},disabled:s||!o,children:"Continue"})})]})}var ep=e.i(5338940),ef=e.i(8522580),em=e.i(1914640),ex=e.i(4987761);e.i(6887680);var eb=e.i(9349058),ev=e.i(1595844),ey=e.i(1571992),ew=e.i(5074599),eC=e.i(9722978);function ej(e){let{configuration:n,integration:a,product:i,billingPlan:l,source:o,onBack:s,onConfirmStart:c,onResourceCreated:d,onError:g}=e,{onSubmit:h}=(0,eu.useStoreIntegrationFormContext)(),{createResource:p}=(0,eb.useMutateResource)(),{createAuthorization:f}=(0,ex.useMarketplaceBillingAuthorizationApi)(),m=(0,ex.useAwaitAuthorization)(),{team:x}=(0,ep.useTeam)(),{plan:b}=(0,es.useMarketplaceBillingPlansContext)(),{formError:v,metadataState:y}=(0,eu.useStoreIntegrationFormContext)(),w=(0,r.useMemo)(()=>{let e=i.slug.toLowerCase(),t=Object.entries(i.metadataSchema?.properties||{}).find(e=>{let[t,r]=e;return"git-namespace"===r["ui:control"]});if(t&&y[t[0]]){let r=y[t[0]];if(r&&"string"==typeof r){let t=(0,ey.stringToGitNamespace)(r);t&&(e+=`-${t.slug}`)}}return`${e}-${(0,ev.generateRandomName)()}`},[i,y]),{name:C,setName:j,resourceNameError:S,isAtLimit:k,characterCount:L}=(0,ev.useResourceName)({product:i,defaultName:w}),N=(0,ew.getResourceNameLabelByProduct)(i);return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsx)("p",{className:"text-base font-medium",children:"Review Configuration"}),(0,t.jsx)(em.ReadOnlyMetadataWithErrorBoundary,{integrationId:a.id,metadata:y,metadataErrors:v.metadata,productId:i.id,target:"create"}),(0,t.jsx)(em.ReadOnlyBillingPlan,{billingPlan:b})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(A.Input,{id:"resource-name",label:"Resource Name",value:C,onChange:e=>j(e.target.value),placeholder:`My ${i.name}`,width:"100%",bypassCasing:!0,error:S}),(0,t.jsxs)("p",{className:(0,eC.default)("text-label-12",k?"text-red-900":"text-gray-900"),style:{textAlign:"right"},children:[L,"/",ev.MAX_RESOURCE_NAME_LENGTH]}),(0,t.jsxs)("p",{className:"text-copy-13 text-gray-900",children:["This is how we call your ",N," in the Vercel dashboard and in ",a.name,"."]}),i.disableResourceRenaming&&(0,t.jsx)(ef.Note,{fill:!0,type:"warning",children:"The name cannot be changed after the resource is created."})]}),(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-3",children:[(0,t.jsx)(u.Button,{onClick:s,type:"secondary",children:"Back"}),(0,t.jsx)(u.Button,{onClick:()=>{c(),h(async e=>{let{metadata:t}=e;try{if(!l)throw Error("Billing plan is required");if(!x?.id)throw Error("Team is required");let e=await f(x.id,{integrationIdOrSlug:a.id,productId:i.id,integrationConfigurationId:n.id,billingPlanId:l.id,metadata:t,source:o});if(e){let t=await m(x.id,e.id);if("succeeded"!==t.status)return void g("Payment authorization failed")}let r=await p({integrationConfigurationId:n.id,integrationProductIdOrSlug:i.id,billingPlanId:l.id,authorizationId:e?.id,name:C,metadata:t,source:o});d(r)}catch(e){g(e instanceof Error?e.message:"Failed to create resource")}},{noTransition:!0,resourceName:C})},disabled:!C.trim()||!!S,children:"Create"})]})]})}var eS=e.i(8735244),ek=e.i(8761240);function eL(e){let{createdResource:r,error:n,onBack:a,onNext:i}=e;return(0,t.jsx)("div",{className:"flex flex-col gap-6",children:(0,t.jsxs)("div",{className:"flex relative h-[320px]",children:[(0,t.jsxs)("div",{className:"absolute left-1/2 top-1/2 flex w-full -translate-x-1/2 -translate-y-1/2 flex-col items-center gap-4 px-4 text-center",children:[n&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-base font-medium text-red-900",children:"Error creating resource"}),(0,t.jsx)("p",{className:"text-sm text-gray-900",children:n})]}),r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ek.CheckCircleFill,{color:"green-800",size:36}),(0,t.jsx)("p",{className:"text-lg font-medium",children:"Resource created"}),(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["Your resource"," ",(0,t.jsx)("span",{className:"text-gray-1000",children:r.name})," ","has been created successfully"]})]}),!n&&!r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eS.Spinner,{size:48}),(0,t.jsx)("p",{className:"text-base font-medium",children:"Creating resource..."}),(0,t.jsx)("p",{className:"text-sm text-gray-900",children:"Setting up your resource. This may take a moment..."})]})]}),n?(0,t.jsx)(u.Button,{className:"absolute left-0 bottom-0",onClick:a,type:"secondary",children:"Back"}):(0,t.jsx)("div",{}),r?(0,t.jsx)(u.Button,{className:"absolute right-0 bottom-0",onClick:i,children:"Done"}):(0,t.jsx)("div",{})]})})}var eN=e.i(4240811);function eI(e){let{state:r}=e;switch(r){case"complete":return(0,t.jsx)(ek.CheckCircleFill,{color:"gray-700",size:28});case"active":return(0,t.jsx)(eN.ChevronCircleRightFill,{size:28});default:return(0,t.jsx)("div",{className:"h-7 w-7 rounded-full border-2 border-gray-400 bg-background-100"})}}function eM(e){let{label:r,state:n,isOpen:a,isLastStep:i=!1,children:l}=e;return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:(0,eC.clsx)("overflow-hidden rounded-lg border border-gray-alpha-200",a&&"shadow-sm"),children:[(0,t.jsx)("div",{className:(0,eC.clsx)("flex w-full items-center justify-between","bg-background-100 p-4","locked"===n&&"opacity-60"),children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(eI,{state:n}),(0,t.jsx)("span",{className:(0,eC.clsx)("text-md font-medium","active"===n&&"text-gray-1000","active"!==n&&"text-gray-700"),children:r})]})}),a&&l&&(0,t.jsx)("div",{className:"bg-background-100 px-4 py-4",children:l})]}),!i&&(0,t.jsx)("div",{className:"absolute left-8 h-6 w-px",style:{top:"100%",backgroundImage:"linear-gradient(to bottom, var(--ds-gray-500) 50%, transparent 50%)",backgroundSize:"1px 6px",backgroundRepeat:"repeat-y"}})]})}let eE=(0,ed.withStripe)(function(e){let{configuration:n,ref:a}=e,[i,l]=(0,r.useState)({isFlowOpen:!1});if((0,r.useImperativeHandle)(a,()=>({openCheckout:(e,t)=>{if(!e||!t)throw Error("Integration and product are required to open the flow");l({isFlowOpen:!0,integration:e,product:t,currentStep:"metadata",billingPlan:null,createdResource:null,error:null})},closeCheckout:()=>{l({isFlowOpen:!1})}}),[]),!i.isFlowOpen)return null;let{integration:o,product:s}=i,c="marketplace";function d(e){e||l({isFlowOpen:!1})}let g=e=>"metadata"===i.currentStep?"metadata"===e?"active":"locked":"confirm"===i.currentStep?"metadata"===e?"complete":"confirm"===e?"active":"locked":"provisioning"===i.currentStep?"provisioning"===e?"active":"complete":"locked",h=(0,t.jsx)(ec.ResourceFormProvider,{metadataSchema:s.metadataSchema,resourceTitle:s.name,target:"create",children:(0,t.jsx)(es.MarketplaceInstallationBillingPlansProvider,{defaultPlan:n.billingPlan,isBillingPlanPreselected:!!n.billingPlan,target:"create",children:(0,t.jsxs)("div",{className:"flex flex-col gap-6 px-6 pb-6 pt-3",children:[(0,t.jsx)(eM,{label:"Select Parameters and Plan",state:g("metadata"),isOpen:"metadata"===i.currentStep,children:"metadata"===i.currentStep&&(0,t.jsx)(eh,{integration:o,product:s,configuration:n,onContinue:e=>{l({isFlowOpen:!0,integration:o,product:s,currentStep:"confirm",billingPlan:e,createdResource:null,error:null})},source:c})}),(0,t.jsx)(eM,{label:"Review and Confirm",state:g("confirm"),isOpen:"confirm"===i.currentStep,children:"confirm"===i.currentStep&&(0,t.jsx)(ej,{integration:o,billingPlan:i.billingPlan,configuration:n,product:s,onBack:()=>l({isFlowOpen:!0,integration:o,product:s,currentStep:"metadata",billingPlan:null,createdResource:null,error:null}),onConfirmStart:()=>{l({isFlowOpen:!0,integration:o,product:s,currentStep:"provisioning",billingPlan:i.billingPlan,createdResource:null,error:null})},onResourceCreated:e=>l({isFlowOpen:!0,integration:o,product:s,currentStep:"provisioning",billingPlan:i.billingPlan,createdResource:e,error:null}),onError:e=>l({isFlowOpen:!0,integration:o,product:s,currentStep:"provisioning",billingPlan:i.billingPlan,createdResource:null,error:e}),source:c})}),(0,t.jsx)(eM,{label:`Create ${(0,ew.getResourceTitleByProduct)(s)}`,state:g("provisioning"),isOpen:"provisioning"===i.currentStep,isLastStep:!0,children:"provisioning"===i.currentStep&&(0,t.jsx)(eL,{createdResource:i.createdResource,error:i.error,onBack:()=>l({isFlowOpen:!0,integration:o,product:s,currentStep:"confirm",billingPlan:i.billingPlan,createdResource:null,error:null}),onNext:()=>l({isFlowOpen:!1})})})]})})});return(0,t.jsx)(ei.Sheet,{open:!0,onOpenChange:d,modal:!0,children:(0,t.jsx)(ei.SheetContent,{side:"right",className:"overflow-hidden !m-6 !h-[calc(100vh-48px)] !w-[640px] !max-w-[640px] rounded-[12px] border-none bg-background-100 p-0 shadow-modal",children:(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsxs)("div",{className:"relative p-6 pb-2",children:[(0,t.jsxs)(ei.SheetTitle,{className:"m-0 text-heading-20 font-medium text-gray-1000",children:["Install ",o.name]}),(0,t.jsx)(u.Button,{svgOnly:!0,"aria-label":"Close",shape:"square",size:"tiny",type:"tertiary",onClick:()=>d(!1),className:"absolute right-6 top-6",children:(0,t.jsx)(eo.Cross,{})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,t.jsx)(el.Scroller,{overflow:"y",height:"100%",children:h})})]})})})});function eD(e){let r=(0,a.useRouter)(),i=(0,N.useServerFlag)("enable-marketplace-of-products",!1),{isPublic:l}=e.teamSlugOrPublic;if(e.integration.comingSoon)return(0,t.jsx)(Q,{product:e.product,integration:e.integration,categories:e.categories,variant:e.variant,showMore:e.showMore});let s=(0,t.jsx)(eP,{actionButton:l?null:(0,t.jsx)(eR,{...e}),footerContent:e.product.shortBillingPlansDescription,iconElement:(0,t.jsx)(o.GlowProductIcon,{icon:i?e.product.iconUrl:e.integration.icon,size:"large",integrationColor:i?e.product.iconBackgroundColor:e.integration.accentColor}),accentBackground:i?e.product.iconBackgroundColor:e.integration.accentColor,productName:i?e.product.name:e.integration.name,productDescription:i?e.product.shortDescription:e.integration.shortDescription,isPrivate:!(0,v.integrationPubliclyVisible)(e.integration),showMore:e.showMore,categories:e.categories,product:e.product,integration:e.integration,category:e.category});return(0,t.jsx)(n.Link,{"aria-label":`Open ${e.product.name}`,className:`group block no-underline ${e.showMore?"":"rounded"}`,href:e.href,onMouseDown:(0,m.buildOnMouseDown)({href:e.href,router:r}),"data-testid":(0,c.tid)("product-card",e.product.id),children:s})}function eR(e){let{integration:r,configurations:i,product:l}=e,o=(0,f.useOpenInstallMarketplaceProductModal)(),c=(0,j.useTeamSlug)(),d=(0,C.filterMarketplaceConfigurations)(i),g=(0,b.useCanInstallIntegration)({integration:r,marketplaceConfigurations:d}),p=(0,a.useRouter)(),{isLoading:m,canCreateIntegrationConfiguration:x}=(0,S.useIntegrationPermissions)(),v=(0,N.useServerFlag)("enable-marketplace-new-checkout",!1),y=!!r?.comingSoon,w=m||!x||y,L=d.at(0);if(g.isLoading)return null;if(!g.canInstallIntegration&&c&&L){let e=(0,s.getInstallationDetailsLink)({teamSlug:c,integrationSlug:r.slug,configurationId:L.id,isMarketplace:!0});return(0,t.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,t.jsx)(n.Link,{href:e,className:"no-underline",children:(0,t.jsx)(u.Button,{"aria-label":"Manage Product",size:"small",type:"secondary",typeName:"button",className:"no-underline",children:"Manage"})})})}return(0,t.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,t.jsx)(h.Tooltip,{disableTriggers:!w,position:"bottom",text:y?"This integration is coming soon.":"You need additional permissions to add integrations.",children:(0,t.jsxs)(u.Button,{"aria-label":"Add Product",size:"small",type:"secondary",typeName:"button",className:"relative",disabled:w,children:[(0,t.jsx)("div",{className:"absolute top-0 right-0 size-full cursor-pointer",tabIndex:0,role:"button","aria-label":`Install ${r.name}`,onClick:e=>{e.preventDefault(),e.stopPropagation(),v&&c?p.push((0,k.getIntegrationCheckoutUrl)({params:{integrationSlug:r.slug,teamSlug:c},searchParams:{productSlug:l?.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}})):o({product:l,integration:r})},onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),e.stopPropagation(),v&&c?p.push((0,k.getIntegrationCheckoutUrl)({params:{integrationSlug:r.slug,teamSlug:c},searchParams:{productSlug:l?.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}})):o({product:l,integration:r}))}}),"Install"]})})})}function eP(e){let{iconElement:n,productName:a,productDescription:i,categories:l,product:o,integration:s,accentBackground:c,showMore:u,category:g}=e,[h,f]=(0,r.useState)({x:50,y:50}),[m,x]=(0,r.useState)(!1),b=(0,r.useRef)(null),{resolvedTheme:v}=(0,L.useTheme)(),y="dark"===v,C=X().enabled,j=(0,r.useMemo)(()=>(0,w.getAgentsCategoryDisplay)(s,o,l,g),[s,o,l,g]),S=(0,r.useMemo)(()=>{let e=(c||"#0070F3").replace("#",""),t=Number.parseInt(e.substring(0,2),16),r=Number.parseInt(e.substring(2,4),16),n=Number.parseInt(e.substring(4,6),16),a=y?.15:.1;return`rgba(${t}, ${r}, ${n}, ${a})`},[y,c]),k=(0,r.useCallback)(e=>{b.current&&requestAnimationFrame(()=>{if(!b.current)return;let t=b.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width*100,n=(e.clientY-t.top)/t.height*100;f(e=>{let t=Math.abs(e.x-r),a=Math.abs(e.y-n);return t>2||a>2?{x:r,y:n}:e})})},[]),N=(0,r.useCallback)(()=>{x(!0)},[]),I=(0,r.useCallback)(()=>{x(!1),f({x:50,y:50})},[]),M=(0,r.useMemo)(()=>({zIndex:0,position:"absolute",top:0,left:0,width:"100%",height:"100%",background:`radial-gradient(circle at ${h.x}% ${h.y}%, ${S} 0%, rgba(255,255,255,0) 90%)`,opacity:+!!m,transition:"opacity 0.3s ease-out",pointerEvents:"none",transform:"translate3d(0, 0, 0)",willChange:m?"opacity":"auto"}),[h.x,h.y,m,S]);return(0,t.jsxs)("div",{className:`group relative flex flex-col items-center justify-between gap-3 overflow-hidden p-4 ${u?"pb-7":"h-[200px] rounded"} bg-white shadow-border`,ref:b,onMouseMove:k,onMouseEnter:N,onMouseLeave:I,children:[m?(0,t.jsx)("div",{style:M}):null,(0,t.jsx)("div",{className:"relative z-10 flex w-full flex-row items-center justify-between",children:(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsx)(d.Badge,{size:"sm",className:"bg-gray-alpha-100",variant:"gray-subtle",children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[j.isAgentCategory&&(0,t.jsx)(p.Agents,{className:"size-3"}),j.title]})}),o?.slug==="stripe"?(0,t.jsx)(d.Badge,{size:"sm",variant:"pink",children:"Beta"}):null,s?.installs&&C&&(0,t.jsx)(d.Badge,{size:"sm",className:"bg-blue-alpha-100",variant:"amber",children:s.exactInstalls?s.exactInstalls.toLocaleString():s.installs})]})}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col items-center gap-2",children:[n,(0,t.jsx)("div",{className:"text-label-16",children:(0,t.jsx)("strong",{children:a})})]}),(0,t.jsx)("div",{className:"relative z-10 w-full text-copy-13 text-gray-900",style:{display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",height:"2.6em"},children:i})]})}function eA(e){let{product:n,integration:i,disabled:o=!1,onAddAction:g,hasAvatar:p,tooltip:m,teamSlugOrPublic:x,enableMarketplaceNewCheckout:b,configuration:v}=e,y=(0,a.useRouter)(),w=(0,f.useOpenInstallMarketplaceProductModal)(),{isPublic:C}=x,j=!!i?.comingSoon,S=(0,N.useServerFlag)("enable-marketplace-drawer-checkout-flow",!1),L=(0,r.useRef)(null),I=S&&"stripe"===n.slug;return(0,t.jsxs)("div",{className:"flex flex-col justify-between rounded-lg border border-gray-200 bg-white",children:[(0,t.jsx)("div",{className:"flex h-full flex-col gap-1.5 border-gray-200 border-b p-4",children:(0,t.jsxs)("div",{className:"flex flex-row justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[p?(0,t.jsx)(l.ProductIcon,{icon:n.iconUrl,size:"large"}):null,(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsx)("div",{className:"font-medium",children:n.name}),"published"!==n.reviewStatus?(0,t.jsx)(d.Badge,{size:"sm",variant:"gray-subtle",children:"Private"}):null]}),(0,t.jsx)("div",{className:"text-gray-900",children:n.shortDescription})]})]}),I&&v?(0,t.jsx)(eE,{ref:L,configuration:v}):null,(0,t.jsx)(u.Button,{"data-testid":(0,c.tid)("install-marketplace-modal",n.id),disabled:!C&&o||j,onClick:()=>{C?y.push(`/login?next=${(0,s.getIntegrationDetailsLink)({integrationSlug:i.slug,teamSlugOrPublic:{isPublic:!0}})}`):g?g():L.current?L.current?.openCheckout(i,n):b&&x.teamSlug?y.push((0,k.getIntegrationCheckoutUrl)({params:{integrationSlug:i.slug,teamSlug:x.teamSlug},searchParams:{productSlug:n.slug,cancelUrl:`${window.location.pathname}${window.location.search}`}})):w({product:n,integration:i})},size:"small",type:"secondary",typeName:"button",rel:"nofollow",children:(0,t.jsx)(h.Tooltip,{disableTriggers:!m&&!j,text:j?"This integration is coming soon.":m||"",children:n.capabilities?.sandbox?"Create Sandbox":"Install"})})]})}),(0,t.jsx)("div",{className:"rounded-b-lg bg-gray-50 p-3",children:(0,t.jsx)("div",{className:"text-gray-900",children:n.shortBillingPlansDescription})})]})}function eO(e){let n=(0,r.useMemo)(()=>(function(e){if(!e.category&&!e.search)return(0,y.sortAuthenticationIntegrations)(e.integrations,e.category);if("agents"===e.category){let t=e.integrations.filter(t=>{if(!t.tagIds?.includes("tag_agents"))return!1;if(e.subcategory){let r=`tag_agents_${e.subcategory}`;return t.tagIds?.includes(r)}return!0}).filter(t=>{if(!e.search)return!0;let r=e.search.toLowerCase(),n=t.name.toLowerCase().includes(r),a=t.description?.toLowerCase().includes(r),i=t.products.some(e=>e.name.toLowerCase().includes(r));return n||a||i});return(0,y.sortAuthenticationIntegrations)(t,e.category)}let t=e.integrations.filter(t=>{if(null===e.category)return!0;let r=e.category.replaceAll("-","_"),n=`tag_${r}`;return t.tagIds?.some(e=>e===n||"storage"===r&&"tag_databases"===e||"database"===r&&"tag_databases"===e)}).filter(t=>{if(!e.search)return!0;let r=e.search.toLowerCase(),n=t.products.some(n=>{if((0,v.searchMatchesLogDrains)(e.search)&&(0,x.isProtocolSupported)(n,"logDrain"))return!0;let a=n.name.toLowerCase().includes(r),i=n.shortDescription.toLowerCase().includes(r),l=t.tagIds?.some(t=>e.categories.find(e=>e.id===t)?.title.toLowerCase().includes(r));return a||i||l}),a=t.name.toLowerCase().includes(r);return n||a});return(0,y.sortAuthenticationIntegrations)(t,e.category)})({integrations:e.integrations,search:e.search,category:e.category,subcategory:e.subcategory,categories:e.categories}),[e.integrations,e.search,e.category,e.subcategory,e.categories]),a=(0,N.useServerFlag)("enable-marketplace-of-products",!1),l=(0,N.useServerFlag)("enable-powertool",!1),{data:o,isLoading:c}=(0,G.default)(q.API_MARKETPLACE_CONFIG,e=>(0,W.fetchAPI)(e),{revalidateOnFocus:!1,revalidateOnMount:!0,dedupingInterval:6e4}),d=!!(0,i.useV0Marketplace)()?.token,u=(0,r.useMemo)(()=>{if(a){let t=n.flatMap(e=>e.products.map(t=>({type:"product",product:t,integration:e,id:t.id}))),r=void 0!==e.expanded?e.expanded?t.length:5:t.length,a=t.slice(0,r);if(o?.order){let e=new Map(o.order.map((e,t)=>[e,t]));a.sort((t,r)=>(e.get(t.id)??Number.MAX_SAFE_INTEGER)-(e.get(r.id)??Number.MAX_SAFE_INTEGER))}return a}{let t=(void 0!==e.expanded?e.expanded?n:n.slice(0,5):n).map(e=>({type:"integration",integration:e,product:e.products[0],id:e.products[0]?.id||e.id}));if(o?.order){let e=new Map(o.order.map((e,t)=>[e,t]));t.sort((t,r)=>(e.get(t.id)??Number.MAX_SAFE_INTEGER)-(e.get(r.id)??Number.MAX_SAFE_INTEGER))}return t}},[n,e.expanded,a,l,o]);if(c||void 0===o)return(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:Array.from({length:6},(e,r)=>(0,t.jsx)("div",{className:"relative flex flex-col items-center justify-between gap-3 overflow-hidden p-4 h-[200px] rounded bg-white shadow-border",children:(0,t.jsx)(g.Skeleton,{height:"100%",width:"100%"})},`skeleton-${r}`))});if(!u.length)return(0,t.jsxs)(H,{enablePowertool:!1,children:[(0,t.jsx)(er,{category:e.category??void 0,categories:e.categories},"request-agent-card"),(0,t.jsx)(ea,{category:e.category??void 0,categories:e.categories},"provider-card")]});let h=t=>(0,s.getIntegrationDetailsLink)({integrationSlug:t.integration.slug,teamSlugOrPublic:e.teamSlugOrPublic,isFromV0:d});return l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I.PowertoolWarning,{}),(0,t.jsx)(H,{enablePowertool:l,onReorder:async e=>{try{let t=e.map(e=>e.id),r=await fetch(q.API_MARKETPLACE_CONFIG,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({order:t})});if(r.ok)console.log("Marketplace order saved successfully");else{let e=await r.text();console.error("Failed to save marketplace order:",e)}}catch(e){console.error("Error saving marketplace order:",e)}},children:u.map(r=>{let n=h(r);if("product"===r.type){let a=e.configurations.filter(e=>e.integrationId===r.integration.id);return(0,t.jsx)(H.Item,{id:r.id,data:r,children:(0,t.jsx)(eD,{href:n,configurations:a,integration:r.integration,product:r.product,teamSlugOrPublic:e.teamSlugOrPublic,categories:e.categories,category:e.category})},r.id)}{let a=r.integration,i=e.configurations.filter(e=>e.integrationId===a.id);return(0,t.jsx)(H.Item,{id:r.id,data:r,children:(0,t.jsx)(eD,{href:n,configurations:i,integration:a,product:a.products[0],teamSlugOrPublic:e.teamSlugOrPublic,categories:e.categories,category:e.category})},r.id)}})})]}):(0,t.jsxs)(H,{enablePowertool:!1,children:[u.map(r=>{if("product"===r.type){let n=e.configurations.filter(e=>e.integrationId===r.integration.id);return(0,t.jsx)(H.Item,{id:r.id,data:r,children:(0,t.jsx)(eD,{href:h(r),configurations:n,integration:r.integration,product:r.product,teamSlugOrPublic:e.teamSlugOrPublic,categories:e.categories,category:e.category})},r.id)}{let n=r.integration,a=e.configurations.filter(e=>e.integrationId===n.id);return(0,t.jsx)(H.Item,{id:r.id,data:r,children:(0,t.jsx)(eD,{href:h(r),configurations:a,integration:n,product:n.products[0],teamSlugOrPublic:e.teamSlugOrPublic,categories:e.categories,category:e.category})},r.id)}}),(0,t.jsx)(er,{category:e.category??void 0,categories:e.categories},"request-agent-card"),(0,t.jsx)(ea,{category:e.category??void 0,categories:e.categories},"provider-card")]})}function e_(e){let{hasAvatar:r,hasTitle:n}=e;return(0,t.jsxs)("div",{className:"flex flex-col justify-between rounded-lg border border-gray-200 bg-white",children:[(0,t.jsx)("div",{className:"flex h-full flex-row justify-between border-gray-200 border-b p-4",children:(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[r?(0,t.jsx)(g.Skeleton,{boxHeight:36,className:"my-[2px]",height:36,rounded:!0,vcenter:!0,width:36}):null,n?(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(g.Skeleton,{boxHeight:20,height:18,width:140}),(0,t.jsx)(g.Skeleton,{boxHeight:r?18:20,height:18,width:180})]}):(0,t.jsx)("div",{className:"h-[44px]"})]})}),(0,t.jsx)("div",{className:"rounded-b-lg bg-gray-50 p-3",children:(0,t.jsx)(g.Skeleton,{boxHeight:20,height:18,width:200})})]})}e.s(["IntegrationCheckout",0,eE],2660880),e.s(["MarketplaceProductCard",()=>eD,"MarketplaceProductCardList",()=>eO,"MarketplaceProductDetailsCard",()=>eA,"MarketplaceProductDetailsCardPlaceholder",()=>e_],2483928)}]);

//# debugId=29959234-51cc-77f0-8f1b-92463a71f4ae
//# sourceMappingURL=a613058b461273de.js.map
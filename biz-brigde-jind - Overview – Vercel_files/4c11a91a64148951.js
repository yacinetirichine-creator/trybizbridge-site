;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="5ee004f3-2e23-d3f2-98ae-316232af7690")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,513116,3699346,4346539,e=>{"use strict";var t=e.i(1146226),n=e.i(5468328),i=e.i(4004502),r=e.i(7218483),s=e.i(2940029),l=e.i(2982888);function o(e){let{deployment:r,...o}=e,{createdAt:c,createdAgo:d}=a(r);return(0,t.jsxs)(s.Attribute.Item,{"data-testid":(0,i.tid)("deployment","creator"),...o,children:[(0,t.jsx)("span",{className:"flex-none",children:(0,t.jsx)(l.DeploymentCreatorAvatar,{deployment:r,iconBackground:!1,showIcon:!1,size:18})}),(0,t.jsx)("span",{className:"text-label-14 -ml-px shrink truncate",children:(0,l.getDeploymentCreatorUsername)({deployment:r})}),(0,t.jsx)(n.Tooltip,{className:"flex-none",text:c,children:(0,t.jsx)("span",{className:"text-gray-900 tabular-nums",children:d})})]})}function a(e){let t=e?.undeleted||e?.deleted||e?.createdAt||e?.created;return{createdAt:t?new Date(t).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",createdAgo:(0,r.useAgo)(t)}}e.s(["DeploymentCreator",()=>o,"useDeploymentCreatedAt",()=>a],513116);var c=e.i(5610834),d=e.i(85019),m=e.i(8735244),u=e.i(3978547),h=e.i(4641028),p=e.i(5356862);function x(e){let{deployment:l,icon:o,onlyBuild:a=!1,...p}=e,{deleted:x,inProgress:f,finishedAgo:j,ageSinceBuilding:y,deploymentDuration:v,finishedAgoTitle:b}=function(e,t){let n,{teamSlug:i}=(0,c.useParams)()??{},s=(0,r.useAge)(e.buildingAt||void 0,{includeSeconds:!0}),l="id"in e?e.id:e.uid,o="READY"===e.readyState&&e.checksState,{checks:a}=(0,h.default)({deploymentId:o?l:void 0,teamId:i}),m=g(e,a,t)||0,u=m&&e.buildingAt?e.buildingAt+m:void 0,p=void 0!==e.deleted,x=u?new Date(u).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",f=(0,r.useAgo)(u,{suffix:" ago",alwaysRelative:!0}),j=e.checksState&&!e.checksConclusion,y=!!("BUILDING"===e.readyState||"READY"===e.readyState&&!e.aliasAssigned&&j);return{ageSinceBuilding:s,deploymentDuration:(n=g(e,a,t),(0,d.age)(n,{includeSeconds:!0})||"—"),finishedAgo:f,finishedAgoTitle:x,inProgress:y,finishedAt:u,deleted:p}}(l,a),D=null;return o&&!f&&(D=(0,t.jsx)(u.ClockDashed,{color:"gray-900"})),f&&(D=(0,t.jsx)(m.Spinner,{size:16})),(0,t.jsxs)(s.Attribute.Item,{"aria-label":b,"data-testid":(0,i.tid)("deployment","duration"),className:"tabular-nums",...p,children:[D,x?j:(0,t.jsxs)(t.Fragment,{children:[f?y:v,!f&&j?(0,t.jsx)(n.Tooltip,{text:b,children:(0,t.jsx)("span",{className:"text-gray-900",children:j})}):null]})]})}function g(e,t,n){if(!e||"BUILDING"===e.readyState||!("buildingAt"in e))return;let i="readyStateAt"in e?e.readyStateAt:e.ready;if(!i||!e.buildingAt)return;let r=i-e.buildingAt;if(n)return r;let s=t?.length?(0,p.getChecksTimes)(t,e):void 0,l=s?.checksFinishedAt&&s.checksStartedAt?s.checksFinishedAt-s.checksStartedAt:0,o=e.aliasAssignedAt??("number"==typeof e.aliasAssigned?e.aliasAssigned:void 0),a=0;if(o){let e=s?.checksFinishedAt?o-s.checksFinishedAt:o-i;e<18e5&&(a=e)}return r+l+a}e.s(["DeploymentDuration",()=>x],3699346);var f=e.i(57106),j=e.i(5479400),y=e.i(4345845),v=e.i(3228096),b=e.i(9386557),D=e.i(3306538),N=e.i(5797774),C=e.i(6613731),A=e.i(475038),I=e.i(4478191),k=e.i(1681029),T=e.i(5169864),S=e.i(822157),L=e.i(2405448),w=e.i(542164);function P(e){let n,{url:i,defaultRoute:r}=e,[s,l]=(0,T.useState)(!1),o=(0,L.default)(i),a=(0,w.default)(i);return(0,t.jsx)(t.Fragment,{children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(f.Link,{as:"button",className:"hover:underline",onClick:()=>l(!0),children:i}),(0,t.jsx)(S.default,{active:s,onCancel:()=>{l(!1)},url:o})]}):(0,t.jsx)(f.Link,{className:"hover:underline",href:(n=(0,k.domainToUrl)(i),(0,I.withDefaultRoute)(n,r)),children:i})})}var $=e.i(8172029),E=e.i(8785423),R=e.i(8822420);function z(e){let{deploymentDomains:i,deployment:r}=e,l=(0,A.useIsViewingPublicDeployment)(),o=(0,C.useWrappedToolbarAuthLinkHandler)({via:"deployment-domains-list",deployment:l?void 0:r}),{branch:a,branchIsMicrofrontendsAlias:d,commit:m,commitIsMicrofrontendsAlias:u,aliases:h,productionAliasesAreMicrofrontendsAliases:p,defaultRoute:x}=i,g=e=>(0,I.withDefaultRoute)(e,x),T=(0,E.useDomainConfigs)(h.filter(e=>!e.endsWith(".vercel.app")).slice(0,10),{strict:!1,projectIdOrName:r.projectId}),S=!!T.data?.some(e=>{if(!e.isOk())return!1;let t=e.value,n=!!(t.recommendedIPv4||t.recommendedCNAME);return"required-change"===t.ipStatus&&!!n}),L=(0,c.useParams)(),w=(0,$.getQueryParam)(L?.teamSlug),z=(0,$.getQueryParam)(L?.project),F=`/${w}/${z}/settings/domains`;return(0,t.jsxs)(t.Fragment,{children:[h.length>0?(0,t.jsxs)(s.Attribute.Item,{Icon:v.Globe,children:[p?(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"This domain routes paths only to other production microfrontends deployments",children:(0,t.jsx)(R.MicrofrontendsIconInCircle,{className:"bg-gray-100 hover:bg-blue-300 hover:text-blue-900",iconSize:10,size:16})}):null,(0,t.jsx)(P,{defaultRoute:x,url:h[0]}),h.length>1&&(0,t.jsx)(N.ContextCard.Trigger,{content:(0,t.jsxs)("div",{className:"text-label-13 flex flex-col gap-2",children:[(0,t.jsx)("span",{className:"text-gray-900",children:"Assigned Domains"}),(0,t.jsx)("div",{className:"flex flex-col gap-1.5 hover:[&>a]:underline",children:h.slice(1).map(e=>(0,t.jsx)(P,{defaultRoute:x,url:e},e))})]}),children:(0,t.jsxs)(D.Badge,{size:"sm",variant:"gray-subtle",children:["+",h.length-1]})}),S?(0,t.jsx)(n.Tooltip,{text:(0,t.jsxs)("div",{children:["To avoid downtime, you must change your DNS records for one or more of these domains. Visit the"," ",(0,t.jsx)(f.Link,{href:F,tab:!0,variant:"highlight",children:"domains settings"})," ","for this project for more information."]}),position:"top",children:(0,t.jsx)(b.WarningFill,{color:"red-700",size:"sm"})}):null]}):null,a?(0,t.jsxs)(s.Attribute.Item,{children:[(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"Latest deployment on branch—updates automatically",children:(0,t.jsx)(y.GitBranch,{color:"gray-900"})}),d?(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"This domain routes paths to the latest microfrontend on this branch, or to the fallback if no deployment exists on this branch",children:(0,t.jsx)(R.MicrofrontendsIconInCircle,{className:"bg-gray-100 hover:bg-blue-300 hover:text-blue-900",iconSize:10,size:16})}):null,(0,t.jsx)(f.Link,{...o,className:"hover:underline",href:g((0,k.domainToUrl)(a)),children:a})]}):null,(0,t.jsxs)(s.Attribute.Item,{children:[(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"Deployment associated with this commit",children:(0,t.jsx)(j.GitCommit,{color:"gray-900"})}),u?(0,t.jsx)(n.Tooltip,{className:"flex-none",position:"left",text:"This domain routes paths to microfrontends deployed at this commit or to the branch fallback if no deployment exists at this commit",children:(0,t.jsx)(R.MicrofrontendsIconInCircle,{className:"bg-gray-100 hover:bg-blue-300 hover:text-blue-900",iconSize:10,size:16})}):null,(0,t.jsx)(f.Link,{...o,className:"hover:underline",href:g((0,k.domainToUrl)(m)),children:m})]})]})}e.s(["DeploymentDomains",()=>z],4346539)},9995926,e=>{"use strict";var t=e.i(5610834),n=e.i(4844919);e.s(["useDeploymentEnvironmentLabel",0,e=>{let{deployment:i,customEnvironments:r}=e,{project:s,teamSlug:l}=(0,t.useParams)()??{};return function(e){let{deployment:t,teamSlug:i,projectSlug:r,customEnvironments:s}=e,l=`/${i}/${r}/settings/environments/`;if(!t)return{deploymentTargetLabel:"",deploymentTargetConfigurationUrl:l};if(t.customEnvironment?.slug!==void 0&&t.customEnvironment?.slug!==null)return{deploymentTargetLabel:t.customEnvironment.slug,deploymentTargetConfigurationUrl:`${l}${t.customEnvironment.id}`};if(t.customEnvironment){let e=s?.find(e=>e.id===t.customEnvironment?.id);return e?{deploymentTargetLabel:e.slug,deploymentTargetConfigurationUrl:`${l}${e.id}`}:{deploymentTargetLabel:"(Deleted)",deploymentTargetConfigurationUrl:null}}return null===t.target||void 0===t.target?{deploymentTargetLabel:"Preview",deploymentTargetConfigurationUrl:`${l}preview`}:{deploymentTargetLabel:(0,n.default)(t.target),deploymentTargetConfigurationUrl:`${l}${t.target}`}}({deployment:i,teamSlug:l,projectSlug:s,customEnvironments:r})}])},854134,e=>{"use strict";var t=e.i(1146226),n=e.i(8893913),i=e.i(3753138),r=e.i(3306538),s=e.i(5468328),l=e.i(57106);e.i(3182268);var o=e.i(7849855),a=e.i(9481787),c=e.i(2634426),d=e.i(6107899),m=e.i(3981247),u=e.i(9995926),h=e.i(2940029),p=e.i(7629673),x=e.i(5002318),g=e.i(4597921),f=e.i(4206574);function j(e){let{deployment:j,project:y}=e,v=(0,p.useIsCurrentProductionDeployment)(j),{teamSlug:b,projectSlug:D}=(0,o.useProjectAndTeamSlug)(),N=v&&y?.lastAliasRequest?.type==="rollback"&&y.lastAliasRequest.toDeploymentId===j.id||!1,{deploymentTargetConfigurationUrl:C,deploymentTargetLabel:A}=(0,u.useDeploymentEnvironmentLabel)({deployment:j}),{data:I}=(0,m.useRollingRelease)({teamIdOrSlug:b,projectSlug:D}),k=I?.rollingRelease,T=k?.canaryDeployment?.id===j.id,S=(0,f.getPromotionStatusInfo)({deployment:j,rollingRelease:k,project:y}),L=S?(0,t.jsx)(x.DeploymentAliasToolTipText,{...S}):null,w="production"===j.target&&"STAGED"===j.readySubstate,P=(0,g.useServerFlag)("promotion-status-visible",!1),$=!w||v||P?null:(0,t.jsx)("span",{className:"text-label-14 text-gray-900",children:" Staged"}),E=null;if(T){let{activeStage:e}=k;e?.targetPercentage&&($=null,E=(0,t.jsx)(s.Tooltip,{text:L,children:(0,t.jsx)(r.Badge,{size:"sm",variant:"blue-subtle",children:(0,t.jsx)(l.Link,{className:"hover:underline",href:(0,a.getDashboardHref)(`/${D}/deployments/rolling-release`,b||void 0),children:"Canary"})})}))}(v||N)&&(E=(0,t.jsx)(s.Tooltip,{text:L,disableTriggers:!L,children:(0,t.jsxs)(r.Badge,{size:"sm",variant:N?"amber-subtle":"blue-subtle",children:[N?(0,t.jsx)(n.RotateCounterClockwise,{size:12}):null,(0,t.jsx)("span",{style:{paddingLeft:N?.5:void 0},children:"Current"})]})}));let R=c.Layers;return"production"===A.toLowerCase()&&(R=i.ArrowCircleUp),"preview"===A.toLowerCase()&&(R=d.PreviewEye),(0,t.jsxs)(h.Attribute.Item,{Icon:R,className:"flex-wrap",children:[C?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Link,{className:"hover:underline",href:C,children:A}),$]}):(0,t.jsxs)(t.Fragment,{children:[A,$]}),E]})}e.s(["DeploymentEnvironment",()=>j])},7952998,e=>{"use strict";var t=e.i(1146226),n=e.i(9722978),i=e.i(3617058),r=e.i(57106),s=e.i(5479400),l=e.i(4345845),o=e.i(5169864),a=e.i(3627160),c=e.i(5468328),d=e.i(6064230),m=e.i(5756088),u=e.i(2988836),h=e.i(4899593),p=e.i(2695633),x=e.i(9375869),g=e.i(2940029);function f(e){let f,j,{deployment:y,singleLine:v=!1,lineClassName:b,branchClassName:D,commitClassName:N,secondLineLinkClassName:C}=e,{meta:A}=y,I=(0,x.useDeploymentLink)(y),k=(0,o.useMemo)(()=>(0,p.getGitMeta)(A),[A]),T="source"in y?y.source:void 0,S=`${I}/source`;if(f=v?null:k?(0,t.jsx)(g.Attribute.Item,{Icon:l.GitBranch,className:b,mono:!0,children:(0,t.jsx)(r.Link,{className:(0,n.clsx)("truncate font-mono","hover:underline",D),href:k.branchUrl,title:"Git Branch",children:k.branchName})}):(0,t.jsx)(g.Attribute.Item,{Icon:a.Code,className:b,children:(0,t.jsx)(r.Link,{className:(0,n.clsx)("hover:underline z-[2]",D),href:S,children:"View code"})}),k){let e="1"===k.gitDirty,l=k.sha.substring(0,7),[o]=k.commitMessage.split("\n");j=(0,t.jsx)(g.Attribute.Item,{Icon:"cli"===T?d.Terminal:s.GitCommit,className:b,mono:!0,children:(0,t.jsxs)(r.Link,{className:(0,i.twMerge)("flex gap-1.5 truncate hover:underline",C),href:e?S:k.commitUrl,title:"Git Commit",children:[(0,t.jsx)("span",{className:(0,n.clsx)("font-mono",N),children:e?(0,t.jsx)(c.Tooltip,{className:"flex-none",desktopOnly:!0,text:(0,t.jsxs)("span",{children:["Based on commit ",(0,t.jsx)("code",{children:l})," with additional modifications"]}),children:l}):l}),(0,t.jsx)("span",{className:"truncate text-label-14",title:o,children:o.length>100?`${o.substring(0,100)}…`:o})]})})}else j=A.v0?(0,t.jsxs)(g.Attribute.Item,{className:b,children:[(0,t.jsx)(h.V0Mark,{size:16,style:{"--geist-foreground":"var(--ds-gray-900)"}}),(0,t.jsx)(r.Link,{className:"hover:underline z-[2]",href:A.v0BlockId&&A.v0ChatId?`https://v0.app/chat/${A.v0ChatId}?b=${A.v0BlockId}`:"https://v0.app",title:"v0.app",children:"Open in v0"})]}):"patch-nextjs-cve-for-v0-deploy"===A.action?(0,t.jsxs)(g.Attribute.Item,{Icon:m.LockClosed,className:b,children:[(0,t.jsx)(r.Link,{className:"hover:underline z-[2]",href:"https://vercel.com/changelog/cve-2025-55182",title:"Vercel CVE Patch Info",children:"Automated security deployment"}),(0,t.jsx)(c.Tooltip,{desktopOnly:!0,text:(0,t.jsxs)("span",{children:["This deployment was automatically created to patch a security vulnerability (",(0,t.jsx)(r.Link,{href:"https://vercel.com/changelog/cve-2025-55182",className:"underline",children:"CVE-2025-55182"}),")"]}),children:(0,t.jsx)(u.InformationFillSmall,{className:"relative top-px text-gray-700"})})]}):(0,t.jsx)(g.Attribute.Item,{Icon:d.Terminal,className:b,mono:!0,children:(0,t.jsx)(r.Link,{className:"hover:underline z-[2]",href:"/docs/cli/deploy",title:"Vercel CLI Docs",children:"vercel deploy"})});return(0,t.jsxs)(t.Fragment,{children:[f,j]})}e.s(["DeploymentSource",()=>f])},7648666,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),i=e.i(5610834),r=e.i(513116),s=e.i(3699346),l=e.i(8216525),o=e.i(4346539),a=e.i(854134),c=e.i(7952998),d=e.i(8159863),m=e.i(1585391),u=e.i(3212616);function h(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)();return(0,t.jsx)(s.DeploymentDuration,{deployment:e,icon:!0,onlyBuild:!0})}function p(){let e=(0,i.useParams)(),{data:n}=(0,d.useCurrentDashboardDeploymentInterval)();return(0,t.jsx)(l.DeploymentStatus,{deployment:n,hint:!0,label:!0,projectSlug:e?.project,teamSlug:e?.teamSlug})}function x(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)();return(0,t.jsx)(c.DeploymentSource,{deployment:e})}function g(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)(),{data:n}=(0,u.useCurrentDashboardDeploymentOverviewProject)();return(0,t.jsx)(a.DeploymentEnvironment,{deployment:e,project:n})}function f(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)();return(0,t.jsx)(r.DeploymentCreator,{deployment:e})}function j(){let{data:e}=(0,d.useCurrentDashboardDeploymentInterval)(),{data:i,mutate:r}=(0,m.useCurrentDashboardDeploymentDomains)(),{readyState:s,readySubstate:l}=e;return(0,n.useEffect)(()=>{"READY"===s&&r()},[l,s,r]),(0,t.jsx)(o.DeploymentDomains,{deployment:e,deploymentDomains:i})}e.s(["CurrentDeploymentCreator",()=>f,"CurrentDeploymentDomains",()=>j,"CurrentDeploymentDuration",()=>h,"CurrentDeploymentEnvironment",()=>g,"CurrentDeploymentSource",()=>x,"CurrentDeploymentStatus",()=>p])},7132425,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),i=e.i(2106115),r=e.i(5610834),s=e.i(9722978),l=e.i(5797774),o=e.i(5468328),a=e.i(8216525),c=e.i(3487134),d=e.i(3162826),m=e.i(2988836),u=e.i(57106),h=e.i(6161994),p=e.i(1116271),x=e.i(8822420),g=e.i(6625227),f=e.i(6060673),j=e.i(7643270),y=e.i(7837522),v=e.i(7780974),b=e.i(9358876),D=e.i(5136192),N=e.i(5338940),C=e.i(4896636),A=e.i(5771992),I=e.i(4396019),k=e.i(2695633),T=e.i(513116),S=e.i(7648666);function L(e){let{className:n,hasWarning:i,children:r}=e;return(0,t.jsx)(x.IconInCircleWrapper,{className:(0,s.clsx)({"bg-blue-300 text-blue-900 hover:bg-blue-400":!i,"bg-amber-300 text-amber-900 hover:bg-amber-400":i},n),children:r})}function w(e){let{project:t,viewingDeployment:n}=e,{data:i}=(0,I.useProjectProductionDeployment)(t?.id,{config:{revalidateOnFocus:!1}}),r=(0,k.getGitMeta)(n?.meta),s=r?.branchName,{deployments:l}=(0,A.useDeploymentsInfinite)({limit:1,project:t,branch:s,requireProject:!0,ignoreProjectSlug:!0,readyStateFilter:"BUILDING,ERROR,INITIALIZING,QUEUED,READY",target:n?.customEnvironment?.slug||n?.target||void 0})[1];if(n){let e=s?l[0]:void 0;if(n?.customEnvironment&&n.customEnvironment.slug!==e?.customEnvironment?.slug)return;return e}return i?.deployment}function P(e){let{project:n,viewingDeployment:i}=e,r=w({project:n,viewingDeployment:i});if(!r)return null;let s=+("READY"!==r.readyState);return(0,t.jsx)(a.DeploymentStatus,{deployment:r,className:`absolute z-${s}`})}function $(e){let{viewingProject:r,viewingDeployment:s,hideOtherChildren:l,applications:o,pathParams:a,projects:c}=e,[d,m]=(0,n.useState)(!1),u=()=>m(!d),{sortedProjects:h}=(0,j.partitionMicrofrontendsProjects)(c,{viewingProjectName:r?.name,applications:o}),p=h[0],x=r?.name===p.name,g=!r||x,f=g?l?1:4:2,y=d?h.length:f,v=l&&!g?[]:[...h.length>y?[{onClick:u,name:(0,b.pluralize)(1===f?"child project":"other child project",h.length-y,!0),hideArrow:!1,statusDots:(0,t.jsx)("div",{className:"relative flex items-center justify-center size-3",children:h.slice(y).map(e=>(0,t.jsx)(P,{project:e,viewingDeployment:s},e.id))})}]:[],...1===h.length?[{onClick:u,name:"0 child projects",hideArrow:!1}]:[]],D=[...h.slice(0,y),...v],N=(0,n.useRef)(null);return(0,t.jsxs)(t.Fragment,{children:[D.map(e=>(0,t.jsx)(E,{viewingDeployment:s,pathParams:a,projectLink:e,viewingProject:r,tooltipRef:N},e.name)),(0,i.createPortal)((0,t.jsx)("div",{className:"pointer-events-none fixed inset-0 z-[1000000]",ref:N}),document.body)]})}function E(e){let{viewingProject:n,viewingDeployment:i,pathParams:l,projectLink:c,tooltipRef:m}=e,{name:h}=c,p="hideArrow"in c&&c.hideArrow,{isDefaultApp:x}="microfrontends"in c&&c.microfrontends||{},g=n?.name===h,{team:f}=(0,N.useTeam)(),{href:j,statusDot:y,statusDotHref:v}=function(e){let{team:n,project:i,viewingDeployment:r,viewingProject:s,pathParams:l,pathname:o,searchParams:c}=e,d=w({project:i,viewingDeployment:r}),{createdAgo:m}=(0,T.useDeploymentCreatedAt)(d);if(!i||!n)return{href:void 0};let u=d&&"id"in d?d.id:d?.uid;if(r){if(d){let e=`/${n.slug}/${i.name}/${u?.replace("dpl_","")}`;return{href:e,statusDotHref:e,statusDot:(0,t.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,t.jsx)(a.DeploymentStatus,{deployment:d})," ",(0,t.jsx)("span",{className:"text-sm text-gray-900 tabular-nums",children:m})]})}}let e=r.gitSource?.ref;return{href:`/${n.slug}/${i.name}/deployments${e?`?filterBranch=${e}`:""}`}}return{href:o&&s?(0,D.getScopeHref)({pathname:o,pathParams:l,searchParams:c,team:n,project:i}):`/${n.slug}/${i.name}/settings/microfrontends`,statusDotHref:`/${n.slug}/${i.name}/${u?.replace("dpl_","")}`,statusDot:d?(0,t.jsx)(a.DeploymentStatus,{deployment:d}):void 0}}({team:f,project:"id"in c?c:void 0,viewingDeployment:i,viewingProject:n,pathParams:l,pathname:(0,r.usePathname)(),searchParams:(0,r.useSearchParams)()??new URLSearchParams("")}),b="onClick"in c?c.onClick:void 0,C=y||("statusDots"in c?c.statusDots:void 0);return(0,t.jsxs)("div",{className:(0,s.clsx)("flex flex-row items-center gap-1 group min-w-0 max-w-full",!x&&"pl-2"),children:[x?null:(0,t.jsx)(t.Fragment,{children:p?(0,t.jsx)("div",{className:"size-3 flex-shrink-0"}):(0,t.jsx)(d.CornerDownRight,{size:12,className:"flex-shrink-0 !text-gray-900 group-hover:!text-gray-1000"})}),(0,t.jsx)(o.Tooltip,{text:h,containerRef:m,desktopOnly:!0,className:"min-w-0",children:(0,t.jsx)(u.Link,{href:j,type:"secondary",variant:"underline",onClick:b,className:"min-w-0",children:(0,t.jsx)("p",{className:(0,s.clsx)("text-[14px] leading-[20px] truncate",g?"font-medium":"font-normal",!g&&"text-gray-900 hover:text-gray-1000"),children:h})})}),C?(0,t.jsx)(u.Link,{href:v||j,onClick:b,className:"flex-shrink-0",children:(0,t.jsx)("div",{className:"ml-0.5",children:C})}):null]},h)}function R(e){let{pageContext:i,className:s="",groupId:o,side:a="bottom",project:d}=e,[x,b]=(0,n.useState)(!1),{track:D,isReady:N}=(0,y.useTrackActivity)(),A=function(e){let{pageContext:n,groupId:i,project:s}=e,l=(0,r.useParams)()||{},{teamSlug:o,project:a,id:c}=l,d=c?`dpl_${c}`:void 0,{data:x}=(0,g.default)(d),{data:y}=(0,f.useProject)(void 0===s?a:void 0),v=s||y,{data:b,isLoading:D}=(0,p.useMicrofrontendsConfig)({deploymentId:x?.microfrontends?x?.id:void 0}),N=x?.alias.find(e=>e.includes("-git-")),{data:A}=(0,C.default)({domain:N}),I=function(e){let t,{deploymentConfig:n,alias:i,project:r,groupId:s}=e,{data:l}=(0,h.useMicrofrontendsGroups)();i?.microfrontends?.applications&&Array.isArray(i.microfrontends.applications)&&(t=i.microfrontends.applications.reduce((e,t)=>(e[t.projectId]={deploymentId:t.deploymentId},e),{}));let{data:o}=(0,f.useProjects)(Object.keys(t??{})),a=l?.groups.find(e=>e.group.id===r?.microfrontends?.groupIds[0]||e.group.id===s);if(!a)return null;let c=t?n?.config:a.config,d=t?o||[]:a.projects;return{...a,config:c,projects:d,applications:t}}({groupId:i,alias:A,deploymentConfig:b,project:v});if(!o||d&&(!x||D)||a&&!v||!I)return null;let{projects:k,config:T,group:L,applications:w}=I,{missingReferences:P,extraReferences:E}=(0,j.partitionConfigReferencedProjects)(T,k),{defaultProject:R}=(0,j.partitionMicrofrontendsProjects)(k);if(!R)return null;let z=`/${o}/${R.name}/settings/microfrontends`,F=(!T||P.length||E.length)&&(!x||!T||"READY"!==x.readyState)&&!n;return{content:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,t.jsxs)("span",{className:"text-sm text-gray-900 md:max-w-[320px]",children:["This ",x?"deployment":"project"," is part of the"," ",(0,t.jsx)(u.Link,{href:z,type:"primary",children:L.name})," ",(0,t.jsx)(u.Link,{href:`/${o}/~/settings/microfrontends`,children:"microfrontends group"}),"."]}),n?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.InformationFillSmall,{}),(0,t.jsx)("span",{className:"text-sm text-gray-900",children:n})]}):null,(0,t.jsx)("div",{className:"flex flex-col items-start gap-2",children:(0,t.jsx)($,{viewingProject:v,viewingDeployment:x,hideOtherChildren:!!(n||F),applications:w,projects:k,pathParams:l})}),x?(0,t.jsxs)("div",{className:"flex flex-col gap-2 text-gray-900",children:[(0,t.jsx)("span",{className:"text-sm",children:"Source"}),(0,t.jsx)(S.CurrentDeploymentSource,{})]}):null,F?(0,t.jsxs)("span",{className:"text-sm text-amber-900",children:[T?(0,t.jsxs)(t.Fragment,{children:["The ",(0,t.jsx)("code",{children:"microfrontends.json"})," file is out of sync with the projects in the group."]}):(0,t.jsxs)(t.Fragment,{children:["A ",(0,t.jsx)("pre",{className:"inline",children:"microfrontends.json"})," file was not uploaded in the production deployment for the default app. A configuration file is required to enable Microfrontends routing."]})," ",(0,t.jsx)(u.Link,{href:z,variant:"blend",children:"See Details"}),"."]}):null]})}),hasWarning:F}}({pageContext:i,groupId:o,project:d}),I=(0,n.useCallback)(e=>{e.target instanceof HTMLElement&&e.target.closest("a[href]")&&(N&&D(v.VercelActivityAction.MicrofrontendsBadgeLinkClicked,{}),b(!0))},[N,D]);if(!A)return null;let{content:k,hasWarning:T}=A,w=(0,t.jsx)("div",{className:"w-fit max-w-[274px] md:max-w-[348px] p-1",onClick:I,children:(0,t.jsx)("div",{className:"flex flex-col gap-2",children:k})});return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(l.ContextCard.Trigger,{content:w,side:a,hide:x,children:(0,t.jsx)("div",{onMouseEnter:()=>b(!1),children:(0,t.jsx)(L,{className:s,hasWarning:!!T,children:(0,t.jsx)(c.Microfrontends,{})})})})})}function z(e){let{project:n}=e,{project:i,id:s}=(0,r.useParams)()||{},l=s?`dpl_${s}`:void 0,{data:o}=(0,g.default)(l),{data:a}=(0,f.useProject)(void 0===n?i:void 0);return(n||a)?.microfrontends||o?.microfrontends?(0,t.jsx)(R,{...e}):null}e.s(["MicrofrontendsBadge",()=>z])}]);

//# debugId=5ee004f3-2e23-d3f2-98ae-316232af7690
//# sourceMappingURL=e3c19867bc504289.js.map
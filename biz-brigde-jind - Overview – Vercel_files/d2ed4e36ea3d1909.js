;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c805c0ff-76c9-0929-e224-ae9955dcfef3")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1935298,e=>{e.v({fakeSideBorders:"group-log-filters-module__iUXrVG__fakeSideBorders",filterContent:"group-log-filters-module__iUXrVG__filterContent",first:"group-log-filters-module__iUXrVG__first",last:"group-log-filters-module__iUXrVG__last",modalActiveButtonContainer:"group-log-filters-module__iUXrVG__modalActiveButtonContainer",modalActiveButtonDot:"group-log-filters-module__iUXrVG__modalActiveButtonDot",modalBody:"group-log-filters-module__iUXrVG__modalBody",modalMain:"group-log-filters-module__iUXrVG__modalMain",title:"group-log-filters-module__iUXrVG__title",titleContainer:"group-log-filters-module__iUXrVG__titleContainer"})},8300708,e=>{e.v({buttonLink:"group-details-panel-module__u1jj4W__buttonLink",buttonRule:"group-details-panel-module__u1jj4W__buttonRule",codeBlock:"group-details-panel-module__u1jj4W__codeBlock",copy:"group-details-panel-module__u1jj4W__copy",cta:"group-details-panel-module__u1jj4W__cta",detailsContainer:"group-details-panel-module__u1jj4W__detailsContainer",detailsHeader:"group-details-panel-module__u1jj4W__detailsHeader",detailsMain:"group-details-panel-module__u1jj4W__detailsMain",divider:"group-details-panel-module__u1jj4W__divider",drawer:"group-details-panel-module__u1jj4W__drawer",error:"group-details-panel-module__u1jj4W__error",fetchMetricRowContainer:"group-details-panel-module__u1jj4W__fetchMetricRowContainer",fetchMetricsContainer:"group-details-panel-module__u1jj4W__fetchMetricsContainer",ghostButton:"group-details-panel-module__u1jj4W__ghostButton",groupMessage:"group-details-panel-module__u1jj4W__groupMessage",info:"group-details-panel-module__u1jj4W__info",learnMore:"group-details-panel-module__u1jj4W__learnMore",logDetailRowSkeleton:"group-details-panel-module__u1jj4W__logDetailRowSkeleton",message:"group-details-panel-module__u1jj4W__message",modalBody:"group-details-panel-module__u1jj4W__modalBody",noLogsSelected:"group-details-panel-module__u1jj4W__noLogsSelected",root:"group-details-panel-module__u1jj4W__root",rowContainer:"group-details-panel-module__u1jj4W__rowContainer",setupLogDrain:"group-details-panel-module__u1jj4W__setupLogDrain",title:"group-details-panel-module__u1jj4W__title",tooltip:"group-details-panel-module__u1jj4W__tooltip",truncate:"group-details-panel-module__u1jj4W__truncate",warning:"group-details-panel-module__u1jj4W__warning"})},4410321,e=>{e.v({breakSpaces:"group-log-rows-module__JxqD1W__breakSpaces",colspan:"group-log-rows-module__JxqD1W__colspan",darkTheme:"group-log-rows-module__JxqD1W__darkTheme",darktheme:"group-log-rows-module__JxqD1W__darktheme",error:"group-log-rows-module__JxqD1W__error",fadeIn:"group-log-rows-module__JxqD1W__fadeIn",faded:"group-log-rows-module__JxqD1W__faded",fatal:"group-log-rows-module__JxqD1W__fatal",flash:"group-log-rows-module__JxqD1W__flash",header:"group-log-rows-module__JxqD1W__header",headerContainer:"group-log-rows-module__JxqD1W__headerContainer",info:"group-log-rows-module__JxqD1W__info",isNew:"group-log-rows-module__JxqD1W__isNew",isSelected:"group-log-rows-module__JxqD1W__isSelected",liveModeRow:"group-log-rows-module__JxqD1W__liveModeRow",loadingError:"group-log-rows-module__JxqD1W__loadingError",loadingNew:"group-log-rows-module__JxqD1W__loadingNew","move-in-indicator":"group-log-rows-module__JxqD1W__move-in-indicator","move-logs-down":"group-log-rows-module__JxqD1W__move-logs-down","move-logs-down-with-opacity":"group-log-rows-module__JxqD1W__move-logs-down-with-opacity","move-logs-up":"group-log-rows-module__JxqD1W__move-logs-up",moveUp:"group-log-rows-module__JxqD1W__moveUp",paused:"group-log-rows-module__JxqD1W__paused",previouslyFaded:"group-log-rows-module__JxqD1W__previouslyFaded",reverseBackground:"group-log-rows-module__JxqD1W__reverseBackground",rowContainer:"group-log-rows-module__JxqD1W__rowContainer",rowItem:"group-log-rows-module__JxqD1W__rowItem",screenReaderSelect:"group-log-rows-module__JxqD1W__screenReaderSelect",separated:"group-log-rows-module__JxqD1W__separated",tooltip:"group-log-rows-module__JxqD1W__tooltip",tooltipContainer:"group-log-rows-module__JxqD1W__tooltipContainer",truncate:"group-log-rows-module__JxqD1W__truncate",uppercase:"group-log-rows-module__JxqD1W__uppercase",warning:"group-log-rows-module__JxqD1W__warning"})},3327755,(e,t,s)=>{!function(e){"use strict";function t(e){var t={},s=e?e.split(/\.|-|_/):["0","0","0"];return t.info=s.join("."),t.major=s[0]||"0",t.minor=s[1]||"0",t.patch=s[2]||"0",t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var s=["crios","fxios","daumapps"],r=e.userAgent=function(e,r){var l,a,o,i,n=e?e.toLowerCase():"undefined"!=typeof window&&window.navigator&&"string"==typeof window.navigator.userAgent?window.navigator.userAgent.toLowerCase():"";return{ua:n,browser:(l={},"webkit"===(a=/(dolfin)[ \/]([\w.]+)/.exec(n)||/(edge)[ \/]([\w.]+)/.exec(n)||/(chrome)[ \/]([\w.]+)/.exec(n)||/(tizen)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(n)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||0>n.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(n)||["","unknown"])[1]?a=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(n)||/(android)[ \/]([\w._\-]+);/.exec(n)||[a[0],"safari",a[2]]:"mozilla"===a[1]?/trident/.test(n)?a[1]="msie":a[1]="firefox":/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(n)&&(a[1]="polaris"),l[a[1]]=!0,l.name=a[1],l.version=t(a[2]),l),platform:function(e){var t,s;if(!(!(t=e).match(/linux|windows (nt|98)|macintosh|cros/)||t.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/)))return"pc";if((s=e).match(/ipad/)||s.match(/android/)&&!s.match(/mobi|mini|fennec/))return"tablet";return e.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|tizen.+mobile|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)?"mobile":""}(n),os:(o={},"iphone"===(i=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(n)||!!/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(n)&&["","polaris","0.0.0"]||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(n)||/(android)[ \/]([\w._\-]+);/.exec(n)||!!/android/.test(n)&&["","android","0.0.0"]||!!/(windows)/.test(n)&&["","windows","0.0.0"]||/(mac) os x ([\w._\-]+)/.exec(n)||/(tizen)[ \/]([\w._\-]+);/.exec(n)||!!/(linux)/.test(n)&&["","linux","0.0.0"]||!!/webos/.test(n)&&["","webos","0.0.0"]||/(cros)(?:\s[\w]+\s)([\d._\-]+)/.exec(n)||/(bada)[ \/]([\w._\-]+)/.exec(n)||!!/bada/.test(n)&&["","bada","0.0.0"]||!!/(rim|blackberry|bb10)/.test(n)&&["","blackberry","0.0.0"]||["","unknown","0.0.0"])[1]||"ipad"===i[1]||"ipod"===i[1]?i[1]="ios":"windows"===i[1]&&"98"===i[2]&&(i[2]="0.98.0"),"cros"===i[1]&&(i[1]="chrome"),o[i[1]]=!0,o.name=i[1],o.version=t(i[2]),o),app:function(e,r){var l={},a=null,o=s;Array.isArray(r)?o=s.concat(r):"string"==typeof r&&(o=s.concat([r]));for(var i=0,n=o.length;i<n&&!(a=RegExp("("+o[i]+")[ \\/]([\\w._\\-]+)").exec(e));i+=1);return a||(a=["",""]),a[1]?(l.isApp=!0,l.name=a[1],l.version=t(a[2])):l.isApp=!1,l}(n,r)}};"object"==typeof window&&window.navigator.userAgent&&(window.ua_result=r(window.navigator.userAgent)||null)}((s.daumtools=s,s.util=s,s))},2458511,e=>{e.v({combobox:"search-filter-module__SHqGLq__combobox",comboboxList:"search-filter-module__SHqGLq__comboboxList",comboboxWrapper:"search-filter-module__SHqGLq__comboboxWrapper",confirm:"search-filter-module__SHqGLq__confirm",empty:"search-filter-module__SHqGLq__empty",filter:"search-filter-module__SHqGLq__filter",firstOption:"search-filter-module__SHqGLq__firstOption",firstOptionInnerButton:"search-filter-module__SHqGLq__firstOptionInnerButton",hide:"search-filter-module__SHqGLq__hide",highlight:"search-filter-module__SHqGLq__highlight",input:"search-filter-module__SHqGLq__input",option:"search-filter-module__SHqGLq__option",suffix:"search-filter-module__SHqGLq__suffix",suggestions:"search-filter-module__SHqGLq__suggestions",textOverlay:"search-filter-module__SHqGLq__textOverlay"})},5431818,e=>{e.v({logRowsContainer:"logs-common-module__Gs96xq__logRowsContainer",logRowsWrapper:"logs-common-module__Gs96xq__logRowsWrapper"})},615673,e=>{e.v({container:"paginated-group-logs-module__kgOb4G__container",hasLogs:"paginated-group-logs-module__kgOb4G__hasLogs"})},7230346,e=>{e.v({logGradient:"group-logs-module__OaUHyW__logGradient",logHeader:"group-logs-module__OaUHyW__logHeader",show:"group-logs-module__OaUHyW__show"})},6687520,e=>{"use strict";var t=e.i(1146226),s=e.i(5169864),r=e.i(8674454),l=e.i(6694387),a=e.i(4991687),o=e.i(5326905),i=e.i(8459493),n=e.i(2504781),d=e.i(455575),c=e.i(6143247),u=e.i(9722978),p=e.i(4004502),x=e.i(8139291),h=e.i(992159),m=e.i(5610834),f=e.i(7917902),g=e.i(3322724),j=e.i(1360174),v=e.i(1717203),y=e.i(7557283),C=e.i(119294),b=e.i(6352514),w=e.i(9202779),L=e.i(6891161),k=e.i(3869476),_=e.i(7580732),N=e.i(2405338),S=e.i(8042625),T=e.i(4244280),M=e.i(1138941),E=e.i(6060673),D=e.i(7033605),I=e.i(8306707);let F={rows:[]};function q(e){let{attributeName:t,attributeNameSearchQuery:s,forceEmpty:r=!1,deploymentDomains:l,deploymentIds:a,domains:o,levels:i,sources:n,requestTags:d,routes:c,requestPaths:u,requestIds:p,requestMethods:x,statusCodes:h,caches:m,environments:g,branches:j,sessionIds:v,traceIds:y,invocationIds:C,selectedValues:b}=e,{data:w}=(0,E.useProject)((0,M.useProjectIdOrName)()),{user:L,team:k,isLoading:_}=(0,f.useAccount)(),{startDate:q,endDate:R,searchQuery:O,myLogs:B,hasTraces:$,useClickHouseLogs:P}=(0,D.useLogsApiParams)(),W=R??new Date,z=(0,N.default)(()=>{if(_||!t||r||p&&p.length>0||!w)return;let e=null!==k?k.id:null,f=null!==L?L?.uid:null,N=e||f;if(null===N)return;let M=(0,S.encode)({attributeName:t,attributeNameSearchQuery:s||void 0,startDate:q.getTime(),endDate:W.getTime(),searchQuery:(0,I.stringifyArrayContent)((0,I.tokenizeSearchQuery)(O)),projectId:w.id,deploymentDomain:(0,I.stringifyArrayContent)(l),deploymentId:(0,I.stringifyArrayContent)(a),domain:(0,I.stringifyArrayContent)(o),level:(0,I.stringifyArrayContent)(i),ownerId:N,source:(0,I.stringifyArrayContent)(n),requestTags:(0,I.stringifyArrayContent)(d),route:(0,I.stringifyArrayContent)(c),requestPath:(0,I.stringifyArrayContent)(u),requestMethod:(0,I.stringifyArrayContent)(x),statusCode:(0,I.stringifyArrayContent)(h),cache:(0,I.stringifyArrayContent)(m),environment:(0,I.stringifyArrayContent)(g),branch:(0,I.stringifyArrayContent)(j),myLogs:B?"true":void 0,sessionId:(0,I.stringifyArrayContent)(v),hasTraces:$?"true":void 0,traceId:(0,I.stringifyArrayContent)(y),invocationId:(0,I.stringifyArrayContent)(C),useClickHouseLogs:P,selectedValues:function(e){if(e&&0!==e.length)return e.map(e=>e.includes(",")?`"${e}"`:e).join(",")}(b)});return`${T.API_LOGS}/request-logs/filter-values${M}`},A,{keepPreviousData:!0,revalidateOnFocus:!1});return r?{...z,data:F}:z}async function A(e,t){let s=await fetch(e,t);if(!s.ok)throw Error((await s.json()).message);return s.json()}var R=e.i(1935298),O=e.i(8631221),B=e.i(3196486);let $=["responseStatusCodes","vercelCaches","requestMethods","timeline","levels","sources","environments"],P={hobby:"pastHour",pro:"pastDay",enterprise:"past3Days"},W=()=>{let{project:e}=(0,m.useParams)()??{},t=(0,E.useProject)(e),r=t.data?.id,{user:l,team:a}=(0,f.useAccount)(),o=a?.billing?.plan??"hobby",i=(0,s.useCallback)(()=>{r&&l?.uid&&(0,B.sendToSnowflake)(O.Topic.VercelAppV0LogPageVisited,{project_id:r,team_id:a?.id,user_id:l.uid},"vercel-app")},[r,l?.uid,a?.id]);return{trackLogPageVisit:i,trackFilterUse:(0,s.useCallback)(e=>{r&&l&&("timeline"===e.filter&&"maximum"===e.value[0]&&(e.value[0]=P[o]),(0,B.sendToSnowflake)(O.Topic.VercelAppV0LogFilterQuery,{project_id:r,team_id:a?.id,user_id:l.uid,event_trigger:e.eventTrigger,filter_terms:e.value.map(t=>({field:e.filter,operator:"=",value:t||void 0}))},"vercel-app"))},[r,l,a,o]),trackLogPresetRun:(0,s.useCallback)(e=>{let{presetId:t}=e;r&&l&&(0,B.sendToSnowflake)(O.Topic.VercelAppV0LogPresetRun,{project_id:r,team_id:a?.id,user_id:l.uid,preset_id:t,preset_type:t.endsWith("_t")?"team":"personal"},"vercel-app")},[r,l,a])}};var z=e.i(7209054),V=e.i(6209667);function H(){let{state:{levels:e,routes:r,deploymentDomains:l,deploymentIds:a,domains:o,sources:i,requestTags:n,requestMethods:d,requestPaths:c,caches:u,statusCodes:x,environments:h,branches:m,sessionIds:f,traceIds:g,invocationIds:j},setState:v}=(0,D.useLogsQueryState)(),{data:y,isLoading:C}=q({attributeName:"level",domains:o,deploymentDomains:l,deploymentIds:a,sources:i,requestTags:n,routes:r,requestPaths:c,requestMethods:d,caches:u,statusCodes:x,environments:h,branches:m,sessionIds:f,traceIds:g,invocationIds:j}),b=(0,s.useMemo)(()=>{let e;return e=y?.rows,z.GROUP_LEVEL_OPTIONS.map(t=>{let s=e?.find(e=>e.attributeValue===t.value)?.total;return s||C||(s=0),{label:t.label,value:t.value,count:s}}).sort((e,t)=>Number(t.count)-Number(e.count))},[y,C]),w=b.length,{trackFilterUse:L}=W();return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:e.length,"data-testid":(0,p.tid)("group-logs","level-filter"),defaultExpanded:!0,onClearFilter:()=>v({levels:void 0,preset:null}),title:"Contains Console Level",children:(0,t.jsx)(V.LogFilter,{hideSearch:!0,isCountLoading:C,onChange:e=>{v({levels:e.sort(),preset:null}),L({eventTrigger:"filter click",filter:"levels",value:e.sort()})},options:b,selectedOptions:e,totalAvailableOptions:w})})}function G(){let{state:{levels:e,deploymentDomains:r,deploymentIds:l,domains:a,routes:o,sources:i,requestTags:n,requestMethods:d,requestPaths:c,caches:x,statusCodes:h,environments:m,branches:f,sessionIds:g,traceIds:j,invocationIds:v},setState:y}=(0,D.useLogsQueryState)(),[C,b]=(0,s.useState)(!1),{data:w,isLoading:L}=q({attributeName:"source",levels:e,domains:a,deploymentDomains:r,deploymentIds:l,routes:o,requestMethods:d,requestPaths:c,caches:x,statusCodes:h,environments:m,branches:f,forceEmpty:!C,requestTags:n,sessionIds:g,traceIds:j,invocationIds:v}),{trackFilterUse:k}=W(),N=(0,s.useMemo)(()=>(e=>{let t=[];for(let s of z.SOURCE_OPTIONS){let r=e?.find(e=>e.attributeValue===s.value)?.total;(!s.optional||r)&&t.push({label:s.label,value:s.value,icon:s.icon,count:r??0})}return t})(w?.rows??[]),[w]),S=N.length,T=(0,s.useMemo)(()=>{if(i.length!==z.DEFAULT_SOURCES.length)return!0;let e=[...i].sort(),t=[...z.DEFAULT_SOURCES].sort();return!e.every((e,s)=>e===t[s])},[i]);return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:(0,u.clsx)(R.default.filterContent),count:T?i.length:void 0,"data-testid":(0,p.tid)("logs","source-filter"),onClearFilter:()=>y({sources:void 0,preset:null}),onExpand:()=>b(!0),title:"Resource",children:(0,t.jsx)(V.LogFilter,{hideSearch:!0,isCountLoading:L,onChange:e=>{y({sources:e.sort(),preset:null}),k({eventTrigger:"filter click",filter:"sources",value:e.sort()})},options:N,selectedOptions:i,totalAvailableOptions:S})})}function U(){let{state:{levels:e,deploymentDomains:r,deploymentIds:l,domains:a,routes:o,sources:i,requestTags:n,requestMethods:d,requestPaths:c,caches:x,statusCodes:h,environments:m,branches:f,sessionIds:g,traceIds:j,invocationIds:v},setState:y}=(0,D.useLogsQueryState)(),[C,b]=(0,s.useState)(!1),{data:w,isLoading:L}=q({attributeName:"requestTags",levels:e,domains:a,deploymentDomains:r,deploymentIds:l,routes:o,requestMethods:d,requestPaths:c,caches:x,statusCodes:h,environments:m,branches:f,sources:i,sessionIds:g,traceIds:j,forceEmpty:!C,invocationIds:v}),{trackFilterUse:k}=W(),N=(0,s.useMemo)(()=>{let e;return e=w?.rows??[],z.REQUEST_TAGS_OPTIONS.map(t=>{let s=e?.find(e=>e.attributeValue===t.value)?.total;return{label:t.label,value:t.value,icon:t.icon,count:s??0}})},[w]),S=N.length;return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:(0,u.clsx)(R.default.filterContent),count:n.length,"data-testid":(0,p.tid)("logs","request-tags-filter"),onClearFilter:()=>y({requestTags:void 0,preset:null}),onExpand:()=>b(!0),title:"Request Type",children:(0,t.jsx)(V.LogFilter,{hideSearch:!0,isCountLoading:L,onChange:e=>{y({requestTags:e.sort(),preset:null}),k({eventTrigger:"filter click",filter:"requestTags",value:e.sort()})},options:N,selectedOptions:n,totalAvailableOptions:S})})}function Z(){let{state:{levels:e,deploymentDomains:r,deploymentIds:l,sources:a,requestTags:o,domains:i,routes:n,requestPaths:d,requestMethods:c,statusCodes:u,caches:x,environments:h,branches:m,sessionIds:f,traceIds:g,invocationIds:j},setState:v}=(0,D.useLogsQueryState)(),[y,C]=(0,s.useState)(""),{trackFilterUse:b}=W(),[w,L]=(0,s.useState)(!1),{data:k,isLoading:N}=q({attributeName:"domain",attributeNameSearchQuery:y,levels:e,deploymentDomains:r,deploymentIds:l,sources:a,requestTags:o,routes:n,requestPaths:d,requestMethods:c,statusCodes:u,caches:x,environments:h,branches:m,sessionIds:f,traceIds:g,forceEmpty:!w,invocationIds:j,selectedValues:i}),S=!k,T=(0,s.useMemo)(()=>{let e=k?.rows??[];return i.filter(t=>!e.find(e=>e.attributeValue===t)).forEach(t=>{e.push({attributeValue:t,total:0})}),e.map(V.generateFilterOption)},[k,i]),M=k?.availableOptions??0;return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:i.length,"data-testid":(0,p.tid)("group-logs","domain-filter"),onClearFilter:()=>v({domains:void 0,preset:null}),onExpand:()=>L(!0),title:"Host",children:(0,t.jsx)(V.LogFilter,{isFirstLoading:S,isLoading:N,onChange:e=>{v({domains:e.sort(),preset:null}),b({eventTrigger:"filter click",filter:"domains",value:Array(e.length).fill("")})},onSearch:C,options:T,searchId:"search-hosts",searchLabel:"Search hosts",searchPlaceholder:"Search hosts…",selectedOptions:i,showSelectedOptionsAtTop:!0,totalAvailableOptions:M})})}var Q=e.i(3306538),X=e.i(6094744),J=e.i(3981247);e.i(3182268);var K=e.i(7849855),Y=e.i(4396019);function ee(){let{state:{levels:e,deploymentIds:r,sources:l,requestTags:a,domains:o,routes:i,requestPaths:n,statusCodes:d,requestMethods:c,caches:u,environments:x,branches:h,sessionIds:m,traceIds:f,invocationIds:g},setState:j}=(0,D.useLogsQueryState)(),{isDeploymentEditable:v}=(0,X.usePageConfig)(),{trackFilterUse:y}=W(),[C,b]=(0,s.useState)(""),[w,L]=(0,s.useState)(!1),{data:k,isLoading:N}=q({attributeName:"deploymentId",attributeNameSearchQuery:C,deploymentIds:r,levels:e,sources:l,requestTags:a,domains:o,routes:i,requestPaths:n,statusCodes:d,requestMethods:c,caches:u,environments:x,branches:h,sessionIds:m,traceIds:f,forceEmpty:!v||!w,invocationIds:g,selectedValues:r}),{teamSlug:S,projectSlug:T}=(0,K.useProjectAndTeamSlug)(),{data:M}=(0,J.useRollingRelease)({teamIdOrSlug:S,projectSlug:T}),{deployment:E}=(0,Y.useProjectProductionDeployment)(T??void 0),I=M?.rollingRelease,F=I?.canaryDeployment?.id,A=!r,O=(0,s.useMemo)(()=>{let e=[];return k?.rows?.forEach(s=>{let r=s.attributeValue,l=E?.id===r,a=F&&r===F;l?e.push({label:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(Q.Badge,{size:"sm",variant:"green-subtle",children:"Current"}),(0,t.jsx)("span",{children:r})]}),value:`${r}`,count:s.total}):a?e.push({label:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(Q.Badge,{size:"sm",variant:"blue-subtle",children:"Canary"}),(0,t.jsx)("span",{children:r})]}),value:`${r}`,count:s.total}):e.push({label:r,value:`${r}`,count:s.total})}),e.sort((e,t)=>{let s=E?.id===e.value,r=F&&e.value===F,l=E?.id===t.value,a=F&&t.value===F;return s&&!l?-1:!s&&l?1:r&&!a?-1:!r&&a?1:0})},[F,k?.rows,E?.id]),B=k?.availableOptions??0;return v?(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:r.length||void 0,"data-testid":(0,p.tid)("logs","deployment-filter"),onClearFilter:()=>j({deploymentIds:void 0,preset:null}),onExpand:()=>L(!0),title:"Deployment ID",children:(0,t.jsx)(V.LogFilter,{isFirstLoading:A,isLoading:N,onChange:e=>{j({deploymentIds:e.sort(),preset:null}),y({eventTrigger:"filter click",filter:"deploymentIds",value:Array(e.length).fill("")})},onSearch:b,options:O,searchId:"search-deployment-ids",searchLabel:"Search deployment IDs",searchPlaceholder:"Search deployment IDs…",selectedOptions:r,showSelectedOptionsAtTop:!0,totalAvailableOptions:B})}):null}function et(){let{state:{routes:e,levels:r,deploymentDomains:l,deploymentIds:a,domains:o,requestPaths:i,sources:n,requestTags:d,environments:c,branches:u,requestMethods:x,caches:h,statusCodes:m,sessionIds:f,traceIds:g,invocationIds:j},setState:v}=(0,D.useLogsQueryState)(),[y,C]=(0,s.useState)(""),{trackFilterUse:b}=W(),{functionFilterDefaultExpanded:w}=(0,X.usePageConfig)(),[L,k]=(0,s.useState)(w),N=(0,s.useMemo)(()=>e.map(e=>e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e),[e]),{data:S,isLoading:T}=q({attributeName:"route",attributeNameSearchQuery:y,domains:o,forceEmpty:!L,levels:r,requestPaths:i,environments:c,branches:u,deploymentDomains:l,deploymentIds:a,statusCodes:m,requestMethods:x,caches:h,sources:n,requestTags:d,sessionIds:f,traceIds:g,invocationIds:j,selectedValues:N}),M=!S,E=(0,s.useMemo)(()=>{let e=S?.rows??[];return N.filter(t=>!e.find(e=>e.attributeValue===t)).forEach(t=>{e.push({attributeValue:t,total:0})}),e.map(V.generateFilterOption)},[S,N]),I=S?.availableOptions??0;return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:N.length,"data-testid":(0,p.tid)("logs","route-filter"),defaultExpanded:w,onClearFilter:()=>v({routes:void 0,preset:null}),onExpand:()=>k(!0),title:"Route",children:(0,t.jsx)(V.LogFilter,{isFirstLoading:M,isLoading:T,onChange:e=>{v({routes:e.map(e=>e.includes(",")?`"${e}"`:e).sort(),preset:null}),b({eventTrigger:"filter click",filter:"routes",value:Array(e.length).fill("")})},onSearch:C,options:E,searchId:"search-routes",searchLabel:"Search Routes",searchPlaceholder:"Search Routes…",selectedOptions:N,showSelectedOptionsAtTop:!0,totalAvailableOptions:I})})}var es=e.i(5627633),er=e.i(3793583),el=e.i(1794286),ea=e.i(5255926),eo=e.i(5338940),ei=e.i(8063555);e.i(6483798);var en=e.i(8287059);e.i(6728635);var ed=e.i(2630141),ec=e.i(294613);function eu(){let e=(0,en.useOpenUpgradeModal)(),s=(0,ed.useOpenEnableModal)(),{team:r}=(0,eo.useTeam)(),{maxTimeRange:l,maxRetention:a,isLoading:o,teamId:i,hasExtendedTimeline:n}=(0,ei.useUserRetention)(),{state:{startDate:d,endDate:u},setState:x}=(0,D.useLogsQueryState)(),{startDate:h,endDate:m,timeline:f}=(0,D.useLogsApiParams)(),{trackFilterUse:g}=W(),j=Date.now(),v=(0,er.sub)(j,l).getTime(),y=d&&u?void 0:f,{presets:C,presetValue:b}=(()=>{let t,a=(t=new Date,[{key:"past30Minutes",text:"Last 30 minutes",start:(0,er.sub)(t,{minutes:30}),end:t},{key:"pastHour",text:"Last hour",start:(0,er.sub)(t,{hours:1}),end:t},{key:"past12Hours",text:"Last 12 hours",start:(0,er.sub)(t,{hours:12}),end:t},{key:"pastDay",text:"Last day",start:(0,er.sub)(t,{days:1}),end:t},{key:"past3Days",text:"Last 3 days",start:(0,er.sub)(t,{days:3}),end:t},{key:"pastWeek",text:"Last week",start:(0,er.sub)(t,{weeks:1}),end:t},{key:"past2Weeks",text:"Last 2 weeks",start:(0,er.sub)(t,{weeks:2}),end:t}]),o=r?.billing?.plan??"hobby",d=a.map(e=>{let t=e.start.getTime(),s=!1,r=null;if(!n&&t<v)if(s=!0,"hobby"===o){let e=(0,ec.getMaxRetention)(!1,"pro");r=t>=(0,er.sub)(j,e).getTime()?"pro":"observability-plus"}else r="observability-plus";return{...e,key:e.start.getTime()===v?"maximum":e.key,needsUpgrade:s,upgradeType:r}});d.some(e=>e.start.getTime()===v)||d.push({key:"maximum",text:`Last ${(0,es.formatDuration)(l)}`,start:new Date(v),end:new Date,needsUpgrade:!1,upgradeType:null});let c=y?d.find(e=>e.key===y):void 0,u=[{presets:d.filter(e=>!e.needsUpgrade)}];if("hobby"===o){let t=d.filter(e=>e.needsUpgrade&&"pro"===e.upgradeType).map(t=>({...t,onClick:()=>{e({teamHint:i,source:"logs-timeline-filter",onConversionSuccess:()=>{x({preset:null,timeline:t.key})}})}}));t.length>0&&u.push({title:"Upgrade to Pro",divider:!0,presets:t})}let p=d.filter(e=>e.needsUpgrade&&"observability-plus"===e.upgradeType).map(e=>({...e,onClick:()=>{s({via:"logs-date-range-select",upgradeUseCase:"retention"})}}));return p.length>0&&u.push({title:"Observability Plus",divider:!0,presets:p}),{presets:u,presetValue:c}})();return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:(0,c.cn)(R.default.filterContent,"[&>*>:first-child]:max-w-[calc(100%_-_40px)]"),"data-testid":(0,p.tid)("logs","timeline-filter"),defaultExpanded:!0,title:"Timeline",children:"maximum"===f&&o?(0,t.jsx)(ea.Skeleton,{height:40,width:"100%"}):(0,t.jsx)(el.Calendar,{allowClear:!1,compact:!0,maxValue:j,minValue:(0,er.sub)(j,a).getTime(),maxDuration:l,value:b||{start:d??h,end:u??m},width:"100%",dataTestId:(0,p.tid)("group-logs","calendar"),onChange:(e,t)=>{g({eventTrigger:"filter click",filter:"timeline",value:[t||"custom"]}),t?x({preset:null,timeline:t}):x({preset:null,startDate:new Date(e.start),endDate:new Date(e.end)})},presets:C,presetKey:y})})}var ep=e.i(9338892),ex=e.i(5869491);function eh(){let{state:{levels:e,deploymentDomains:r,deploymentIds:l,domains:a,routes:o,requestPaths:i,statusCodes:n,requestMethods:d,caches:c,environments:u,branches:x,sources:h,requestTags:m,sessionIds:f,traceIds:g,invocationIds:j},setState:v}=(0,D.useLogsQueryState)(),[y,C]=(0,s.useState)(""),{trackFilterUse:b}=W(),[w,L]=(0,s.useState)(!1),{data:k,isLoading:N}=q({attributeName:"statusCode",levels:e,domains:a,deploymentDomains:r,deploymentIds:l,routes:o,requestPaths:i,requestMethods:d,caches:c,environments:u,branches:x,forceEmpty:!w,sources:h,requestTags:m,sessionIds:f,traceIds:g,invocationIds:j,selectedValues:n}),S=!k,T=(0,s.useMemo)(()=>(k?.rows??[]).reduce((e,t)=>{if("-1"!==t.attributeValue){let s=(e=>{let{attributeValue:t,total:s}=e,r="None"!==t?ex.statusCodes[t]:void 0,l=r?.message??"";return{label:`${t} ${l}`,value:`${t}`,count:s}})(t);e.push(s)}return e},[]),[k?.rows]),M=T.length;n.filter(e=>!T.find(t=>String(t.value)===e)).forEach(e=>{T.push({label:e,value:e,count:0})});let E=(0,s.useMemo)(()=>y?(0,ep.matchSorter)(T,y,{keys:["label"],sorter:e=>e.sort((e,t)=>t.item.count-e.item.count)}):T,[T,y]);return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:n.length,"data-testid":(0,p.tid)("logs","status-filter"),onClearFilter:()=>v({statusCodes:void 0,preset:null}),onExpand:()=>L(!0),title:"Status Code",children:(0,t.jsx)(V.LogFilter,{isFirstLoading:S,isLoading:N,onChange:e=>{v({statusCodes:e.sort(),preset:null}),b({eventTrigger:"filter click",filter:"responseStatusCodes",value:e.sort()})},onSearch:C,options:E,searchId:"search-status",searchLabel:"Search status",searchPlaceholder:"Search status…",selectedOptions:n,showSelectedOptionsAtTop:!0,totalAvailableOptions:M})})}function em(){let{state:{routes:e,levels:r,deploymentDomains:l,deploymentIds:a,environments:o,branches:i,domains:n,sources:d,requestTags:c,requestMethods:u,caches:x,statusCodes:h,requestPaths:m,sessionIds:f,traceIds:g,invocationIds:j},setState:v}=(0,D.useLogsQueryState)(),[y,C]=(0,s.useState)(""),{trackFilterUse:b}=W(),[w,L]=(0,s.useState)(!1),k=(0,s.useMemo)(()=>m.map(e=>e.startsWith('"')&&e.endsWith('"')?e.slice(1,-1):e),[m]),{data:N,isLoading:S}=q({attributeName:"requestPath",attributeNameSearchQuery:y,domains:n,levels:r,deploymentDomains:l,deploymentIds:a,environments:o,branches:i,statusCodes:h,sources:d,requestTags:c,requestMethods:u,caches:x,routes:e,sessionIds:f,traceIds:g,forceEmpty:!w,invocationIds:j,selectedValues:k}),T=!N,M=(0,s.useMemo)(()=>{let e=N?.rows??[];return k.filter(t=>!e.find(e=>e.attributeValue===t)).forEach(t=>{e.push({attributeValue:t,total:0})}),e.map(V.generateFilterOption)},[N,k]),E=N?.availableOptions??0;return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:k.length,"data-testid":(0,p.tid)("logs","request-path-filter"),onClearFilter:()=>v({requestPaths:void 0,preset:null}),onExpand:()=>L(!0),title:"Request Path",children:(0,t.jsx)(V.LogFilter,{isFirstLoading:T,isLoading:S,onChange:e=>{v({requestPaths:e.map(e=>e.includes(",")?`"${e}"`:e).sort(),preset:null}),b({eventTrigger:"filter click",filter:"requestPaths",value:Array(e.length).fill("")})},onSearch:C,options:M,searchId:"search-request-paths",searchLabel:"Search request paths",searchPlaceholder:"Search request paths…",selectedOptions:k,showSelectedOptionsAtTop:!0,totalAvailableOptions:E})})}function ef(e){let{isLoadingEnvs:r,allEnvironments:l}=e,{state:{routes:a,deploymentDomains:o,deploymentIds:i,domains:n,sources:d,requestTags:c,requestPaths:u,levels:p,requestMethods:x,statusCodes:h,caches:m,environments:f,branches:g,sessionIds:j,traceIds:v,invocationIds:y},setState:C}=(0,D.useLogsQueryState)();l=l.filter(e=>"production"===e.id||"preview"===e.id);let{trackFilterUse:b}=W(),[w,L]=(0,s.useState)(!1),{data:k,isLoading:N}=q({attributeName:"environment",domains:n,deploymentDomains:o,deploymentIds:i,sources:d,requestTags:c,routes:a,requestMethods:x,levels:p,statusCodes:h,requestPaths:u,caches:m,branches:g,sessionIds:j,traceIds:v,forceEmpty:!w,invocationIds:y}),S=(0,s.useMemo)(()=>{let e;return e=k?.rows,l.map(t=>{let s=t.name??t.slug,r=e?.find(e=>e.attributeValue===t.id)?.total??0;return{label:s,value:t.id,count:r}}).sort((e,t)=>t.count-e.count)},[k,l]),T=(0,s.useMemo)(()=>N&&!!r,[N,r]),M=S.length;return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:f.length,onClearFilter:()=>C({environments:void 0}),onExpand:()=>L(!0),title:"Environment",children:(0,t.jsx)(V.LogFilter,{hideSearch:!0,isCountLoading:T,onChange:e=>{C({environments:e.sort(),preset:null}),b({eventTrigger:"filter click",filter:"environments",value:e.sort()})},options:S,searchId:"search-environment",searchLabel:"Search environment",searchPlaceholder:"Search environment…",selectedOptions:f,totalAvailableOptions:M})})}function eg(){let{state:{levels:e,deploymentDomains:r,deploymentIds:l,sources:a,requestTags:o,domains:i,routes:n,statusCodes:d,requestMethods:c,requestPaths:u,caches:p,environments:x,branches:h,sessionIds:m,traceIds:f,invocationIds:g},setState:j}=(0,D.useLogsQueryState)(),{trackFilterUse:v}=W(),[y,C]=(0,s.useState)(!1),[b,w]=(0,s.useState)(""),{data:L,isLoading:k}=q({attributeName:"branch",attributeNameSearchQuery:b,deploymentIds:l,deploymentDomains:r,levels:e,sources:a,requestTags:o,domains:i,routes:n,statusCodes:d,requestMethods:c,caches:p,environments:x,requestPaths:u,sessionIds:m,traceIds:f,forceEmpty:!y,invocationIds:g,selectedValues:h}),N=!L,S=(0,s.useMemo)(()=>{let e=L?.rows??[];return h.filter(t=>!e.find(e=>e.attributeValue===t)).forEach(t=>{e.push({attributeValue:t,total:0})}),e.map(V.generateFilterOption)},[L,h]),T=L?.availableOptions??0;return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:h.length,onClearFilter:()=>j({branches:void 0}),onExpand:()=>C(!0),title:"Branch",children:(0,t.jsx)(V.LogFilter,{isFirstLoading:N,isLoading:k,onChange:e=>{j({branches:e.sort(),preset:null}),v({eventTrigger:"filter click",filter:"branches",value:Array(e.length).fill("")})},onSearch:w,options:S,searchId:"search-branches",searchLabel:"Search branches",searchPlaceholder:"Search branches…",selectedOptions:h,showSelectedOptionsAtTop:!0,totalAvailableOptions:T})})}function ej(){let{state:{routes:e,deploymentDomains:r,deploymentIds:l,domains:a,sources:o,requestTags:i,levels:n,requestMethods:d,requestPaths:c,statusCodes:u,environments:p,branches:x,caches:h,sessionIds:m,traceIds:f,invocationIds:g},setState:j}=(0,D.useLogsQueryState)(),[v,y]=(0,s.useState)(!1),{data:C,isLoading:b}=q({attributeName:"cache",domains:a,deploymentDomains:r,deploymentIds:l,sources:o,requestTags:i,routes:e,requestMethods:d,requestPaths:c,levels:n,environments:p,branches:x,statusCodes:u,sessionIds:m,traceIds:f,forceEmpty:!v,invocationIds:g}),w=!C,L=(0,s.useMemo)(()=>{let e=C?.rows??[];return h.filter(t=>!e.find(e=>e.attributeValue===t)).forEach(t=>{e.push({attributeValue:t,total:0})}),e.map(V.generateFilterOption)},[C,h]),k=C?.availableOptions??0,{trackFilterUse:N}=W();return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:R.default.filterContent,count:h.length,onClearFilter:()=>j({caches:void 0,preset:null}),onExpand:()=>y(!0),title:"Cache",children:(0,t.jsx)(V.LogFilter,{hideSearch:!0,isLoading:b,isFirstLoading:w,onChange:e=>{j({preset:null,caches:e.sort()}),N({eventTrigger:"filter click",filter:"vercelCaches",value:e.sort()})},options:L,searchId:"search-cache",searchLabel:"Search cache",searchPlaceholder:"Search cache…",selectedOptions:h,showSelectedOptionsAtTop:!0,totalAvailableOptions:k})})}function ev(){let{state:{levels:e,deploymentDomains:r,deploymentIds:l,sources:a,requestTags:o,domains:i,routes:n,requestMethods:d,requestPaths:c,statusCodes:x,caches:h,environments:m,branches:f,sessionIds:g,traceIds:j,invocationIds:v},setState:y}=(0,D.useLogsQueryState)(),[C,b]=(0,s.useState)(""),{trackFilterUse:w}=W(),[L,k]=(0,s.useState)(!1),{data:N,isLoading:S}=q({attributeName:"requestMethod",levels:e,deploymentDomains:r,deploymentIds:l,sources:a,requestTags:o,routes:n,requestPaths:c,statusCodes:x,caches:h,domains:i,environments:m,branches:f,sessionIds:g,traceIds:j,forceEmpty:!L,invocationIds:v}),T=(0,s.useMemo)(()=>{let e,t=(e=N?.rows,z.REQUEST_METHOD_OPTIONS.map(t=>{let s=e?.find(e=>e.attributeValue===t.value)?.total;return{label:t.label,value:t.value,count:s??0}}).sort((e,t)=>t.count-e.count));return C?(0,ep.matchSorter)(t,C,{keys:["value"],sorter:e=>e.sort((e,t)=>t.item.count-e.item.count)}):t},[C,N]),M=N?.availableOptions??0;return(0,t.jsx)(_.Disclosure,{buttonClassName:R.default.fakeSideBorders,contentClassName:(0,u.clsx)(R.default.filterContent),count:d.length,"data-testid":(0,p.tid)("logs","request-method-filter"),onClearFilter:()=>y({requestMethods:void 0,preset:null}),onExpand:()=>k(!0),title:"Request Method",children:(0,t.jsx)(V.LogFilter,{isCountLoading:S,onChange:e=>{w({eventTrigger:"filter click",filter:"requestMethods",value:e.sort()}),y({requestMethods:e.sort(),preset:null})},onSearch:b,options:T,searchId:"search-request-method",searchLabel:"Search request methods",searchPlaceholder:"Search request methods…",selectedOptions:d,showSelectedOptionsAtTop:!0,totalAvailableOptions:M})})}function ey(e){let{isLoadingEnvs:s,allEnvironments:r}=e,{hasActiveFilters:l}=(0,D.useLogsQueryState)();return(0,t.jsxs)(k.SidebarPortal,{children:[(0,t.jsxs)("div",{className:(0,c.cn)(R.default.titleContainer,"flex flex-row justify-between items-center"),children:[(0,t.jsx)("div",{children:(0,t.jsx)(eL,{})}),(0,t.jsx)("div",{className:"flex flex-row gap-2",children:(0,t.jsx)(e_,{disabled:!l(),size:"small"})})]}),(0,t.jsx)(ek,{allEnvironments:r,isLoadingEnvs:s})]})}function eC(e){let{isLoadingEnvs:r,allEnvironments:l,active:a,...o}=e,i=(0,g.useIsMobile)(),[n,d]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{if(!a){let e=setTimeout(()=>{d(!0)},500);return()=>clearTimeout(e)}let e=requestAnimationFrame(()=>{d(!1)});return()=>cancelAnimationFrame(e)},[a]),(a||!n)&&i)?(0,t.jsx)(eb,{active:a,allEnvironments:l,isLoadingEnvs:r,...o}):null}function eb(e){let{isLoadingEnvs:s,allEnvironments:r,active:l,onDismiss:a}=e,{hasActiveFilters:o}=(0,D.useLogsQueryState)();return(0,t.jsxs)(L.Modal.Modal,{active:l,"data-testid":(0,p.tid)("group-logs","filters-modal"),drawerHeight:"max",drawerVerticalScroll:!0,onClickOutside:a,children:[(0,t.jsx)(L.Modal.Body,{className:R.default.modalBody,children:(0,t.jsxs)("div",{className:R.default.modalMain,children:[(0,t.jsx)("div",{className:(0,u.clsx)("geist-show-on-mobile flex flex-col gap-2",R.default.filterContent,R.default.first),children:(0,t.jsx)(e_,{disabled:!o()})}),(0,t.jsx)(ek,{allEnvironments:r,isLoadingEnvs:s})]})}),(0,t.jsx)(L.Modal.Actions,{children:(0,t.jsx)(L.Modal.Action,{"data-testid":(0,p.tid)("group-logs","filters-modal-apply"),fullWidth:!0,onClick:a,children:"Apply"})})]})}function ew(e){let{onClick:s}=e,{hasActiveFilters:r}=(0,D.useLogsQueryState)();return(0,t.jsxs)("div",{className:(0,u.clsx)("lg:hidden","relative"),children:[(0,t.jsx)(n.Button,{"aria-label":"Log Filters",className:R.default.modalActiveButton,"data-testid":(0,p.tid)("group-logs","filters-modal-button"),passthroughOnClick:s,shape:"square",svgOnly:!0,type:"secondary",children:(0,t.jsx)(w.SettingsSliders,{})}),r()&&(0,t.jsx)("div",{className:R.default.modalActiveButtonDot})]})}function eL(){return(0,t.jsx)("div",{className:(0,c.cn)(R.default.title,"text-heading-14"),children:"Filters"})}function ek(e){let{isLoadingEnvs:s,allEnvironments:r}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eu,{}),(0,t.jsx)(H,{}),(0,t.jsx)(G,{}),(0,t.jsx)(ef,{allEnvironments:r,isLoadingEnvs:s}),(0,t.jsx)(et,{}),(0,t.jsx)(em,{}),(0,t.jsx)(eh,{}),(0,t.jsx)(U,{}),(0,t.jsx)(Z,{}),(0,t.jsx)(ev,{}),(0,t.jsx)(ej,{}),(0,t.jsx)(eg,{}),(0,t.jsx)(ee,{})]})}function e_(e){let{onClick:s,...r}=e,{setState:l}=(0,D.useLogsQueryState)(),a=(0,g.useIsMobile)(),{isDeploymentEditable:o}=(0,X.usePageConfig)();return(0,t.jsx)(n.Button,{onClick:e=>{let t;t={startDate:void 0,endDate:void 0,page:1,timeline:void 0,preset:null,levels:void 0,sources:void 0,domains:void 0,routes:void 0,requestPaths:void 0,requestIds:void 0,searchQuery:a?void 0:"",requestMethods:void 0,statusCodes:void 0,caches:void 0,branches:void 0,environments:void 0,myLogs:void 0,hasTraces:void 0,traceIds:void 0,sessionIds:void 0,invocationIds:void 0},o&&(t.deploymentDomains=void 0,t.deploymentIds=void 0),l(t),s?.(e)},touchEventWorkaround:!0,type:"secondary",...r,children:"Reset"})}var eN=e.i(1098160),eS=e.i(5339191),eT=e.i(7511168),eM=e.i(1201436),eE=e.i(1933683),eD=e.i(4141852),eI=e.i(4333930),eF=e.i(787358),eq=e.i(4796642),eA=e.i(9318476),eR=e.i(8004707),eO=e.i(8713146),eB=e.i(109803),e$=e.i(9138164),eP=e.i(1000031),eW=e.i(1802690),ez=e.i(2560270),eV=e.i(1438473),eH=e.i(7399351),eG=e.i(6942035),eU=e.i(1230902),eZ=e.i(8923565),eQ=e.i(5257834),eX=e.i(9334638);let eJ=(0,eX.withNewIcon)(`<path d="M14.13 5.26096C14.0999 5.22807 14.0679 5.19523 14.0358 5.16429C14.0038 5.13332 13.9737 5.09853 13.9416 5.06759C13.9096 5.03666 13.8794 5.00187 13.8474 4.9709C13.8154 4.93996 13.7852 4.90517 13.7532 4.87423C13.7212 4.8433 13.691 4.80847 13.659 4.77753C13.627 4.7466 13.5968 4.71181 13.5648 4.68087C13.5328 4.64994 13.5026 4.61511 13.4706 4.58417C14.4052 5.52678 14.9406 6.80909 14.961 8.15372C14.961 11.3578 11.7918 13.9644 7.89529 13.9644C5.71341 13.9644 3.76137 13.1464 2.46318 11.8644L3.12265 12.5412C4.41895 13.8773 6.41432 14.7378 8.64895 14.7378C12.5454 14.7378 15.7147 12.1312 15.7147 8.93683C15.7147 7.57169 15.1419 6.27808 14.13 5.26096Z" fill="black" style="fill:black;fill-opacity:1;"/>
<path d="M14.49 8.15373C14.49 11.0948 11.5375 13.479 7.89534 13.479C4.25319 13.479 1.30068 11.0948 1.30068 8.15373C1.30068 6.33028 2.43119 4.71954 4.16841 3.76433C5.90564 2.80909 6.98716 1.83066 7.89534 1.83066C8.80351 1.83066 9.57979 2.62926 11.6222 3.76433C13.3595 4.71954 14.49 6.33028 14.49 8.15373Z" fill="#FBF0DF" style="fill:#FBF0DF;fill:color(display-p3 0.9843 0.9412 0.8745);fill-opacity:1;"/>
<path d="M14.49 8.15373C14.489 7.77591 14.4385 7.39996 14.3394 7.03608C13.825 13.4751 6.17145 13.7845 3.1624 11.8586C4.51507 12.9346 6.18411 13.506 7.89534 13.479C11.5318 13.479 14.49 11.091 14.49 8.15373Z" fill="#F6DECE" style="fill:#F6DECE;fill:color(display-p3 0.9647 0.8706 0.8078);fill-opacity:1;"/>
<path d="M5.35734 3.41046C6.19956 2.89224 7.31875 1.91961 8.41915 1.91768C8.24984 1.86152 8.07322 1.83218 7.89534 1.83066C7.43936 1.83066 6.95325 2.07237 6.34087 2.4359C6.12795 2.56352 5.90751 2.70467 5.67388 2.85163C5.23485 3.13008 4.73179 3.44527 4.16653 3.76046C2.37278 4.75629 1.30068 6.39796 1.30068 8.15373C1.30068 8.23108 1.30068 8.30844 1.30068 8.38384C2.4425 4.24389 4.51699 3.92867 5.35734 3.41046Z" fill="#FFFEFC" style="fill:#FFFEFC;fill:color(display-p3 1.0000 0.9961 0.9882);fill-opacity:1;"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M7.35278 2.31988C7.35542 2.77646 7.26204 3.22825 7.07894 3.64439C6.89587 4.06053 6.62744 4.43122 6.29199 4.73117C6.23925 4.77951 6.2807 4.8723 6.34853 4.84523C6.98349 4.59192 7.84079 3.83392 7.47905 2.30441C7.46397 2.2174 7.35278 2.2406 7.35278 2.31988ZM7.78051 2.31988C8.01106 2.70592 8.15752 3.13856 8.20986 3.58814C8.26224 4.03773 8.21924 4.4936 8.08385 4.92454C8.06123 4.99221 8.14226 5.05022 8.1875 4.99413C8.60011 4.4527 8.95998 3.3776 7.88225 2.2174C7.82759 2.16712 7.74281 2.24447 7.78051 2.31215V2.31988ZM8.30053 2.28701C8.66158 2.54932 8.96359 2.88804 9.18623 3.28031C9.4089 3.67259 9.54698 4.10931 9.59119 4.56099C9.58928 4.57728 9.59355 4.59368 9.60311 4.60682C9.61267 4.61995 9.6268 4.62881 9.64254 4.63153C9.65832 4.63425 9.67447 4.63069 9.68771 4.62149C9.70095 4.61233 9.71026 4.59828 9.71368 4.58228C9.88703 3.90741 9.78904 2.75689 8.36272 2.15939C8.28736 2.12845 8.23837 2.23287 8.30053 2.27928V2.28701ZM4.82235 4.29803C5.25177 4.16636 5.64942 3.94331 5.98932 3.64348C6.32922 3.34364 6.60375 2.97369 6.79506 2.55772C6.82901 2.48811 6.93637 2.51518 6.91941 2.59253C6.59346 4.13947 5.50251 4.46237 4.82422 4.41985C4.75261 4.42177 4.75452 4.31929 4.82235 4.29803Z" fill="#CCBEA7" style="fill:#CCBEA7;fill:color(display-p3 0.8000 0.7451 0.6549);fill-opacity:1;"/>
<path d="M7.89529 13.9644C3.9988 13.9644 0.82959 11.3578 0.82959 8.15375C0.82959 6.2201 1.99401 4.41596 3.94413 3.33506C4.50939 3.02568 4.99362 2.71436 5.42511 2.44171C5.66254 2.29088 5.88672 2.14973 6.10344 2.01824C6.76477 1.61604 7.33003 1.34726 7.89529 1.34726C8.46055 1.34726 8.9542 1.5793 9.5722 1.95443C9.76063 2.06465 9.94903 2.18453 10.1506 2.31602C10.6198 2.61381 11.1492 2.95026 11.8464 3.33506C13.7965 4.41596 14.961 6.21812 14.961 8.15372C14.961 11.3578 11.7918 13.9644 7.89529 13.9644ZM7.89534 1.83066C7.43936 1.83066 6.95325 2.07237 6.34087 2.4359C6.12795 2.56352 5.90751 2.70467 5.67388 2.85163C5.23485 3.13008 4.73179 3.44527 4.16653 3.76046C2.37278 4.75629 1.30068 6.39796 1.30068 8.15373C1.30068 11.091 4.2588 13.481 7.89529 13.481C11.5317 13.481 14.49 11.091 14.49 8.15373C14.49 6.39796 13.4179 4.75629 11.6222 3.76433C10.91 3.37759 10.3541 3.01408 9.90382 2.72789C9.69843 2.59834 9.51004 2.47845 9.33856 2.3721C8.76764 2.02404 8.35128 1.83066 7.89534 1.83066Z" fill="black" style="fill:black;fill-opacity:1;"/>
<path d="M9.22342 9.56532C9.13879 9.92111 8.94609 10.24 8.67324 10.4761C8.46837 10.6799 8.20317 10.8078 7.91955 10.8396C7.62743 10.8128 7.35293 10.6846 7.1414 10.4761C6.87131 10.2389 6.68137 9.92012 6.59876 9.56532C6.596 9.54428 6.59802 9.52284 6.60461 9.50268C6.61115 9.48253 6.62215 9.46421 6.63672 9.44909C6.65125 9.43398 6.66897 9.42246 6.68854 9.41547C6.70807 9.40849 6.72893 9.40617 6.74949 9.40871H9.07456C9.09498 9.40646 9.11561 9.40904 9.13492 9.41617C9.15423 9.42331 9.1717 9.43486 9.18605 9.44994C9.20036 9.46502 9.21117 9.48323 9.21765 9.50324C9.22412 9.52321 9.22611 9.54443 9.22342 9.56532Z" fill="#B71422" style="fill:#B71422;fill:color(display-p3 0.7176 0.0784 0.1333);fill-opacity:1;"/>
<path d="M7.14176 10.4916C7.35285 10.7002 7.62636 10.8297 7.91804 10.8589C8.20905 10.8292 8.48186 10.6998 8.69244 10.4916C8.75982 10.4271 8.82275 10.358 8.88087 10.2847C8.76479 10.1495 8.62299 10.0402 8.46424 9.96337C8.30546 9.88653 8.13306 9.84387 7.95761 9.83798C7.76988 9.84254 7.58608 9.89385 7.42196 9.9875C7.25784 10.0811 7.11837 10.2143 7.01553 10.3755C7.05886 10.4162 7.09656 10.4548 7.14176 10.4916Z" fill="#FF6164" style="fill:#FF6164;fill:color(display-p3 1.0000 0.3804 0.3922);fill-opacity:1;"/>
<path d="M7.17169 10.3388C7.26507 10.2149 7.38465 10.1143 7.52141 10.0446C7.65816 9.97496 7.80849 9.938 7.96117 9.93656C8.24332 9.9451 8.51215 10.0617 8.71482 10.2633C8.75815 10.215 8.7996 10.1647 8.83918 10.1144C8.59948 9.88018 8.28271 9.74696 7.95171 9.74125C7.77487 9.74284 7.60052 9.78454 7.44122 9.86344C7.28192 9.94234 7.1416 10.0565 7.03037 10.1976C7.07491 10.2473 7.1221 10.2944 7.17169 10.3388Z" fill="black" style="fill:black;fill-opacity:1;"/>
<path d="M7.91204 10.9556C7.59808 10.9274 7.30261 10.7911 7.07357 10.5689C6.78189 10.3157 6.57661 9.97363 6.4876 9.59239C6.4812 9.55848 6.48231 9.5235 6.49077 9.49003C6.49922 9.45659 6.51489 9.42548 6.53659 9.39903C6.56242 9.36703 6.595 9.3415 6.6319 9.32444C6.66883 9.30733 6.70903 9.29913 6.74949 9.30042H9.07456C9.11499 9.29954 9.15508 9.30796 9.1919 9.32503C9.22875 9.34205 9.26138 9.36736 9.28749 9.39903C9.30897 9.42559 9.32435 9.45674 9.33251 9.49021C9.34064 9.52368 9.34138 9.55863 9.33457 9.59239C9.24556 9.97363 9.04028 10.3157 8.7486 10.5689C8.52008 10.7907 8.22535 10.927 7.91204 10.9556ZM6.74949 9.52471C6.71933 9.52471 6.71182 9.53825 6.70991 9.54211C6.78958 9.8727 6.96974 10.1687 7.2243 10.3871C7.41045 10.5753 7.65248 10.6944 7.91204 10.7255C8.17091 10.6948 8.41268 10.5772 8.59975 10.391C8.85354 10.1722 9.033 9.87627 9.11226 9.54601C9.10814 9.53979 9.10244 9.5349 9.09579 9.53185C9.08917 9.52876 9.08181 9.52766 9.07456 9.52857L6.74949 9.52471Z" fill="black" style="fill:black;fill-opacity:1;"/>
<path d="M10.7631 9.68522C11.3718 9.68522 11.8653 9.3874 11.8653 9.02002C11.8653 8.65265 11.3718 8.35483 10.7631 8.35483C10.1543 8.35483 9.66084 8.65265 9.66084 9.02002C9.66084 9.3874 10.1543 9.68522 10.7631 9.68522Z" fill="#FEBBD0" style="fill:#FEBBD0;fill:color(display-p3 0.9961 0.7333 0.8157);fill-opacity:1;"/>
<path d="M5.05995 9.68522C5.66872 9.68522 6.16222 9.3874 6.16222 9.02002C6.16222 8.65265 5.66872 8.35483 5.05995 8.35483C4.45121 8.35483 3.95772 8.65265 3.95772 9.02002C3.95772 9.3874 4.45121 9.68522 5.05995 9.68522Z" fill="#FEBBD0" style="fill:#FEBBD0;fill:color(display-p3 0.9961 0.7333 0.8157);fill-opacity:1;"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.57759 8.75319C5.78302 8.7536 5.98392 8.69144 6.15492 8.57458C6.32588 8.45773 6.45925 8.29147 6.53811 8.09682C6.61697 7.90218 6.63782 7.68789 6.59795 7.48106C6.55812 7.27428 6.4594 7.08426 6.31426 6.93504C6.16915 6.78585 5.98418 6.68419 5.78272 6.64292C5.58127 6.60165 5.37246 6.62265 5.18263 6.70321C4.99284 6.78379 4.83056 6.92036 4.71643 7.09563C4.60226 7.27086 4.54131 7.47694 4.54131 7.68774C4.54131 7.97 4.65044 8.24071 4.84472 8.44044C5.039 8.6402 5.30258 8.75268 5.57759 8.75319ZM10.2447 8.75319C10.4504 8.75474 10.6518 8.69353 10.8236 8.57741C10.9953 8.46126 11.1295 8.29541 11.2093 8.10087C11.289 7.90633 11.3106 7.69186 11.2714 7.48467C11.2322 7.27748 11.1339 7.08691 10.9891 6.93714C10.8442 6.78736 10.6592 6.68511 10.4576 6.64336C10.256 6.60165 10.0469 6.62229 9.85673 6.70269C9.66661 6.7831 9.50399 6.91967 9.3896 7.09504C9.27518 7.27042 9.21408 7.47669 9.21408 7.68774C9.21357 7.96916 9.32178 8.23928 9.51495 8.43897C9.70813 8.63869 9.97053 8.75165 10.2447 8.75319Z" fill="black" style="fill:black;fill-opacity:1;"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M5.25759 7.75539C5.33479 7.7558 5.41042 7.73262 5.47479 7.68889C5.53919 7.64512 5.58947 7.58277 5.61926 7.50965C5.64909 7.43657 5.65707 7.35602 5.64225 7.27822C5.62739 7.20047 5.59039 7.12896 5.53592 7.0728C5.48144 7.01663 5.41196 6.97831 5.33627 6.96271C5.26053 6.94711 5.18204 6.95491 5.11065 6.98515C5.03929 7.01538 4.97827 7.06669 4.93531 7.13257C4.89239 7.19841 4.86943 7.27587 4.86943 7.35513C4.86943 7.46095 4.91026 7.56247 4.98302 7.63747C5.05577 7.7125 5.15449 7.75488 5.25759 7.75539ZM9.9247 7.75539C10.0019 7.7558 10.0775 7.73262 10.1419 7.68889C10.2063 7.64512 10.2566 7.58277 10.2864 7.50965C10.3162 7.43657 10.3242 7.35602 10.3094 7.27822C10.2945 7.20047 10.2575 7.12896 10.2031 7.0728C10.1486 7.01663 10.0791 6.97831 10.0034 6.96271C9.92768 6.94711 9.84915 6.95491 9.77779 6.98515C9.7064 7.01538 9.64538 7.06669 9.60242 7.13257C9.55949 7.19841 9.53658 7.27587 9.53658 7.35513C9.53658 7.46029 9.57689 7.56122 9.6488 7.63614C9.72074 7.71103 9.81847 7.75388 9.92095 7.75539H9.9247Z" fill="white" style="fill:white;fill-opacity:1;"/>`),eK=(0,eX.withNewIcon)(`<path d="M6.71709 5.81132H8.67935C9.8869 5.81132 9.8869 7.01887 8.67935 7.01887H6.71709V5.81132ZM2.03784 11.3962H8.07558V9.73585H6.71709V8.5283H8.22652C9.8869 8.5283 8.98124 11.3962 10.3397 11.3962H14.1133V8.5283H13.2077V8.83019C13.2077 10.0377 11.8492 9.88679 11.6982 9.13208C11.5473 8.37736 10.9435 7.77359 10.7926 7.77359C13.0567 6.56604 11.6982 4.15094 9.8869 4.15094H2.79256V5.81132H4.30199V9.73585H2.03784V11.3962Z" fill="currentColor" stroke="currentColor" stroke-width="0.150943" stroke-linejoin="round"/>
  <path d="M8.00009 14.4906C11.5847 14.4906 14.4907 11.5846 14.4907 8C14.4907 4.41536 11.5847 1.50943 8.00009 1.50943C4.41545 1.50943 1.50952 4.41536 1.50952 8C1.50952 11.5846 4.41545 14.4906 8.00009 14.4906Z" stroke="currentColor" stroke-width="1.35849" fill="transparent" />
  <path d="M14.9436 8.45283L15.6983 8L14.9436 7.54717V8.45283Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M14.7218 9.79872L15.5503 9.50183L14.8984 8.91046L14.7218 9.79872Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M14.2418 11.0755L15.1124 10.9459L14.5884 10.2388L14.2418 11.0755Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M13.5217 12.2341L14.4008 12.2768L14.0249 11.481L13.5217 12.2341Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M12.5896 13.2299L13.4434 13.4434L13.23 12.5895L12.5896 13.2299Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M11.4811 14.0248L12.2769 14.4007L12.2341 13.5216L11.4811 14.0248Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M10.239 14.5882L10.9461 15.1121L11.0757 14.2416L10.239 14.5882Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M8.91057 14.8983L9.50194 15.5502L9.79883 14.7216L8.91057 14.8983Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M7.54722 14.9434L8.00005 15.6981L8.45288 14.9434H7.54722Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M6.20134 14.7216L6.49823 15.5502L7.0896 14.8983L6.20134 14.7216Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M4.92475 14.2416L5.0543 15.1121L5.76147 14.5882L4.92475 14.2416Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M3.76601 13.5216L3.72323 14.4007L4.51904 14.0248L3.76601 13.5216Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M2.77025 12.5895L2.55678 13.4434L3.41064 13.2299L2.77025 12.5895Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M1.97536 11.481L1.59941 12.2768L2.47852 12.2341L1.97536 11.481Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M1.41196 10.2388L0.887987 10.9459L1.75854 11.0755L1.41196 10.2388Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M1.10188 8.91046L0.450006 9.50183L1.27856 9.79872L1.10188 8.91046Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M1.05664 7.54717L0.301924 8L1.05664 8.45284V7.54717Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M1.27849 6.20128L0.449934 6.49817L1.10181 7.08954L1.27849 6.20128Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M1.75845 4.92452L0.887888 5.05406L1.41187 5.76124L1.75845 4.92452Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M2.4785 3.76594L1.5994 3.72316L1.97534 4.51897L2.4785 3.76594Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M3.41066 2.77008L2.5568 2.55661L2.77026 3.41048L3.41066 2.77008Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M4.51914 1.9752L3.72333 1.59925L3.76611 2.47836L4.51914 1.9752Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M5.76128 1.41185L5.0541 0.887872L4.92456 1.75843L5.76128 1.41185Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M7.08967 1.10168L6.49831 0.449804L6.20142 1.27836L7.08967 1.10168Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M8.45302 1.05661L8.00019 0.301889L7.54736 1.05661L8.45302 1.05661Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M9.7989 1.27836L9.50201 0.449804L8.91064 1.10168L9.7989 1.27836Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M11.0755 1.75843L10.9459 0.887873L10.2388 1.41185L11.0755 1.75843Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M12.2342 2.47835L12.277 1.59925L11.4812 1.9752L12.2342 2.47835Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M13.23 3.41048L13.4435 2.55661L12.5896 2.77008L13.23 3.41048Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M14.0249 4.51897L14.4008 3.72316L13.5217 3.76594L14.0249 4.51897Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M14.5883 5.76124L15.1123 5.05406L14.2417 4.92452L14.5883 5.76124Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M14.8984 7.08954L15.5502 6.49817L14.7217 6.20128L14.8984 7.08954Z" fill="currentColor" stroke="currentColor" stroke-width="0.45283" stroke-linejoin="round"/>
  <path d="M6.94336 1.66038L7.99996 2.71698L9.05657 1.66038H6.94336Z" fill="currentColor" stroke="currentColor" stroke-width="0.90566" stroke-linejoin="round"/>
  <path d="M13.7026 5.03606L13.0243 6.36746L14.3557 7.04584L13.7026 5.03606Z" fill="currentColor" stroke="currentColor" stroke-width="0.90566" stroke-linejoin="round"/>
  <path d="M12.5811 12.5078L11.1052 12.2741L10.8714 13.7499L12.5811 12.5078Z" fill="currentColor" stroke="currentColor" stroke-width="0.90566" stroke-linejoin="round"/>
  <path d="M5.12842 13.7499L4.89466 12.274L3.4188 12.5078L5.12842 13.7499Z" fill="currentColor" stroke="currentColor" stroke-width="0.90566" stroke-linejoin="round"/>
  <path d="M1.64404 7.04584L2.97544 6.36746L2.29706 5.03606L1.64404 7.04584Z" fill="currentColor" stroke="currentColor" stroke-width="0.90566" stroke-linejoin="round"/>`);var eY=e.i(57106),e0=e.i(9031150),e1=e.i(1637579),e2=e.i(4837983),e3=e.i(9307255),e4=e.i(545405),e5=e.i(9459801),e9=e.i(1542949),e8=e.i(9375869),e6=e.i(349746);function e7(){return(0,t.jsxs)("svg",{fill:"none",height:"48",viewBox:"0 0 48 48",width:"48",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("rect",{fill:"#FAFAFA",height:"48",rx:"24",width:"48"}),(0,t.jsx)("path",{d:"M29 30.6667V22.3333",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M24 30.6667V17.3333",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M19 30.6667V25.6667",stroke:"black",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]})}var te=e.i(8300708),tt=e.i(7827812);function ts(){let e=(0,m.useSearchParams)();return(0,I.tokenizeSearchQuery)(e?.get("searchQuery")??"")}var tr=e.i(3219703),tl=e.i(8735244),ta=e.i(1286423),to=e.i(516467);function ti(e){return+(0,to.toDate)(e)>Date.now()}var tn=e.i(277234),td=e.i(854682),tc=e.i(5797774),tu=e.i(2988836),tp=e.i(6982071),tx=e.i(4569307),th=e.i(4099936),tm=e.i(8313680);function tf(e){let{type:s,className:r}=e,l={className:r};return"blob"===s?(0,t.jsx)(th.Blob,{...l}):"edge-config"===s?(0,t.jsx)(tm.EdgeConfig,{...l}):null}function tg(e){let{requestMethod:s,icon:r}=e;return(0,t.jsxs)("span",{className:"inline-flex flex-row items-center gap-1 rounded-sm border border-gray-300 px-1 font-mono text-xs font-medium uppercase text-gray-800",children:[r,s]})}function tj(e){let{statusCode:s,reason:r}=e,l=(0,tx.getStatusCodeType)(s),a=null,o=null,i={fill:"none",height:"6",viewBox:"0 0 6 6",width:"6",xmlns:"http://www.w3.org/2000/svg"};return l===tx.StatusType["2XX"]?a=(0,t.jsx)("svg",{...i,children:(0,t.jsx)("circle",{cx:"3",cy:"3",fill:"#46A758",r:"2"})}):l===tx.StatusType["3XX"]?a=(0,t.jsx)("svg",{...i,children:(0,t.jsx)("circle",{cx:"3",cy:"3",fill:"#0070F3",r:"2"})}):l===tx.StatusType["4XX"]?a=(0,t.jsx)("svg",{...i,children:(0,t.jsx)("path",{d:"M3 0.5L5.59808 5H0.401924L3 0.5Z",fill:"#FF990A"})}):l===tx.StatusType["5XX"]?a=(0,t.jsx)("svg",{...i,children:(0,t.jsx)("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"#CA2A30"})}):-1===s&&(r?(a=(0,t.jsxs)("svg",{fill:"none",height:"8",viewBox:"0 0 8 8",width:"8",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"4",cy:"4",r:"2.5",stroke:"var(--ds-red-900)"}),(0,t.jsx)("line",{stroke:"var(--ds-red-900)",x1:"0.896447",x2:"7.26041",y1:"7.14645",y2:"0.782486"})]}),o=`Fetch failed with reason: ${r}`):(a=(0,t.jsxs)("svg",{fill:"none",height:"8",viewBox:"0 0 8 8",width:"8",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("circle",{cx:"4",cy:"4",r:"2.5",stroke:"var(--ds-gray-800)"}),(0,t.jsx)("line",{stroke:"var(--ds-gray-800)",x1:"0.896447",x2:"7.26041",y1:"7.14645",y2:"0.782486"})]}),o="Timed out while waiting for a response")),(0,t.jsx)(tc.ContextCard.Trigger,{content:o??(0,t.jsx)(tr.StatusCodeBadge,{full:!0,monochrome:!0,statusCode:s}),side:"top",className:"inline-flex items-center",children:a})}var tv=e.i(3617058);function ty(e){let{className:s}=e;return(0,t.jsxs)("div",{className:(0,tv.twMerge)("flex items-center text-gray-300",s),children:[(0,t.jsx)("div",{className:"absolute h-[7px] w-full border-x border-current"}),(0,t.jsx)("div",{className:"absolute h-px w-full bg-current"})]})}function tC(e){let{startTime:s,endTime:r,className:l,traces:a}=e;return(0,t.jsx)("div",{className:(0,tv.twMerge)("relative flex items-center text-gray-600",l),children:(0,t.jsxs)("div",{className:"relative mx-0.5 flex size-full items-center",children:[(0,t.jsx)(ty,{}),a.map((e,l)=>{let{traceStart:a,traceEnd:o,className:i}=e,n=(a-s)/(r-s)*100,d=(o-a)/(r-s)*100,c=`${n.toString()+d.toString()+l.toString()}`;return(0,t.jsxs)("div",{className:"relative ml-px mr-[2px] flex w-full",children:[(0,t.jsx)("div",{style:{width:`${n}%`}}),(0,t.jsx)(tc.ContextCard.Trigger,{content:`Started after ${a-s}ms`,side:"top",className:"inline-flex items-center",children:(0,t.jsx)("div",{className:(0,u.clsx)("absolute my-6 mr-1 h-[5px] min-w-[2px] rounded-[1px] bg-current",i),style:{width:`${d}%`}})})]},c)})]})})}var tb=e.i(3848869),tw=e.i(7432042);let tL=["cache-get","cache-set","fetch-set","fetch-get"],tk={"cache-get":"GET","cache-set":"SET","fetch-get":"GET","fetch-set":"SET"};function t_(e){let{fetchType:s}=e;return tL.includes(s)?(0,t.jsxs)("span",{className:"relative inline-flex items-center gap-1 rounded-sm bg-gray-100 px-1 py-px font-mono text-xs uppercase text-gray-800",children:[(0,t.jsx)("svg",{fill:"none",height:"13",viewBox:"0 0 12 13",width:"12",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{clipRule:"evenodd",d:"M2.47653 1.08941C3.40636 0.717474 4.65234 0.5 6 0.5C7.34766 0.5 8.59364 0.717474 9.52347 1.08941C9.98683 1.27475 10.3995 1.50951 10.7056 1.79898C11.0129 2.08957 11.25 2.47411 11.25 2.9375V6.5V10.0625C11.25 10.5259 11.0129 10.9104 10.7056 11.201C10.3995 11.4905 9.98683 11.7253 9.52347 11.9106C8.59364 12.2825 7.34766 12.5 6 12.5C4.65234 12.5 3.40636 12.2825 2.47653 11.9106C2.01317 11.7253 1.60045 11.4905 1.29437 11.201C0.987098 10.9104 0.75 10.5259 0.75 10.0625V6.5V2.9375C0.75 2.47411 0.987098 2.08957 1.29437 1.79898C1.60045 1.50951 2.01317 1.27475 2.47653 1.08941ZM1.875 4.49811V6.5C1.875 6.55438 1.90024 6.66309 2.06737 6.82115C2.23568 6.98033 2.50943 7.14959 2.89434 7.30356C3.66105 7.61024 4.75882 7.8125 6 7.8125C7.24118 7.8125 8.33895 7.61024 9.10566 7.30356C9.49057 7.14959 9.76432 6.98033 9.93263 6.82115C10.0998 6.66309 10.125 6.55438 10.125 6.5V4.49811C9.93882 4.60473 9.7365 4.70038 9.52347 4.78559C8.59364 5.15753 7.34766 5.375 6 5.375C4.65234 5.375 3.40636 5.15753 2.47653 4.78559C2.2635 4.70038 2.06118 4.60473 1.875 4.49811ZM10.125 2.9375C10.125 2.99188 10.0998 3.10059 9.93263 3.25865C9.76432 3.41783 9.49057 3.58709 9.10566 3.74106C8.33895 4.04774 7.24118 4.25 6 4.25C4.75882 4.25 3.66105 4.04774 2.89434 3.74106C2.50943 3.58709 2.23568 3.41783 2.06737 3.25865C1.90024 3.10059 1.875 2.99188 1.875 2.9375C1.875 2.88312 1.90024 2.77441 2.06737 2.61635C2.23568 2.45717 2.50943 2.28791 2.89434 2.13394C3.66105 1.82726 4.75882 1.625 6 1.625C7.24118 1.625 8.33895 1.82726 9.10566 2.13394C9.49057 2.28791 9.76432 2.45717 9.93263 2.61635C10.0998 2.77441 10.125 2.88312 10.125 2.9375ZM10.125 8.06061C9.93882 8.16723 9.7365 8.26288 9.52347 8.34809C8.59364 8.72003 7.34766 8.9375 6 8.9375C4.65234 8.9375 3.40636 8.72003 2.47653 8.34809C2.2635 8.26288 2.06118 8.16723 1.875 8.06061V10.0625C1.875 10.1169 1.90024 10.2256 2.06737 10.3836C2.23568 10.5428 2.50943 10.7121 2.89434 10.8661C3.66105 11.1727 4.75882 11.375 6 11.375C7.24118 11.375 8.33895 11.1727 9.10566 10.8661C9.49057 10.7121 9.76432 10.5428 9.93263 10.3836C10.0998 10.2256 10.125 10.1169 10.125 10.0625V8.06061Z",fill:"#8F8F8F",fillRule:"evenodd"})}),tk[s]]}):null}function tN(e){let{title:s,children:r}=e;return(0,t.jsxs)("div",{className:"flex flex-1 flex-col items-start gap-1",children:[(0,t.jsx)("div",{className:"text-gray-700",children:s}),(0,t.jsx)("div",{children:r})]})}function tS(e){let{cache:s}=e,r=s.hit?"HIT":"MISS";return(0,t.jsxs)("div",{className:"flex flex-col gap-1 gap-y-2 p-2 max-w-[300px]",children:["VSC_GET"===s.type?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tN,{title:"Cache Status",children:s.stale>0?"Stale":r}),s.revalidated>0?(0,t.jsx)(tN,{title:"Revalidated",children:"YES"}):null,0!==s.age?(0,t.jsx)(tN,{title:"Age",children:(0,tw.default)(1e3*s.age)}):null]}):null,s.revalidate_after>0?(0,t.jsxs)(tN,{title:"Revalidate After",children:[(0,tb.formatDistanceStrict)(0,1e3*s.revalidate_after)," ",s.revalidate_after>1e3&&s.revalidate_after<1e5?(0,t.jsxs)("span",{className:"text-gray-700",children:["(",s.revalidate_after,"s)"]}):null]}):null,s.tags.length>0?(0,t.jsx)(tN,{title:"Tags",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:s.tags.map(e=>(0,t.jsx)(Q.Badge,{className:"normal-case",size:"sm",variant:"blue",children:e},e))})}):null]})}let tT="inline-block flex-1 truncate bg-transparent p-0 text-left text-[12px] font-mono";function tM(e){let s,{request:r,additionalMetrics:l,startTime:a,endTime:o,createCopyHandler:i,longestMethodLength:n,shouldConnectToNext:d,lite:c,plan:p,onUpgradePressed:x}=e,h=(0,m.useParams)(),f=(0,tx.getStatusCodeType)(r.http_status),g=`${r.request_hostname}${r.request_path}`,{isRuntimeCache:j,requestType:v,requestAction:y}=(0,tx.resolveRuntimeCacheProps)(g,r),{store:C,isStore:b,isLoading:w}=(0,tx.useGetStoreFromHostname)(r.request_hostname,r.request_path),L=g;g.endsWith("_vercel/insights/event")&&(L="Web Analytics Event"),tx.SUSPENSE_CACHE_HOSTNAME_REGEX.test(g)&&(L="revalidate"===y?"Revalidate Cache":"invalidate"===y?"Invalidate Cache":"dangerously-delete"===y?"Dangerously Delete Cache":j?r.cache_item_id||"Runtime Cache":"Data Cache"),(tx.readFromCache.includes(r.fetch_type)||j&&"cache-get"===v)&&d&&(L=`Reading Cache${404===r.http_status?" (Miss)":""}`),(tx.writeToCache.includes(r.fetch_type)||j&&"cache-set"===v)&&(L="Updating Cache"),!w&&b&&C&&h&&(L=`${C.name}`,s=`/${h.teamSlug}/~/stores/${C.type}/${C.id}`);let k=tL.includes(r.fetch_type)||j&&!y&&!!v,_=!k,N=_?i(g):void 0,S=!d&&(tx.readFromCache.includes(r.fetch_type)||j&&"cache-get"===v),T=(0,t.jsxs)(t.Fragment,{children:[S?(0,t.jsx)("span",{className:"border-indigo-500 mr-1 border-r pr-1 text-gray-900",children:"Using cache"}):null,(0,t.jsx)("span",{className:(0,u.clsx)("truncate",s&&"hover:underline",S?"text-gray-700":"text-gray-900"),children:w?(0,t.jsx)(ea.Skeleton,{as:"span",height:15,width:36}):L})]}),M=k&&r.cache?(0,t.jsx)(tc.ContextCard.Trigger,{className:"inline-flex items-center w-auto",content:(0,t.jsx)(tS,{cache:r.cache}),side:"top",children:(0,t.jsx)(tu.InformationFillSmall,{className:"ml-2"})}):null;return(0,t.jsxs)("div",{className:(0,u.clsx)("grid-cols-[8fr,1fr]","group relative grid h-[24px] w-full  items-center gap-2 border-none bg-transparent transition-opacity duration-200 ease-in-out"),children:[(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-1 truncate",children:[(0,t.jsxs)("div",{className:"flex items-center",style:{...n&&{minWidth:`calc(${n}ch + 1px)`}},children:[d?(0,t.jsx)("div",{className:"absolute bottom-1 left-[9.5px] h-2 w-[1.5px] translate-y-full bg-gray-300"}):null,k?(0,t.jsx)(t_,{fetchType:j?v||"":r.fetch_type}):(0,t.jsx)(tg,{icon:C?(0,t.jsx)(tf,{className:"size-3",type:C.type}):void 0,requestMethod:r.request_method})]}),s?(0,t.jsx)(eY.Link,{className:(0,u.clsx)(tT,"no-underline cursor-pointer"),href:s,children:T}):_?(0,t.jsxs)("button",{className:(0,u.clsx)(tT,"flex cursor-pointer"),onClick:N,onKeyPress:N,type:"button",children:[T,M]}):(0,t.jsxs)("div",{className:(0,u.clsx)(tT,"flex"),children:[T,M]}),"hobby"!==p&&(0,t.jsx)("div",{className:"flex gap-1",children:c?(0,t.jsx)(t.Fragment,{children:-1===r.http_status?(0,t.jsx)(tc.ContextCard.Trigger,{className:"inline-flex items-center w-auto",content:(0,t.jsx)("span",{children:"Timed out while waiting for a response"}),side:"top",children:(0,t.jsx)("span",{className:"relative text-xs tabular-nums text-red-900",children:"Timeout"})}):(0,t.jsx)(tr.StatusCodeBadge,{statusCode:r.http_status,variant:"small"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(tj,{reason:r.reason,statusCode:r.http_status}),(0,t.jsx)("span",{className:"relative text-xs tabular-nums text-gray-1000",children:(0,tx.formatMilliseconds)(r.duration)})]})})]}),c?(0,t.jsx)(tc.ContextCard.Trigger,{className:"inline-flex items-center w-auto",content:(0,t.jsx)("span",{className:"text-sm",children:"hobby"===p?"Unlock external API insights with Pro & Observability Plus":"Unlock latency insights with Observability Plus"}),side:"top",children:(0,t.jsxs)("button",{"aria-label":"Upgrade to Observability Plus to unlock latency insights",className:"group/lock relative flex h-4 w-full cursor-pointer appearance-none items-center border-none bg-transparent p-0 text-gray-500 focus:outline-none",onClick:()=>{x&&x()},type:"button",children:[(0,t.jsx)("div",{className:"absolute left-1/2 z-10 mx-auto mb-0.5 flex size-4 -translate-x-1/2 justify-center rounded-sm px-1 transition-colors duration-100 ease-in-out group-hover/lock:bg-gray-300 group-hover/lock:text-gray-800",children:(0,t.jsx)(tp.LockClosedSmall,{})}),(0,t.jsx)(ty,{className:"transition-colors duration-100 ease-in-out group-hover/lock:text-gray-500"})]})}):(0,t.jsx)(tC,{className:(0,u.clsx)("min-w-[20px] flex-1",f===tx.StatusType["2XX"]&&"text-green-800",f===tx.StatusType["3XX"]&&"text-blue-700",f===tx.StatusType["4XX"]&&"text-amber-800",f===tx.StatusType["5XX"]&&"text-red-800",-1===r.http_status&&(r.reason?"text-red-900":"text-gray-800")),endTime:o,startTime:a,traces:l?l.map(e=>{let t=(0,tx.getStatusCodeType)(e.http_status);return{className:(0,u.clsx)(t===tx.StatusType["2XX"]&&"!bg-green-800",t===tx.StatusType["3XX"]&&"!bg-blue-700",t===tx.StatusType["4XX"]&&"!bg-amber-800",t===tx.StatusType["5XX"]&&"!bg-red-800"),traceStart:e.timestamp,traceEnd:e.timestamp+e.duration}}):[{traceStart:r.timestamp,traceEnd:r.timestamp+r.duration}]})]})}function tE(e){let{requests:r,startTime:l,endTime:a,createCopyHandler:o,longestMethodLength:i}=e,[n,d]=(0,s.useState)(!1),c={startTime:l,endTime:a,createCopyHandler:o,longestMethodLength:i};return 1===r.length?(0,t.jsx)(tM,{...c,request:r[0]}):(0,t.jsx)(t.Fragment,{children:r.map((e,t)=>(0,s.createElement)(tM,{...c,key:t,request:e,shouldConnectToNext:(0,tx.checkIfShouldConnectToNext)(r,t)}))})}function tD(e){let{requests:r,startTime:l,endTime:a,className:o}=e,i=(0,d.useToasts)(),n=(0,g.useIsMobile)(),c=(0,s.useCallback)(e=>t=>{n||"key"in t&&"Enter"!==t.key||((0,e4.copyToClipboard)(e),i.message("Request path copied to clipboard"))},[i,n]),{startTime:p,endTime:x}=(0,s.useMemo)(()=>({startTime:Math.min(...r.map(e=>e.timestamp),l),endTime:Math.max(...r.map(e=>e.timestamp+e.duration),a),totalTime:a-l}),[a,r,l]),h=(0,s.useMemo)(()=>{let e=!1,t=!1,s=r.reduce((s,r)=>(tL.includes(r.fetch_type)&&(e=!0),r.request_hostname.includes(".vercel-storage.com")&&(t=!0),r.request_method.length>s)?r.request_method.length:s,0);return t?s+2:e?s+1:s},[r]),m=(0,s.useMemo)(()=>{let e={};return r.forEach((t,s)=>{let r=-1===t.fetch_idx?`${t.request_hostname}${t.request_path}-${t.fetch_idx}-${s}`:`${t.fetch_idx}`;e[r]||(e[r]=[]),e[r].push(t)}),Object.values(e).sort((e,t)=>e[0].timestamp-t[0].timestamp)},[r]);return(0,t.jsx)("div",{className:(0,u.clsx)("relative",o),children:m.map(e=>(0,t.jsx)(tE,{createCopyHandler:c,endTime:x,longestMethodLength:Math.max(h,3),requests:e,startTime:p},`${e[0].timestamp}${e[0].fetch_idx}${e[0].request_path}${e[0].request_hostname}`))})}function tI(e){let{requests:r,className:l,plan:a,onUpgradePressed:o}=e,i=(0,d.useToasts)(),n=(0,g.useIsMobile)(),c=(0,s.useCallback)(e=>t=>{n||"key"in t&&"Enter"!==t.key||((0,e4.copyToClipboard)(e),i.message("Request path copied to clipboard"))},[i,n]);return(0,t.jsx)("div",{className:(0,u.clsx)("relative",l),children:r.map(e=>(0,t.jsx)(tM,{createCopyHandler:c,endTime:0,lite:!0,longestMethodLength:4,onUpgradePressed:o,plan:a,request:e,startTime:0},`${e.fetch_idx}${e.request_path}${e.request_hostname}`))})}function tF(e){let{projectId:r,requestId:l,source:a,startTime:o,endTime:i,enableDataCacheMetrics:n,disableHeader:d,pathType:c}=e,{team:p}=(0,f.useAccount)(),x=p?.billing?.plan,{hasObservabilityPlusAccessOnCurrentProject:h}=(0,td.useHasObservabilityPlus)(),m=(0,ed.useOpenEnableModal)(),{loading:g,data:j,isAwaitingData:v}=function(e){let{requestId:t,projectId:s,source:r,timestamp:l,pathType:a}=e,{team:o}=(0,f.useAccount)(),i=o?.billing?.plan,n=(0,ta.addSeconds)(new Date(l),20),d=(0,N.default)(()=>o&&s&&t&&i?`${T.API_LOGS_FETCH_METRICS}${(0,S.encode)({ownerId:o.id,requestId:t,projectId:s,source:r,pathType:a})}`:null,e=>(0,tn.fetchAPI)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1,refreshInterval:()=>1e3*!!ti(n)});return{data:d.data?.data,loading:d.isValidating,error:d.error,isAwaitingData:ti(n)}}({projectId:r,requestId:l,source:"request"!==a?a:void 0,timestamp:o.getTime(),pathType:c}),y=j?.some(e=>e.fetch_type.startsWith("cache-")),{data:C}=function(e){let{requestId:t,projectId:s,timestamp:r,shouldLoad:l}=e,{team:a}=(0,f.useAccount)(),o=a?.billing?.plan,i=(0,ta.addSeconds)(new Date(r),15),n=(0,N.default)(()=>a&&s&&t&&o&&"hobby"!==o&&l?`${T.API_LOGS_CACHE_METRICS}${(0,S.encode)({ownerId:a.id,requestId:t,projectId:s})}`:null,e=>(0,tn.fetchAPI)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1,refreshInterval:()=>1e3*!!ti(i)});return{data:n.data?.data,loading:n.isValidating,error:n.error,isAwaitingData:ti(i)}}({projectId:r,requestId:l,timestamp:o.getTime(),shouldLoad:n&&y}),b=(0,s.useMemo)(()=>{let e=[...C??[]];return C?j?.map(t=>{let s=e.find(e=>{if(t.cache_item_id===e.item_id&&t.fetch_type.startsWith("cache-")){let s=t.fetch_type.split("-")[1];return e.type.includes(s.toUpperCase())}return!1});return s?(e.splice(e.findIndex(e=>e.item_id===s.item_id),1),{...t,cache:s}):t}):j},[j,C]),w=j&&j.length>0,L=(0,s.useCallback)(()=>{m({from:"observability",via:"request-metrics",upgradeUseCase:"external-apis"})},[m]),k=(0,s.useMemo)(()=>v&&!w?(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial mr-0.5",children:[(0,t.jsx)(tl.Spinner,{size:16}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-800",children:"Awaiting data"})]}):g&&!w?(0,t.jsx)(ea.Skeleton,{as:"dd",className:"ml-2",height:20,width:30}):w?h?(0,t.jsx)(tD,{className:"min-w-[50px] flex-1 rounded",endTime:i.getTime(),requests:b??[],startTime:o.getTime()}):(0,t.jsx)(tI,{className:"min-w-[50px] flex-1 rounded",endTime:i.getTime(),onUpgradePressed:L,plan:x,requests:b??[],startTime:o.getTime()}):(0,t.jsx)("p",{className:"text-copy-14 mr-0.5 text-right text-gray-800",children:"No outgoing requests"}),[v,g,w,h,i,b,o,L,x]);return(0,t.jsx)("div",{className:"tailwind-preflight",children:d?k:(0,t.jsxs)("div",{className:(0,u.default)("flex flex-col items-stretch justify-between gap-2 flex-initial w-full relative",w?"flex-col":"flex-row"),children:[(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:(0,t.jsx)("span",{className:"text-copy-14 text-gray-900",children:"External APIs"})}),k]})})}var tq=e.i(9886547),tA=e.i(8225664);function tR(e){let{title:r,params:l,hideCopyButton:a=!1}=e,o=(0,d.useToasts)(),i=`?${Object.keys(l).reduce((e,t)=>`${e}${t}${null===l[t]?"":`=${l[t]}`}&`,"").slice(0,-1)}
    `,n=(0,s.useCallback)((e,t)=>{"key"in e&&"Enter"!==e.key||((0,e4.copyToClipboard)(t),o.message("Copied value to clipboard"))},[o]),[c,u]=(0,s.useState)(!1),p=(0,s.useMemo)(()=>{let e=Object.keys(l),s=e.slice(0,10),r=e.length>s.length+1,a=r?(0,t.jsx)("li",{className:"inline-flex max-w-full overflow-hidden rounded-sm border border-gray-300 text-xs divide-x",children:(0,t.jsx)("span",{className:"inline-block whitespace-nowrap cursor-pointer font-medium bg-gray-100 p-1.5 px-2 text-left text-gray-900 text-[12px]",role:"button",onClick:()=>u(e=>!e),children:c?"Hide":"Show more"})}):null;return r&&!c?(0,t.jsxs)("ul",{className:"mx-2 flex flex-wrap gap-2",children:[s.map(e=>(0,t.jsx)(tO,{paramKey:e,paramValue:l[e],onCopy:n},e)),a]}):(0,t.jsxs)("ul",{className:"mx-2 flex flex-wrap gap-2",children:[e.map(e=>(0,t.jsx)(tO,{paramKey:e,paramValue:l[e],onCopy:n},e)),a]})},[c,l,n]);return(0,t.jsx)("div",{className:"border-b pt-2 pb-4 last:border-none",children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial relative",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between flex-initial mx-2",children:[(0,t.jsx)("dt",{className:"text-copy-14 text-gray-900",style:{flexShrink:0},children:r}),!a&&(0,t.jsx)(tA.CopyButton,{label:"Copy",shape:"square",style:{width:"28px",height:"28px"},textToCopy:i,title:"Copy full search params to the clipboard",type:"tertiary"})]}),p]})})}function tO(e){let{paramKey:s,paramValue:r,onCopy:l}=e,a=s,o=r,i=s;try{a=decodeURIComponent(s),i=(o=r?decodeURIComponent(r):null)?new URLSearchParams({[a]:o}).toString():a}catch(e){}return(0,t.jsxs)("li",{className:"flex cursor-pointer overflow-hidden rounded-sm border border-gray-300 text-xs font-mono divide-x",onClick:e=>l(e,i),onKeyDown:e=>l(e,i),children:[(0,t.jsx)("span",{className:(0,u.clsx)("truncate bg-transparent p-1.5 text-left text-[12px]",null!==o&&"shrink-0 max-w-[150px]"),title:s,children:s}),null!==o?(0,t.jsx)("span",{className:"truncate bg-background-200 p-1.5 text-left text-[12px] font-mono font-medium text-gray-900",title:o,children:o}):null]},s)}var tB=e.i(1551685),t$=e.i(4670733),tP=e.i(762945),tW=e.i(6226725),tz=e.i(2006677),tV=e.i(6401841),tH=e.i(8320377),tG=e.i(846089),tU=e.i(8654638),tZ=e.i(6280036),tQ=e.i(5468328);function tX(e){let{text:r,className:l,tooltipContainerClassName:a,tooltipClassName:o}=e,[i,n]=(0,s.useState)(!1),d=(0,s.useRef)(null),c=(0,g.useIsMobile)();return(0,s.useLayoutEffect)(()=>{if(!d.current||c)return;let e=new ResizeObserver(e=>{for(let t of e){let e=t.target;n(e.offsetWidth<e.scrollWidth)}});return e.observe(d.current),()=>{e.disconnect()}},[d,c]),(0,t.jsx)(tQ.Tooltip,{className:a,delayTime:100,desktopOnly:!0,forceHide:!i,lowerDelay:!0,maxWidth:"100%",style:{display:"flex",alignItems:"center",minWidth:0},tabIndex:null,text:r,tooltipClassName:o,children:(0,t.jsx)("div",{className:`truncate ${l||""}`,ref:d,children:r})})}var tJ=e.i(8087928),tK=e.i(8161149),tY=e.i(248550),t0=e.i(2259462),t1=e.i(4535059),t2=e.i(1568600),t3=e.i(1474855),t4=e.i(4410321);let t5=(0,s.forwardRef)(function(e,s){return(0,t.jsx)("div",{className:t4.default.headerContainer,ref:s,children:(0,t.jsxs)("div",{className:(0,u.clsx)("flex flex-row items-center justify-start flex-initial",t4.default.rowContainer,t4.default.header),children:[(0,t.jsx)("div",{className:t4.default.rowItem,style:{flexShrink:0,paddingLeft:16,width:166},children:"Time"}),(0,t.jsx)("div",{className:t4.default.rowItem,style:{flexShrink:0,width:"72px"},children:"Status"}),(0,t.jsx)("div",{className:(0,u.clsx)(t4.default.rowItem,t4.default.truncate),style:{minWidth:"12%",maxWidth:"12%"},children:"Host"}),(0,t.jsx)("div",{className:(0,u.clsx)(t4.default.rowItem,t4.default.truncate),style:{paddingLeft:"35px",minWidth:"calc(max(12%,180px) + 50px)",maxWidth:"calc(400px + 50px)"},children:"Request"}),(0,t.jsx)("div",{className:(0,u.clsx)(t4.default.rowItem,t4.default.truncate),children:"Messages"})]})})});function t9(e){let{logRows:r=[],selectedLogId:l,onRowSelect:a}=e,{state:{live:o,paused:i}}=(0,D.useLogsQueryState)(),n=(0,s.useRef)(!1),d=ts(),c=(0,s.useRef)(void 0);(0,s.useEffect)(()=>{r.length>0&&(c.current=new Date(r[0].timestamp).getTime()+1)},[r]);let[x,h]=(0,s.useState)({state:"disabled"});(0,s.useEffect)(()=>{o?h(e=>"enabled"!==e.state?{state:"enabled",ts:c.current||Date.now()}:e):i?h(e=>({state:"paused",ts:e.ts||Date.now()})):h(e=>({state:"disabled",ts:e.ts}))},[o,i]);let m="disabled"!==x.state&&x.ts?r.findIndex(e=>new Date(e.timestamp).getTime()<x.ts):r.length;"paused"===x.state&&0===m&&(m=r.length);let f=r.slice(0,m),g=r.slice(m);(0,s.useEffect)(()=>{function e(e){"Tab"===e.key&&(n.current=!0)}function t(e){"Tab"===e.key&&(n.current=!1)}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]);let{teamSlug:j,projectSlug:v}=(0,K.useProjectAndTeamSlug)(),{data:y}=(0,J.useRollingRelease)({teamIdOrSlug:j,projectSlug:v}),C=y?.rollingRelease?.state==="ACTIVE"?y.rollingRelease.canaryDeployment:null;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{"data-testid":(0,p.tid)("group-logs","log-rows"),onFocus:e=>{n.current&&e.target.scrollIntoView({block:"center"})},className:"flex flex-col items-stretch justify-start flex-auto tailwind-preflight",children:[f.map(e=>{let t=e.requestId===l;return(0,s.createElement)(t6,{...e,highlightedWords:d,isCanary:e.deploymentId===C?.id,isSelected:t,key:e.requestId,moveUp:!!(x.ts&&new Date(e.timestamp).getTime()<x.ts),onSelect:a})}),g.length>0?(0,t.jsx)("div",{className:(0,u.clsx)(t4.default.liveModeRow,{[t4.default.paused]:"paused"===x.state}),children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(t2.PlayFill,{size:10})," Live Mode"]})},x.ts):null,g.map(e=>{let t=e.requestId===l;return(0,s.createElement)(t6,{...e,faded:"enabled"===x.state,highlightedWords:d,isCanary:e.deploymentId===C?.id,isSelected:t,key:e.requestId,onSelect:a,previouslyFaded:!!(x.ts&&new Date(e.timestamp).getTime()<x.ts),reverseBackground:!0})})]})})}function t8(e){let{level:s}=e;switch(s){case"fatal":return(0,t.jsx)(tV.Stop,{"aria-hidden":"true"});case"warning":return(0,t.jsx)(tP.Warning,{"aria-hidden":"true"});case"error":return(0,t.jsx)(tW.CrossCircle,{"aria-hidden":"true"});default:return(0,t.jsx)("div",{style:{width:"16px",height:"16px"}})}}let t6=(0,s.memo)(function(e){let{onSelect:r,isCanary:l,isSelected:a,highlightedWords:o,isNew:i,faded:n,previouslyFaded:d,moveUp:c,reverseBackground:p,...x}=e,h=(0,s.useRef)(null),{value:m}=(0,t$.useEnableAnsiLogs)();(0,s.useEffect)(()=>{h.current&&h.current.scrollIntoView({block:"center"})},[h]);let{resolvedTheme:f}=(0,tZ.useTheme)(),g=new Date(x.timestamp),j=new Set([...x.events.map(e=>{let t=e.source;return"static"===t&&x.events.some(e=>"PRERENDER"===e.cache)&&(t="data-cache"),"serverless"===t&&"middleware"===e.pathType&&(t="serverless-middleware"),t}),...x.logs.map(e=>e.source)]),v=()=>void(0,e0.awaitPaint)().then(()=>r(x)),y=(0,s.useMemo)(()=>x.hasFunctionCrashed?"fatal":x.statusCode>=500?"error":x.statusCode>=400?"warning":"info",[x.statusCode,x.hasFunctionCrashed]),C=(0,s.useMemo)(()=>{let e,t=x.logs.toSorted((e,t)=>{let{timestamp:s}=e,{timestamp:r}=t;return new Date(s).getTime()-new Date(r).getTime()}).reverse();return(o.length>0&&(e=t.find(e=>{let{message:t}=e,s=t.toLowerCase();return o.some(e=>s.includes(e.toLowerCase()))})),e||(e=t.find(e=>{let{level:t}=e;return"error"===t})||t.find(e=>{let{level:t}=e;return"warning"===t})||t[0]),e)?{style:"error"===e.level?"text-red-900":"warning"===e.level?"text-amber-900":"text-gray-1000",text:e.message}:{style:"text-gray-1000",text:""}},[x.logs,o]);return(0,t.jsxs)("div",{className:(0,u.clsx)("flex items-center py-[3px]",t4.default.rowContainer,t4.default[y],{[t4.default.faded]:n,[t4.default.previouslyFaded]:d,[t4.default.moveUp]:c,[t4.default.reverseBackground]:p,[t4.default.isSelected]:a,[t4.default.isNew]:i,[t4.default.darkTheme]:"dark"===f},x.className),"data-log-row-id":x.requestId,onClick:()=>v(),onKeyDown:e=>{"Enter"===e.key&&v()},ref:a?h:void 0,tabIndex:0,children:[(0,t.jsx)("div",{className:"relative flex items-center justify-center pl-2",children:(0,t.jsx)(t8,{level:y})}),(0,t.jsx)("div",{className:(0,u.clsx)(t4.default.rowItem,t4.default.uppercase,t4.default.truncate),style:{flexShrink:0},children:(0,t.jsxs)(t3.TimestampTooltip,{content:{timestamp:g.getTime()},showRelativeToNow:!0,children:[(0,t.jsx)("span",{className:"opacity-60",children:(0,eU.format)(g,"MMM dd ")}),(0,t.jsx)("span",{className:"opacity-100",children:(0,eU.format)(g,"HH:mm:ss")}),(0,t.jsx)("span",{className:"opacity-60",children:(0,eU.format)(g,".SS")})]})}),(0,t.jsxs)("div",{className:t4.default.rowItem,style:{flexShrink:0,width:"72px",justifyContent:"space-between"},children:[(0,t.jsx)(tr.RequestMethodBadge,{method:x.requestMethod,variant:"small"}),(0,t.jsx)(tr.StatusCodeBadge,{statusCode:x.statusCode,variant:"small"})]}),(0,t.jsxs)("div",{className:(0,u.clsx)(t4.default.rowItem),style:{minWidth:"12%",maxWidth:"12%"},children:[l?(0,t.jsx)("div",{style:{opacity:.6,paddingRight:"3px"},children:(0,t.jsx)(Q.Badge,{size:"sm",variant:"green-subtle",children:"Canary"})}):null,(0,t.jsx)(tX,{text:x.domain,tooltipContainerClassName:t4.default.tooltipContainer,tooltipClassName:t4.default.tooltip})]}),(0,t.jsx)("div",{className:"ml-4 px-2",children:(0,t.jsx)("div",{className:"-space-x-px flex justify-end",style:{width:"25px",height:"16px",opacity:.6},children:Array.from(j).sort((e,t)=>{let s=["edge-middleware","serverless-middleware","static","edge-cache","lambda","serverless","edge-function","data-cache"],r=s.indexOf(e),l=s.indexOf(t);return(-1===r?999:r)-(-1===l?999:l)}).map((e,s,r)=>(0,t.jsx)("div",{style:s!==r.length-1?{clipPath:"path('M13.7639 0H0V16.7324C0.294173 16.9026 0.635713 17 1 17H15C15.1543 17 15.3045 16.9825 15.4487 16.9495C14.0552 16.6906 13 15.4685 13 14V2C13 1.23165 13.2889 0.530757 13.7639 0Z')"}:{},children:(0,t.jsx)(tQ.Tooltip,{text:so(e),children:(0,t.jsx)(sa,{type:e})})},e))})}),(0,t.jsx)("div",{className:"flex min-w-[max(12%,180px)]  max-w-[400px] items-center justify-start truncate pr-2",children:(0,t.jsx)(e2.HighlightText,{className:"truncate",search:o,text:x.requestPath})}),x.logs.length>0&&(0,t.jsxs)("div",{className:(0,u.clsx)(t4.default.rowItem,t4.default.separated,t4.default.truncate,"shrink",C.style),children:[x.logs.length>1&&(0,t.jsx)("div",{className:"mr-2 rounded-full bg-gray-300 px-1 text-[11px] text-gray-800",children:x.logs.length}),m?(0,t.jsx)(tH.Ansi,{newLines:!0,renderNewLine:()=>(0,t.jsx)("span",{className:t4.default.breakSpaces,children:" "}),renderText:e=>(0,t.jsx)(e2.HighlightText,{as:"span",className:t4.default.breakSpaces,search:o,text:e}),children:C.text}):(0,t.jsx)(e2.HighlightText,{search:o,text:C.text})]})]})});function t7(){let e=tt.LOGS_PAGE_SIZE;return(0,t.jsx)("div",{className:"py-1",children:[...Array(e)].map((e,s)=>(0,t.jsx)(se,{},`${Date.now()}-${s}`))})}function se(){return(0,t.jsx)("div",{className:(0,u.clsx)("px-2 py-0.5"),children:(0,t.jsx)("div",{className:(0,u.clsx)("flex flex-row items-stretch justify-start flex-initial border-b-transparent!",t4.default.rowContainer),children:(0,t.jsx)(ea.Skeleton,{className:t4.default.rowItem,height:24,width:"100%"})})})}function st(){let{team:e}=(0,eo.useTeam)(),{maxRetention:s,billingPlan:r}=(0,ei.useUserRetention)(),{setState:l}=(0,D.useLogsQueryState)(),a=`You have reached your ${(0,es.formatDuration)(s)} of maximum retention limit.`;return(0,t.jsxs)("div",{className:(0,u.clsx)("flex flex-col items-center justify-center gap-6 flex-initial",t4.default.loadingError),children:[(0,t.jsx)(si,{}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",style:{maxWidth:"380px"},children:[a," ",(0,t.jsx)(eY.Link,{external:!0,href:"/docs/runtime-logs",type:"highlight",children:"Learn more"})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:"pro"===r&&e?(0,t.jsx)(eY.ButtonLink,{href:`/${e.slug}/~/settings/billing`,size:"small",touchEventWorkaround:!0,children:"Upgrade to Enterprise"}):(0,t.jsx)(n.Button,{onClick:()=>l({timeline:"past30Minutes"}),prefix:(0,t.jsx)(tJ.RefreshCounterClockwise,{color:"currentColor"}),size:"small",type:"secondary",children:"Reset timeline to past 30 mins"})})]})}function ss(e){let s,{errorName:r}=e;return s="WrongRequestIdFormat"===r?(0,t.jsxs)(t.Fragment,{children:["You may have input the wrong format for request id. At least a partial string is required, example:"," ",(0,t.jsx)("code",{className:"text-[10px] before:text-gray-500 before:content-['ID='] ",children:"abcde-1678961364403-a1b2c3d4f5e6"})]}):`We could not find logs for the selected filters, we've been notified
    of the issue, try to clear your filters. If the issue persists,
    contact our support.`,(0,t.jsx)("p",{className:`text-copy-14 text-gray-900 ${t4.default.screenReaderSelect}`,style:{maxWidth:"380px"},tabIndex:0,children:s})}function sr(e){let{error:s}=e,{setState:r}=(0,D.useLogsQueryState)(),l=(0,g.useIsMobile)(),{isDeploymentEditable:a}=(0,X.usePageConfig)();return"ExceedsBillingLimitError"===s.name?(0,t.jsx)(st,{}):(0,t.jsxs)("div",{className:(0,u.clsx)("flex flex-col items-center justify-center gap-6 flex-initial",t4.default.loadingError),children:[(0,t.jsx)(si,{}),(0,t.jsx)(ss,{errorName:s.name}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:(0,t.jsx)(n.Button,{onClick:()=>{let e={levels:void 0,sources:void 0,caches:void 0,domains:void 0,routes:void 0,requestMethods:void 0,requestPaths:void 0,statusCodes:void 0,environments:void 0,branches:void 0,requestIds:void 0,deploymentDomains:void 0,timeline:"past30Minutes"};a&&(e.deploymentDomains=void 0,e.deploymentIds=void 0),l||(e.searchQuery=""),r(e)},prefix:(0,t.jsx)(tJ.RefreshCounterClockwise,{color:"currentColor"}),size:"small",type:"secondary",children:"Reset filters"})})]})}function sl(){let{state:{hasTraces:e},hasActiveFilters:s,setState:r}=(0,D.useLogsQueryState)(),{mutate:l,isValidating:a}=(0,tt.useGroupLogs)(),o=s();return o&&e?(0,t.jsxs)("div",{"data-testid":(0,p.tid)("group-logs","no-logs"),className:(0,u.clsx)("flex flex-col items-center justify-center gap-6 flex-initial",t4.default.loadingError),children:[(0,t.jsx)(si,{icon:"traces"}),(0,t.jsx)("p",{className:`text-[16px] leading-[24px] font-medium text-gray-900 ${(0,u.clsx)(t4.default.screenReaderSelect,"max-w-[420px] text-center")}`,tabIndex:0,children:"No traces found for the selected filters"}),(0,t.jsx)("div",{className:"flex flex-col gap-3 max-w-[420px] text-left",children:(0,t.jsxs)("div",{className:"border rounded-md p-4 flex flex-col gap-2",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:"Start tracing in 3 steps:"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1 marker:text-gray-600",children:[(0,t.jsxs)("li",{children:["Open the"," ",(0,t.jsx)(eY.Link,{href:"/docs/vercel-toolbar/in-production-and-localhost/add-to-production",type:"highlight",children:"Vercel Toolbar"})," ","on your deployment"]}),(0,t.jsxs)("li",{children:["Select ",(0,t.jsx)("strong",{children:"Run Page Trace"})," and wait for the page to reload"]}),(0,t.jsx)("li",{children:"Click the notification to view the trace"})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsx)(eY.ButtonLink,{href:"/docs/tracing/session-tracing",size:"small",children:"Learn More about Tracing"}),(0,t.jsx)(n.Button,{disabled:a,onClick:()=>void l(),prefix:a?(0,t.jsx)(tl.Spinner,{color:"var(--accents-5)",size:16}):void 0,size:"small",type:"secondary",children:"Refresh"})]})]}):(0,t.jsxs)("div",{"data-testid":(0,p.tid)("group-logs","no-logs"),className:(0,u.clsx)("flex flex-col items-center justify-center gap-6 flex-initial",t4.default.loadingError),children:[(0,t.jsx)(si,{icon:o?"logs":"function"}),(0,t.jsx)("p",{className:`text-copy-14 text-gray-900 ${t4.default.screenReaderSelect}`,style:{maxWidth:"380px"},tabIndex:0,children:o?"No logs found for the selected filters":"There are no runtime logs in this time range"}),(0,t.jsx)("div",{className:"flex flex-col md:flex-row items-stretch justify-start gap-4 flex-initial",children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Button,{onClick:()=>r({},!0,!0),size:"small",children:"Reset Filters"}),(0,t.jsx)(n.Button,{disabled:a,onClick:()=>void l(),prefix:a?(0,t.jsx)(tl.Spinner,{color:"var(--accents-5)",size:16}):void 0,size:"small",type:"secondary",children:"Refresh"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Button,{disabled:a,onClick:()=>void l(),prefix:a?(0,t.jsx)(tl.Spinner,{color:"var(--accents-5)",size:16}):void 0,size:"small",children:"Refresh Query"}),(0,t.jsx)(eY.ButtonLink,{href:"/docs/runtime-logs",size:"small",tab:!0,type:"secondary",children:"Learn More"})]})})]})}function sa(e){let{type:s}=e;switch(s){case"request":return(0,t.jsx)(t0.File,{size:16});case"serverless":return(0,t.jsx)(eI.FunctionSquare,{size:16});case"serverless-middleware":case"edge-middleware":return(0,t.jsx)(eF.FunctionMiddleware,{size:16});case"edge-function":return(0,t.jsx)(eq.FunctionEdge,{size:16});case"data-cache":return(0,t.jsx)(eO.DataCache,{size:16});case"external":return(0,t.jsx)(eR.ArrowGlobe,{size:16});case"redirect":return(0,t.jsx)(eV.ArrowRight,{size:16});default:return(0,t.jsx)(eA.EdgeCache,{size:16})}}function so(e){switch(e){case"request":return"Request";case"serverless":return"Vercel Function";case"serverless-middleware":case"edge-middleware":return"Middleware";case"edge-function":return"Edge Function";case"data-cache":case"static":return"Cache";case"external":return"Rewrite";case"redirect":return"Redirect";default:return e}}function si(e){let{icon:s="logs"}=e;return(0,t.jsx)(tK.EmptyState.Icon,{icon:"function"===s?(0,t.jsx)(eI.FunctionSquare,{}):"traces"===s?(0,t.jsx)(t1.Traces,{}):(0,t.jsx)(tY.Logs,{}),size:40})}var sn=e.i(4597921),sd=e.i(9224004);let sc=()=>{let{selectedTrace:e}=(0,sd.useLogs)();return e};var su=e.i(5851942),sp=e.i(7867910);function sx(e){let{level:s}=e;switch(s){case"fatal":return(0,t.jsx)(tV.Stop,{"aria-hidden":"true",className:"-ml-1"});case"warning":return(0,t.jsx)(tP.Warning,{"aria-hidden":"true"});case"error":return(0,t.jsx)(tW.CrossCircle,{"aria-hidden":"true"});default:return(0,t.jsx)("div",{style:{width:"16px",height:"16px"}})}}function sh(e){return e.includes("process exited with")&&e.includes("The logs above can help with debugging the issue.")}function sm(e){let{timestamp:s,message:r,level:l,error:a,onShowError:o,invocationId:i,concurrency:n,handleViewConcurrentRequests:d,isInvocationFiltered:c}=e,x=ts(),h=`${r.replaceAll("\r","\n")}`,{value:m}=(0,t$.useEnableAnsiLogs)(),f=(0,sn.useServerFlag)("enable-observability-error-dashboard",!1);return(0,t.jsxs)("div",{className:(0,u.clsx)("log-message","group -mt-px flex flex-col border-y py-1.5 pl-4 pr-2 font-mono text-[13px] @[480px]:flex-row @[480px]:gap-3",{info:"text-gray-1000 bg-background-200",error:"-my-px border-y border-red-300 bg-red-100 text-red-900",warning:"-my-px border-y border-amber-300 bg-amber-100 text-amber-900",fatal:"border-l-4 border-l-red-900 -my-px border-y border-red-300 text-red-900 bg-gradient-to-r from-red-400 to-red-100 to-5%"}[l]),children:[(0,t.jsxs)("div",{className:"flex items-center @[480px]:items-start",children:[(0,t.jsx)("div",{className:(0,u.clsx)("mr-2  mt-[2px] flex @[480px]:mt-[5px] @[480px]:size-4","info"===l&&"hidden @[480px]:block"),children:(0,t.jsx)(sx,{level:l})}),(0,t.jsxs)("span",{className:"select-none whitespace-nowrap pt-px font-mono",children:[(0,tB.isToday)(new Date(s))?null:(0,t.jsxs)("span",{className:"uppercase opacity-65",children:[(0,eU.format)(new Date(s),"MMM dd")," "]}),(0,t.jsx)("span",{className:"opacity-75",children:(0,eU.format)(new Date(s),"HH:mm:ss")}),(0,t.jsx)("span",{className:"opacity-50",children:(0,eU.format)(new Date(s),".SSS")})]}),(0,t.jsx)("div",{className:"flex flex-1 justify-end @[480px]:hidden",children:(0,t.jsx)(tA.CopyButton,{label:"Copy",shape:"square",style:{width:"28px",height:"28px"},textToCopy:h,title:"Copy message to the clipboard",type:"tertiary"})})]}),(0,t.jsx)("span",{className:"flex-1 whitespace-pre-wrap break-all pt-px","data-testid":(0,p.tid)("group-logs","detail-message"),children:(0,t.jsxs)("div",{className:"flex items-center flex-wrap",children:[(0,t.jsx)("span",{children:m?(0,t.jsx)(tH.Ansi,{newLines:!0,renderText:e=>(0,t.jsx)(e2.HighlightText,{as:"span",search:x,text:e}),children:h}):(0,t.jsx)(e2.HighlightText,{search:x,text:h})}),sh(h)&&void 0!==n&&n>1&&i&&d&&!c&&(0,t.jsx)("span",{className:"block w-full mt-2 mb-2 text-xs",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-gray-900",children:[(0,t.jsx)(tz.Question,{size:14,className:"color-gray-700 flex-shrink-0"}),(0,t.jsxs)("span",{className:"text-gray-700",children:["This error may be caused by other concurrent requests."," ",(0,t.jsx)("button",{type:"button",className:"text-gray-900 underline hover:text-black bg-transparent border-none p-0 m-0 cursor-pointer font-medium",onClick:()=>d(i),children:"View concurrent requests"})]})]})})]})}),f&&"error"===l&&a?(0,t.jsxs)("button",{className:"sticky top-11 -mx-1 -mr-2 flex h-[30px] cursor-pointer flex-row items-center gap-1 whitespace-nowrap rounded-md border border-[hsla(var(--ds-red-700-value),0.2)] bg-[hsla(var(--ds-red-800-value),0.1)] px-2 py-1 font-sans text-red-900 transition-colors duration-100 ease-in-out hover:bg-[hsla(var(--ds-red-800-value),0.3)]",onClick:()=>o?.(a),type:"button",children:[(0,t.jsx)(eE.Eye,{size:16}),(0,t.jsxs)("span",{children:["Seen ",new Intl.NumberFormat().format(a.countErrors)," times"]})]}):null,"fatal"===l?(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)(Q.Badge,{variant:"red",size:"sm",children:"Fatal"})}):null,(0,t.jsx)("div",{className:(0,u.clsx)("-my-0.5 hidden opacity-0 group-hover:opacity-100 @[480px]:block focus-within:focus-visible:opacity-100"),children:(0,t.jsx)(tA.CopyButton,{label:"Copy",shape:"square",style:{width:"28px",height:"28px"},textToCopy:h,title:"Copy message to the clipboard",type:"tertiary"})})]})}function sf(e){let{logs:s,source:r,onShowError:l,invocationId:a,concurrency:o,handleViewConcurrentRequests:i,isInvocationFiltered:n}=e;return(0,t.jsxs)("div",{className:"relative flex flex-col",children:[(0,t.jsxs)("div",{className:"sticky -top-px z-10 -mt-px flex select-none flex-row gap-2 border-y bg-background-100 px-4 py-2",children:[(0,t.jsx)(sa,{type:r}),(0,t.jsx)("p",{className:"text-[13px] leading-[18px] font-medium text-gray-1000",children:so(r)})]}),(0,t.jsx)("div",{className:"flex flex-col @container",children:s.map((e,s)=>(0,t.jsx)(sm,{error:e.error,level:e.level,message:e.message,onShowError:l,timestamp:e.timestamp,invocationId:a,concurrency:o,handleViewConcurrentRequests:i,isInvocationFiltered:n},`${e.timestamp}-${s}`))})]})}function sg(e){let{onToggleCollapse:r,collapsed:l}=e,[a,o]=(0,s.useState)(!1),{data:i}=(0,e6.useSelectedLog)(),d=sc(),{state:c,setState:p}=(0,D.useLogsQueryState)(),x=(0,m.useParams)(),h=(0,s.useMemo)(()=>{let e=d?.spans.find(e=>e.spanId===d.rootSpanId);if(!e)return"";let[t,s]=e.duration,r=1e3*t+s/1e6;return r>1e3?`${new Intl.NumberFormat(void 0,{maximumFractionDigits:2}).format(.001*r)}s`:`${Math.round(r)}ms`},[d]),f=!!(i?.traceId&&i.sessionId),g=a&&f?"trace":"logs",[j,v]=(0,s.useState)(null),[y,w]=(0,s.useState)(null),{data:L}=(0,tG.useErrors)(),k=(0,s.useCallback)(()=>{let e=!l;r?.(e)},[l,r]),_=(0,s.useCallback)(e=>{p({invocationIds:[e]})},[p]);if((0,sp.useHotkey)(k,"l"),(0,s.useEffect)(()=>{if(!i)return;let e=i.logs.some(e=>null===j||e.level===j);j&&!e&&v(null)},[i,j]),(0,s.useEffect)(()=>{let e=e=>{if(l)return;let t=document.activeElement,s=t&&["input","select","textarea"].includes(t.tagName.toLowerCase());if((e.metaKey||e.ctrlKey)&&"a"===e.key&&!s){e.preventDefault();let t=document.querySelectorAll(".log-message"),s=document.createRange();if(t.length>0){s.setStartBefore(t[0]),s.setEndAfter(t[t.length-1]);let e=window.getSelection();e?.removeAllRanges(),e?.addRange(s)}}};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[l]),!i)return null;let N=i.logs.reduce((e,t)=>{e[t.source]||(e[t.source]=[]);let s=L?.rows.find(e=>sj(t.message)===sj(e.errorName)),r={...t,error:s};return e[t.source].push(r),e},{}),S=i.logs.reduce((e,t)=>(e[t.level]=(e[t.level]||0)+1,e),{info:0,warning:0,error:0,fatal:0}),T=Object.values(S).filter(e=>e>0).length,M=T>1||1===T&&S.info>0,E=Object.entries(Object.entries(N).reduce((e,t)=>{let[s,r]=t,l=j?r.filter(e=>e.level===j):r;return l.length>0&&(e[s]=l),e},{})).sort((e,t)=>{let[,s]=e,[,r]=t,l=s[0]?.timestamp??"",a=r[0]?.timestamp??"";return new Date(l).getTime()-new Date(a).getTime()}),I=E.find(e=>{let[,t]=e;return t.some(e=>sh(e.message))})?.[0],F=i.events?.find(e=>"serverless"===I&&"middleware"===e.pathType?void 0:e.source===I)?.invocationId;F||(F=i.events?.[0]?.invocationId);let q=i.events?.reduce((e,t)=>t.concurrency&&t.concurrency>e?t.concurrency:e,0),A=!!r;return(0,t.jsx)("div",{className:(0,u.clsx)("flex h-full flex-1 flex-col transition-all duration-200 ease-in-out sm:flex-initial"),children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:(0,u.clsx)("flex items-center justify-between border-b bg-background-100 py-2 pr-2",y?"pl-4":"pl-1"),onClick:e=>{e.target!==e.currentTarget||y||k()},children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:A?y?(0,t.jsxs)("header",{className:"text-heading-14",children:["Error Details",(0,t.jsx)(Q.Badge,{className:"ml-2",children:"Internal"})]}):(0,t.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[(0,t.jsx)("div",{className:"flex flex-row items-center gap-1",children:(0,t.jsx)("button",{className:(0,u.clsx)("text-button-14 rounded px-3 py-1.5 transition-colors",f&&"cursor-pointer hover:bg-gray-200",f&&"logs"===g?"bg-gray-100":"bg-transparent"),onClick:e=>{e.stopPropagation(),o(!1),l&&k(),C.analytics.track(b.AnalyticsEvent.LOGS_CONTEXT_ACTION_CLICKED,{field:"logs-tab",action:"View Logs"})},type:"button",children:"Logs"})}),f?(0,t.jsx)("button",{className:(0,u.clsx)("text-button-14 cursor-pointer rounded px-3 py-1.5 transition-colors hover:bg-gray-200","trace"===g?"bg-gray-100":"bg-transparent"),onClick:e=>{e.stopPropagation(),o(!0),l&&k(),C.analytics.track(b.AnalyticsEvent.LOGS_CONTEXT_ACTION_CLICKED,{field:"trace-tab",action:"View Trace"})},type:"button",children:"Trace"}):null]}):null}),A?(0,t.jsx)("div",{className:"flex items-center gap-1",children:y?(0,t.jsx)(n.Button,{"aria-label":"Close Error Details",onClick:()=>w(null),svgOnly:!0,size:"small",type:"tertiary",shape:"square",children:(0,t.jsx)(eG.Cross,{size:16})}):(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2",children:["logs"===g?(0,t.jsxs)(t.Fragment,{children:[M?(0,t.jsxs)(Q.Badge,{className:"cursor-pointer",onClick:()=>v(null),size:"sm",variant:"gray-subtle",children:[i.logs.length," Total"]}):null,S.warning>0&&(0,t.jsxs)(Q.Badge,{className:"cursor-pointer",onClick:()=>v("warning"===j?null:"warning"),size:"sm",variant:"warning"===j?"amber":"amber-subtle",children:[S.warning," Warning"]}),S.error>0&&(0,t.jsxs)(Q.Badge,{className:"cursor-pointer",onClick:()=>v("error"===j?null:"error"),size:"sm",variant:"error"===j?"red":"red-subtle",children:[S.error," Error"]}),S.fatal>0&&(0,t.jsxs)(Q.Badge,{className:`cursor-pointer border ${"fatal"===j?"border-red-900":"border-red-700"}`,onClick:()=>v("fatal"===j?null:"fatal"),size:"sm",variant:"red",children:[S.fatal," Fatal"]}),i.logs.length>0?(0,t.jsx)(tA.CopyButton,{label:"Copy Logs",shape:"square",style:{width:"28px",height:"28px"},textToCopy:i.logs.map(e=>`${e.timestamp} [${e.level}] ${e.message}`).join("\n"),title:"Copy full logs to clipboard",type:"tertiary"}):null]}):(0,t.jsxs)(t.Fragment,{children:[d?(0,t.jsx)(Q.Badge,{size:"sm",variant:"gray-subtle",children:h}):null,x&&f?(0,t.jsx)(eY.ButtonLink,{"aria-label":"Open Trace in New tab",className:"-mr-2",href:`/${x.teamSlug}/${x.project}/logs/traces/${i.traceId}`,svgOnly:!0,target:"_blank",type:"tertiary",width:42,children:(0,t.jsx)(eB.External,{})}):null]}),(0,t.jsx)(n.Button,{"aria-label":l?"Expand Logs Panel":"Collapse Logs Panel",onClick:k,svgOnly:!0,type:"tertiary",size:"small",shape:"square",children:l?(0,t.jsx)(eH.ChevronUp,{size:16}):(0,t.jsx)(ez.ChevronDown,{size:16})})]})}):null]}),y?(0,t.jsx)(tU.ErrorCard,{row:y,showGoToErrors:!0,className:"sticky z-50 w-4/5 inset-0 rounded-none font-sans h-full text-gray-1000 shadow-none border-none"}):null,"trace"===g?(0,t.jsx)(su.TraceViewerTimeline,{trace:d,height:"100%"}):i.logs.length>0&&!l?(0,t.jsx)("div",{className:(0,u.clsx)("relative flex flex-1 flex-col overflow-y-auto"),children:E.map(e=>{let[s,r]=e;return(0,t.jsx)(sf,{logs:r.sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime()),onShowError:e=>w(e),source:s,invocationId:F,concurrency:q,handleViewConcurrentRequests:_,isInvocationFiltered:c.invocationIds.length>0},s)})}):!l&&(0,t.jsx)("div",{className:"flex h-full items-center justify-center bg-background-200 p-8",children:(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"No logs found for this request"})})]})})}function sj(e){let t="";for(let s of[/^\s*⨯ \[(.{3,}?)\] {/,/^\s*⨯ (.{3,}?)(\r\n|\r|\n|$)/,/^\s*(.{3,}?)(\r\n|\r|\n|$)/]){let r=e.match(s);if(r?.[1]){t=r[1];break}}if(!t)return e;let s=t.replace(/\s+/g," ").trim();return(s=(s=s.replace(/(http|ftp|https):\/\/([\w_-]+(?:(?:\.[\w_-]+)+))([\w.,@?^=%&:\/~+#-]*[\w@?^=%&\/~+#-])?/g,"<url>")).replace(/-?\d+\s*(milliseconds?|seconds?|minutes?|mins?|hours?|days?|ms|s|m|h|d)/gi,"<duration>")).replace(/-?\d+/g,"<number>")}function sv(){let e=sc();return(0,t.jsx)(su.TraceViewer,{height:"100%",trace:e})}function sy(e){return!!e&&("string"==typeof e&&"-"!==e&&""!==e||"number"==typeof e&&-1!==e)}let sC=e=>"STALE"===e.cache||"PRERENDER"===e.cache;function sb(e){let{className:s}=e;return(0,t.jsx)("div",{className:(0,u.default)("absolute left-6 h-16 w-3.5 border-[1.5px] border-r-0 border-gray-400 ",s)})}function sw(e){let{direction:s,through:r,lineClassName:l,className:a,children:o}=e;return(0,t.jsxs)("div",{className:(0,u.default)("relative flex items-center overflow-hidden",o?"h-10 pl-9":"h-2",a),children:["straight"===s?(0,t.jsx)(sb,{className:(0,u.default)(l)}):(0,t.jsxs)(t.Fragment,{children:[r?(0,t.jsx)(sb,{className:(0,u.default)("h-40 rounded-none border-y-0","up"===s?"top-0":"bottom-[47.5%]","dashed"===r&&"top-[55%] border-dashed")}):null,("up"===s||"both"===s)&&(0,t.jsx)(sb,{className:(0,u.default)(l,"bottom-1/2 translate-y-[0.5px] rounded-l")}),("down"===s||"both"===s)&&(0,t.jsx)(sb,{className:(0,u.default)(l,"top-1/2 -translate-y-px rounded-l-md","dashed"===r&&"border-dashed border-t-0 rounded-tl-none translate-y-2")})]}),(0,t.jsx)("div",{className:"relative flex items-center",children:o})]})}function sL(e){let{hasFunctionCrashed:s,requestDurationMs:r}=e;return(0,t.jsx)(sw,{className:"mb-2",direction:"up",children:(0,t.jsx)(tr.RequestFinishedBadge,{hasFunctionCrashed:s,requestDurationMs:r})})}var sk=e.i(9893476);function s_(e){let{requestId:t,projectId:s,eventTime:r}=e,{team:l}=(0,f.useAccount)(),a=l?.billing?.plan,o=(0,N.default)(()=>l&&s&&t&&r&&a&&"hobby"!==a?`/api/logs/tag-state-lookup${(0,S.encode)({ownerId:l.id,requestId:t,projectId:s,eventTime:r})}`:null,e=>(0,tn.fetchAPI)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1});return{data:o.data?.data,loading:o.isValidating,error:o.error}}function sN(e){let{requestId:s,projectId:r,eventTime:l}=e,{loading:a,data:o}=s_({requestId:s,projectId:r,eventTime:l});if(a)return null;let i=o?.filter(e=>!e.tagName.startsWith("_N_T_")&&!e.tagName.startsWith("_vc_"));if(!i||0===i.length)return null;let n={};for(let e of i)n[e.tagName]=null;return(0,t.jsx)(tR,{title:"Tags",params:n,hideCopyButton:!0})}function sS(e,t){if("string"==typeof e)try{return(0,eT.default)(BigInt(e),t)}catch{return"unknown"}return(0,eT.default)(e,t)}let sT=new Map([["nodejs",{name:"Node.js",logo:(0,t.jsx)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.useId)(),l=`${r}_mask0`,a=`${r}_mask1`,o=`${r}_mask2`,i=`${r}_paint0_linear`,n=`${r}_paint1_linear`,d=`${r}_paint2_linear`;return(0,t.jsxs)("svg",{fill:"none",height:"18",viewBox:"0 0 14 16",width:"16",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("path",{clipRule:"evenodd",d:"M6.91226 6.4202C6.95713 6.39383 7.01268 6.39383 7.05755 6.4202L8.26282 7.11829C8.30789 7.14449 8.33546 7.19271 8.33546 7.24481V8.64248C8.33546 8.69458 8.30789 8.7428 8.26282 8.769L7.05755 9.46709C7.01268 9.49346 6.95713 9.49346 6.91226 9.46709L5.70773 8.769C5.66213 8.74331 5.63381 8.69498 5.63361 8.64248V7.24481C5.63361 7.19271 5.66029 7.14449 5.70625 7.11829L6.91226 6.4202Z",fill:"#689F63",fillRule:"evenodd"}),(0,t.jsx)("mask",{height:"16",id:l,"mask-type":"alpha",maskUnits:"userSpaceOnUse",width:"14",x:"0",y:"0",children:(0,t.jsx)("path",{d:"M6.62322 0.101176L0.377445 3.72068C0.143899 3.85581 -1.28246e-05 4.10586 8.5718e-10 4.3765V11.6206C8.5718e-10 11.891 0.143506 12.1409 0.377445 12.2764L6.62367 15.8987C6.85722 16.0338 7.14471 16.0338 7.37826 15.8987L13.6234 12.2764C13.8564 12.1408 13.9999 11.8909 14 11.6206V4.3765C14 4.10619 13.8562 3.85613 13.622 3.72068L7.37767 0.101176C7.14355 -0.0337253 6.85571 -0.0337253 6.62159 0.101176",fill:"white"})}),(0,t.jsxs)("g",{mask:`url(#${l})`,children:[(0,t.jsx)("path",{d:"M20.2158 3.09495L2.61633 -5.56644L-6.40765 12.9165L11.1914 21.5783L20.2158 3.09495Z",fill:`url(#${i})`}),(0,t.jsx)("mask",{height:"16",id:a,"mask-type":"alpha",maskUnits:"userSpaceOnUse",width:"14",x:"0",y:"0",children:(0,t.jsx)("path",{d:"M0.148193 12.0591C0.207938 12.137 0.282656 12.2044 0.370569 12.255L5.72833 15.3622L6.62079 15.8772C6.75422 15.9546 6.90632 15.9873 7.05576 15.9762C7.10557 15.9721 7.15538 15.9628 7.20401 15.9489L13.7914 3.83876C13.741 3.78368 13.6819 3.73754 13.6158 3.69884L9.5262 1.32771L7.36442 0.0788888C7.303 0.0439129 7.23718 0.0173793 7.16873 0L0.148193 12.0591Z",fill:"white"})}),(0,t.jsx)("g",{mask:`url(#${a})`,children:(0,t.jsx)("path",{d:"M-7.45789 5.63936L4.96918 22.5265L21.4042 10.335L8.97638 -6.55164L-7.45789 5.63936Z",fill:`url(#${n})`})}),(0,t.jsx)("mask",{height:"16",id:o,"mask-type":"alpha",maskUnits:"userSpaceOnUse",width:"14",x:"0",y:"0",children:(0,t.jsx)("path",{d:"M6.82612 0.00282809C6.7199 0.0136004 6.61712 0.0466642 6.52444 0.0998762L0.296448 3.70896L7.01218 15.9903C7.10558 15.9769 7.19749 15.9457 7.28051 15.8974L13.5263 12.2751C13.7171 12.1642 13.8503 11.9753 13.891 11.7577L7.04479 0.0151824C6.99451 0.00512223 6.94337 3.71091e-05 6.8921 0C6.87134 0 6.85058 0.00104193 6.82983 0.00297693",fill:"white"})}),(0,t.jsx)("g",{mask:`url(#${o})`,children:(0,t.jsx)("path",{d:"M-0.0454712 -0.00238037V16.0731H14.0383V-0.00238037H-0.0454712Z",fill:`url(#${d})`})})]}),(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:i,x1:"11.2743",x2:"2.24575",y1:"-1.24934",y2:"17.0954",children:[(0,t.jsx)("stop",{offset:"0.3",stopColor:"#3E863D"}),(0,t.jsx)("stop",{offset:"0.5",stopColor:"#55934F"}),(0,t.jsx)("stop",{offset:"0.8",stopColor:"#5AAD45"})]}),(0,t.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:n,x1:"-1.114",x2:"15.2951",y1:"14.1796",y2:"2.10394",children:[(0,t.jsx)("stop",{offset:"0.57",stopColor:"#3E863D"}),(0,t.jsx)("stop",{offset:"0.72",stopColor:"#619857"}),(0,t.jsx)("stop",{offset:"1",stopColor:"#76AC64"})]}),(0,t.jsxs)("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,x1:"-0.0406827",x2:"14.041",y1:"8.03582",y2:"8.03582",children:[(0,t.jsx)("stop",{offset:"0.16",stopColor:"#6BBF47"}),(0,t.jsx)("stop",{offset:"0.38",stopColor:"#79B461"}),(0,t.jsx)("stop",{offset:"0.47",stopColor:"#75AC64"}),(0,t.jsx)("stop",{offset:"0.7",stopColor:"#659E5A"}),(0,t.jsx)("stop",{offset:"0.9",stopColor:"#3E863D"})]})]})]})},{"aria-hidden":"true"})}],["bun",{name:"Bun",logo:(0,t.jsx)(eJ,{"aria-hidden":"true"})}],["go",{name:"Go",logo:(0,t.jsx)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,t.jsx)("svg",{height:"10px",version:"1.1",viewBox:"0 0 261 99",width:"29px",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("g",{fill:"none",fillRule:"evenodd",id:"Page-1",stroke:"none",strokeWidth:"1",children:(0,t.jsxs)("g",{fill:"#2DBCAF",fillRule:"nonzero",id:"Go-Logo_Aqua",children:[(0,t.jsx)("path",{d:"M19.5076142,29.4191457 C19,29.4191457 18.8730964,29.1559878 19.1269036,28.761251 L21.7918782,25.2086194 C22.0456853,24.8138825 22.680203,24.5507246 23.1878173,24.5507246 L68.4923858,24.5507246 C69,24.5507246 69.1269036,24.9454615 68.8730964,25.3401983 L66.715736,28.761251 C66.4619289,29.1559878 65.8274112,29.5507246 65.4467005,29.5507246 L19.5076142,29.4191457 Z",id:"Path"}),(0,t.jsx)("path",{d:"M0.509858443,41.5507246 C0,41.5507246 -0.127464611,41.2804544 0.127464611,40.875049 L2.80422144,37.2264003 C3.05915066,36.8209949 3.69647371,36.5507246 4.20633215,36.5507246 L62.3301946,36.5507246 C62.8400531,36.5507246 63.0949823,36.95613 62.9675177,37.3615354 L61.9478008,40.6047787 C61.8203362,41.1453192 61.3104777,41.4155895 60.8006193,41.4155895 L0.509858443,41.5507246 Z",id:"Path"}),(0,t.jsx)("path",{d:"M31.5021645,53.4191457 C31,53.4191457 30.8744589,53.0244088 31.1255411,52.629672 L32.8831169,49.3401983 C33.1341991,48.9454615 33.6363636,48.5507246 34.1385281,48.5507246 L59.2467532,48.5507246 C59.7489177,48.5507246 60,48.9454615 60,49.4717773 L59.7489177,52.629672 C59.7489177,53.1559878 59.2467532,53.5507246 58.8701299,53.5507246 L31.5021645,53.4191457 Z",id:"Path"}),(0,t.jsx)("g",{id:"CXHf1q_1_",transform:"translate(69.000000, 0.550725)",children:(0,t.jsxs)("g",{id:"Group",children:[(0,t.jsx)("path",{d:"M94.0875,27.3038462 C86.0881579,29.3346154 80.6282895,30.8576923 72.7559211,32.8884615 C70.8513158,33.3961538 70.7243421,33.5230769 69.0736842,31.6192308 C67.1690789,29.4615385 65.7723684,28.0653846 63.1059211,26.7961538 C55.1065789,22.8615385 47.3611842,24.0038462 40.1236842,28.7 C31.4894737,34.2846154 27.0453947,42.5346154 27.1723684,52.8153846 C27.2993421,62.9692308 34.2828947,71.3461538 44.3138158,72.7423077 C52.9480263,73.8846154 60.1855263,70.8384615 65.8993421,64.3653846 C67.0421053,62.9692308 68.0578947,61.4461538 69.3276316,59.6692308 C64.7565789,59.6692308 59.0427632,59.6692308 44.8217105,59.6692308 C42.1552632,59.6692308 41.5203947,58.0192308 42.4092105,55.8615385 C44.0598684,51.9269231 47.1072368,45.3269231 48.8848684,42.0269231 C49.2657895,41.2653846 50.1546053,39.9961538 52.0592105,39.9961538 C58.5348684,39.9961538 82.4059211,39.9961538 98.2776316,39.9961538 C98.0236842,43.4230769 98.0236842,46.85 97.5157895,50.2769231 C96.1190789,59.4153846 92.6907895,67.7923077 87.1039474,75.1538462 C77.9618421,87.2115385 66.0263158,94.7 50.9164474,96.7307692 C38.4730263,98.3807692 26.9184211,95.9692308 16.7605263,88.3538462 C7.36447368,81.2461538 2.03157895,71.8538462 0.634868421,60.1769231 C-1.01578947,46.3423077 3.04736842,33.9038462 11.4276316,22.9884615 C20.4427632,11.1846154 32.3782895,3.69615385 46.9802632,1.03076923 C58.9157895,-1.12692308 70.3434211,0.269230769 80.6282895,7.25 C87.3578947,11.6923077 92.1828947,17.7846154 95.3572368,25.1461538 C96.1190789,26.2884615 95.6111842,26.9230769 94.0875,27.3038462 Z",id:"Path"}),(0,t.jsx)("path",{d:"M136.115789,97.4923077 C124.561184,97.2384615 114.022368,93.9384615 105.134211,86.3230769 C97.6427632,79.85 92.9447368,71.6 91.4210526,61.8269231 C89.1355263,47.4846154 93.0717105,34.7923077 101.705921,23.4961538 C110.975,11.3115385 122.148684,4.96538462 137.258553,2.3 C150.209868,0.0153846154 162.399342,1.28461538 173.446053,8.77307692 C183.476974,15.6269231 189.698684,24.8923077 191.349342,37.0769231 C193.507895,54.2115385 188.555921,68.1730769 176.747368,80.1038462 C168.367105,88.6076923 158.082237,93.9384615 146.273684,96.35 C142.845395,96.9846154 139.417105,97.1115385 136.115789,97.4923077 Z M166.335526,46.2153846 C166.208553,44.5653846 166.208553,43.2961538 165.954605,42.0269231 C163.669079,29.4615385 152.114474,22.3538462 140.051974,25.1461538 C128.243421,27.8115385 120.625,35.3 117.831579,47.2307692 C115.546053,57.1307692 120.371053,67.1576923 129.513158,71.2192308 C136.496711,74.2653846 143.480263,73.8846154 150.209868,70.4576923 C160.240789,65.2538462 165.700658,57.1307692 166.335526,46.2153846 Z",id:"Shape"})]})})]})})})},{"aria-hidden":"true"})}],["python",{name:"Python",logo:(0,t.jsx)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.useId)(),l=`${r}_linearGradient-1`,a=`${r}_linearGradient-2`;return(0,t.jsxs)("svg",{height:"15px",version:"1.1",viewBox:"0 0 98 99",width:"15px",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:l,x1:"0.959176447%",x2:"74.0505936%",y1:"9.14856261e-08%",y2:"64.1103734%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#5A9FD4"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#306998"})]}),(0,t.jsxs)("linearGradient",{id:a,x1:"49.9999998%",x2:"24.2424815%",y1:"82.2756107%",y2:"44.914431%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFD43B"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#FFE873"})]})]}),(0,t.jsx)("g",{fill:"none",fillRule:"evenodd",id:"Page-1",stroke:"none",strokeWidth:"1",children:(0,t.jsxs)("g",{fillRule:"nonzero",id:"Group",children:[(0,t.jsx)("path",{d:"M48.3285309,0.000808961017 C44.2949163,0.0195514649 40.4429046,0.363560535 37.053531,0.963308956 C27.0688609,2.72727229 25.2560319,6.41939877 25.256031,13.228309 L25.256031,22.2208089 L48.8510309,22.2208089 L48.8510309,25.2183089 L25.256031,25.2183089 L16.4010311,25.2183089 C9.5436672,25.2183089 3.53916305,29.3399799 1.66103098,37.1808088 C-0.505370605,46.1682189 -0.601462292,51.776509 1.66103098,61.1608087 C3.33824788,68.1461184 7.34366897,73.1233087 14.2010311,73.1233087 L22.313531,73.1233087 L22.313531,62.3433087 C22.313531,54.555395 29.0518177,47.6858106 37.053531,47.6858088 L60.6210308,47.6858088 C67.1813877,47.6858088 72.4185308,42.2842245 72.4185308,35.6958089 L72.4185308,13.228309 C72.4185308,6.83393069 67.0241484,2.03050484 60.6210308,0.963308956 C56.5677623,0.288590695 52.3621455,-0.0179335429 48.3285309,0.000808961017 Z M35.568531,7.23330901 C38.0057323,7.23330901 39.996031,9.25611748 39.996031,11.743309 C39.996031,14.2216847 38.0057323,16.225809 35.568531,16.225809 C33.1225921,16.225809 31.141031,14.2216838 31.141031,11.743309 C31.141031,9.25611836 33.1225921,7.23330901 35.568531,7.23330901 Z",fill:`url(#${l})`,id:"path1948"}),(0,t.jsx)("path",{d:"M75.3610308,25.2183089 L75.3610308,35.6958089 C75.3610308,43.8188732 68.4742432,50.6558079 60.6210308,50.6558088 L37.053531,50.6558088 C30.597998,50.6558088 25.256031,56.1808738 25.256031,62.6458087 L25.256031,85.1133059 C25.256031,91.5076851 30.8163884,95.2687875 37.053531,97.1033059 C44.5223822,99.2994427 51.6846194,99.6963403 60.6210308,97.1033059 C66.5611672,95.3834427 72.4185334,91.9222091 72.4185308,85.1133059 L72.4185308,76.1208086 L48.8510309,76.1208086 L48.8510309,73.1233087 L72.4185308,73.1233087 L84.2160342,73.1233087 C91.073399,73.1233087 93.6287342,68.3401496 96.0135254,61.1608087 C98.4769358,53.7697891 98.372119,46.6621259 96.0135254,37.1808088 C94.318839,30.3542608 91.0821198,25.2183089 84.2160342,25.2183089 L75.3610308,25.2183089 Z M62.1060308,82.1158086 C64.5519715,82.1158086 66.5335308,84.1199356 66.5335308,86.5983059 C66.5335308,89.0854939 64.5519688,91.1083059 62.1060308,91.1083059 C59.6688268,91.1083059 57.6785309,89.0854939 57.6785309,86.5983059 C57.6785309,84.1199356 59.6688242,82.1158086 62.1060308,82.1158086 Z",fill:`url(#${a})`,id:"path1950"})]})})]})},{"aria-hidden":"true"})}],["ruby",{name:"Ruby",logo:(0,t.jsx)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=(0,s.useId)(),l=Array(15).fill().map((e,t)=>`${r}_linearGradient-${t}`);return(0,t.jsxs)("svg",{height:"15px",version:"1.1",viewBox:"0 0 100 100",width:"15px",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsxs)("defs",{children:[(0,t.jsxs)("linearGradient",{id:l[0],x1:"84.7503645%",x2:"58.2543962%",y1:"111.399353%",y2:"64.5837087%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#FB7655"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#FB7655"}),(0,t.jsx)("stop",{offset:"41%",stopColor:"#E42B1E"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#990000"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#990000"})]}),(0,t.jsxs)("linearGradient",{id:l[1],x1:"116.651024%",x2:"1.74616041%",y1:"60.8903211%",y2:"19.2879503%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#871101"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#871101"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#911209"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#911209"})]}),(0,t.jsxs)("linearGradient",{id:l[2],x1:"75.7744024%",x2:"38.9781357%",y1:"219.327131%",y2:"7.82868176%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#871101"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#871101"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#911209"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#911209"})]}),(0,t.jsxs)("linearGradient",{id:l[3],x1:"50.012428%",x2:"66.4830414%",y1:"7.23449921%",y2:"79.1354134%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"23%",stopColor:"#E57252"}),(0,t.jsx)("stop",{offset:"46%",stopColor:"#DE3B20"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#A60003"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#A60003"})]}),(0,t.jsxs)("linearGradient",{id:l[4],x1:"46.1741749%",x2:"49.9323342%",y1:"16.347907%",y2:"83.0468449%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"23%",stopColor:"#E4714E"}),(0,t.jsx)("stop",{offset:"56%",stopColor:"#BE1A0D"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#A80D00"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#A80D00"})]}),(0,t.jsxs)("linearGradient",{id:l[5],x1:"36.9653573%",x2:"49.5282324%",y1:"15.5936471%",y2:"92.4776332%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"18%",stopColor:"#E46342"}),(0,t.jsx)("stop",{offset:"40%",stopColor:"#C82410"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#A80D00"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#A80D00"})]}),(0,t.jsxs)("linearGradient",{id:l[6],x1:"13.6086166%",x2:"85.7636612%",y1:"58.3456855%",y2:"-46.7167814%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"54%",stopColor:"#C81F11"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#BF0905"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#BF0905"})]}),(0,t.jsxs)("linearGradient",{id:l[7],x1:"27.6242038%",x2:"50.7445145%",y1:"21.1345847%",y2:"79.0557818%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"31%",stopColor:"#DE4024"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#BF190B"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#BF190B"})]}),(0,t.jsxs)("linearGradient",{id:l[8],x1:"-20.6671297%",x2:"104.241521%",y1:"122.281897%",y2:"-6.34211007%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#BD0012"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#BD0012"}),(0,t.jsx)("stop",{offset:"7%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"17%",stopColor:"#FFFFFF"}),(0,t.jsx)("stop",{offset:"27%",stopColor:"#C82F1C"}),(0,t.jsx)("stop",{offset:"33%",stopColor:"#820C01"}),(0,t.jsx)("stop",{offset:"46%",stopColor:"#A31601"}),(0,t.jsx)("stop",{offset:"72%",stopColor:"#B31301"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#E82609"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#E82609"})]}),(0,t.jsxs)("linearGradient",{id:l[9],x1:"58.7919609%",x2:"11.9636556%",y1:"65.2049657%",y2:"50.1275621%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#8C0C01"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#8C0C01"}),(0,t.jsx)("stop",{offset:"54%",stopColor:"#990C00"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#A80D0E"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#A80D0E"})]}),(0,t.jsxs)("linearGradient",{id:l[10],x1:"79.3194899%",x2:"23.088288%",y1:"62.7538068%",y2:"17.8876818%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#7E110B"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#7E110B"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#9E0C00"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#9E0C00"})]}),(0,t.jsxs)("linearGradient",{id:l[11],x1:"92.8800277%",x2:"59.8414537%",y1:"74.1223655%",y2:"39.7039965%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#79130D"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#79130D"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#9E120B"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#9E120B"})]}),(0,t.jsxs)("radialGradient",{cx:"32.0008013%",cy:"40.2100469%",fx:"32.0008013%",fy:"40.2100469%",gradientTransform:"translate(0.320008,0.402100),scale(0.522539,1.000000),translate(-0.320008,-0.402100)",id:l[12],r:"133.14407%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#A80D00"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#A80D00"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#7E0E08"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#7E0E08"})]}),(0,t.jsxs)("radialGradient",{cx:"13.5493795%",cy:"40.859922%",fx:"13.5493795%",fy:"40.859922%",gradientTransform:"translate(0.135494,0.408599),scale(0.778453,1.000000),translate(-0.135494,-0.408599)",id:l[13],r:"113.540881%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#A30C00"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#A30C00"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#800E08"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#800E08"})]}),(0,t.jsxs)("linearGradient",{id:l[14],x1:"56.5701955%",x2:"3.10480737%",y1:"101.716594%",y2:"11.9932603%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#8B2114"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#8B2114"}),(0,t.jsx)("stop",{offset:"43%",stopColor:"#9E100A"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#B3100C"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#B3100C"})]}),(0,t.jsxs)("linearGradient",{id:l[15],x1:"30.8698732%",x2:"92.4707626%",y1:"35.5989756%",y2:"100.693616%",children:[(0,t.jsx)("stop",{offset:"0%",stopColor:"#B31000"}),(0,t.jsx)("stop",{offset:"0%",stopColor:"#B31000"}),(0,t.jsx)("stop",{offset:"44%",stopColor:"#910F08"}),(0,t.jsx)("stop",{offset:"99%",stopColor:"#791C12"}),(0,t.jsx)("stop",{offset:"100%",stopColor:"#791C12"})]})]}),(0,t.jsx)("g",{fill:"none",fillRule:"evenodd",id:"Page-1",stroke:"none",strokeWidth:"1",children:(0,t.jsxs)("g",{fillRule:"nonzero",id:"ruby",children:[(0,t.jsx)("polygon",{fill:`url(#${l[0]})`,id:"Path",points:"77.0122645 65.4278136 20.2589918 99.1275777 93.7437433 94.1410964 99.4035175 20.0432571"}),(0,t.jsx)("polygon",{fill:`url(#${l[1]})`,id:"Path",points:"93.8641535 94.0904237 87.5481442 50.4969668 70.3440559 73.2143305"}),(0,t.jsx)("polygon",{fill:`url(#${l[2]})`,id:"Path",points:"93.9494437 94.0904237 47.6773646 90.458054 20.504829 99.032755"}),(0,t.jsx)("polygon",{fill:`url(#${l[3]})`,id:"Path",points:"20.5700511 99.0422874 32.1294164 61.1733249 6.69279222 66.6123474"}),(0,t.jsx)("polygon",{fill:`url(#${l[4]})`,id:"Path",points:"70.3395405 73.3397576 59.7033189 31.6778786 29.2646604 60.2100448"}),(0,t.jsx)("polygon",{fill:`url(#${l[5]})`,id:"Path",points:"96.9902992 32.2648777 68.2173133 8.76484857 60.2050274 34.6680617"}),(0,t.jsx)("polygon",{fill:`url(#${l[6]})`,id:"Path",points:"83.5344758 0.386315593 66.6118459 9.73816318 55.9354878 0.260888453"}),(0,t.jsx)("polygon",{fill:`url(#${l[7]})`,id:"Path",points:"0 79.3151066 7.08914198 66.3860772 1.35461312 50.9836241"}),(0,t.jsx)("path",{d:"M0.973314611,50.4969668 L6.74296307,66.8627001 L31.81334,61.2380454 L60.4358134,34.6374574 L68.5133214,8.98058328 L55.7945075,0 L34.1708685,8.09255913 C27.3581679,14.4291382 14.1381473,26.9668352 13.6615241,27.2026383 C13.1899181,27.4434584 4.93179515,43.0516119 0.973314611,50.4969668 L0.973314611,50.4969668 Z",fill:"#FFFFFF",id:"Path"}),(0,t.jsx)("path",{d:"M21.2323064,21.0968451 C35.9975894,6.4569892 55.0324123,-2.19246642 62.3372889,5.17763237 C69.6376501,12.5477311 61.8957855,30.4587268 47.1305023,45.0935658 C32.3652194,59.7284045 13.5661995,68.8544832 6.26633995,61.4843842 C-1.03853672,54.1193026 6.46702339,35.7316838 21.2323064,21.0968451 L21.2323064,21.0968451 Z",fill:`url(#${l[8]})`,id:"Path"}),(0,t.jsx)("path",{d:"M20.5700511,99.0272361 L32.0391088,61.0378639 L70.1288227,73.2745355 C56.356923,86.188514 41.0397605,97.1056924 20.5700511,99.0272361 L20.5700511,99.0272361 Z",fill:`url(#${l[9]})`,id:"Path"}),(0,t.jsx)("path",{d:"M60.4859842,34.5627029 L70.2642842,73.2946038 C81.7684617,61.1984105 92.0936236,48.1941244 97.1503443,32.109348 L60.4859842,34.5627029 L60.4859842,34.5627029 Z",fill:`url(#${l[10]})`,id:"Path"}),(0,t.jsx)("path",{d:"M97.0505043,32.3050143 C100.963831,20.4947948 101.866907,3.55209662 83.4135641,0.406383936 L68.2719995,8.76986569 L97.0505043,32.3050143 L97.0505043,32.3050143 Z",fill:`url(#${l[11]})`,id:"Path"}),(0,t.jsx)("path",{d:"M0,79.1445256 C0.541845246,98.636405 14.6047363,98.9268942 20.5951365,99.0979771 L6.75801434,66.7824268 L0,79.1445256 L0,79.1445256 Z",fill:"#9E1209",id:"Path"}),(0,t.jsx)("path",{d:"M60.5406704,34.6229079 C69.3807754,40.0564118 87.1969484,50.9685728 87.5581785,51.1692563 C88.1195901,51.4853326 95.2393364,39.1633702 96.8548382,32.1996556 L60.5406704,34.6229079 L60.5406704,34.6229079 Z",fill:`url(#${l[12]})`,id:"Path"}),(0,t.jsx)("path",{d:"M32.0240575,61.0378639 L47.3562714,90.6186006 C56.422145,85.7018568 63.5213212,79.7114565 70.0234642,73.2946038 L32.0240575,61.0378639 L32.0240575,61.0378639 Z",fill:`url(#${l[13]})`,id:"Path"}),(0,t.jsx)("path",{d:"M6.69780929,66.8225633 L4.52541124,92.6906571 C8.62437017,98.2897247 14.2635744,98.7763819 20.1787184,98.3398954 C15.8991444,87.6886226 7.35003046,66.3910942 6.69780929,66.8225633 L6.69780929,66.8225633 Z",fill:`url(#${l[14]})`,id:"Path"}),(0,t.jsx)("path",{d:"M68.1821938,8.83508781 L98.6409204,13.1096448 C97.0153848,6.22118618 92.0233846,1.77604831 83.5144071,0.386315593 L68.1821938,8.83508781 L68.1821938,8.83508781 Z",fill:`url(#${l[15]})`,id:"Path"})]})})]})},{"aria-hidden":"true"})}],["v8",{name:"Edge"}],["rust",{name:"Rust",logo:(0,t.jsx)(eK,{"aria-hidden":"true"})}]]);function sM(e){let{runtime:s,runtimeLanguage:r}=e,[l,a,o]=s?.match(/(v8|[^0-9]*)([0-9].*)?/)||[],i=sT.get("executable"===a&&void 0!==r?r:a),n=s;return l&&i&&(n=i.name,o&&(n+=` ${o}`)),{text:n,reactNode:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[i?.logo,(0,t.jsx)("p",{className:"text-copy-13-mono",children:n})]})}}function sE(e){let{requestMethod:s,requestPath:r,responseStatusCode:l,onUp:a,onDown:o,onClose:i,isScrolled:d=!1}=e;return(0,t.jsxs)("div",{className:(0,u.clsx)("flex flex-row items-center justify-between gap-1 flex-initial ml-px p-4",d&&"border-b border-gray-300"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 overflow-hidden p-1",children:[(0,t.jsx)("p",{className:`text-copy-13 ${te.default.title}`,children:(0,t.jsx)(tr.RequestMethodBadge,{method:s})}),(0,t.jsx)("p",{className:`text-copy-13 truncate ${te.default.title}`,children:r})]}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-1",style:{display:a||o?void 0:"none"},children:[(0,t.jsx)(tr.StatusCodeBadge,{statusCode:l}),(0,t.jsx)(n.Button,{"aria-label":"Up",className:te.default.ghostButton,disabled:!a,onClick:a,shape:"square",size:"small",svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,t.jsx)(eH.ChevronUp,{color:"gray-700",size:16})}),(0,t.jsx)(n.Button,{"aria-label":"Down",className:te.default.ghostButton,disabled:!o,onClick:o,shape:"square",size:"small",svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,t.jsx)(ez.ChevronDown,{color:"gray-700",size:16})})]}),(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start flex-initial geist-hide-on-mobile",children:(0,t.jsx)("div",{className:te.default.buttonRule})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:(0,t.jsx)(n.Button,{"aria-label":"Close",onClick:i,shape:"square",size:"small",svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,t.jsx)(eG.Cross,{color:"gray-700",size:16})})})]})]})}function sD(e){let{selectedLogId:r,onClose:l}=e,a=(0,g.useIsMobile)(),[o,i]=(0,s.useState)(!1),[n,d]=(0,s.useState)(!1),{logRows:c}=(0,tt.useGroupLogs)(),{onUp:u,onDown:x,selectedLog:h}=sq({logRows:c,selectedLogId:r,onClose:l}),m=(0,s.useMemo)(()=>(0,e0.withAwaitPaint)(l),[l]);if(!a)return null;let f=!!(h?.traceId&&h?.sessionId),j=h?(0,t.jsx)(sG,{logGroup:h}):null;return(0,t.jsxs)(L.Modal.Modal,{active:!!r,"data-testid":(0,p.tid)("group-logs","details-panel"),drawerClassname:"h-full [&>div]:flex [&>div]:flex-col  [&>div]:flex-1",drawerHeight:"max",onClickOutside:m,children:[h&&(0,t.jsx)(sE,{onClose:l,onDown:x,onUp:u,requestMethod:h.requestMethod,requestPath:h.requestPath,responseStatusCode:h.statusCode}),(0,t.jsx)(L.Modal.Header,{children:(0,t.jsx)(eZ.Switch,{className:"mx-4 -mb-2",children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(eZ.Switch.Control,{checked:!o&&(!f||!n),label:f?"Request":"Request Details",onClick:()=>{i(!1),d(!1)},size:"large",value:"details"}),(0,t.jsx)(eZ.Switch.Control,{checked:o,label:"Logs",onClick:()=>{i(!0),d(!1)},size:"large",value:"logs"}),f&&(0,t.jsx)(eZ.Switch.Control,{checked:n,label:"Trace",onClick:()=>{i(!1),d(!0)},size:"large",value:"trace"})]})})}),(0,t.jsx)(L.Modal.Body,{className:"flex flex-1 flex-col !p-0 [&>div:first-child]:flex-1",children:f&&n?(0,t.jsx)(sv,{}):o?(0,t.jsx)(sg,{collapsed:!1}):j})]})}let sI=(0,s.memo)(function(e){let{onClose:s,selectedLogId:r}=e,{logRows:l}=(0,tt.useGroupLogs)(),{data:a}=(0,e6.useSelectedLog)(),{onUp:o,onDown:i,selectedLog:n}=sq({logRows:l,selectedLogId:r,onClose:s}),d=a??n;return d?(0,t.jsx)(sU,{...d,onClose:s,onDown:i,onUp:o}):(0,t.jsx)(sF,{onClose:s})});function sF(e){let{onClose:s}=e,{data:r,error:l}=(0,e6.useSelectedLog)();return l?(0,t.jsx)(sX,{error:l}):r?(0,t.jsx)(sU,{...r,onClose:s}):(0,t.jsx)(sJ,{onClose:s})}function sq(e){let{logRows:t,selectedLogId:r,onClose:l}=e,{setState:a}=(0,D.useLogsQueryState)(),o=(0,s.useRef)(null),i=r?t.findIndex(e=>e.requestId===r):-1;i>-1&&(o.current=t[i]);let n=(0,s.useMemo)(()=>i>0?()=>a({selectedLogId:t[i-1].requestId}):void 0,[a,t,i]),d=(0,s.useMemo)(()=>i<t.length-1&&-1!==i?()=>a({selectedLogId:t[i+1].requestId}):void 0,[a,t,i]);return(0,s.useEffect)(()=>{function e(e){let s=e.target&&e.target.tagName.toLowerCase();if(r&&"input"!==s&&"textarea"!==s)switch(e.key){case"ArrowUp":if(n){e.preventDefault(),n();let s=document.querySelector(`[data-log-row-id="${t[i-1].requestId}"]`);s&&(s.focus(),s.scrollIntoView({block:"center"}))}break;case"ArrowDown":if(d){e.preventDefault(),d();let s=document.querySelector(`[data-log-row-id="${t[i+1].requestId}"]`);s&&(s.focus(),s.scrollIntoView({block:"center"}))}break;case"Escape":e.preventDefault(),l()}}return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i,n,d,r,t,l]),{onUp:n,onDown:d,selectedLog:o.current}}function sA(e){let{requestPath:s}=e,r=ts();return(0,t.jsx)("p",{className:"text-copy-13-mono truncate","data-testid":(0,p.tid)("logs","detail-requestPath"),children:(0,t.jsx)(e2.HighlightText,{as:"span",search:r,text:s})})}function sR(e){let{used:s,max:r,format:l,className:a}=e;return(0,t.jsxs)("p",{className:`text-copy-13-mono ${(0,tv.twMerge)("font-mono text-[13px]",a)}`,children:[(0,t.jsxs)("span",{className:(0,tv.twMerge)(!!r&&s>=.8*r&&"text-amber-900",!!r&&s>=r&&"text-red-900"),children:[l(s)," "]}),(0,t.jsxs)("span",{className:"text-gray-700",children:["/",r?` ${l(r)}`:(0,t.jsx)(ea.Skeleton,{className:"inline-block translate-y-0.5",height:14,width:22})]})]})}function sO(e){let{icon:s,title:o,description:i,subtitle:n,additionalInfo:d,children:c,contextActions:p,isFluidEnabled:x,event:h}=e,m=(0,t.jsxs)("div",{className:(0,u.clsx)("flex w-full items-center gap-2 overflow-hidden px-2 pt-2",c?"pb-0.5":"pb-2"),children:[(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-2 overflow-hidden",children:[s&&(0,t.jsx)("div",{className:"text-gray-800",children:s}),(0,t.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium truncate",children:o}),n&&(0,t.jsx)("p",{className:"text-copy-14 text-gray-800 leading-tighter -mt-0.5",children:n})]})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("p",{className:"text-copy-13 text-gray-900 inline-flex items-center gap-2 truncate",children:i}),d&&(0,t.jsx)("p",{className:"text-label-12 text-gray-700",children:d})]})]});return(0,t.jsxs)("div",{className:"flex flex-col rounded-md border border-gray-300 bg-background-200",children:[(0,t.jsxs)("div",{className:(0,u.clsx)("flex flex-col rounded-md border-gray-300 bg-background-100 px-2",n?"py-px":"py-1",x&&"border-b border-l border-r -mx-px"),children:[o&&(p?.length?(0,t.jsxs)(a.MenuContainer,{position:"bottom-start",children:[(0,t.jsx)(l.MenuButton,{className:"-mx-1 rounded-sm !px-1 hover:bg-gray-100 [&>span]:px-0",variant:"unstyled",children:m}),(0,t.jsx)(r.Menu,{width:180,children:p.map(e=>(0,t.jsx)(sZ,{...e},e.label))})]}):m),(0,t.jsx)("div",{className:"flex flex-col",children:c})]}),x&&h?(0,t.jsx)(sK,{event:h,children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(sW,{event:h}),(0,t.jsx)(s$,{isFluidEnabled:x,event:h}),(0,t.jsx)(sP,{event:h})]})}):null]})}function sB(e){let{event:s}=e,{getProjectUrl:r}=(0,e3.useDashboardNavigation)(),{data:l}=(0,e6.useSelectedLog)(),{deploymentId:a}=l??{},o=-1!==s.durationMs&&("serverless"===s.source||"serverless-middleware"===s.source),{getFunctionMetadata:i}=(0,tq.useFunctionMetadata)("serverless"===s.source||"serverless-middleware"===s.source?a:void 0);if(!o||!s.durationMs)return null;let n=i(s.route),d=n&&"lambda"===n.type&&n.lambda.timeout&&1e3*n.lambda.timeout||-1,c=-1!==d;return(0,t.jsx)(sQ,{contextActions:[{icon:(0,t.jsx)(e$.SettingsGear,{color:"gray-900",size:16}),label:"Configure Function Max Duration",href:r("/settings/functions#function-max-duration")}],label:`Execution Duration${c?" / Maximum":""}`,value:`${sS(s.durationMs,{secondsDecimalDigits:2})}${c?" ":""}`,valueLabel:"Execution Duration",children:(0,t.jsx)(sR,{format:e=>sS(e,{secondsDecimalDigits:2}),max:c?d:void 0,used:s.durationMs})})}function s$(e){let{event:s,isFluidEnabled:r}=e,{getProjectUrl:l}=(0,e3.useDashboardNavigation)(),a=r?"Peak Memory":"Memory Used";return sy(s.functionMaxMemoryUsed)?(0,t.jsx)(sQ,{contextActions:[{icon:(0,t.jsx)(e$.SettingsGear,{color:"gray-900",size:16}),label:"Configure Function CPU & Memory",href:l("/settings/functions#function-cpu")}],label:`${a} / Maximum`,value:`${s.functionMaxMemoryUsed} MB`,valueLabel:a,children:(0,t.jsx)(sR,{format:e=>`${e} MB`,max:s.functionMemorySize,used:s.functionMaxMemoryUsed})}):null}function sP(e){let{event:s}=e,{data:r}=(0,e6.useSelectedLog)(),{deploymentId:l}=r??{},a=-1!==s.durationMs&&("serverless"===s.source||"serverless-middleware"===s.source),{getFunctionMetadata:o}=(0,tq.useFunctionMetadata)("serverless"===s.source||"serverless-middleware"===s.source?l:void 0),{getProjectUrl:i}=(0,e3.useDashboardNavigation)(),n=o(s.route),d=!n&&!s.functionRuntime&&("serverless"===s.source||"serverless-middleware"===s.source),c=null;return(s.functionRuntime?c=sM({runtime:s.functionRuntime,runtimeLanguage:n?.lambda?.runtimeLanguage}):n?.type==="lambda"&&(c=sM({runtime:n.lambda.runtime,runtimeLanguage:n.lambda.runtimeLanguage})),c&&a)?(0,t.jsx)(sQ,{contextActions:c?.text.includes("Node.js")?[{icon:(0,t.jsx)(e$.SettingsGear,{color:"gray-900",size:16}),label:"Configure Node.js Version",href:i("/settings/build-and-deployment#node.js-version")}]:void 0,isLoading:d,label:"Runtime",value:c?.text,children:c?.reactNode}):null}function sW(e){let{event:s}=e,r=(0,d.useToasts)(),{handleFilter:l}=s0(),{concurrency:a,invocationId:o}=s;return void 0===a||a<1?null:(0,t.jsx)(sQ,{label:(0,t.jsx)(t.Fragment,{children:"Peak Concurrency"}),contextActions:[{icon:(0,t.jsx)(h.Filter,{}),label:"View concurrent requests",onClick:()=>o?l("invocationIds",o):void 0},{icon:(0,t.jsx)(eM.Copy,{}),label:"Copy Invocation ID",onClick:()=>{o&&((0,e4.copyToClipboard)(o),r.success("Invocation ID copied to clipboard"),C.analytics.track(b.AnalyticsEvent.LOGS_CONTEXT_ACTION_CLICKED,{field:"Copy Invocation ID",action:"Copy"}))}}],value:`${a} Request${1===a?"":"s"}`})}function sz(e){let{event:r,onClick:l,groupLog:a,projectId:o,children:i,additionalInfo:n,hasExternalApiAccess:d}=e,c=(0,e9.useO11yNavigation)(),{handleFilter:u}=s0(),p=(0,m.useParams)(),{data:x}=(0,sk.useDashboardDeployment)({teamSlug:p?.teamSlug,projectName:p?.project,deploymentId:a.deploymentId},{revalidateOnFocus:!1,revalidateOnReconnect:!1}),h=(0,sn.useServerFlag)("enable-logs-show-cache-details",!1),{pathType:f,source:g,httpStatus:j,cache:v,invocationId:y}=r,C=!!(x?.config?.functionType!=="standard"&&y&&("serverless"===g||"serverless-middleware"===g)),b=null,w=g,L="",k="",_=!1;"serverless"===g?(w="Function Invocation","background_func"===f?(w="ISR Function Invocation",b=(0,t.jsx)(eI.FunctionSquare,{color:"gray-900",size:16}),L=n?.isServingRevalidation?"Dynamic Rendering":"Background Revalidation",_=!0):"middleware"===f?(b=(0,t.jsx)(eF.FunctionMiddleware,{color:"gray-900",size:16}),w="Middleware"):b=(0,t.jsx)(eI.FunctionSquare,{color:"gray-900",size:16})):"middleware"===f?(b=(0,t.jsx)(eF.FunctionMiddleware,{color:"gray-900",size:16}),w="Middleware"):"edge-function"===g?(b=(0,t.jsx)(eq.FunctionEdge,{color:"gray-900",size:16}),w="Edge Function Invocation"):"static"===g?(b=(0,t.jsx)(eA.EdgeCache,{color:"gray-900",size:16}),w="Cache","PRERENDER"===v?(w="ISR Cache",b=(0,t.jsx)(eO.DataCache,{color:"gray-900",size:16})):"HIT"===v&&(k=""),"partial_prerender"===f&&(w="Cache",L="Partial Prerender")):"external"===g?(b=(0,t.jsx)(eR.ArrowGlobe,{color:"gray-800",size:16}),w="Rewrite"):"redirect"===g?(b=(0,t.jsx)(eV.ArrowRight,{color:"gray-800",size:16}),w="Redirect"):b=(0,t.jsx)(eE.Eye,{color:"gray-900",size:16});let N=(0,t.jsx)(tr.StatusCodeBadge,{className:"shrink !flex-row-reverse",full:200!==j,statusCode:j}),S="serverless"===g||"edge-function"===g,T="static"===g&&"MISS"!==v,M=(0,s.useMemo)(()=>[{icon:(0,t.jsx)(eE.Eye,{className:"mr-2 shrink-0 text-gray-800"}),label:"Open in Observability",href:c(`/route/${encodeURIComponent(r.route)}`,{removeExistingParams:!0,additionalParams:"edge-function"===r.source?{type:"edge"}:void 0})}],[c,r.route,r.source]),E=(0,s.useMemo)(()=>{try{let e=new URLSearchParams(r.targetQuery??"");return{...sy(r.route)?{[r.route]:null}:{},...Object.fromEntries(e.entries())}}catch{return{}}},[r.route,r.targetQuery]);return(0,t.jsxs)(sO,{description:(0,t.jsxs)(t.Fragment,{children:[k,N]}),icon:b,isFluidEnabled:C,onClick:l,subtitle:L,title:w,event:r,children:[i,sy(r.route)&&S&&"middleware"!==f&&(0,t.jsx)(sQ,{contextActions:M,label:"Route",onFilter:()=>u("routes",r.route),value:r.route,children:(0,t.jsx)(e5.RouteHighlighter,{route:r.route})}),sy(v)&&T&&(0,t.jsx)(sQ,{label:"Status",onFilter:()=>u("caches",v),value:v}),"external"===g&&r.externalRewriteTargetHost&&r.externalRewriteTargetPath&&(0,t.jsx)(sQ,{label:"Target",value:`${r.externalRewriteTargetHost}${r.externalRewriteTargetPath}`}),"redirect"===g&&r.redirectLocation&&(0,t.jsx)(sQ,{label:"Redirect Location",value:r.redirectLocation}),h&&T&&Object.keys(E).length>0&&(0,t.jsx)(tR,{title:"Key",params:E,hideCopyButton:!0}),h&&T&&(0,t.jsx)(sN,{requestId:a.requestId,projectId:o??"",eventTime:r.timestamp}),h&&_&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s2,{requestId:a.requestId,projectId:o??"",eventTime:r.timestamp,isServingRevalidation:n?.isServingRevalidation})}),!C&&(0,t.jsx)(sP,{event:r}),(0,t.jsx)(sB,{event:r}),!C&&(0,t.jsx)(s$,{isFluidEnabled:C,event:r}),"static"!==g&&"HIT"!==v&&"STALE"!==v&&"external"!==g&&"redirect"!==g&&d&&(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(tF,{enableDataCacheMetrics:!0,endTime:new Date(new Date(r.timestamp).getTime()+Number(r.durationMs??5e3)),projectId:o??"",requestId:a.requestId,source:g,startTime:new Date(r.timestamp),pathType:f})})]})}function sV(e){let{events:r,groupLog:l,projectId:a,hasExternalApiAccess:o}=e,i=(0,s.useMemo)(()=>{let e=[...r].sort((e,t)=>{let s=new Date(e.timestamp).getTime(),r=new Date(t.timestamp).getTime(),l="middleware"===e.pathType,a="middleware"===t.pathType,o="static"===e.source||"redirect"===e.source||"external"===e.source,i="static"===t.source||"redirect"===t.source||"external"===t.source;return l&&i?-1:a&&o?1:s===r?"background_func"===e.pathType?1:"background_func"===t.pathType?-1:0:s-r}),t=Math.max(...e.map(e=>"background_func"===e.pathType?e.httpStatus:-1));return e.filter(e=>"background_func"!==e.pathType||"static"!==e.source).map(e=>"background_func"===e.pathType?{...e,httpStatus:t}:e)},[r]);return 0===r.length?(0,t.jsx)(sw,{direction:"up",children:(0,t.jsx)(tr.RequestInProgressBadge,{})}):(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-0 flex-initial",children:i.map((e,r)=>{var n,d,c,u;let p,x,h,m=r===i.length-1,f=null,g=i[r-1],j=!i.some(e=>"static"===e.source&&"prerender"===e.pathType&&"REVALIDATED"!==e.cache)&&"serverless"===e.source&&"background_func"===e.pathType;if("partial_prerender"!==e.pathType||m)if(sC(e))f=m?(0,t.jsx)(sL,{hasFunctionCrashed:l.hasFunctionCrashed,requestDurationMs:l.requestDurationMs??0}):(0,t.jsx)(sw,{direction:"up",through:"dashed",children:(0,t.jsx)(tr.RequestFinishedBadge,{hasFunctionCrashed:l.hasFunctionCrashed,requestDurationMs:l.requestDurationMs??0})});else if(m){let s=g&&sC(g)&&"background_func"===e.pathType,r=g&&"MISS"===g.cache&&"serverless"===g.source&&"middleware"!==g.pathType&&"background_func"===e.pathType,a=200===(n=e.httpStatus)||404===n||301===n||308===n||307===n||302===n;f=s||r?a?(0,t.jsx)(sw,{className:"mb-2",direction:"up",lineClassName:"border-dashed",children:(0,t.jsx)(tr.DataCacheUpdatedBadge,{})}):null:j?(0,t.jsxs)("div",{className:"",children:[(0,t.jsx)(sw,{direction:"up",through:a?"dashed":void 0,children:(0,t.jsx)(tr.RequestFinishedBadge,{hasFunctionCrashed:l.hasFunctionCrashed,requestDurationMs:l.requestDurationMs??0})}),a?(0,t.jsx)(sw,{className:"h-5",direction:"up",lineClassName:"border-dashed",children:(0,t.jsx)(tr.DataCacheUpdatedBadge,{})}):null]}):(0,t.jsx)(sL,{hasFunctionCrashed:l.hasFunctionCrashed,requestDurationMs:l.requestDurationMs??0})}else f=(0,t.jsx)(sw,{direction:"straight"});else f="STALE"===e.cache||"PRERENDER"===e.cache||"HIT"===e.cache?(0,t.jsx)(sw,{direction:"up",through:!0,children:(0,t.jsx)(tr.ResponseStreamingStartedBadge,{})}):(0,t.jsx)(sw,{direction:"up",through:"dashed"});let v=(d=e,c=g,u=l,p=c?.region,x=d.region,h=u.clientRegion,sH(d)?null:(c&&sH(c)&&(p=h),s1(d.region)&&"middleware"!==d.pathType&&p!==x&&h!==x)?x:null);return(0,t.jsxs)(s.default.Fragment,{children:[v&&(0,t.jsx)(sw,{direction:"both",className:"-mt-2",lineClassName:g&&sH(g)?"border-dashed h-[30px]":"",children:(0,t.jsx)(tr.RegionBadge,{region:v})}),(0,t.jsx)(sz,{additionalInfo:{isServingRevalidation:j},event:e,groupLog:l,hasExternalApiAccess:o,projectId:a}),f]},`${e.timestamp}-${e.source}-${r}`)})})}function sH(e){return"prerender"===e.pathType&&"static"===e.source||"streaming_func"===e.pathType&&"static"===e.source}function sG(e){let r,{logGroup:l}=e,{timestamp:a,clientUserAgent:o,requestReferer:i,events:n,domain:d,requestPath:c,deploymentId:p,requestId:x,requestSearchParams:h,environment:f,branch:g,traceId:j,sessionId:v,clientRegion:y}=l,C=(0,m.useParams)(),{data:b}=(0,E.useProject)(C?.project),{team:w}=(0,eo.useTeam)(),L=b?.id,k=(0,e9.useO11yNavigation)(),{getProjectUrl:_}=(0,e3.useDashboardNavigation)(),N=x.split("::").at(-1)??x,{data:S}=(0,sk.useDashboardDeployment)({deploymentId:p,teamSlug:C?.teamSlug,projectName:C?.project},{revalidateOnFocus:!1,revalidateOnReconnect:!1}),T=(0,e8.useDeploymentLink)(S),{isDeploymentEditable:M}=(0,X.usePageConfig)(),{handleFilter:D}=s0(),I=(0,s.useMemo)(()=>[{icon:(0,t.jsx)(eB.External,{size:16}),label:"Visit Path",onClick:()=>window.open(`https://${d}${c}`,"_blank","noopener")},{icon:(0,t.jsx)(eE.Eye,{}),label:"Open in Observability",href:k(`/requestPath/${encodeURIComponent(c)}`,{removeExistingParams:!0})}],[k,c,d]),F=(0,s.useMemo)(()=>[{icon:(0,t.jsx)(e$.SettingsGear,{size:16}),label:"Configure Rules",href:_("/firewall/configure")}],[_]),q=(0,s.useMemo)(()=>[{icon:(0,t.jsx)(eP.Linked,{size:16}),label:"Open Deployment",href:T}],[T]),{data:A}=(0,J.useRollingRelease)({teamIdOrSlug:w?.id,projectSlug:L}),R=A?.rollingRelease!==null,O=!1;R&&"production"===f&&(A?.rollingRelease?.state==="ACTIVE"&&p===A.rollingRelease.canaryDeployment?.id?(r="Current Canary",O=!0):A?.rollingRelease?.state==="ACTIVE"&&p===A.rollingRelease.currentDeployment?.id?(r="Current Base",O=!0):(A?.rollingRelease?.state,r="Unspecified"));let B=new Date(a);return(0,t.jsxs)("div",{tabIndex:-1,className:(0,u.clsx)("flex flex-col items-stretch justify-start flex-initial min-h-full pb-4"),children:[(0,t.jsxs)("div",{className:"flex-1 px-3",children:[(0,t.jsxs)("div",{className:"ml-1 flex items-center justify-between gap-2 p-1",children:[(0,t.jsx)(tr.RequestStartedBadge,{}),(0,t.jsx)(t3.TimestampTooltip,{content:{timestamp:B.getTime()},showRelativeToNow:!0,children:(0,t.jsx)("span",{className:"text-right font-mono text-[13px] leading-tight",children:(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{className:"uppercase text-gray-900",children:[(0,eU.format)(B,"MMM dd")," ",(0,eU.format)(B,"HH:mm:ss"),(0,t.jsxs)("span",{className:"text-gray-900",children:[".",(0,eU.format)(B,"SS")]})]}),(0,t.jsx)("span",{className:"inline-bock ml-1.5 rounded-sm px-1 py-px font-mono text-gray-900",children:(0,eU.format)(B,"OO")})]})})})]}),(0,t.jsxs)(sO,{children:[(0,t.jsx)(sQ,{label:"Request ID",onFilter:()=>D("requestIds",N,{override:!0}),value:N||"No request ID"}),(0,t.jsx)(sQ,{contextActions:I,label:"Path",onFilter:()=>D("requestPaths",c),value:c,children:(0,t.jsx)(sA,{requestPath:c})}),(0,t.jsx)(sQ,{label:"Host",onFilter:()=>D("domains",d),value:d}),sy(o)&&(0,t.jsx)(sQ,{label:"User Agent",value:o}),sy(i)&&(0,t.jsx)(sQ,{label:"Referer",value:i}),Object.keys(h).length>0&&(0,t.jsx)(tR,{title:"Search Params",params:h}),sy(j)&&sy(v)&&(0,t.jsx)(sQ,{label:"Trace ID",onFilter:()=>D("traceIds",j),value:j}),sy(v)&&(0,t.jsx)(sQ,{label:"Session ID",onFilter:()=>D("sessionIds",v),value:v})]}),s1(y)?(0,t.jsx)(sw,{direction:"both",children:(0,t.jsx)(tr.RegionBadge,{isEdgeRegion:!0,region:y})}):(0,t.jsx)(sw,{direction:"straight"}),(0,t.jsx)(sO,{contextActions:F,description:(0,t.jsx)("span",{className:"px-1",children:"Allowed"}),icon:(0,t.jsx)(eD.FirewallFlame,{color:"gray-900",size:16}),title:"Firewall"}),(0,t.jsx)(sw,{direction:"straight"}),(0,t.jsx)(sV,{events:n,groupLog:l,hasExternalApiAccess:!0,projectId:L})]}),(0,t.jsxs)("div",{className:"mt-4 border-t px-4 pt-4",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium mb-2 pl-2",children:"Deployment Information"}),(0,t.jsx)(sQ,{contextActions:q,isLoading:!S,label:"Deployment ID",onFilter:M?()=>D("deploymentIds",p):void 0,value:p}),sy(f)&&(0,t.jsx)(sQ,{label:"Environment",onFilter:()=>D("environments",f),value:f}),r&&(0,t.jsx)(sQ,{label:"Rolling Release",onFilter:O?()=>D("deploymentIds",p):void 0,value:r}),sy(g)&&(0,t.jsx)(sQ,{label:"Branch",onFilter:()=>D("branches",g),value:g})]})]})}function sU(e){let{onClose:r,onDown:l,onUp:a,...o}=e,{requestMethod:i,requestPath:n,statusCode:d}=o,[c,x]=(0,s.useState)(!1);return(0,t.jsxs)("div",{"data-testid":(0,p.tid)("group-logs","details-panel"),className:(0,u.clsx)("flex flex-col items-stretch justify-start gap-0 flex-initial dark:bg-background-200",te.default.root),children:[(0,t.jsx)(sE,{isScrolled:c,onClose:r,onDown:l,onUp:a,requestMethod:i,requestPath:n,responseStatusCode:d}),(0,t.jsx)("div",{onScroll:e=>{x(e.currentTarget.scrollTop>0)},className:"flex-1 overflow-y-auto",children:(0,t.jsx)(sG,{logGroup:o})})]})}function sZ(e){let{icon:s,label:r,onClick:l,href:a}=e,o=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"mr-2 flex size-4 shrink-0 items-center text-gray-900",children:s}),r]});return a?(0,t.jsx)(eQ.MenuLink,{className:"flex items-center",href:a,onMouseUp:()=>l?.(),children:o}):(0,t.jsx)(i.MenuItem,{className:"flex items-center",icon:!0,onClick:l,children:o})}function sQ(e){let{label:o,value:i,valueLabel:n,isLoading:c=!1,children:p,onFilter:x,contextActions:m=[],styleProps:f={},valueClassName:g}=e,j=(0,d.useToasts)(),v=n??o,y=(0,s.useCallback)(()=>{i&&!c&&"string"==typeof v&&((0,e4.copyToClipboard)(i),j.message(`${v} copied to clipboard`))},[v,i,j,c]),w=(0,s.useCallback)(e=>{"string"==typeof v&&C.analytics.track(b.AnalyticsEvent.LOGS_CONTEXT_ACTION_CLICKED,{field:v,action:e})},[v]);return(0,t.jsx)("div",{className:"border-b py-1 last:border-none",children:(0,t.jsxs)(a.MenuContainer,{position:"bottom-start",children:[(0,t.jsxs)(l.MenuButton,{className:"flex min-h-[32px] w-full cursor-pointer overflow-visible rounded-sm border-none bg-transparent py-1 pl-0.5 pr-1 hover:bg-gray-100 focus:bg-gray-100 focus:outline-none [&>span]:flex [&>span]:w-full [&>span]:items-center [&>span]:justify-between [&>span]:gap-4",disabled:c,style:f,variant:"unstyled",children:[(0,t.jsx)("dt",{className:"text-copy-14 text-gray-900",style:{flexShrink:0},children:o}),(0,t.jsx)(ea.Skeleton,{as:"dd",className:(0,u.clsx)(te.default.logDetailRowSkeleton,"!flex"),show:c,children:(0,t.jsx)("span",{className:(0,u.clsx)("truncate font-mono !text-[13px] text-gray-1000",g),title:i,children:p||i})})]}),(0,t.jsxs)(r.Menu,{width:Math.max(200,70+7*Math.max(...m.map(e=>e.label.length))),children:[x&&(0,t.jsx)(sZ,{icon:(0,t.jsx)(h.Filter,{}),label:"Add Filter",onClick:()=>{x(),w("Add Filter")}}),m.map(e=>(0,t.jsx)(sZ,{...e,onClick:()=>{e.onClick?.(),w(e.label)}},e.label)),"string"==typeof v&&(0,t.jsx)(sZ,{icon:(0,t.jsx)(eM.Copy,{}),label:`Copy ${v}`,onClick:()=>{y(),w("Copy")}})]})]})})}function sX(e){let{error:s}=e,{maxRetention:r}=(0,ei.useUserRetention)();return(0,t.jsxs)("div",{className:(0,u.clsx)("flex flex-col items-center justify-start gap-5 flex-initial",te.default.noLogsSelected),children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-center",style:{flex:"1 0 auto"},children:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 flex-initial",children:[(0,t.jsx)(e7,{}),(0,t.jsx)("p",{className:"text-copy-14 text-inherit text-center",children:s?.name==="ExceedsBillingLimitError"?s.message:"Error loading selected log or the selected log does not exist, please try again"})]})}),(0,t.jsx)("div",{className:(0,u.clsx)("flex flex-col items-stretch justify-start flex-initial",te.default.setupLogDrain),children:(0,t.jsxs)("p",{className:"text-label-12 text-inherit",children:["To store logs for longer than ",(0,es.formatDuration)(r),", set up a Log Drain.",(0,t.jsxs)(eY.Link,{className:te.default.learnMore,href:"/docs/deployments/logs",tab:!0,children:["Learn more ",(0,t.jsx)(eB.External,{align:"top",size:16})]})]})})]})}function sJ(e){let{onClose:s}=e;return(0,t.jsxs)("div",{"data-testid":(0,p.tid)("group-logs","details-panel"),className:(0,u.clsx)("flex flex-col items-stretch justify-start gap-0 flex-initial",te.default.root),children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-1 flex-initial ml-px p-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center gap-1 overflow-hidden p-1",children:(0,t.jsx)(ea.Skeleton,{className:"w-16",show:!0,children:(0,t.jsx)("p",{className:`text-copy-13 ${te.default.title}`,children:"GET"})})}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start flex-initial",children:(0,t.jsx)("div",{className:te.default.buttonRule})}),(0,t.jsx)(n.Button,{"aria-label":"Close",onClick:s,shape:"square",size:"small",svgOnly:!0,touchEventWorkaround:!0,type:"tertiary",children:(0,t.jsx)(eG.Cross,{color:"gray-700",size:20})})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,t.jsxs)("div",{tabIndex:-1,className:"flex flex-col items-stretch justify-start flex-initial min-h-full pb-4",children:[(0,t.jsxs)("div",{className:"flex-1 px-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 px-1 py-2",children:[(0,t.jsx)(tr.RequestStartedBadge,{}),(0,t.jsx)(ea.Skeleton,{className:"w-48",show:!0,children:(0,t.jsx)("span",{className:"text-right text-[13px] tabular-nums leading-tight",children:"Loading timestamp..."})})]}),(0,t.jsxs)(sO,{children:[(0,t.jsx)(sQ,{isLoading:!0,label:"Request ID",value:"Loading"}),(0,t.jsx)(sQ,{isLoading:!0,label:"Path",value:"Loading"}),(0,t.jsx)(sQ,{isLoading:!0,label:"Host",value:"Loading"}),(0,t.jsx)(sQ,{isLoading:!0,label:"User Agent",value:"Loading"})]}),(0,t.jsx)(sw,{direction:"both",children:(0,t.jsx)(tr.AnatomyBadge,{className:"font-normal text-gray-800 text-sm",icon:(0,t.jsx)(tr.GlobeSmallIcon,{className:"text-gray-800"}),children:(0,t.jsxs)("div",{className:"w-full flex gap-1",children:[(0,t.jsx)("span",{children:"Received in"})," ",(0,t.jsx)(ea.Skeleton,{show:!0,children:"Region"})]})})}),(0,t.jsx)(sO,{description:(0,t.jsx)(ea.Skeleton,{className:"w-16",show:!0,children:(0,t.jsx)("span",{children:"Allowed"})}),icon:(0,t.jsx)(eD.FirewallFlame,{color:"gray-800",size:16}),title:"Firewall"}),(0,t.jsx)(sw,{direction:"straight"}),(0,t.jsxs)(sO,{description:(0,t.jsx)(ea.Skeleton,{className:"w-24",show:!0,children:(0,t.jsx)("span",{children:"Description"})}),icon:(0,t.jsx)(ea.Skeleton,{height:16,width:16}),title:(0,t.jsx)(ea.Skeleton,{show:!0,children:"Function Invocation"}),children:[(0,t.jsx)(sQ,{isLoading:!0,label:(0,t.jsx)(ea.Skeleton,{show:!0,children:"Route"}),value:"Loading"}),(0,t.jsx)(sQ,{isLoading:!0,label:(0,t.jsx)(ea.Skeleton,{show:!0,children:"Runtime"}),value:"Loading"}),(0,t.jsx)(sQ,{isLoading:!0,label:(0,t.jsx)(ea.Skeleton,{show:!0,children:"Execution Duration"}),value:"Loading"}),(0,t.jsx)(sQ,{isLoading:!0,label:(0,t.jsx)(ea.Skeleton,{show:!0,children:"Memory Used / Maximum"}),value:"Loading"})]})]}),(0,t.jsxs)("div",{className:"mt-4 border-t px-4 pt-4",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium mb-2 pl-2",children:"Deployment Information"}),(0,t.jsx)(sQ,{isLoading:!0,label:"Deployment ID",value:"Loading"}),(0,t.jsx)(sQ,{isLoading:!0,label:"Environment",value:"Loading"}),(0,t.jsx)(sQ,{isLoading:!0,label:"Branch",value:"Loading"})]})]})})]})}function sK(e){let{children:r,event:l}=e,[a,o]=(0,s.useState)(!1);return(0,t.jsxs)("div",{className:"rounded-md overflow-hidden text-gray-800 px-2 cursor-pointer",children:[(0,t.jsxs)("button",{type:"button",className:"w-full flex items-center justify-between py-2 text-xs bg-inherit cursor-pointer",onClick:()=>o(!a),children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(eW.Fluid,{color:"gray-700",className:"size-3"}),(0,t.jsx)("p",{className:"text-label-12 text-gray-800",children:"Fluid"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[l?.functionMaxMemoryUsed&&l.functionMaxMemoryUsed>0&&l?.functionMemorySize&&l.functionMemorySize>0&&(0,t.jsxs)("div",{className:(0,u.clsx)("flex items-center gap-2 text-gray-500 transition-all duration-100",a&&"opacity-0 translate-y-1"),children:[(0,t.jsx)(sY,{usage:l.functionMaxMemoryUsed,max:l.functionMemorySize}),(0,t.jsxs)("span",{className:"text-gray-900 text-xs font-regular font-mono",children:[l.functionMaxMemoryUsed," MB"]})]}),(0,t.jsx)(ez.ChevronDown,{color:"gray-900",size:12,className:(0,u.clsx)("transform transition-transform",{"rotate-180":a})})]})]}),(0,t.jsx)(eS.AnimatePresence,{initial:!1,children:a&&(0,t.jsx)(eN.motion.div,{initial:"collapsed",animate:"open",exit:"collapsed",variants:{open:{opacity:1,height:"auto"},collapsed:{opacity:0,height:0}},transition:{duration:.3,ease:[.04,.62,.23,.98]},className:"overflow-hidden",children:(0,t.jsx)("div",{className:"border-gray-200 space-y-1",children:r})},"content")})]})}let sY=e=>{let{usage:s,max:r}=e,l=r>0?Math.max(0,Math.min(100,s/r*100)):0;return(0,t.jsx)("div",{className:"w-[2px] h-[10px] rounded-full bg-gray-300 flex items-end overflow-hidden",children:(0,t.jsx)("div",{className:(0,c.cn)("w-full bg-gray-900 rounded-full",l>80&&"bg-amber-700",l>99&&"bg-red-700"),style:{height:`${l}%`}})})},s0=()=>{let{setState:e}=(0,D.useLogsQueryState)();return{handleFilter:(0,s.useCallback)(function(t,s){let{replace:r=!1,override:l=!1,additionalParams:a={}}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e({[t]:["string"==typeof s&&s.includes(",")?`"${s}"`:s],...a},r,l)},[e])}};function s1(e){return sy(e)&&""!==e&&e in e1.regions}function s2(e){let{requestId:s,projectId:r,eventTime:l,isServingRevalidation:a}=e,{loading:o,data:i}=s_({requestId:s,projectId:r,eventTime:l}),n=a?"Invocation Reason":"Revalidation Reason";if(o)return(0,t.jsx)(sQ,{label:n,value:"Loading...",isLoading:!0});let d=i?.[0]?.triggeringTag;return d?(0,t.jsxs)(sQ,{label:n,value:d,children:["Tag"," ",(0,t.jsx)("span",{className:"inline-flex max-w-full cursor-pointer overflow-hidden rounded-sm border border-gray-300 text-xs font-mono p-1",children:d})]}):a?(0,t.jsx)(sQ,{label:n,value:"ISR Cache Miss",valueClassName:"font-sans"}):(0,t.jsx)(sQ,{label:n,value:"Time-based",valueClassName:"font-sans"})}var s3=e.i(3327755),s4=e.i(1991452),s5=e.i(3734840),s9=e.i(6357175),s8=e.i(3162826),s6=e.i(6881349),s7=e.i(7797615),re=e.i(2458511);function rt(e,t){let[s,r]=function(e,t){let s=e=>/\s/.exec(e),r=t-1,l=t;for(;r>=0&&!s(e[r]);)r-=1;for(r=Math.max(0,r+1);l<e.length&&!s(e[l]);)l+=1;return l=Math.max(r,l),[r,l]}(e,t);return e.substr(s,r)+e.substr(r)}function rs(e,t,s,r){return void 0!==r&&r!==t?e.substr(0,t)+s+e.substr(r):e.substr(0,t)+s+e.substr(t)}let rr=["requestId","sessionId","traceId","deploymentId","invocationId"];function rl(){let e=(0,s4.useRouter)(),{state:{levels:r,domains:l,deploymentDomains:a,deploymentIds:o,sources:i,requestTags:n,routes:d,requestPaths:c,statusCodes:u,searchQuery:x,requestIds:h,requestMethods:m,caches:f,environments:g,branches:j,sessionIds:v,traceIds:y,invocationIds:C,live:b},setState:w}=(0,D.useLogsQueryState)(),{trackFilterUse:L}=W(),{isDeploymentEditable:k}=(0,X.usePageConfig)(),_=z.FILTERS_WITHOUT_DEPLOYMENT;k&&(_=z.FILTERS);let{isLoading:N}=(0,tt.useGroupLogs)(),[S,T]=(0,s.useState)(null),[M,E]=(0,s.useState)(""),[I,F]=(0,s.useState)(!0),[A,R]=(0,s.useState)(""),[O,B]=(0,s.useState)(0),P=(0,s.useRef)(null),V=(0,s.useRef)({}),H=(0,s.useRef)(null),G=(0,s.useRef)(null),U=(0,s.useRef)({query:{levels:[],sources:[],requestTags:[],deploymentDomains:[],deploymentIds:[],domains:[],routes:[],requestPaths:[],requestIds:[],requestMethods:[],statusCodes:[],caches:[],environments:[],branches:[],sessionId:[],traceIds:[]},searchQuery:""}),Z=(0,s9.useDebouncedCallback)(e=>E(e),300),[Q,J]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=s3.daumtools.userAgent();J("safari"===e?.browser?.name)},[]);let K=(0,s.useCallback)(e=>{R(e),P.current?.setValue(e)},[]),Y=(0,s.useMemo)(()=>S?.attributeName==="source"||S?.attributeName==="requestTags"||S?.attributeName==="level"||S?.attributeName==="statusCode"||S?.attributeName==="cache"||S?.attributeName==="requestMethod"||S?.attributeName==="environment",[S]),ee=(0,s.useMemo)(()=>!!S?.attributeName&&rr.includes(S.attributeName),[S]),{data:et,isLoading:es}=q({attributeName:!S||ee?null:S.attributeName,attributeNameSearchQuery:M,levels:S?.attributeName==="level"?void 0:r,caches:S?.attributeName==="cache"?void 0:f,requestMethods:S?.attributeName==="requestMethod"?void 0:m,domains:S?.attributeName==="domain"?void 0:l,deploymentDomains:S?.attributeName==="deploymentDomain"?void 0:a,sources:S?.attributeName==="source"?void 0:i,requestTags:S?.attributeName==="requestTags"?void 0:n,routes:S?.attributeName==="route"?void 0:d,requestPaths:S?.attributeName==="requestPath"?void 0:c,statusCodes:S?.attributeName==="statusCode"?void 0:u,environments:S?.attributeName==="environment"?void 0:g,branches:S?.attributeName==="branch"?void 0:j,sessionIds:S?.attributeName==="sessionId"?void 0:v,traceIds:S?.attributeName==="traceId"?void 0:y,invocationIds:S?.attributeName==="invocationId"?void 0:C}),{data:er,isLoading:el}=q({attributeName:"environment",domains:l,deploymentDomains:a,deploymentIds:o,sources:i,requestTags:n,routes:d,requestMethods:m,levels:r,statusCodes:u,requestPaths:c,caches:f,branches:j,sessionIds:v,traceIds:y,invocationIds:C}),ea=(er?.rows??[]).reduce((e,t)=>e+t.total,0),eo=(0,s.useMemo)(()=>{if(S?.attributeName!=="requestId")return et?.rows?.map(e=>({label:String(e.attributeValue),value:String(e.attributeValue)}))},[S,et]),ei=(0,s.useCallback)(()=>{R(""),w({levels:void 0,sources:void 0,requestTags:void 0,deploymentDomains:void 0,deploymentIds:void 0,domains:void 0,routes:void 0,requestPaths:void 0,searchQuery:"",requestIds:void 0,requestMethods:void 0,statusCodes:void 0,caches:void 0,preset:null,environments:void 0,branches:void 0,sessionIds:void 0,traceIds:void 0,invocationIds:void 0})},[w]),en=(0,s.useCallback)(()=>{let e={levels:[],sources:[],requestTags:[],deploymentDomains:[],deploymentIds:[],domains:[],routes:[],requestPaths:[],requestIds:[],requestMethods:[],statusCodes:[],caches:[],environments:[],branches:[],sessionIds:[],traceIds:[],invocationIds:[]},t=(H.current?.value||"").split(" "),s=t.filter(e=>!_.find(t=>e.includes(`${t.name}:`))&&!/^\s*$/.test(e)).join(" ");return t.map(e=>{if(e.includes(":")){let t=e.indexOf(":"),s=e.slice(0,t),r=e.slice(t+1),l=_.find(e=>e.name===s);if(""!==r&&l)return{name:ro(l.attributeName),filterValue:r.split(",")}}return null}).filter(e=>null!==e).forEach(t=>{let{name:s,filterValue:r}=t;s in e?e[s]=[...e[s],...r]:e[s]=r}),{query:e,searchQuery:s}},[_]);(0,s.useEffect)(()=>{el&&P.current?.close()},[el]),(0,s.useEffect)(()=>{let e=e=>{let t=document.activeElement,s=t&&["input","select","textarea"].includes(t.tagName.toLowerCase());"/"!==e.key||!H.current||t&&s||(e.preventDefault(),H.current.focus({preventScroll:!0}))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,s.useEffect)(()=>{let e=H.current;if(e&&!Q){let t=()=>{B(e.scrollLeft)};return e.addEventListener("scroll",t),window.addEventListener("resize",t),()=>{e.removeEventListener("scroll",t),window.removeEventListener("resize",t)}}},[Q]),(0,s.useEffect)(()=>{let t={levels:r,deploymentDomains:a,deploymentIds:o,sources:i,requestTags:n,domains:l,routes:d,requestPaths:c,requestIds:h,requestMethods:m,statusCodes:u,caches:f,environments:g,branches:j,sessionIds:v,traceIds:y,invocationIds:C},s="";(0,s5.default)(V.current,e.query)||setTimeout(()=>{let r=Object.keys({...e.query,searchQuery:x}).filter(e=>e in t||"searchQuery"===e&&x);0===r.length?K(""):(r.forEach(e=>{if("searchQuery"===e&&x){s+=`${x.replaceAll("+"," ")} `;return}let r=function(e){if("requestTags"===e)return e;let t=0;return"branches"===e?t=-2:e.endsWith("s")&&(t=-1),e.slice(0,t)}(e),l=_.find(e=>e.attributeName===r);l&&t[e].length>0&&(s+=`${l.name}:${t[e].join(",")} `)}),K(s))}),V.current=e.query},[e.query,r,K,a,o,x,i,n,l,d,c,h,_,m,u,f,g,j,v,y,C]);let ed=(0,s.useCallback)(()=>{let{query:e,searchQuery:t}=en();w({...Object.fromEntries(Object.entries(e).filter(e=>{let[t,s]=e;return s.length>0})),searchQuery:t,preset:null}),t&&t!==U.current.searchQuery?L({eventTrigger:"search bar",filter:"searchQuery",value:[""]}):Object.keys(e).forEach(t=>{e[t].length>U.current.query[t].length&&L({eventTrigger:"search bar",filter:t,value:$.includes(t)?e[t]:Array(e[t].length).fill("")})}),U.current={query:e,searchQuery:t}},[w,en,L]),ec=(0,s.useCallback)(()=>{let e=H.current?.selectionStart||0,t=rt(H.current?.value||"",e);if(t.includes(":")){let[e]=t.split(":"),s=_.find(t=>t.name===e);s&&T(s)}else T(null);E("")},[_]),eu=(0,s.useCallback)((e,t)=>{let s=H.current?.selectionStart||0;if(S&&!Y)return e;let r=t=>{let s=(0,ep.matchSorter)(e,t,{keys:["value","label"]}),r=e.find(e=>"confirm search"===e.label);return r&&s.unshift(r),s};if(S){let e=rt(t,s).split(" ")[0].replaceAll(":","$").replaceAll(",","$").split("$");return r(e[e.length-1].split(" ")[0])}if(t.includes(" ")){let e=rt(t,s),l=rt(t,s-e.length-1),a=!l.includes(":")&&!x.includes(l.split(" ")[0]);return(_.find(e=>l.includes(e.name)),a)?[]:r(e.split(" ")[0])}return r(t)},[S,x,Y,_]),ex=(0,s.useMemo)(()=>{if(!eo||!S||0===eo.length||"requestId"===S.attributeName)return null;F(!0);let{query:e}=en(),t=e[ro(S.attributeName)];return eo.filter(e=>!t.includes(e.value))},[S,en,eo]),eh=ex&&S&&!es||M&&I&&S,em=A.includes(":");return(0,t.jsxs)("div",{className:re.default.comboboxWrapper,style:{"--word-gap":em?"10px":"0px"},children:[(0,t.jsx)("label",{className:"geist-sr-only",htmlFor:"search-logs",children:"Search Logs"}),(0,t.jsxs)(s6.Combobox,{className:re.default.combobox,filter:eu,noNegativeIndex:!0,noTextSelection:!0,onChange:e=>{let t=H.current?.selectionStart||0,s=H.current?.value||"";if(P.current?.setSelectedIndex(0),!e)return;let r=_.find(t=>t.name===e.split(":")[0]);if(""===s){K(e),r&&T(r);return}if(r){let l=rt(s,t);if(s.includes(`${r.name}:`)){let e=s.split(" ").find(e=>e.includes(r.name))||"",{query:t}=en(),a=t[ro(r.attributeName)].length>0;K(s.replace(e,`${e}${a?",":""}`).split(" ").filter(e=>e!==l).join(" ")),T(r);return}if(l){let r=s.slice(0,t-l.length),a=s.slice(t-l.length,s.length+l.length);K(r+(a=a.replace(l,e)))}else{let r=0===t;K(rs(s,t,e)),r&&setTimeout(()=>{H.current?.setSelectionRange(e.length,e.length)})}T(r);return}if(S){let r=rt(s,t).split(" ")[0].replaceAll(":","$").replaceAll(",","$").split("$"),l=r[r.length-1];if(l){let r=l.split(" ")[0],a=/^\s*$/.test(r),o=rt(s,t),i=o.split(":")[0];if(s.split(":").filter(e=>e.includes(i)).length>1){let t=s.split(" ").find(e=>e.includes(S.name))||"";K(s.replace(t,`${t},${e}`).split(" ").filter(e=>e!==o).join(" "))}else K(s.replace(a?" ":l,`${e} `))}else K(rs(s,t,`${e} `));P.current?.setSelectedIndex(-1),T(null),setTimeout(()=>{ed()})}},onChangeOpen:e=>{P.current?.setSelectedValue(null),!e&&(E(""),G.current||P.current?.close())},onClear:ei,placeholder:el||0===ea||b?"Search logs…":`${(0,s7.abbreviateNumber)(ea).toUpperCase()} total ${1===ea?"log":"logs"} found...`,ref:P,shouldContinue:!0,children:[(0,t.jsx)(s6.Combobox.Input,{className:re.default.input,"data-testid":(0,p.tid)("group-logs","search-input"),id:"search-logs",loading:!!(es&&S||N),onBlur:()=>{T(null)},onPaste:e=>{try{let t=e.clipboardData.getData("text/plain"),s=/[a-z0-9]{5}-\d{13}-[a-z0-9]{12}/i.exec(t),r=e.currentTarget,l=r.selectionStart||0,a=r.selectionEnd||l,o=r.value.substring(l,a);if(s&&!t.includes("requestId")&&(!r.value.includes("requestId:")||o.includes("requestId"))){e.preventDefault();let s=rs(r.value,l,`requestId:${t}`,a);K(s)}}catch(e){}},onChange:t=>{if(R(t.target.value),""===t.target.value){T(null);let t={levels:r,deploymentDomains:a,deploymentIds:o,sources:i,requestTags:n,domains:l,routes:d,requestPaths:c,requestIds:h,requestMethods:m,statusCodes:u,caches:f,environments:g,branches:j};Object.keys({...e.query,searchQuery:x}).filter(e=>e in t||"searchQuery"===e&&x).length>0&&(ei(),K(""));return}K(t.target.value);let s=t.target.selectionStart||0;ec();let p=rt(t.target.value,s);if(p.includes(":")){let e=_.find(e=>e.name===p.split(":")[0]);if(e){let t=p.split(":")[1].split(",");Z((t=t[t.length-1]).split(" ")[0]),T(e)}else T(null)}},onClick:ec,onKeyDown:e=>{let t=H.current?.value||"",s=G.current;if("Enter"===e.key&&s&&ed(),"ArrowLeft"===e.key||"ArrowRight"===e.key){let s=e.target.selectionStart||0;/^\s*$/.test(t.split("")[s-1])&&T(null)}},ref:H}),(0,t.jsx)(s6.Combobox.List,{className:re.default.comboboxList,emptyMessage:(0,t.jsxs)("button",{className:re.default.confirm,onClick:()=>{P.current?.close(),ed()},ref:G,type:"button",children:["Confirm search"," ",(0,t.jsx)("kbd",{className:re.default.suffix,children:(0,t.jsx)(s8.CornerDownRight,{})})]}),hideOptions:!0,children:eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ri,{onSelect:()=>{P.current?.close(),ed()}}),ex?ex.map(e=>(0,t.jsx)(s6.Combobox.Option,{className:re.default.option,value:e.value,children:`${e.value}`},e.value)):[]]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ri,{onSelect:()=>{P.current?.close(),ed()}},"first-option"),_.map(e=>(0,t.jsxs)(s6.Combobox.Option,{className:re.default.option,value:`${e.name}:`,children:[(0,t.jsx)("span",{className:re.default.filter,children:`${e.name}:`}),(0,t.jsx)("div",{className:re.default.suggestions,children:e.suggestions.map(e=>(0,t.jsxs)("span",{children:["[",e,"]"]},e))})]},e.name))]})})]}),!Q&&(0,t.jsx)("div",{"aria-hidden":!0,className:re.default.textOverlay,style:{transform:`translateX(-${O}px)`},children:A.split(/\s/).map((e,s)=>e.includes(":")?(0,t.jsxs)("span",{className:re.default.highlight,children:[e," "]},e):(0,t.jsx)("span",{style:""===e&&0===s?{marginLeft:-4,marginRight:0}:{},children:e},`${e}${s}`))})]})}function ra(){return(0,t.jsxs)(s6.Combobox,{className:(0,u.clsx)(re.default.combobox,"geist-show-on-desktop"),placeholder:"Search logs…",children:[(0,t.jsx)(s6.Combobox.Input,{className:re.default.input,id:"search-logs"}),(0,t.jsx)(s6.Combobox.List,{className:re.default.comboboxList})]})}function ro(e){return"requestTags"===e?e:"branch"===e?`${e}es`:`${e}s`}function ri(e){let{onSelect:s}=e;return(0,t.jsx)(s6.Combobox.Option,{label:"confirm search",onCustomSelect:s,value:"",children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial w-full",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"Confirm search"})," ",(0,t.jsx)(s8.CornerDownRight,{})]})})}var rn=e.i(8510056),rd=e.i(6870754),rc=e.i(7437286);function ru(){let{state:{page:e},setState:r}=(0,D.useLogsQueryState)(),{data:l,isLoading:a,isValidating:o,size:i,setSize:n}=(0,tt.useGroupLogs)(),d=(0,s.useRef)(null),c=(0,s.useRef)(void 0),u=(0,rc.useIntersectionObserver)(d,{rootMargin:"200px"}),x=l&&l.length>0,h=l?.[l.length-1].hasMoreRows,m=a||i>0&&l&&void 0===l[i-1],{team:g}=(0,f.useAccount)(),j=g?.billing?.plan??"hobby",{maxRetention:v}=(0,ei.useUserRetention)(),y=function(e,t){let s=(0,er.sub)(Date.now(),e).getTime(),r=t?.[t.length-1].rows;if(!r||0===r.length)return!0;let l=new Date(r[r.length-1].timestamp).getTime(),a=new Date(r[0].timestamp).getTime();return!!(l&&l>=s&&a&&a>=s)}(v,l),C=(0,s.useCallback)(()=>{!a&&!o&&x&&h&&y&&r({page:e+1},!0)},[x,h,a,o,e,r,y]);return(0,s.useEffect)(()=>{n(e)},[e]),(0,s.useEffect)(()=>{u?.isIntersecting&&!c.current&&C(),c.current=u?.isIntersecting},[u?.isIntersecting,C]),(0,t.jsx)("div",{className:"flex flex-col items-center justify-start flex-initial",children:(0,t.jsx)("div",{"data-testid":(0,p.tid)("group-logs","load-more-logs"),ref:d,style:{padding:"var(--geist-gap) 0",visibility:void 0===l?"hidden":"visible",minWidth:"12rem"},children:h&&y&&(!o||m)||void 0===l?(0,t.jsx)(rd.LoadMoreButton,{disabled:!1,loading:m||void 0===l,noGap:!0,onClick:C}):(!1===h||!y)&&(0,t.jsx)("div",{style:{padding:"var(--geist-gap)"},children:(0,t.jsx)("p",{className:`text-copy-14 ${t4.default.screenReaderSelect}`,style:{color:"var(--accents-5)"},tabIndex:0,children:y||"enterprise"===j?"No more logs to show within selected timeline":"The older logs have expired. You can upgrade your plan to store more logs"})})})})}var rp=e.i(5431818),rx=e.i(615673);let rh=(0,s.forwardRef)(function(e,s){let{showSkeleton:r=!1,onScroll:l}=e;return r?(0,t.jsx)(rg,{}):(0,t.jsx)(rm,{onScroll:l,ref:s})}),rm=(0,s.forwardRef)(function(e,r){let{onScroll:l}=e,{setState:a,state:{selectedLogId:o,panelState:i}}=(0,D.useLogsQueryState)(),{data:n,error:d,isLoading:c}=(0,tt.useGroupLogs)(),u=ts(),[p,x]=(0,s.useState)({rows:[],rowsIdSet:new Set});(0,s.useEffect)(()=>{let e=function e(t){if(0===t.length)return[];if(1===t.length)return t[0];if(t.length>2){let s=Math.floor(t.length/2);return e([e(t.slice(0,s)),e(t.slice(s))])}let[s,r]=t,l=[],a=0,o=0;for(;a<s.length&&o<r.length;){let e=s[a],t=r[o],i=new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime();i<0?(l.push(e),a++):(i>0?l.push(t):(l.push(e),a++),o++)}return l.concat(s.slice(a)).concat(r.slice(o))}((n||[]).map(e=>e.rows??[]));x(t=>{let{rowsIdSet:s}=t;return{rows:e.map(e=>({...e,isNew:!s.has(e.requestId)})),rowsIdSet:new Set(e.map(e=>e.requestId))}})},[n]);let h=(0,s.useMemo)(()=>{if(!u.length||0===p.rows.length)return p.rows;let e=u.map(e=>e.toLowerCase()),t=p.rows.filter(t=>{let s=t.logs.some(t=>e.some(e=>t.message.toLowerCase().includes(e))),r=e.some(e=>t.requestPath.toLowerCase().includes(e)),l=e.some(e=>t.domain.toLowerCase().includes(e));return s||r||l});return t.length>0?t:p.rows},[p.rows,u]),m=n?.some(e=>e.rows&&e.rows.length>0)&&0===p.rows.length,f=(0,s.useCallback)(e=>{o===e.requestId?a({panelState:"closed"===i?"opened":"closed"}):a({selectedLogId:e.requestId})},[a,o,i]);if(d)return(0,t.jsx)(rf,{children:(0,t.jsx)(sr,{error:d})});if(c||m)return(0,t.jsx)(rg,{});let g=h.length>0;return(0,t.jsx)(rf,{hasLogs:g,children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:rp.default.logRowsContainer,onScroll:l,ref:r,children:(0,t.jsx)("div",{className:rp.default.logRowsWrapper,style:{paddingTop:"var(--geist-space)"},children:(0,t.jsx)(t9,{logRows:h,onRowSelect:f,selectedLogId:o})})}),(0,t.jsx)(ru,{})]}):(0,t.jsx)(sl,{})})});function rf(e){let{children:s,hasLogs:r=!1}=e;return(0,t.jsx)("div",{className:(0,u.clsx)(rx.default.container,{[rx.default.hasLogs]:r}),style:{position:"relative",zIndex:2,flex:1},children:s})}function rg(){return(0,t.jsx)("div",{style:{padding:"var(--geist-space) 0"},children:(0,t.jsx)(t7,{})})}var rj=e.i(4819890),rv=e.i(1793900),ry=e.i(198667);function rC(){var e;let t,{skip:s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:r}=(0,E.useProject)((0,M.useProjectIdOrName)()),{team:l,isLoading:a}=(0,f.useAccount)(),{deploymentDomains:o,deploymentIds:i,domains:n,levels:d,routes:c,sources:u,requestTags:p,startDate:x,endDate:h,searchQuery:m,requestIds:g,requestMethods:j,requestPaths:v,statusCodes:y,caches:C,environments:b,branches:w,live:L,myLogs:k,sessionIds:_,hasTraces:F,traceIds:q,invocationIds:A,useClickHouseLogs:R}=(0,D.useLogsApiParams)(),O=h??new Date,B=(e=x,(t=O.getTime()-e.getTime())<=(0,tw.default)("2m")?1:t<=(0,tw.default)("5m")?2:t<=(0,tw.default)("10m")?5:t<=(0,tw.default)("30m")?10:t<=(0,tw.default)("50m")?20:t<=(0,tw.default)("75m")?30:t<=(0,tw.default)("2.5h")?60:t<=(0,tw.default)("5h")?120:t<=(0,tw.default)("7.5h")?300:t<=(0,tw.default)("24h")?600:t<=(0,tw.default)("48h")?1200:t<=(0,tw.default)("75h")?1800:t<=(0,tw.default)("150h")?3600:t<=(0,tw.default)("300h")?7200:t<=(0,tw.default)("600h")?14400:t<=(0,tw.default)("1200h")?28800:t<=(0,tw.default)("1800h")?43200:86400);return{...(0,N.default)(()=>{if(s||a||!r)return;let e=null!==l?l.id:null;if(null===e)return;let t=(0,S.encode)({interval:B,startDate:x.getTime(),endDate:L?void 0:O.getTime(),searchQuery:(0,I.stringifyArrayContent)((0,I.tokenizeSearchQuery)(m)),projectId:r.id,deploymentDomain:rb(o),deploymentId:rb(i),domain:rb(n),level:rb(d),ownerId:e,source:rb(u),requestTags:rb(p),route:rb(c),requestPath:rb(v),requestMethod:rb(j),requestId:g.map(e=>e.split("::").pop()),statusCode:rb(y),cache:rb(C),environment:rb(b),branch:rb(w),myLogs:!!k||void 0,sessionId:rb(_),hasTraces:!!F||void 0,traceId:rb(q),invocationId:rb(A),useClickHouseLogs:R});return`${T.API_LOGS}/request-logs/timeseries${t}`},e=>(0,tn.fetchAPI)(e,{throwOnHTTPError:!0}),{refreshInterval:5e3*!!L,keepPreviousData:!0,revalidateOnFocus:L,revalidateOnReconnect:L}),interval:B}}function rb(e){if(0!==e.length)return e.join(",")}function rw(e){let{showSkeleton:r}=e,{setState:l}=(0,D.useLogsQueryState)(),{live:a,startDate:o,endDate:i}=(0,D.useLogsApiParams)(),d=(0,s.useRef)(null),{isLoading:c,mutate:u,isValidating:p}=(0,tt.useGroupLogs)(),{mutate:x}=rC(),h=(0,s.useCallback)(()=>{c||d.current&&Date.now()-d.current<1e3||(d.current=Date.now(),l({refreshedAt:Date.now()}),u(),x())},[c,u,x,l]);return(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(n.Button,{className:a?"!ring-1 ring-blue-700":"",disabled:r,onClick:()=>{!a&&window.scrollY>=80&&window.scrollTo(0,0),a&&l({startDate:o,endDate:i}),a||l({live:!0})},prefix:a?(0,t.jsx)(rv.PauseCircle,{className:"!text-blue-900"}):(0,t.jsx)(rj.PlayCircle,{}),type:"secondary",children:(0,t.jsx)("span",{className:a?"!text-blue-900":"",children:"Live"})}),(0,t.jsx)(n.Button,{"aria-label":"Refresh Logs",disabled:r||c,onClick:h,shape:"square",svgOnly:!0,type:"secondary",children:p?(0,t.jsx)(tl.Spinner,{color:"var(--accents-5)",size:16}):(0,t.jsx)(ry.RefreshClockwise,{})})]})}var rL=e.i(8556491),rk=e.i(7957424),r_=e.i(1903055),rN=e.i(167223);function rS(){let e=null!==(0,m.useSearchParams)(),{state:{searchQuery:r,levels:l,domains:a,deploymentDomains:o,sources:i,requestTags:n,routes:d,requestPaths:c,statusCodes:u,requestMethods:x,caches:h,branches:f,sessionIds:g,traceIds:j,invocationIds:v,live:y},setState:C}=(0,D.useLogsQueryState)(),[b,w]=(0,s.useState)(""),[L,k]=(0,s.useState)(!1),_=(0,s.useRef)(null),N=(0,s9.useDebouncedCallback)(e=>{C({searchQuery:e,preset:null})},300),{data:S,isLoading:T}=q({attributeName:"environment",domains:a,deploymentDomains:o,sources:i,requestTags:n,routes:d,requestMethods:x,levels:l,statusCodes:u,requestPaths:c,caches:h,branches:f,sessionIds:g,traceIds:j,invocationIds:v}),M=(S?.rows??[]).reduce((e,t)=>e+t.total,0);return(0,s.useEffect)(()=>{e&&!L&&w(r||"")},[e,r,L]),(0,s.useEffect)(()=>{let e=e=>{let t=document.activeElement,s=t&&["input","select","textarea"].includes(t.tagName.toLowerCase());"/"!==e.key||!_.current||t&&s||(e.preventDefault(),_.current.focus({preventScroll:!0}))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]),(0,t.jsxs)("div",{style:{width:"100%"},children:[(0,t.jsx)("label",{className:"geist-sr-only",htmlFor:"search-logs",children:"Search Logs"}),(0,t.jsx)(rN.default,{"data-testid":(0,p.tid)("group-logs","search-input"),id:"search-logs",onBlur:()=>k(!1),onChange:e=>{N(e.target.value),w(e.target.value)},onFocus:()=>k(!0),placeholder:T||0===M||y?"Search logs…":`${(0,s7.abbreviateNumber)(M)} total ${1===M?"log":"logs"} found...`,ref:_,scrollOnClear:!1,value:L?b:r,width:"100%"})]})}function rT(){return(0,t.jsxs)("div",{className:"geist-show-on-mobile",style:{width:"100%"},children:[(0,t.jsx)("label",{className:"geist-sr-only",htmlFor:"search-logs",children:"Search Logs"}),(0,t.jsx)(rN.default,{"data-testid":(0,p.tid)("group-logs","search-input"),id:"search-logs",placeholder:"Search logs…",scrollOnClear:!1,width:"100%"})]})}var rM=e.i(9321858),rE=e.i(7230346),rD=e.i(512540);let rI="logsSidebarWidth";function rF(e){let{left:t,right:s,bottom:r}=e,l=rD.default.get(rI);if(l){let{left:e,right:a,bottom:o}=JSON.parse(l);rD.default.set(rI,JSON.stringify({left:t??e,right:s??a,bottom:r??o}))}else rD.default.set(rI,JSON.stringify({left:t??270,right:s??400,bottom:r??400}))}var rq=e.i(5505133),rA=e.i(6707566),rR=e.i(6295719),rO=e.i(5439647),rB=e.i(3687908),r$=e.i(1408503),rP=e.i(9022601),rW=(0,rO.generateCategoricalChart)({chartName:"BarChart",GraphicalChild:rB.Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:rq.XAxis},{axisType:"yAxis",AxisComp:r$.YAxis}],formatAxisMap:rP.formatAxisMap}),rz=e.i(6843152),rV=e.i(9108284);let rH={error:"var(--ds-red-700)",success:"hsla(var(--ds-gray-500-value), 0.8)"},rG={error:"Error",success:"Success"};function rU(e){let{value:s,color:r,label:l}=e;return(0,t.jsxs)("div",{className:"flex flex-1 items-center gap-x-2",children:[(0,t.jsx)("div",{className:"size-1.5 rounded-full",style:{backgroundColor:r}}),(0,t.jsxs)("div",{className:"flex flex-1 justify-between gap-x-2",children:[(0,t.jsx)("span",{children:l})," ",(0,t.jsx)("span",{className:"font-medium tabular-nums",children:(0,s7.formatNumberCompact)(s)})]})]})}function rZ(e){let{interval:s}=rC({skip:!0});return e.payload&&0!==e.payload.length&&e.active?(0,t.jsxs)("div",{className:"items-center rounded bg-background-100 px-0.5 py-1 text-xs shadow-tooltip",children:[(0,t.jsx)("div",{className:"flex flex-col gap-1 px-2 py-0.5",children:e.payload.map(e=>(0,t.jsx)(rU,{color:rH[e.dataKey],label:rG[e.dataKey],value:Number(e.value)},e.dataKey))}),(0,t.jsx)("div",{className:"px-1 pt-0.5 text-center text-gray-900",children:(0,eU.format)(new Date(e.payload[0].payload.name),`HH:mm${s%60==0?"":":ss"} ${s>300?"iii MMM dd":""}`)})]},`ts-${e.label}`):null}function rQ(){let[e,r]=(0,s.useState)(""),[l,a]=(0,s.useState)(""),[o,i]=(0,s.useState)("dataMin"),[n,d]=(0,s.useState)("dataMax"),{onSelectionChange:c}=(()=>{let{interval:e}=rC({skip:!0}),{setState:t}=(0,D.useLogsQueryState)();return{onSelectionChange:(0,s.useCallback)(s=>{if(1===s.length){let[r]=s;t({startDate:new Date(r.name),endDate:(0,ta.addSeconds)(new Date(r.name),e)});return}let r=s[0],l=s[s.length-1];"name"in r&&"name"in l&&t({startDate:new Date(r.name),endDate:new Date(l.name)})},[t,e])}})(),{startDate:p,endDate:x}=(0,D.useLogsApiParams)(),{data:h,interval:m,isLoading:f}=rC(),g=(0,s.useMemo)(()=>h&&h.data?h.data:(0,rV.default)(p.getTime(),x?.getTime(),1e3*m).map(e=>({name:new Date(e).toISOString(),error:0,success:0})),[h,m,p,x]),j=(0,s.useCallback)(e=>{r(e.activeLabel||"")},[]),v=(0,s.useCallback)(t=>{e&&a(t.activeLabel||"")},[e]),y=(0,s.useCallback)(t=>{let s=l||t.activeLabel||"";if(!e||!s){r(""),a("");return}let[o,n]=[new Date(e).getTime(),new Date(s).getTime()];o>n&&([o,n]=[n,o]),i(o),d(n),r(""),a("")},[e,l]);return(0,s.useEffect)(()=>{"number"==typeof o&&"number"==typeof n&&(c(g.slice(o,n+1)),i("dataMin"),d("dataMax"))},[o,n,g,c]),(0,t.jsx)(rR.ResponsiveContainer,{height:54,width:"100%",children:(0,t.jsxs)(rW,{className:(0,u.clsx)({"!cursor-crosshair":!f,"pointer-events-none":f,"opacity-50 transition-opacity duration-500":h&&f}),data:g,margin:{top:15,right:4,bottom:-10},onMouseDown:j,onMouseMove:v,onMouseUp:y,children:[!f&&(0,t.jsx)(rA.Tooltip,{allowEscapeViewBox:{y:!0},animationDuration:0,content:rZ,cursor:{fill:"var(--ds-gray-300)"},position:{y:5}}),(0,t.jsx)(rB.Bar,{animationDuration:0,dataKey:"error",fill:rH.error,fillOpacity:1,isAnimationActive:!1,stackId:"grouped",width:2}),(0,t.jsx)(rB.Bar,{animationDuration:0,dataKey:"success",fill:rH.success,fillOpacity:1,isAnimationActive:!1,stackId:"grouped",width:2}),e&&l?(0,t.jsx)(rz.ReferenceArea,{strokeOpacity:.3,x1:e,x2:l}):null,(0,t.jsx)(rq.XAxis,{axisLine:{stroke:"var(--ds-gray-300)"},interval:"preserveStartEnd",minTickGap:300,style:{fontSize:"0.6rem"},tickFormatter:e=>{let t=g[e].name;return m<60?(0,eU.format)(new Date(t),"HH:mm:ss"):m<=600?(0,eU.format)(new Date(t),"HH:mm"):(0,eU.format)(new Date(t),"MMM dd")},tickLine:{stroke:"var(--ds-gray-300)"}})]})})}var rX=e.i(9166951);function rJ(e){let{className:s,tooltipClassName:r}=e,{state:l,setState:a}=(0,D.useLogsQueryState)();return(0,t.jsx)(tQ.Tooltip,{className:r,desktopOnly:!0,text:"Show requests from this browser",children:(0,t.jsxs)(n.Button,{"aria-label":"Enable My Logs",className:(0,u.clsx)("*:overflow-visible",l.myLogs&&"geist-active !bg-gray-100 !ring-1 !ring-gray-1000",s),"data-active":l.myLogs,onClick:()=>{let e=!l.myLogs;a({myLogs:e,preset:null}),C.analytics.track(b.AnalyticsEvent.LOGS_CONTEXT_ACTION_CLICKED,{field:"my-logs-toggle",action:e?"Enable My Logs":"Disable My Logs"})},shape:"square",svgOnly:!0,type:"secondary",children:[(0,t.jsx)(rX.User,{className:(0,u.clsx)(l.myLogs&&"translate-y-[-3px]","transition-transform duration-100")}),(0,t.jsx)("div",{className:(0,u.clsx)("absolute bottom-1.5 left-1/2 size-[3px] -translate-x-1/2 rounded-full bg-gray-1000","transition-all duration-100",l.myLogs?"translate-y-0 opacity-100":"translate-y-0.5 opacity-0")})]})})}var rK=e.i(6097977);function rY(e){let{className:s,tooltipClassName:r}=e,{state:l,setState:a}=(0,D.useLogsQueryState)();return(0,t.jsx)(tQ.Tooltip,{className:r,desktopOnly:!0,text:"Show requests that have traces",children:(0,t.jsxs)(n.Button,{"aria-label":"Enable Has Traces",className:(0,u.clsx)("*:overflow-visible",l.hasTraces&&"geist-active !bg-gray-100 !ring-1 !ring-gray-1000",s),"data-active":l.hasTraces,onClick:()=>{let e=!l.hasTraces;a({hasTraces:e,preset:null}),C.analytics.track(b.AnalyticsEvent.LOGS_CONTEXT_ACTION_CLICKED,{field:"has-traces-toggle",action:e?"Enable Has Traces":"Disable Has Traces"})},shape:"square",svgOnly:!0,type:"secondary",children:[(0,t.jsx)(t1.Traces,{className:(0,u.clsx)(l.hasTraces&&"translate-y-[-3px]","transition-transform duration-100")}),(0,t.jsx)("div",{className:(0,u.clsx)("absolute bottom-1.5 left-1/2 size-[3px] -translate-x-1/2 rounded-full bg-gray-1000","transition-all duration-100",l.hasTraces?"translate-y-0 opacity-100":"translate-y-0.5 opacity-0")})]})})}var r0=e.i(3748432),r1=e.i(60582),r2=e.i(7837522),r3=e.i(7780974),r4=e.i(7589392);function r5(e){let{sidebarWidth:r,...l}=e,{project:a}=(0,m.useParams)()??{},o=(0,E.useProject)(a),{trackLogPageVisit:i}=W(),{data:{environments:n},isLoading:d}=(0,rk.useAllEnvironments)(o.data?.id??"");return(0,s.useEffect)(()=>{i()},[i]),(0,s.useEffect)(()=>{let e=document.documentElement.style.overscrollBehaviorY,t=document.body.style.overscrollBehaviorY;return document.documentElement.style.overscrollBehaviorY="none",document.body.style.overscrollBehaviorY="none",()=>{document.documentElement.style.overscrollBehaviorY=e,document.body.style.overscrollBehaviorY=t}},[]),(0,r_.default)(o.error),(0,t.jsx)(X.PageConfigProvider,{...l,children:(0,t.jsx)(sd.GroupLogsProvider,{children:(0,t.jsx)(r9,{allEnvironments:n,isLoadingEnvs:d,sidebarWidth:r})})})}function r9(e){var w;let L,{isLoadingEnvs:k,allEnvironments:_,sidebarWidth:N}=e,{state:S,setState:T}=(0,D.useLogsQueryState)(),{selectedLogId:M,panelState:E}=S,{team:I,isLoading:F}=(0,f.useAccount)(),q=(0,g.useIsMobile)(),A=(0,g.useIsTablet)(),{topOffset:R}=(0,X.usePageConfig)(),O=r1.IS_DASH&&A?0:R,[B,$]=(0,s.useState)(!1),{getExport:P}=(0,rK.useGroupLogsExport)(),{data:W}=(0,e6.useSelectedLog)(),{track:z}=(0,r2.useTrackActivity)(),V=(0,m.useParams)(),{can:H,isLoading:G}=(0,v.default)(),U=!I||H(y.Action.Read,y.Resource.Logs),Z=G||F,{success:Q}=(0,d.useToasts)(),[J,K]=(0,s.useState)(!1),Y=I?.billing?.plan==="hobby",ee=I?.billing?.plan==="pro"&&"trialing"===I.billing.status,et=H(y.Action.Create,y.Resource.Drain)&&!(Y||ee),es=(0,s.useCallback)(e=>{z(r3.VercelActivityAction.DrainsModalConverted,{source:"logs-more-options",drainType:e.drainType,kind:e.kind,isLegacy:e.isLegacy}),V?.teamSlug&&V?.project&&Q({text:"Drain successfully added",action:"View project drains",actionHref:`/${V.teamSlug}/${V.project}/settings/drains`})},[z,V?.teamSlug,V?.project,Q]),er="auto"===E?(W?.logs.length||0)>0:"opened"===E;(0,s.useEffect)(()=>{er&&T({panelState:"auto"===E?"opened":E})},[er,E]);let el=(0,s.useCallback)(()=>{T({selectedLogId:void 0})},[T]),ea=(0,s.useRef)(null),eo=(0,s.useRef)(null),ei=(0,s.useRef)(null),en=(0,s.useRef)(null),ed=(0,s.useRef)(null),ec=(0,s.useRef)(null),eu=(0,s.useRef)(null),ep=(0,s.useRef)(null),[ex,eh]=(0,s.useState)(N.left),[em,ef]=(0,s.useState)(N.right),[eg,ej]=(0,s.useState)(N.bottom),[ev,eb]=(0,s.useState)(!1),eL=e=>{eh(e),rF({left:e})},ek=e=>{ef(e),rF({right:e})},e_=`${ex}px calc(100% - ${ex}px)`,eN=(w=e=>{let t=null!==eu.current;eu.current=e.currentTarget.scrollLeft,t||requestAnimationFrame(()=>{ed.current&&null!==eu.current&&(ed.current.scrollLeft=eu.current),eu.current=null})},L=(0,s.useRef)(0),e=>{let t=e.currentTarget.scrollLeft;t!==L.current&&(L.current=t,w(e))});(0,s.useEffect)(()=>{function e(){if(r1.IS_DASH){if(eo.current){let e=Math.max(O+147,eo.current.getBoundingClientRect().top);eo.current.style.top=`${e}px`,ei.current&&(ei.current.style.height=`calc(100vh - ${e}px)`)}}else{if(!en.current)return;let e=Math.max(O,en.current.getBoundingClientRect().top),t=e+147;en.current.style.height=`calc(100vh - ${e}px)`,eo.current&&(eo.current.style.top=`${t}px`),ei.current&&(ei.current.style.height=`calc(100vh - ${t}px)`)}}return e(),window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[O,M]);let eS=function(e,t){let[r,l]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let s=(0,j.default)(()=>{if(!t.current||!e.current)return;let{top:s}=t.current.getBoundingClientRect(),{bottom:r}=e.current.getBoundingClientRect();s<=r?l(!0):l(!1)},200);return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[e,t]),r}(ed,ec),[eT,eM]=(0,s.useState)(null),eE=`max(min(${em}px, 50vw), 350px)`;return(0,t.jsxs)(r0.ConditionalNavigationMarker,{enabled:!k,phase:"content",label:"LogsMain",children:[(0,t.jsxs)("div",{className:"tailwind-preflight",style:{display:"flex",flexFlow:"column"},children:[U||Z||!I?null:(0,t.jsx)(rL.AdditionalPermissionsRequiredModal,{actionLabel:"view Runtime Logs",role:I.membership?.role,team:I,dataTestId:(0,p.tid)("group-logs","no-permissions-card")}),U||G?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{flexGrow:1},children:(0,t.jsxs)("div",{className:(0,c.cn)("block h-full",!r1.IS_DASH&&"md:grid"),style:{gridTemplateColumns:e_},children:[r1.IS_DASH?(0,t.jsx)(ey,{allEnvironments:_,isLoadingEnvs:k}):(0,t.jsxs)("div",{className:"geist-hide-on-mobile",ref:ea,style:{borderRight:"1px solid var(--accents-2)",position:"relative",zIndex:1},children:[(0,t.jsx)(rn.DraggableBorder,{element:ea,onReset:()=>{eL(270)},onWidthChange:e=>{let t=Math.min(e,window.innerWidth/3);eL(t=t<230?0:t)},position:"right"}),(0,t.jsx)("div",{ref:en,style:{position:"sticky",top:O,height:"100%",background:"var(--geist-background)",contain:"layout"},children:(0,t.jsx)("div",{className:"flex flex-col overflow-auto h-full p-3",tabIndex:-1,children:(0,t.jsx)(ey,{allEnvironments:_,isLoadingEnvs:k})})})]}),(0,t.jsxs)("div",{style:{display:"flex",flexFlow:"column",position:"relative",height:"100%",zIndex:2},children:[(0,t.jsxs)("div",{className:(0,u.clsx)("flex flex-col items-stretch justify-start flex-initial sticky z-[3]",rE.default.logHeader,r1.IS_DASH?"bg-[var(--ds-background-200)]":"bg-[var(--ds-background-100)]"),style:{position:"sticky",top:O},children:[(0,t.jsxs)("div",{style:{padding:"var(--geist-gap-half) var(--geist-gap-half) 0 var(--geist-gap-half)"},children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-col lg:flex-row items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial grow",children:[r1.IS_DASH?null:(0,t.jsx)(n.Button,{"aria-label":"filter sidebar",className:"hidden shrink-0 lg:block",onClick:()=>0===ex?eL(270):eL(0),shape:"square",svgOnly:!0,type:"secondary",children:(0,t.jsx)(h.Filter,{})}),(0,t.jsx)(rJ,{tooltipClassName:"hidden lg:block shrink-0"}),(0,t.jsx)(rY,{tooltipClassName:"hidden lg:block shrink-0"}),(0,t.jsx)(s.Suspense,{fallback:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(rT,{}),(0,t.jsx)(ra,{})]}),children:q?(0,t.jsx)(rS,{}):(0,t.jsx)(rl,{})})]}),(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(ew,{onClick:()=>$(!0)}),(0,t.jsx)(rJ,{className:"shrink-0",tooltipClassName:"lg:hidden"}),(0,t.jsx)(rY,{className:"shrink-0",tooltipClassName:"lg:hidden"}),(0,t.jsx)("div",{className:"flex-1 lg:hidden"}),(0,t.jsx)(rw,{showSkeleton:G}),(0,t.jsxs)(a.MenuContainer,{position:"bottom-end",children:[(0,t.jsx)(l.MenuButton,{"aria-label":"Query Actions",shape:"square",size:"small",style:{height:"40px",width:"40px"},svgOnly:!0,type:"secondary",children:(0,t.jsx)(x.MoreVertical,{})}),(0,t.jsxs)(r.Menu,{width:"160px",children:[Z?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.MenuItem,{disabled:!et,onClick:()=>{K(!0),z(r3.VercelActivityAction.DrainsModalOpened,{source:"logs-more-options"})},children:"Add Drain"}),(0,t.jsx)(o.MenuDivider,{})]}),(0,t.jsx)(i.MenuItem,{onClick:()=>{C.analytics.track(b.AnalyticsEvent.LOGS_CONTEXT_ACTION_CLICKED,{field:"global-dropdown",action:"Export Logs as CSV"}),eM("csv")},children:"Export to CSV"}),(0,t.jsx)(i.MenuItem,{onClick:()=>{C.analytics.track(b.AnalyticsEvent.LOGS_CONTEXT_ACTION_CLICKED,{field:"global-dropdown",action:"Export Logs as JSON"}),eM("json")},children:"Export to JSON"})]})]})]})]}),(0,t.jsx)(rQ,{}),(0,t.jsx)(t5,{ref:ed})]}),(0,t.jsx)("div",{className:(0,u.clsx)(rE.default.logGradient,{[rE.default.show]:eS})})]}),(0,t.jsx)(rh,{onScroll:eN,ref:ec,showSkeleton:G}),(0,t.jsxs)("div",{className:"fixed bottom-0 hidden transform-gpu border-t border-gray-300 bg-background-100 md:block",ref:ep,style:{left:r1.IS_DASH?"var(--sidebar-width)":`${ex}px`,right:eE,height:er?400===eg?"min(400px, 35vh)":`max(min(70vh, ${eg}px), 240px)`:49,boxShadow:"var(--ds-shadow-large)",transition:ev?"none":"height 0.2s",display:M?"block":"none",zIndex:3},children:[er?(0,t.jsx)(rn.DraggableBorder,{element:ep,onStartDrag:()=>{eb(!0)},onStopDrag:()=>{eb(!1)},onWidthChange:e=>{ej(e),rF({bottom:e})},position:"top"}):null,(0,t.jsx)(sg,{collapsed:!er,onToggleCollapse:()=>{T({panelState:er?"closed":"opened"})}})]})]}),M?(0,t.jsxs)("div",{className:"fixed bottom-0 right-0 hidden translate-x-0 translate-y-0 transform-gpu overflow-y-auto border-t border-t-gray-400 bg-background-100 md:block z-[2]",ref:eo,style:{width:eE,boxShadow:"var(--ds-shadow-large)",top:r1.IS_DASH?203:247},children:[(0,t.jsx)(rn.DraggableBorder,{element:eo,onReset:()=>{ek(400)},onWidthChange:e=>{ek(Math.min(Math.max(e,400),window.innerWidth/2))},position:"left"}),(0,t.jsx)("div",{className:"hidden overflow-y-auto md:flex",ref:ei,children:(0,t.jsx)(su.TraceViewerPanel,{className:"z-0 border-none",children:(0,t.jsx)(sI,{onClose:el,selectedLogId:M})})})]}):null]})}),(0,t.jsx)(eC,{active:B,allEnvironments:_,isLoadingEnvs:k,onDismiss:()=>$(!1)}),(0,t.jsx)(sD,{onClose:el,selectedLogId:M}),V?.teamSlug&&et?(0,t.jsx)(r4.DrainModals,{isOpen:J,closeModal:()=>K(!1),teamSlug:V.teamSlug,projectIdOrSlug:V.project,onDrainCreated:es,drain:null,drainType:"logs"}):null]}):null]}),eT?(0,t.jsx)(rM.GroupExportModal,{format:eT,getExport:P,onClose:()=>{eM(null)}}):null]})}e.s(["GroupLogs",()=>r5],6687520)}]);

//# debugId=c805c0ff-76c9-0929-e224-ae9955dcfef3
//# sourceMappingURL=6e9761bf530b30b5.js.map
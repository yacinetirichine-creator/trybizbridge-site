;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="fb6e3b11-abb7-8b8d-39f3-bbfb9589db2a")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6198010,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M 8.75,1 H7.25 V7.25 H1.5 V8.75 H7.25 V15 H8.75 V8.75 H14.5 V7.25 H8.75 V1.75 Z" fill="currentColor"/>');e.s(["Plus",0,t])},3496900,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M11.75 0.189331L12.2803 0.719661L15.2803 3.71966L15.8107 4.24999L15.2803 4.78032L5.15901 14.9016C4.45575 15.6049 3.50192 16 2.50736 16H0.75H0V15.25V13.4926C0 12.4981 0.395088 11.5442 1.09835 10.841L11.2197 0.719661L11.75 0.189331ZM11.75 2.31065L9.81066 4.24999L11.75 6.18933L13.6893 4.24999L11.75 2.31065ZM2.15901 11.9016L8.75 5.31065L10.6893 7.24999L4.09835 13.841C3.67639 14.2629 3.1041 14.5 2.50736 14.5H1.5V13.4926C1.5 12.8959 1.73705 12.3236 2.15901 11.9016ZM9 16H16V14.5H9V16Z" fill="currentColor"/>');e.s(["PencilEdit",0,t])},6064230,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.53035 12.7804L1.00002 13.3108L-0.0606384 12.2501L0.469692 11.7198L4.18936 8.00011L0.469692 4.28044L-0.0606384 3.75011L1.00002 2.68945L1.53035 3.21978L5.60358 7.29301C5.9941 7.68353 5.9941 8.3167 5.60357 8.70722L1.53035 12.7804ZM8.75002 12.5001H8.00002V14.0001H8.75002H15.25H16V12.5001H15.25H8.75002Z" fill="currentColor" />');e.s(["Terminal",0,t])},7674801,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<g clip-path="url(#clip0_872_3147)">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58 0 0 3.57879 0 7.99729C0 11.5361 2.29 14.5251 5.47 15.5847C5.87 15.6547 6.02 15.4148 6.02 15.2049C6.02 15.0149 6.01 14.3851 6.01 13.7154C4 14.0852 3.48 13.2255 3.32 12.7757C3.23 12.5458 2.84 11.836 2.5 11.6461C2.22 11.4961 1.82 11.1262 2.49 11.1162C3.12 11.1062 3.57 11.696 3.72 11.936C4.44 13.1455 5.59 12.8057 6.05 12.5957C6.12 12.0759 6.33 11.726 6.56 11.5261C4.78 11.3262 2.92 10.6364 2.92 7.57743C2.92 6.70773 3.23 5.98797 3.74 5.42816C3.66 5.22823 3.38 4.40851 3.82 3.30888C3.82 3.30888 4.49 3.09895 6.02 4.1286C6.66 3.94866 7.34 3.85869 8.02 3.85869C8.7 3.85869 9.38 3.94866 10.02 4.1286C11.55 3.08895 12.22 3.30888 12.22 3.30888C12.66 4.40851 12.38 5.22823 12.3 5.42816C12.81 5.98797 13.12 6.69773 13.12 7.57743C13.12 10.6464 11.25 11.3262 9.47 11.5261C9.76 11.776 10.01 12.2558 10.01 13.0056C10.01 14.0752 10 14.9349 10 15.2049C10 15.4148 10.15 15.6647 10.55 15.5847C12.1381 15.0488 13.5182 14.0284 14.4958 12.6673C15.4735 11.3062 15.9996 9.67293 16 7.99729C16 3.57879 12.42 0 8 0Z" fill="currentColor"/>
  </g>
  <defs>
  <clipPath id="clip0_872_3147">
  <rect width="16" height="16" fill="white"/>
  </clipPath>
  </defs>`);e.s(["LogoGithub",0,t])},3025777,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),r=e.i(7674801),a=e.i(76079);let l=e=>{let{username:i,size:l=30,showIcon:s=!0,iconSize:n=14,iconBackground:o=!0,icon:u=(0,t.jsx)(r.LogoGithub,{className:"text-[#000000]",height:n,width:n}),lazy:d=!1,...c}=e;i||(i="404");let f=i&&`https://avatars.githubusercontent.com/${i.replace("[bot]","")}?s=${2*l}`;return(0,t.jsx)(a.AvatarWithIcon,{gitType:"github",icon:s?u:null,iconBackground:o,lazy:d,size:l,src:f,...c})};l.displayName="GitHubAvatar";let s=(0,i.memo)(l);e.s(["GitHubAvatar",0,s])},3896588,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),r=e.i(76079);let a=e=>{let{url:i,size:a=30,showIcon:l=!0,iconSize:s=14,iconBackground:n=!0,lazy:o=!1,...u}=e;return i&&(u=Object.assign(u,{src:i})),(0,t.jsx)(r.AvatarWithIcon,{gitType:"gitlab",icon:l?(0,t.jsxs)("svg",{"aria-label":"gitlab",height:s,style:{color:"white"},viewBox:"0 0 24 22",width:s,children:[(0,t.jsx)("path",{d:"M1.279 8.29L.044 12.294c-.117.367 0 .78.325 1.014l11.323 8.23-.009-.012-.03-.039L1.279 8.29zM22.992 13.308a.905.905 0 00.325-1.014L22.085 8.29 11.693 21.52l11.299-8.212z",fill:"currentColor"}),(0,t.jsx)("path",{d:"M1.279 8.29l10.374 13.197.03.039.01-.006L22.085 8.29H1.28z",fill:"currentColor",opacity:"0.4"}),(0,t.jsx)("path",{d:"M15.982 8.29l-4.299 13.236-.004.011.014-.017L22.085 8.29h-6.103zM7.376 8.29H1.279l10.374 13.197L7.376 8.29z",fill:"currentColor",opacity:"0.6"}),(0,t.jsx)("path",{d:"M18.582.308l-2.6 7.982h6.103L19.48.308c-.133-.41-.764-.41-.897 0zM1.279 8.29L3.88.308c.133-.41.764-.41.897 0l2.6 7.982H1.279z",fill:"currentColor",opacity:"0.4"})]}):null,iconBackground:n,lazy:o,size:a,...u})};a.displayName="GitLabAvatar";let l=(0,i.memo)(a);e.s(["GitLabAvatar",0,l])},6683690,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),r=e.i(76079);let a=(0,i.memo)(e=>{let{size:i=30,showIcon:a=!0,iconSize:l=14,iconBackground:s=!0,lazy:n=!1,...o}=e;return(0,t.jsx)(r.AvatarWithIcon,{gitType:"bitbucket",icon:a?(0,t.jsxs)("svg",{height:l,viewBox:"-2 -2 65 59",width:l,children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"bitbucket-:r3:",x1:"104.953%",x2:"46.569%",y1:"21.921%",y2:"75.234%",children:[(0,t.jsx)("stop",{offset:"7%","stop-color":"currentColor","stop-opacity":".4"}),(0,t.jsx)("stop",{offset:"100%","stop-color":"currentColor"})]})}),(0,t.jsx)("path",{d:"M59.696 18.86h-18.77l-3.15 18.39h-13L9.426 55.47a2.71 2.71 0 001.75.66h40.74a2 2 0 002-1.68l5.78-35.59z",fill:"url(#bitbucket-:r3:)",fillRule:"nonzero",transform:"translate(-.026 .82)"}),(0,t.jsx)("path",{d:"M2 .82a2 2 0 00-2 2.32l8.49 51.54a2.7 2.7 0 00.91 1.61 2.71 2.71 0 001.75.66l15.76-18.88H24.7l-3.47-18.39h38.44l2.7-16.53a2 2 0 00-2-2.32L2 .82z",fill:"currentColor",fillRule:"nonzero"})]}):null,iconBackground:s,lazy:n,size:i,...o})});e.s(["BitbucketAvatar",0,a])},1246255,7239573,e=>{"use strict";var t=e.i(1511518),i=e.i(516467);function r(e,r,a){let l=(0,i.toDate)(e,a?.in);return l.setTime(l.getTime()+r*t.millisecondsInMinute),l}function a(e,t,i){return r(e,-t,i)}e.s(["addMinutes",()=>r],7239573),e.s(["subMinutes",()=>a],1246255)},5481907,e=>{"use strict";var t=e.i(5169864),i=e.i(2405338),r=e.i(277234),a=e.i(4244280),l=e.i(1233856),s=e.i(3737038),n=e.i(1511518),o=e.i(1667062),u=e.i(7239573),d=e.i(6092370),c=e.i(268049),f=e.i(1246255),g=e.i(818351),m=e.i(9667097),p=e.i(2749380),h=e.i(5297450),v=e.i(8151845),b=e.i(4337458),x=e.i(5610834),y=e.i(9486194),C=e.i(8690335),w=e.i(1813317),M=e.i(5269510);let S=e=>(i,r,a)=>{let l=(0,t.useRef)(void 0),s=e(i,r,a);(0,t.useEffect)(()=>{void 0!==s.data&&Array.isArray(i)&&i[1]&&(l.current=s.data)},[s.data,i]);let n=(0,t.useCallback)(()=>{l.current=void 0},[]);Array.isArray(i)&&!i[1]&&(l.current=void 0);let o=void 0===s.data?l.current:s.data,u=void 0===s.data&&void 0!==l.current;return Object.assign(s,{currentData:o,isLagging:u,resetLaggy:n})};function L(e,i){let r,a=(0,t.useMemo)(()=>{if(e)return{...e}},[e]),f=(r=(0,x.useSearchParams)(),(0,t.useCallback)(e=>{let{rollups:t,by:i,event:a,filter:l}=e;if(!t||!a||!y.queryBuilderEvents.includes(a))return;let s=(0,w.getGroupableDimensions)(a);if(l&&(0,C.parseFilters)(l).some(e=>!s.includes(e.dimension)))return;i=i?.filter(e=>s.includes(e));let n=r?.get("period"),o=r?.get("from"),u=r?.get("to"),d=o&&u?{from:new Date(1e3*Number(o)),to:new Date(1e3*Number(u))}:n;return Object.entries(t).reduce((e,t)=>{let[r,s]=t,{measure:n,aggregation:o}=s;return e[r]={metric:`${a}.${n}`,by:i||[],filter:l||"",aggregation:o,time:d||""},e},{})},[r])),{start:M,end:S,isRelativeTime:L}=(0,v.useRangeFromQueryState)(),[{environment:j}]=(0,v.useSonarQueryState)(),R=(0,b.useSonarQueryScopeWithSlug)(),T=(0,b.useSonarQueryScope)(),O=(0,h.useShouldShowDemoData)();if(a&&!a.scope&&(a.scope=R),a){let e=a.startTime||M,t=a.endTime||S;a.granularity=a.granularity||(0,p.getGranularityFromDuration)(Math.round(t.getTime()-e.getTime()),a.lowGranularity),a.startTime=(0,l.startOfDuration)(a.startTime||e,a.granularity),a.endTime=(0,l.endOfDuration)(a.endTime||t,a.granularity)}a&&!a.reason&&(a.reason="observability_chart");let P=i?.noEnvironmentFilter===!0,A=i?.builderQueryFilter||a?.filter;if(a&&"all"!==j&&!P&&(a.filter=(0,d.andFilterStrings)(`environment eq '${j}'`,a.filter),A=(0,d.andFilterStrings)(`environment eq '${j}'`,A)),a&&(a.filter=(0,d.andFilterStrings)(a.filter,(0,d.serializeObjectFilter)(a.contextFilter)),A=(0,d.andFilterStrings)(A,(0,d.serializeObjectFilter)(a.contextFilter)),T?.type==="project"&&(A=(0,d.andFilterStrings)(`projectId eq '${T.projectIds[0]}'`,A)),i?.useQueryCache))try{{let e=new URLSearchParams(window.location.search).get("queryId");e&&(a.queryId=e)}}catch{}let I=f({event:a?.event,rollups:a?.rollups,by:a?.groupBy?.filter(e=>"projectName"!==e),filter:A}),E=a?.granularity&&L?(0,c.milliseconds)(a.granularity):0,_=!!((i?.showDemoData||O)&&i?.demoConfig),k=(0,t.useMemo)(()=>!a||_?null:JSON.stringify(a),[a,_]),{isLoading:N,...B}=(0,g.useIsomorphicSWR)(k,async()=>{if(a?.scope)return(0,m.getSonarData)(a)},{refreshInterval:i?.disableRefetch===!0?0:E,revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1,keepPreviousData:!1,errorRetryCount:0,ssr:{timeout:4e3}}),F=(i?.showDemoData||O)&&i?.demoConfig&&a?JSON.stringify({event:a.event,by:a.groupBy,rollups:a.rollups,durationMs:a.endTime&&a.startTime?a.endTime.getTime()-a.startTime.getTime():0,granularity:a.granularity}):null,$=(0,t.useMemo)(()=>{if(F&&i?.demoConfig)return function(e,t){let i,{startTime:r,endTime:a,granularity:l,groupBy:d=[]}=e,c=(i=(0,o.differenceInMilliseconds)(a,r)/n.millisecondsInMinute,(0,s.getRoundingMethod)(void 0)(i)),f=l.minutes||15,g=Math.ceil(c/f/("lowGranularity"in e?4:1)),m=[],p=[],h=Object.keys(t.rollups),v=0,b=e=>!!e&&"object"==typeof e&&"base"in e&&"variation"in e&&"number"==typeof e.base&&"number"==typeof e.variation,x=(e=>{if(0===e.length)return[{}];let i=[{}];for(let r of e){let e=[];if(t.groupValues?.[r])e=t.groupValues[r];else{let i=new Set;for(let e of Object.values(t.rollups))if(!b(e)&&e.groupConfigs){let t=e.groupConfigs;t[r]&&Object.keys(t[r]).forEach(e=>{i.add(e)})}e=Array.from(i)}if(0===e.length)throw Error(`No values found for group field "${r}". Please provide groupValues or groupConfigs for this field.`);let a=[];for(let t of i)for(let i of e)a.push({...t,[r]:i});i=a}return i})(d),y=e.rollups;for(let e of x){let i={...e},a={};for(let i=0;i<g;i++){let l=(0,u.addMinutes)(r,i*f),s={timestamp:l,...e};for(let i of h){let r,n=t.rollups[i],o=y[i];if(void 0===n)continue;if(b(n))r=n;else for(let[t,i]of(r=n.defaultConfig,Object.entries(e)))if(n.groupConfigs?.[t]?.[i]){r=n.groupConfigs[t][i];break}let{base:u=0,variation:d=0,diurnalPattern:c=!1}=r,f=u+(Math.random()-.5)*d;c&&(f*=1+.3*Math.sin(l.getHours()/24*Math.PI*2)),r.allowNegative||(f=Math.max(0,f));let g=o?.aggregation;"sum"===g?f=Math.round(f):"avg"===g||("p75"===g?f+=Math.random()*d*.5:f=Math.round(f)),s[i]=f,a[i]||(a[i]=[]),a[i].push(f),v+=f}m.push(s)}for(let e of h){let t=a[e],r=y[e],l=r?.aggregation,s=null;if(t&&0!==t.length)switch(l){case"avg":s=t.reduce((e,t)=>e+t,0)/t.length;break;case"p75":{t.sort((e,t)=>e-t);let e=Math.floor(.75*(t.length-1));s=t[e]||0;break}default:s=t.reduce((e,t)=>e+t,0)}else s=null;i[e]=s||0}p.push(i)}return{data:e.summaryOnly?void 0:m,query:e,summary:p,statistics:{rowsRead:v,bytesRead:46*v,dbTimeSeconds:.1+.1*Math.random(),engineTimeSeconds:.1+.1*Math.random(),queryTable:"demo"}}}(a,i.demoConfig)},[F]);return $?{...B,isRelativeTime:!0,data:$,isLoading:!1}:{...B,builderQuery:I,isRelativeTime:L,isLoading:N||B.isValidating||!a?.scope}}function j(e,r){let a=(0,b.useSonarQueryScope)(),s=(0,t.useMemo)(()=>{if(!e)return null;let t={...e};return t.scope||(t.scope=a),JSON.stringify(t)+(r?"-live":"-static")},[e,a,r]);return(0,i.default)(s,async()=>{if(!e)return;let t={...e};if(t.scope||(t.scope=a),r){let e=new Date,i=(0,l.endOfDuration)((0,f.subMinutes)(e,1),{seconds:10});t.startTime=(0,l.startOfDuration)(new Date(e.getTime()-6e5),{seconds:10}),t.endTime=i}if(t.scope)return(0,m.getSonarData)(t)},{refreshInterval:e?.granularity&&r?(0,c.milliseconds)({seconds:8}):0,revalidateOnFocus:!1,revalidateOnReconnect:!1,use:[S],onErrorRetry:(e,t,i,r,a)=>{let{retryCount:l}=a;401===e.status||403===e.status||l>=3||setTimeout(()=>void r({retryCount:l}),2500)}})}function R(){let e=(0,v.useRangeFromQueryState)(),t=(0,b.useSonarQueryScope)(),[{environment:s}]=(0,v.useSonarQueryState)(),n={minutes:15},o={from:(0,l.startOfDuration)(e.start,n),to:(0,l.endOfDuration)(e.end,n),scope:t,environment:s};return{isRelativeTime:e.isRelativeTime,...(0,i.default)(o,async e=>{if(e.scope)return await (0,r.fetchAPI)(`${a.API_OBSERVABILITY_BUILD_DIAGNOSTICS}?${(0,M.stringify)((0,m.getSonarTeamParam)(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0})},{refreshInterval:0,revalidateOnFocus:!1,revalidateOnReconnect:!1})}}e.s(["useBuildDiagnostics",()=>R,"useSonarLiveQuery",()=>j,"useSonarQuery",()=>L],5481907)},972022,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 4.875C1.5 3.01104 3.01104 1.5 4.875 1.5C6.20018 1.5 7.34838 2.26364 7.901 3.37829C8.1902 3.96162 8.79547 4.5 9.60112 4.5H12.25C13.4926 4.5 14.5 5.50736 14.5 6.75C14.5 7.42688 14.202 8.03329 13.7276 8.44689L13.1622 8.93972L14.1479 10.0704L14.7133 9.57758C15.5006 8.89123 16 7.8785 16 6.75C16 4.67893 14.3211 3 12.25 3H9.60112C9.51183 3 9.35322 2.93049 9.2449 2.71201C8.44888 1.1064 6.79184 0 4.875 0C2.18261 0 0 2.18261 0 4.875V6.40385C0 7.69502 0.598275 8.84699 1.52982 9.59656L2.11415 10.0667L3.0545 8.89808L2.47018 8.42791C1.87727 7.95083 1.5 7.22166 1.5 6.40385V4.875ZM7.29289 7.39645C7.68342 7.00592 8.31658 7.00592 8.70711 7.39645L11.7803 10.4697L12.3107 11L11.25 12.0607L10.7197 11.5303L8.75 9.56066V15.25V16H7.25V15.25V9.56066L5.28033 11.5303L4.75 12.0607L3.68934 11L4.21967 10.4697L7.29289 7.39645Z" fill="currentColor"/>');e.s(["CloudUpload",0,t])},8587921,7873387,e=>{"use strict";var t=e.i(5169864),i=e.i(2405338),r=e.i(1269010),a=e.i(8042625),l=e.i(277234),s=e.i(4244280),n=e.i(9668517),o=e.i(5338940),u=e.i(1717203),d=e.i(7557283);let c=e=>(i,r,a)=>{let l=(0,t.useRef)(void 0),s=e(i,r,a);(0,t.useEffect)(()=>{void 0!==s.data&&(l.current=s.data)},[s.data]);let n=(0,t.useCallback)(()=>{l.current=void 0},[]);return{...s,data:void 0===s.data?l.current:s.data,isLagging:void 0===s.data&&void 0!==l.current,resetLaggy:n}};function f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{search:f,limit:g,role:m,eligibleMembersForProjectId:p,sort:h="date_desc",filterByUserIds:v,includeEntitlements:b,mfaStateFilter:x,includePermissionRequests:y}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=arguments.length>2&&void 0!==arguments[2]&&arguments[2],w=arguments.length>3&&void 0!==arguments[3]&&arguments[3],{isReady:M,team:S}=(0,o.useTeam)(),{isLoading:L,can:j}=(0,u.default)(),R=!L&&j(d.Action.List,d.Resource.TeamFellowMembership),T=(0,n.useTeamSlug)(),O=g||20,P=(0,r.default)((e,t)=>{if(!M||!S||!R)return null;if(0===e)return`${s.API_TEAMS_MEMBERS_V3}/${S.id}/members${(0,a.encode)({sort:h,limit:O,search:f,role:m,eligibleMembersForProjectId:p,filterByUserIds:v,includeEntitlements:!!b||void 0,filterByMfaState:"all"!==x?x:void 0,includePermissionRequests:y})}`;let i=t?.pagination.nextPageCursor;return i?`${s.API_TEAMS_MEMBERS_V3}/${S.id}/members${(0,a.encode)({sort:h,limit:O,nextPageCursor:i,search:f,role:m,eligibleMembersForProjectId:p,includeEntitlements:!!b||void 0,filterByMfaState:"all"!==x?x:void 0,includePermissionRequests:y})}`:null},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),{...e,use:C?[c]:[]});(0,t.useEffect)(()=>{C&&P.resetLaggy()},[T,C]);let A=(0,t.useMemo)(()=>P.data?.flatMap(e=>e.members.slice(0,O))||[],[P.data,O]),I=(0,t.useMemo)(()=>P.data?.flatMap(e=>e.permissionRequests||[])||[],[P.data]),E=!!P.data,_=E&&0===A.length,k=!!(E&&P.data&&P.size>P.data.length),N=!!(E&&P.data&&!P.data[P.data.length-1]?.pagination?.nextPageCursor);return(0,i.default)(()=>{if(!w||!P.data||N||!M||!S)return null;let e=P.data[P.data.length-1].pagination.nextPageCursor;return`${s.API_TEAMS_MEMBERS_V3}/${S.id}/members${(0,a.encode)({sort:h,limit:O,nextPageCursor:e,search:f,role:m,eligibleMembersForProjectId:p,includeEntitlements:b,filterByMfaState:"all"!==x?x:void 0,includePermissionRequests:y})}`},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0})),[P,{members:A,permissionRequests:I.filter(e=>null!=e),initialDataLoaded:E,isEmpty:_,loadMore:()=>P.setSize(P.size+1),isLoadingMore:k,isReachingEnd:N,isLagging:P.isLagging}]}function g(){let{sort:e="date_desc",limit:t=20,filterByUserIds:r,until:n,role:c,includeEntitlements:f,includePermissionRequests:g}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:p,team:h}=(0,o.useTeam)(),{isLoading:v,can:b}=(0,u.default)(),x=!v&&b(d.Action.List,d.Resource.TeamFellowMembership);return(0,i.default)(()=>p&&h&&x?`${s.API_TEAMS_MEMBERS_V3}/${h.id}/members${(0,a.encode)({sort:e,until:n,limit:t,role:c,filterByUserIds:r,includeEntitlements:f,includePermissionRequests:g})}`:null,e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),m)}function m(e){let{limit:t=20,until:r,role:n,sort:o="date_desc"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,i.default)(()=>e?`${s.API_TEAMS_MEMBERS_V3}/${e.id}/members${(0,a.encode)({until:r,limit:t,role:n,sort:o})}`:null,e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),u)}function p(){let{limit:e=25,...i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{can:s,isLoading:c}=(0,u.default)(),f=!c&&s(d.Action.Create,d.Resource.TeamFellowMembership),{isReady:g,team:m}=(0,o.useTeam)(),p=(0,n.useTeamSlug)(),h=(0,r.default)((t,i)=>{if(!g||!m||!f)return null;if(!t)return`/api/teams/${p}/members/suggested${(0,a.encode)({limit:e})}`;let r=i?.members,l=r?.length===e?r[r.length-1].email:null;return l?`/api/teams/${p}/members/suggested${(0,a.encode)({limit:e,from:l})}`:null},e=>(0,l.fetchAPI)(e,{throwOnHTTPError:!0}),i),v=(0,t.useMemo)(()=>h.data?.flatMap(t=>t.members.slice(0,e))||[],[h.data,e]),b=!!h.data,x=b&&0===v.length,y=!!(b&&h.data&&h.size>h.data.length),C=!!(b&&h.data&&h.data[h.data.length-1]?.members.length<e);return[h,{members:v,initialDataLoaded:b,isEmpty:x,loadMore:()=>h.setSize(h.size+1),isLoadingMore:y,isReachingEnd:C}]}e.s(["default",0,c],7873387),e.s(["MEMBERS_LIMIT",0,20,"default",()=>g,"useMembersForTeam",()=>m,"useMembersInfinite",()=>f,"useSuggestedMembersInfinite",()=>p],8587921)},4723202,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),r=e.i(2504781),a=e.i(5255926),l=e.i(455575),s=e.i(5468328),n=e.i(277234),o=e.i(5338940),u=e.i(8587921),d=e.i(5140444),c=e.i(8248823),f=e.i(57106);function g(e){let{teamRole:n,variant:g="card"}=e,{team:p,isLoading:h}=(0,o.useTeam)(),{hasRequestedRole:v,mutate:b,isLoading:x}=function(e){let{user:t,isLoading:i}=(0,d.useUser)(),{data:r,mutate:a,isLoading:l}=(0,u.default)({includePermissionRequests:!0}),s=r?.permissionRequests;return{hasRequestedRole:s?.some(i=>i.uid===t?.uid&&i.requestedTeamRole.includes(e))??!1,mutate:a,isLoading:i||l}}(n),[y,C]=(0,i.useState)(!1),[w,M]=(0,i.useState)(!1);if(p?.membership?.role!=="VIEWER_FOR_PLUS")return null;let S=v||w;return(0,t.jsx)(a.Skeleton,{show:x||h,children:(0,t.jsx)(s.Tooltip,{disableTriggers:!S,text:(0,t.jsxs)(t.Fragment,{children:["An Owner of the team can accept your request. Requests are managed in the"," ",(0,t.jsx)(f.Link,{href:`/${p?.slug}/~/settings/members`,type:"highlight",children:"team members page"}),"."]}),children:(0,t.jsx)(r.Button,{disabled:S,loading:y,className:"card"===g?"text-label-14 font-medium":void 0,onClick:async()=>{if(p?.id){C(!0);try{await m(p.id,n),b(),M(!0),l.toasts.success("Request for the Member role has been sent")}catch(e){l.toasts.error((0,c.errorToString)(e,"Failed to send request"))}finally{C(!1)}}},size:"card"===g?"small":void 0,type:"card"===g?"tertiary":void 0,children:S?"Access Requested":"Request Access"})})})}async function m(e,t){await (0,n.fetchAPI)(`/api/teams/${e}/role-requests?teamId=${e}`,{method:"POST",body:JSON.stringify({teamRoles:[t]}),throwOnHTTPError:!0})}e.s(["RequestRoleButton",()=>g])},8556491,e=>{"use strict";var t=e.i(1146226),i=e.i(4723202),r=e.i(57106),a=e.i(1235157),l=e.i(119294),s=e.i(6352514);function n(e){let{role:n,team:o,actionLabel:u,dataTestId:d}=e;return(0,t.jsx)("div",{className:"absolute inset-0 z-[100] flex items-center justify-center bg-[rgba(255,255,255,0.5)] dark:bg-[rgba(0,0,0,0.5)]",children:(0,t.jsx)("div",{className:"absolute top-0 md:top-[80px] left-1/2 -translate-x-1/2 z-[101] w-full max-w-[560px] animate-[fadeIn_300ms_ease-in-out_forwards] pointer-events-auto","data-testid":d,children:(0,t.jsxs)("div",{className:"shadow-lg md:rounded-lg max-w-full bg-white overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-6 p-6",children:[(0,t.jsx)("span",{className:"text-heading-24",children:"Additional Permissions Required"}),(0,t.jsxs)("div",{children:["As a ",(0,t.jsx)("strong",{children:n?(0,a.getRoleName)(n):"Viewer"})," user on the ",(0,t.jsx)("strong",{children:o?.name})," team, you do not have permission to ",u,"."]}),(0,t.jsxs)("div",{className:"text-center break-words pt-2 text-gray-900",children:["Learn more about"," ",(0,t.jsx)(r.Link,{external:!0,href:"/docs/rbac/access-roles",onClick:()=>{l.analytics.track(s.AnalyticsEvent.PERMISSIONS_CLICKED_LEARN_MORE)},type:"highlight",children:"Roles and Permissions"})]})]}),"VIEWER_FOR_PLUS"===n?(0,t.jsx)("div",{className:"flex justify-end items-center bg-background-200 p-4 border-t mt-2",children:(0,t.jsx)(i.RequestRoleButton,{teamRole:"MEMBER",variant:"modal"})}):null]})})})}e.s(["AdditionalPermissionsRequiredModal",()=>n])},1068837,e=>{"use strict";var t=e.i(1146226),i=e.i(1717203),r=e.i(8556491);function a(e){let{actionLabel:a,permissionChecks:l}=e,{can:s,isLoading:n,accessInfo:o}=(0,i.default)(),u=l.every(e=>{let[t,i]=e;return s(t,i)});return n||u?null:(0,t.jsx)(r.AdditionalPermissionsRequiredModal,{role:o?.role,team:o?.team??void 0,actionLabel:a})}e.s(["AdditionalPermissionsRequiredModalClient",()=>a])},3207036,e=>{"use strict";var t=e.i(5169864),i=e.i(1670983),r=e.i(3535505);function a(){r.hasReducedMotionListener.current||(0,i.initPrefersReducedMotion)();let[e]=(0,t.useState)(r.prefersReducedMotion.current);return e}e.s(["useReducedMotion",()=>a])},1397323,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),r=e.i(57106),a=e.i(9722978),l=e.i(6159310);function s(e){let{routes:r,excludeParams:a}=e,s=(0,l.useNavLinks)(r,{preserveSearchParams:!0,excludeParams:a});return(0,i.useMemo)(()=>{let e={heading:"",tabs:[]},t=[e];for(let i of s.links){if(i.isHeading){e={heading:i.label,tabs:[]},t.push(e);continue}e.tabs.push(i)}return t},[s.links]).map(e=>(0,t.jsx)(n,{group:e},e.heading))}function n(e){let{group:i}=e;return(0,t.jsxs)(t.Fragment,{children:[i.heading?(0,t.jsx)("div",{className:"mt-4 ml-3 text-xs font-medium uppercase text-gray-800",children:i.heading}):null,(0,t.jsx)("div",{className:"flex flex-col divide-x",children:i.tabs.map(e=>{let{icon:i,label:l,href:s,isActive:n,meta:o}=e;return(0,t.jsxs)(r.Link,{className:(0,a.clsx)("flex flex-row items-center gap-2 rounded border-none px-3 py-2 text-sm font-medium no-underline focus:relative",n?"text-primary  bg-gray-200":"text-gray-900"),href:s,children:[i?(0,t.jsx)(i,{}):null,l,o?.suffix||null]},l)})})]})}e.s(["TabList",()=>s])},5922529,(e,t,i)=>{"use strict";i.__esModule=!0,i.default=function(e){var t=(0,r.useState)(l({tooltipOpen:!1},e)),i=t[0],s=t[1],n=(0,r.useCallback)(function(e){return s("function"==typeof e?function(t){t.tooltipOpen;var i=function(e,t){if(null==e)return{};var i,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)i=l[r],t.indexOf(i)>=0||(a[i]=e[i]);return a}(t,a);return l({},e(i),{tooltipOpen:!0})}:{tooltipOpen:!0,tooltipLeft:e.tooltipLeft,tooltipTop:e.tooltipTop,tooltipData:e.tooltipData})},[s]),o=(0,r.useCallback)(function(){return s({tooltipOpen:!1,tooltipLeft:void 0,tooltipTop:void 0,tooltipData:void 0})},[s]);return{tooltipOpen:i.tooltipOpen,tooltipLeft:i.tooltipLeft,tooltipTop:i.tooltipTop,tooltipData:i.tooltipData,updateTooltip:s,showTooltip:n,hideTooltip:o}};var r=e.r(5169864),a=["tooltipOpen"];function l(){return(l=Object.assign.bind()).apply(this,arguments)}},7311072,e=>{e.v({container:"styled-combobox-module__dUtXFG__container"})},9106354,7288962,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),r=e.i(4597921),a=e.i(5338940),l=e.i(1717203),s=e.i(7557283),n=e.i(5610834),o=e.i(4689018),u=e.i(1496379),d=e.i(5481907),c=e.i(594750),f=e.i(3774835),g=e.i(421794),m=e.i(8674454),p=e.i(6694387),h=e.i(8459493),v=e.i(4991687),b=e.i(6881349),x=e.i(8499892),y=e.i(1098160),C=e.i(6275050),w=e.i(2560270),M=e.i(6318858),S=e.i(3496900),L=e.i(57106),j=e.i(9722978),R=e.i(7311072),T=e.i(5963711),O=e.i(4004502);function P(e){let r,{toolbarState:a,setToolbarState:l,rules:s,options:o,isCustomRuleSelected:d,team:c,managedRulesets:f,firewallOverviewRefresh:x=!1}=e,y=(0,u.getEnabledTimeRangeOptions)(c),C=y.find(e=>e.value===a.range),T=C?.icon||null,P=(0,n.useParams)(),A=(0,n.usePathname)(),I=A?.endsWith("bot-management"),E=s.find(e=>e.value===a.filter);if("all_rules"===a.filter)r="Overview";else if(E)r=E.label;else if(a.filter.startsWith("managed_")){let e=a.filter.slice(8);if(r=e,f){let t=(0,g.getRulesetFromRulesets)(f,e);t&&(r=t.name)}}else r=a.filter;let _=o.find(e=>e.value===a.groupBy),k=(0,i.useMemo)(()=>"string"==typeof a.range?C?.label??"live":"Custom",[C?.label,a.range]),N=(0,t.jsxs)("div",{className:"flex flex-col gap-4 @lg-page:flex-row @lg-page:gap-3",children:[(0,t.jsxs)(b.Combobox,{"data-testid":(0,O.tid)("firewall","graph-toolbar","filters"),"aria-label":"Select firewall filter option",className:(0,j.clsx)(R.default.container,"w-full lg:w-[226px]"),clearable:"all_rules"!==a.filter,onChange:e=>{l({type:"filter",value:e||"all_rules"})},value:r,children:[(0,t.jsx)(b.Combobox.Input,{}),(0,t.jsx)(b.Combobox.List,{children:s.map(e=>(0,t.jsx)(b.Combobox.Option,{"data-testid":(0,O.tid)("firewall","graph-toolbar","filter-value"),value:e.value,children:e.label},e.value))})]}),d?(0,t.jsx)(L.ButtonLink,{href:`/${P?.teamSlug}/${P?.project}/firewall/configure/rule/${a.filter}`,prefix:(0,t.jsx)(S.PencilEdit,{}),type:"secondary",children:"Edit Rule"}):null]}),B=(0,t.jsxs)("div",{className:"flex flex-col gap-4 @lg-page:flex-row @lg-page:gap-3",children:[!x&&(0,t.jsxs)(v.MenuContainer,{children:[(0,t.jsx)(p.MenuButton,{align:"flex-grow",className:"w-full text-left font-normal @lg-page:w-[176px]",style:{fontWeight:400},suffix:(0,t.jsx)(w.ChevronDown,{}),type:"secondary",children:_?.label??""}),(0,t.jsx)(m.Menu,{className:"overflow-y-auto @md-page:max-h-[250px] @md-page:max-w-[200px] @lg-page:min-w-[200px]",portalClassName:"tailwind-preflight",style:{minWidth:"180px"},children:o.map(e=>{let{value:i,label:r}=e;return(0,t.jsx)(h.MenuItem,{label:r,onClick:()=>l({type:"groupBy",value:i}),suffix:_?.value===i?(0,t.jsx)(M.Check,{size:16}):null,value:i,children:(0,t.jsx)("span",{children:r})},i)})})]}),(0,t.jsxs)(v.MenuContainer,{children:[(0,t.jsx)(p.MenuButton,{align:"flex-grow",className:"w-full text-left @lg-page:w-[146px]",prefix:T?(0,t.jsx)(T,{}):null,style:{fontWeight:400},suffix:(0,t.jsx)(w.ChevronDown,{}),type:"secondary",children:k}),(0,t.jsx)(m.Menu,{className:"overflow-y-auto @md-page:max-h-[250px] @md-page:max-w-[200px] @lg-page:min-w-[200px]",portalClassName:"tailwind-preflight",children:y.map(e=>{let{value:i,label:r}=e;return(0,t.jsx)(h.MenuItem,{label:r,onClick:()=>l({type:"range",value:i}),suffix:C?.value===i?(0,t.jsx)(M.Check,{size:16}):null,value:i,children:(0,t.jsx)("span",{children:r})},i)})})]})]});return(0,t.jsx)("div",{className:"flex flex-col gap-4 @lg-page:flex-row @lg-page:gap-[unset] @lg-page:divide-x @lg-page:[&>*:not(:first-child)]:pl-3 @lg-page:[&>*:not(:last-child)]:pr-3",children:x?(0,t.jsxs)(t.Fragment,{children:[B,I?null:N]}):(0,t.jsxs)(t.Fragment,{children:[N,B]})})}function A(e){let{positionTop:r=0,isAttackModeEnabled:a=!1,...l}=e,[s,n]=(0,i.useState)(!1),{scrollY:o}=(0,x.useScroll)(),u=(0,i.useRef)(null);return(0,C.useMotionValueEvent)(o,"change",e=>{u.current&&n(e>(0,T.getOffsetTop)(u.current)-56)}),(0,t.jsxs)("div",{ref:u,children:[(0,t.jsx)(y.motion.div,{className:"z-[12]",style:{position:s?"fixed":void 0,top:s?a?85:46:0,left:0,right:0,paddingTop:8*!!s,paddingBottom:8*!!s,borderBottom:s?"1px solid var(--ds-gray-alpha-400)":void 0,background:s?"var(--ds-background-100)":void 0},children:(0,t.jsx)("div",{className:(0,j.clsx)({container:s}),children:(0,t.jsx)(P,{...l})})}),s?(0,t.jsx)("div",{className:"h-[150px] lg:h-[40px]"}):null]})}e.s(["FirewallGraphToolbar",()=>P,"StickyFirewallGraphToolbar",()=>A],7288962);var I=e.i(3538015);let E=I.defaultShowSystemRules.map(e=>Object.assign({},e,{active:!0})),_=[{label:"Overview",value:"all_rules",action:"allow",active:!0},{label:"BotID",value:"BotID",action:"allow",active:!0}],k=(0,i.createContext)(void 0);function N(e){let{children:m}=e,{team:p}=(0,a.useTeam)(),h=(0,n.useParams)(),v=(0,n.usePathname)(),b=(0,n.useRouter)(),x=(0,n.useSearchParams)(),y=h?.teamSlug??"",C=h?.project??"",w=(0,r.useServerFlag)("firewall-overview-refresh",!1),M=v?.endsWith("bot-management"),S=(0,i.useRef)(null),L=(0,i.useMemo)(()=>v?v.includes("/configure/rule/new")||v.includes("/configure/bypass/new")?S.current:(S.current=v,v):null,[v]),j=(0,i.useMemo)(()=>!!L&&(w?L.endsWith("/firewall")||L.endsWith("/firewall/traffic")||L.endsWith("/firewall/bot-management"):L.endsWith("/firewall")),[L,v,w]),[R,O,A]=(0,u.useToolbarState)({hideIpAddresses:!!p?.hideIpAddresses,firewallOverviewRefresh:w,defaultToolbarFilter:M?"bot-management":void 0}),N=(0,i.useCallback)(e=>{let t=v?.endsWith("/firewall"),i=["filter","action"].includes(e.type),r="all_rules"!==e.value&&""!==e.value;if(w&&t&&i&&r){let t=new URLSearchParams(x?.toString()||"");t.set(e.type,e.value);let i=`/${y}/${C}/firewall/traffic?${t.toString()}`;b.push(i);return}O(e)},[v,w,b,y,C,x,O]),{can:B,isLoading:F}=(0,l.default)(),$=B(s.Action.Read,s.Resource.SeawallConfig)||B(s.Action.List,s.Resource.SeawallConfig);(0,i.useEffect)(()=>{w&&"group_by_action"!==R.groupBy&&O({type:"groupBy",value:"group_by_action"})},[w,R.groupBy,O]);let{activeConfig:D,isLoadingConfig:V}=(0,c.useFirewallConfig)({projectId:C}),{data:H,isLoading:z}=(0,f.useManagedRulesets)({projectIdOrName:C,teamIdOrSlug:y}),q=(0,o.useQuerySelect)(R,w),{isLoading:W,error:G,currentData:Q}=(0,d.useSonarLiveQuery)($?q:void 0,"live"===R.range&&$),[U,Z]=(0,i.useMemo)(()=>{let e=[..._,...E];if(D&&H){for(let[t,i]of Object.entries(D.currentConfig.managedRules??{})){let r=(0,g.getRulesetFromRulesets)(H,t);if("owasp"===t){let t=(0,I.owaspToCrsConfig)(D.crsRules);e.push(...t.map(e=>({...e,active:i?.active??!1})))}else r&&e.push({label:r.name||t,value:`managed_${t}`,action:i?.action||r.defaultAction||r.actions?.[0]||"log",active:i?.active||r.active||!1})}for(let t of D.rules)e.push({label:t.name,value:t.id,action:t.action,active:t.active})}return[e,e.filter(e=>e.active)]},[D,H]),J=(0,i.useMemo)(()=>F?null:$?Q?.data?(0,T.getSonarSeriesData)(Q.data,q.groupBy,U,R):null:new Map,[q.groupBy,U,$,F,Q?.data,R]),{totalRequests:K}=function(e,t){let{can:r}=(0,l.default)(),{currentData:a}=(0,d.useSonarLiveQuery)({...e,filter:void 0,groupBy:void 0,summaryOnly:!0},"live"===t.range&&(r(s.Action.Read,s.Resource.SeawallConfig)||r(s.Action.List,s.Resource.SeawallConfig)));return{totalRequests:(0,i.useMemo)(()=>a?.summary[0]?.value??0,[a])}}(q,R),X=z||V,Y=X||W,ee=(0,i.useRef)(N);ee.current=N;let et=(0,i.useCallback)(e=>{ee.current(e)},[]),ei=(0,i.useMemo)(()=>D?.rules.some(e=>e.id===R.filter)??!1,[D?.rules,R.filter]),er=(0,i.useMemo)(()=>w&&j?(0,t.jsx)(P,{toolbarState:R,setToolbarState:et,rules:Z,options:A,isCustomRuleSelected:ei,team:p??void 0,managedRulesets:H,firewallOverviewRefresh:w}):null,[w,j,R,et,Z,A,ei,p,H]),ea=j?er:null,el=(0,i.useMemo)(()=>({toolbarState:R,setToolbarState:N,query:q,lineSeries:J,error:G,isGraphDataLoading:Y,isFirewallStatusLoading:X,totalBotRequests:K,allRules:U,activeRules:Z,currentConfig:D,managedRulesets:H,options:A,shouldRenderPostureGraph:j,timeRangeSelector:ea}),[R,N,q,J,G,Y,X,K,U,Z,D,H,A,j,ea]);return(0,t.jsx)(k.Provider,{value:el,children:m})}function B(){let e=(0,i.useContext)(k);if(!e)throw Error("useFirewallState must be used within FirewallStateProvider");return e}e.s(["FirewallStateProvider",()=>N,"useFirewallState",()=>B],9106354)},8708663,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),r=e.i(2480776),a=e.i(5922529),l=e.i(1496379),s=e.i(3538015);let n=(0,i.createContext)({});function o(){return(0,i.useContext)(n)}function u(e){let{children:o,formatter:u,series:d}=e,c=(0,a.default)(),[f,g]=(0,l.useToolbarState)(),[m,p]=(0,i.useState)(null),h=(0,i.useMemo)(()=>Array.from(d.values()).reduce((e,t)=>e.concat(t),[]),[d]),v=(0,i.useMemo)(()=>{let e={};return h.forEach(t=>{e[t.key]?e[t.key]+=t.value??0:e[t.key]=t.value??0}),e},[h]),b=(0,i.useMemo)(()=>[...d.keys()].sort((e,t)=>v[t]-v[e]),[d,v]);(0,i.useEffect)(()=>{!m||b.includes(m)||requestAnimationFrame(()=>p(null))},[b,m]);let x=(0,i.useMemo)(()=>(0,r.scaleOrdinal)({domain:b.sort(s.stableSort),range:["var(--ds-amber-700)","var(--ds-blue-700)","var(--ds-gray-700)","var(--ds-green-700)","var(--ds-pink-700)","var(--ds-purple-700)","var(--ds-red-700)","var(--ds-teal-700)","var(--ds-amber-600)","var(--ds-blue-600)","var(--ds-gray-600)","var(--ds-green-600)","var(--ds-pink-600)","var(--ds-purple-600)","var(--ds-red-600)","var(--ds-teal-600)","var(--ds-amber-400)","var(--ds-blue-400)","var(--ds-gray-400)","var(--ds-green-400)","var(--ds-pink-400)","var(--ds-purple-400)","var(--ds-red-400)","var(--ds-teal-400)","var(--ds-amber-200)","var(--ds-blue-200)","var(--ds-gray-200)","var(--ds-green-200)","var(--ds-pink-200)","var(--ds-purple-200)","var(--ds-red-200)","var(--ds-teal-200)"]}),[b]),y=(0,i.useMemo)(()=>Object.fromEntries(b.map(e=>[e,x(e)])),[b,x]),C=(0,i.useCallback)(e=>{"all_rules"===f.filter?e&&g({type:"filter",value:e.split("$")[0]}):p(e)},[g,f.filter]),w=(0,i.useMemo)(()=>({activeDataKey:m,allData:h,allKeys:b,colorScale:x,formatter:u,maxByKeys:v,seriesColor:y,setActiveDataKey:C,tooltip:c}),[m,h,b,x,u,v,C,y,c]);return(0,t.jsx)(n.Provider,{value:w,children:o})}n.displayName="VisualizationContext",e.s(["VisualizationContextProvider",()=>u,"useVisualizationContext",()=>o])}]);

//# debugId=fb6e3b11-abb7-8b8d-39f3-bbfb9589db2a
//# sourceMappingURL=6db1ade3bb3488b1.js.map
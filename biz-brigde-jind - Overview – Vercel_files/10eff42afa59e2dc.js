;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="34e1526e-185c-cc6e-7b5e-65df603b2f17")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4787360,e=>{"use strict";e.s(["PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES",0,{general:{username:"Username",name:"Display Name",email:"Email",emailRouting:"Email Routing",avatar:"Avatar",id:"User ID",resetTips:"Reset Tips",delete:"Delete Account",transfer:"Transfer"},billing:{plan:"Plan",paymentMethod:"Payment Method",remoteCaching:"Remote Caching",spendManagement:"Spend Management"}},"PERSONAL_ACCOUNT_SETTINGS_TITLES",0,{general:"General",authentication:"Authentication",signInWithVercel:"Sign in with Vercel",teams:"Teams",domains:"Domains",billing:"Billing",invoices:"Invoices",tokens:"Tokens",notifications:"My Notifications",deploymentProtection:"Deployment Protection",activity:"Activity"}])},6347389,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)(`<g clip-path="url(#clip0_1529_2727)">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M1.8627 7.61014C2.83103 7.22281 4.11733 7 5.5 7C6.88267 7 8.16897 7.22281 9.1373 7.61014C9.61938 7.80297 10.0598 8.05135 10.3921 8.36552C10.7258 8.68119 11 9.11499 11 9.65V13.35C11 13.8859 10.7347 14.3259 10.3979 14.6514C10.0646 14.9735 9.62194 15.226 9.1373 15.4199C8.1672 15.8079 6.88111 16.0199 5.5 16.0001C4.11889 16.0199 2.8328 15.8079 1.8627 15.4199C1.37806 15.226 0.935392 14.9735 0.602056 14.6514C0.265315 14.3259 0 13.8859 0 13.35V9.65C0 9.11499 0.274157 8.68119 0.607948 8.36552C0.940154 8.05135 1.38062 7.80297 1.8627 7.61014ZM1.5 9.65088V9.65L1.5 9.64998C1.49997 9.64935 1.49947 9.63747 1.5142 9.60866C1.53081 9.57621 1.56658 9.52347 1.63861 9.45535C1.78713 9.31489 2.04229 9.15385 2.41979 9.00285C3.17062 8.70252 4.25931 8.5 5.5 8.5C6.74069 8.5 7.82938 8.70252 8.58021 9.00285C8.95771 9.15385 9.21287 9.31489 9.36139 9.45535C9.43342 9.52347 9.46919 9.57621 9.4858 9.60866C9.50054 9.63747 9.50003 9.64935 9.5 9.64998L9.5 9.65C9.5 9.65002 9.50002 9.65031 9.5 9.65089M1.5 11.5298V13.35C1.5 13.3588 1.50052 13.4336 1.6445 13.5728C1.79189 13.7152 2.04485 13.8772 2.41979 14.0271C3.16618 14.3257 4.25066 14.519 5.48857 14.5001L5.5 14.4999L5.51143 14.5001C6.74934 14.519 7.83382 14.3257 8.58021 14.0271C8.95515 13.8772 9.20811 13.7152 9.3555 13.5728C9.49948 13.4336 9.5 13.3588 9.5 13.35V11.5298C9.38261 11.587 9.26133 11.6402 9.1373 11.6899C8.16897 12.0772 6.88267 12.3 5.5 12.3C4.11733 12.3 2.83103 12.0772 1.8627 11.6899C1.73867 11.6402 1.61739 11.587 1.5 11.5298ZM9.5 9.65089C9.49989 9.65411 9.49857 9.66636 9.4858 9.69134C9.46919 9.72379 9.43342 9.77653 9.36139 9.84465C9.21287 9.98511 8.95771 10.1461 8.58021 10.2971C7.82938 10.5975 6.74069 10.8 5.5 10.8C4.25931 10.8 3.17062 10.5975 2.41979 10.2971C2.04229 10.1461 1.78713 9.98511 1.63861 9.84465C1.56658 9.77653 1.53081 9.72379 1.5142 9.69134C1.50143 9.66636 1.50011 9.65411 1.5 9.65088" fill="currentColor" />
  <path fill-rule="evenodd" clip-rule="evenodd" d="M6.8627 0.61014C7.83103 0.222808 9.11733 0 10.5 0C11.8827 0 13.169 0.222808 14.1373 0.61014C14.6194 0.802973 15.0598 1.05135 15.3921 1.36552C15.7258 1.68119 16 2.11499 16 2.65V6.35C16 6.90413 15.746 7.35093 15.4245 7.67984C15.1106 8.00089 14.7088 8.23745 14.3171 8.41033C13.5387 8.75385 12.6231 8.92251 12 8.92251V7.42251C12.415 7.42251 13.1243 7.29715 13.7115 7.03804C14.0025 6.90961 14.2185 6.76769 14.3518 6.63129C14.4775 6.50275 14.5 6.41311 14.5 6.35V4.52982C14.3826 4.58696 14.2613 4.64025 14.1373 4.68986C13.169 5.07719 11.8827 5.3 10.5 5.3C9.11733 5.3 7.83103 5.07719 6.8627 4.68986C6.73867 4.64025 6.61739 4.58696 6.5 4.52982V5.5H5V2.65C5 2.11499 5.27416 1.68119 5.60795 1.36552C5.94015 1.05135 6.38062 0.802973 6.8627 0.61014ZM6.5 2.65088V2.65L6.5 2.64998C6.49997 2.64935 6.49947 2.63747 6.5142 2.60866C6.53081 2.57621 6.56658 2.52347 6.63861 2.45535C6.78713 2.31489 7.04229 2.15385 7.41979 2.00285C8.17062 1.70252 9.25931 1.5 10.5 1.5C11.7407 1.5 12.8294 1.70252 13.5802 2.00285C13.9577 2.15385 14.2129 2.31489 14.3614 2.45535C14.4334 2.52347 14.4692 2.57621 14.4858 2.60866C14.5005 2.63747 14.5 2.64935 14.5 2.64998L14.5 2.65C14.5 2.65002 14.5 2.65031 14.5 2.65089M6.5 2.65088C6.50011 2.65411 6.50143 2.66636 6.5142 2.69134C6.53081 2.72379 6.56658 2.77653 6.63861 2.84465C6.78713 2.98511 7.04229 3.14615 7.41979 3.29715C8.17062 3.59748 9.25931 3.8 10.5 3.8C11.7407 3.8 12.8294 3.59748 13.5802 3.29715C13.9577 3.14615 14.2129 2.98511 14.3614 2.84465C14.4334 2.77653 14.4692 2.72379 14.4858 2.69134C14.4986 2.66636 14.4999 2.65411 14.5 2.65089" fill="currentColor" />
  </g>
  <defs>
  <clipPath id="clip0_1529_2727">
  <rect width="16" height="16" fill="white" />
  </clipPath>
  </defs>`);e.s(["Coins",0,t])},2471070,e=>{"use strict";var t=e.i(2405338),n=e.i(5338940);function i(e){let{team:i}=(0,n.useTeam)(),{data:r,error:s,isLoading:a,mutate:o}=(0,t.default)(i?.id&&e?`/api/credit-topups?teamId=${i.id}&currency=${e}`:null,async e=>{let t=await fetch(e);if(!t.ok)throw Error(t.statusText);return t.json()});return{topups:r,error:s,loading:a,mutate:o}}function r(){return i("ai_gateway_credits")}function s(){return i("vercel_agent_credits")}e.s(["useAiGatewayCreditTopups",()=>r,"useCreditTopups",()=>i,"useVercelAgentCreditTopups",()=>s])},8073978,e=>{"use strict";let t;var n=e.i(5169864);let i=(e,t,n)=>{let i=document.createElement(e),[r,s]=Array.isArray(t)?[void 0,t]:[t,n];return r&&Object.assign(i,r),null==s||s.forEach(e=>i.appendChild(e)),i},r=String.raw,s="u">typeof CSS&&CSS.supports&&CSS.supports("animation-timing-function","linear(1,2)"),a="u">typeof CSS&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),o="u">typeof matchMedia?matchMedia("(prefers-reduced-motion: reduce)"):null,l="--_number-flow-d-opacity",c="--_number-flow-d-width",u="--_number-flow-dx",d="--_number-flow-d",p=(()=>{try{return CSS.registerProperty({name:l,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:u,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:c,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:d,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),h="var(--number-flow-char-height, 1em)",f="var(--number-flow-mask-height, 0.25em)",m=`calc(${f} / 2)`,y="var(--number-flow-mask-width, 0.5em)",g=`calc(${y} / var(--scale-x))`,v="#000 0, transparent 71%",C=r`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${h} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${c}) / var(--width));transform:translateX(var(${u})) scaleX(var(--scale-x));margin:0 calc(-1 * ${y});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${g},#000 calc(100% - ${g}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${f},#000 calc(100% - ${f}),transparent 100% ),radial-gradient(at bottom right,${v}),radial-gradient(at bottom left,${v}),radial-gradient(at top left,${v}),radial-gradient(at top right,${v});-webkit-mask-size:100% calc(100% - ${f} * 2),calc(100% - ${g} * 2) 100%,${g} ${f},${g} ${f},${g} ${f},${g} ${f};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${m} ${y};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${u})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section__exiting,.symbol__exiting{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${d})}.digit__num,.number .section::after{padding:${m} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num:not(.is-current){position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num:not(.is-current){display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol__exiting{left:0}.section--justify-right .symbol__exiting{right:0}.animate-presence{opacity:calc(1 + var(${l}))}`,b=HTMLElement,w=(r`:host{display:inline-block;direction:ltr;white-space:nowrap;line-height:${h} !important}span{display:inline-block}:host([data-will-change]) span{will-change:transform}.number,.digit{padding:${m} 0}.symbol{white-space:pre}`,a&&s&&p);class x extends b{constructor(){super(),this.created=!1,this.manual=!1;const{animated:e,...t}=this.constructor.defaultProps;this._animated=this.computedAnimated=e,Object.assign(this,t)}get animated(){return this._animated}set animated(e){var t;this.animated!==e&&(this._animated=e,null==(t=this.shadowRoot)||t.getAnimations().forEach(e=>e.finish()))}set data(e){if(null==e)return;let{pre:n,integer:i,fraction:r,post:s,value:a}=e;if(this.created){let t=this._data;if(this._data=e,this.computedTrend="function"==typeof this.trend?this.trend(t.value,a):this.trend,this.startingPos=void 0,this.computedTrend&&this.continuous){let n,i,r=t.integer.concat(t.fraction).filter(e=>"integer"===e.type||"fraction"===e.type),s=e.integer.concat(e.fraction).filter(e=>"integer"===e.type||"fraction"===e.type),a=r.find(e=>!s.find(t=>t.pos===e.pos&&t.value===e.value)),o=s.find(e=>!r.find(t=>e.pos===t.pos&&e.value===t.value));this.startingPos=(n=null==a?void 0:a.pos,i=null==o?void 0:o.pos,null==n?i:null==i?n:Math.max(n,i))}this.computedAnimated=w&&this._animated&&(!this.respectMotionPreference||!(null!=o&&o.matches))&&this.offsetWidth>0&&this.offsetHeight>0,this.manual||this.willUpdate(),this._pre.update(n),this._num.update({integer:i,fraction:r}),this._post.update(s),this.manual||this.didUpdate()}else{if(this._data=e,this.attachShadow({mode:"open"}),"u">typeof CSSStyleSheet&&this.shadowRoot.adoptedStyleSheets)t||(t=new CSSStyleSheet).replaceSync(C),this.shadowRoot.adoptedStyleSheets=[t];else{let e=document.createElement("style");e.textContent=C,this.shadowRoot.appendChild(e)}this._pre=new E(this,n,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new _(this,i,r),this.shadowRoot.appendChild(this._num.el),this._post=new E(this,s,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el)}this.created=!0}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();let e=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(e=>e.finished)).then(()=>{e.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=e}}x.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(e,t)=>Math.sign(t-e),continuous:!1,respectMotionPreference:!0,digits:void 0};class _{constructor(e,t,n,{className:r,...s}={}){this.flow=e,this._integer=new j(e,t,{justify:"right",part:"integer"}),this._fraction=new j(e,n,{justify:"left",part:"fraction"}),this._inner=i("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=i("span",{...s,part:"number",className:`number ${r??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update(e){let{integer:t,fraction:n}=e;this._integer.update(t),this._fraction.update(n)}didUpdate(){let e=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();let t=this._prevLeft-e.left,n=this.el.offsetWidth,i=this._prevWidth-n;this.el.style.setProperty("--width",String(n)),this.el.animate({[u]:[`${t}px`,"0px"],[c]:[i,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class S{constructor(e,t,{justify:n,className:r,...s},a){this.flow=e,this.children=new Map,this.onCharRemove=e=>()=>{this.children.delete(e)},this.justify=n;const o=t.map(e=>this.addChar(e).el);this.el=i("span",{...s,className:`section section--justify-${n} ${r??""}`},a?a(o):o)}addChar(e){let{startDigitsAtZero:t=!1,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i="integer"===e.type||"fraction"===e.type?new A(this,e.type,t?0:e.value,e.pos,{...n,onRemove:this.onCharRemove(e.key)}):new P(this,e.type,e.value,{...n,onRemove:this.onCharRemove(e.key)});return this.children.set(e.key,i),i}unpop(e){e.el.classList.remove("section__exiting"),e.el.style.top="",e.el.style[this.justify]=""}pop(e){e.forEach(e=>{var t,n;e.el.style.top=`${e.el.offsetTop}px`,e.el.style[this.justify]=`${t=e.el,"left"===this.justify?t.offsetLeft:((null==(n=t.offsetParent instanceof HTMLElement?t.offsetParent:null)?void 0:n.offsetWidth)??0)-t.offsetWidth-t.offsetLeft}px`}),e.forEach(e=>{e.el.classList.add("section__exiting"),e.present=!1})}addNewAndUpdateExisting(e){let t=new Map,n=new Map,i="left"===this.justify,r=i?"prepend":"append";if(function(e,t){let{reverse:n=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.length;for(let r=n?i-1:0;n?r>=0:r<i;n?r--:r++)t(e[r],r)}(e,e=>{let i;this.children.has(e.key)?(i=this.children.get(e.key),n.set(e,i),this.unpop(i),i.present=!0):(i=this.addChar(e,{startDigitsAtZero:!0,animateIn:!0}),t.set(e,i)),this.el[r](i.el)},{reverse:i}),this.flow.computedAnimated){let e=this.el.getBoundingClientRect();t.forEach(t=>{t.willUpdate(e)})}t.forEach((e,t)=>{e.update(t.value)}),n.forEach((e,t)=>{e.update(t.value)})}willUpdate(){let e=this.el.getBoundingClientRect();this._prevOffset=e[this.justify],this.children.forEach(t=>t.willUpdate(e))}didUpdate(){let e=this.el.getBoundingClientRect();this.children.forEach(t=>t.didUpdate(e));let t=e[this.justify],n=this._prevOffset-t;n&&this.children.size&&this.el.animate({transform:[`translateX(${n}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class j extends S{update(e){let t=new Map;this.children.forEach((n,i)=>{e.find(e=>e.key===i)||t.set(i,n),this.unpop(n)}),this.addNewAndUpdateExisting(e),t.forEach(e=>{e instanceof A&&e.update(0)}),this.pop(t)}}class E extends S{update(e){let t=new Map;this.children.forEach((n,i)=>{e.find(e=>e.key===i)||t.set(i,n)}),this.pop(t),this.addNewAndUpdateExisting(e)}}class k{constructor(e,t,{onRemove:n,animateIn:i=!1}={}){this.flow=e,this.el=t,this._present=!0,this._remove=()=>{var e;this.el.remove(),null==(e=this._onRemove)||e.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&i&&this.el.animate({[l]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=n}get present(){return this._present}set present(e){if(this._present!==e){if(this._present=e,!this.flow.computedAnimated){e||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",e?"0":"-.999"),this.el.animate({[l]:e?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),e?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}}class T extends k{constructor(e,t,n,i){super(e.flow,n,i),this.section=e,this.value=t,this.el=n}}class A extends T{constructor(e,t,n,r,s){var a,o;const l=((null==(o=null==(a=e.flow.digits)?void 0:a[r])?void 0:o.max)??9)+1,c=Array.from({length:l}).map((e,t)=>{let r=i("span",{className:`digit__num${t===n?" is-current":""}`},[document.createTextNode(String(t))]);return r.style.setProperty("--n",String(t)),r}),u=i("span",{part:`digit ${t}-digit`,className:"digit"},c);u.style.setProperty("--current",String(n)),u.style.setProperty("--length",String(l)),super(e,n,u,s),this.pos=r,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=c,this._length=l}willUpdate(e){let t=this.el.getBoundingClientRect();this._prevValue=this.value;let n=t[this.section.justify]-e[this.section.justify],i=t.width/2;this._prevCenter="left"===this.section.justify?n+i:n-i}update(e){var t,n;null==(t=this._numbers[this.value])||t.classList.remove("is-current"),this.el.style.setProperty("--current",String(e)),null==(n=this._numbers[e])||n.classList.add("is-current"),this.value=e}didUpdate(e){let t=this.el.getBoundingClientRect(),n=t[this.section.justify]-e[this.section.justify],i=t.width/2,r="left"===this.section.justify?n+i:n-i,s=this._prevCenter-r;s&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});let a=this.diff;a&&(this.el.classList.add("is-spinning"),this.el.animate({[d]:[-a,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}get diff(){let e=this.flow.computedTrend,t=this.value-this._prevValue;return!t&&null!=this.flow.startingPos&&this.flow.startingPos>=this.pos?this._length*e:(e||(e=Math.sign(t)),e<0&&this.value>this._prevValue?this.value-this._length-this._prevValue:e>0&&this.value<this._prevValue?this._length-this._prevValue+this.value:t)}}class P extends T{constructor(e,t,n,r){const s=i("span",{className:"symbol__value",textContent:n});super(e,n,i("span",{part:`symbol ${t}`,className:"symbol"},[s]),r),this.type=t,this._children=new Map,this._onChildRemove=e=>()=>{this._children.delete(e)},this._children.set(n,new k(this.flow,s,{onRemove:this._onChildRemove(n)}))}willUpdate(e){if("decimal"===this.type)return;let t=this.el.getBoundingClientRect();this._prevOffset=t[this.section.justify]-e[this.section.justify]}update(e){if(this.value!==e){let t=this._children.get(this.value);if(t.present=!1,t.el.classList.add("symbol__exiting"),this._children.has(e)){let t=this._children.get(e);t.present=!0,t.el.classList.remove("symbol__exiting")}else{let t=i("span",{className:"symbol__value",textContent:e});this.el.appendChild(t),this._children.set(e,new k(this.flow,t,{animateIn:!0,onRemove:this._onChildRemove(e)}))}}this.value=e}didUpdate(e){if("decimal"===this.type)return;let t=this.el.getBoundingClientRect()[this.section.justify]-e[this.section.justify],n=this._prevOffset-t;n&&this.el.animate({transform:[`translateX(${n}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}var N=parseInt(n.version.match(/^(\d+)\./)?.[1])>=19,R=class extends x{attributeChangedCallback(e,t,n){this[e]=JSON.parse(n)}};R.observedAttributes=N?[]:["data","digits"],customElements.get("number-flow-react")!==R&&customElements.define("number-flow-react",R);var M={},O=N?e=>e:JSON.stringify;function I(e){let{transformTiming:t,spinTiming:n,opacityTiming:i,animated:r,respectMotionPreference:s,trend:a,continuous:o,...l}=e;return[{transformTiming:t,spinTiming:n,opacityTiming:i,animated:r,respectMotionPreference:s,trend:a,continuous:o},l]}var $=class extends n.Component{constructor(e){super(e),this.handleRef=this.handleRef.bind(this)}updateProperties(e){if(!this.el)return;this.el.manual=!this.props.isolate;let[t]=I(this.props);Object.entries(t).forEach(e=>{let[t,n]=e;this.el[t]=n??R.defaultProps[t]}),e?.onAnimationsStart&&this.el.removeEventListener("animationsstart",e.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),e?.onAnimationsFinish&&this.el.removeEventListener("animationsfinish",e.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),N&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(e){if(this.updateProperties(e),e.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>this.props.group?.didUpdate();if(!this.props.isolate)return this.el?.willUpdate(),()=>this.el?.didUpdate()}return null}componentDidUpdate(e,t,n){n?.()}handleRef(e){this.props.innerRef&&(this.props.innerRef.current=e),this.el=e}render(){let[e,{innerRef:t,className:i,data:r,willChange:s,isolate:a,group:o,digits:l,onAnimationsStart:c,onAnimationsFinish:u,...d}]=I(this.props);return n.createElement("number-flow-react",{ref:this.handleRef,"data-will-change":s?"":void 0,class:i,"aria-label":r.valueAsString,...d,role:"img",dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:O(l),data:O(r)})}},L=n.forwardRef(function(e,t){let{value:i,locales:r,format:s,prefix:a,suffix:o,...l}=e;n.useImperativeHandle(t,()=>c.current,[]);let c=n.useRef(),u=n.useContext(U);u?.useRegister(c);let d=n.useMemo(()=>r?JSON.stringify(r):"",[r]),p=n.useMemo(()=>s?JSON.stringify(s):"",[s]),h=n.useMemo(()=>(function(e,t,n,i){let r=t.formatToParts(e);n&&r.unshift({type:"prefix",value:n}),i&&r.push({type:"suffix",value:i});let s=[],a=[],o=[],l=[],c={},u=e=>`${e}:${c[e]=(c[e]??-1)+1}`,d="",p=!1,h=!1;for(let e of r){d+=e.value;let t="minusSign"===e.type||"plusSign"===e.type?"sign":e.type;"integer"===t?(p=!0,a.push(...e.value.split("").map(e=>({type:t,value:parseInt(e)})))):"group"===t?a.push({type:t,value:e.value}):"decimal"===t?(h=!0,o.push({type:t,value:e.value,key:u(t)})):"fraction"===t?o.push(...e.value.split("").map(e=>({type:t,value:parseInt(e),key:u(t),pos:-1-c[t]}))):(p||h?l:s).push({type:t,value:e.value,key:u(t)})}let f=[];for(let e=a.length-1;e>=0;e--){let t=a[e];f.unshift("integer"===t.type?{...t,key:u(t.type),pos:c[t.type]}:{...t,key:u(t.type)})}return{pre:s,integer:f,fraction:o,post:l,valueAsString:d,value:"string"==typeof e?parseFloat(e):e}})(i,M[`${d}:${p}`]??=new Intl.NumberFormat(r,s),a,o),[i,d,p,a,o]);return n.createElement($,{...l,group:u,data:h,innerRef:c})}),U=n.createContext(void 0);e.s(["default",()=>L],8073978)},6677203,e=>{"use strict";function t(e){var t,n;if(!e?.billing)return!1;let{awsMarketplace:i}=e.billing;return!!i&&("boolean"==typeof i?i:(t=e,n="vercel",!!t?.billing?.awsMarketplace&&!!Array.isArray(t.billing.awsMarketplace)&&t.billing.awsMarketplace.includes(n)))}e.s(["isAwsMarketplaceCustomer",()=>t])},7418514,e=>{"use strict";var t=e.i(1146226),n=e.i(9650453),i=e.i(5169864),r=e.i(3306538),s=e.i(2504781),a=e.i(7137884),o=e.i(779588),l=e.i(8161149),c=e.i(5063443),u=e.i(8517043),d=e.i(1232681),p=e.i(8459493),h=e.i(6891161),f=e.i(5255926),m=e.i(3895030),y=e.i(455575),g=e.i(4004502),v=e.i(9070994),C=e.i(4244280),b=e.i(9171423),w=e.i(3169345),x=e.i(4543703),_=e.i(5664412),S=e.i(3256866),j=e.i(9373142),E=e.i(8761240),k=e.i(5756088),T=e.i(9847832),A=e.i(5802506),P=e.i(7917902),N=e.i(1717203),R=e.i(7557283);e.i(5335102);var M=e.i(6764151),O=e.i(8158658),I=e.i(6446781),$=e.i(6482217),L=e.i(4787360),U=e.i(1877305),F=e.i(6677203);function B(){let{team:e,mutate:h}=(0,P.useAccount)(),{can:f}=(0,N.default)(),x=f(R.Action.Update,R.Resource.PaymentMethod),_=f(R.Action.Read,R.Resource.PaymentMethod),S=(0,T.useIsMobile)(),O=(0,$.useStripeSources)({enabled:!0}),B=O.data?.defaultSource,V=(0,i.useMemo)(()=>(O.data?.sources||[]).sort((e,t)=>e.id.localeCompare(t.id)),[O]),G=V.length>0,[W,q]=(0,i.useState)(!1),[Z,J]=(0,i.useState)(!1),[K,X]=(0,i.useState)({active:!1,card:null,requiresNewCard:!1}),[H,z]=(0,i.useState)(null),Q=(0,F.isAwsMarketplaceCustomer)(e),ee=(0,y.useToasts)();async function et(e){let t=e?.id?`${C.API_BILLING}/validate-payment-method-removal?teamId=${e.id}`:`${C.API_BILLING}/validate-payment-method-removal`,n=await (0,b.fetchApi)(t,{method:"GET",throwOnHTTPError:!0});return n&&"string"!=typeof n?n:{result:!1,reasons:[]}}let en=(0,i.useMemo)(()=>async(e,t)=>{let n=1===e.length&&t?.billing?.plan!=="enterprise";if((t?.id&&t.billing?.plan==="hobby"||!t)&&1===e.length){let{reasons:e}=await et(t);if(e.length>0)switch(e[0]){case"not-hobby-plan":ee.error("You cannot remove your last payment method, because you are not on a hobby plan.");break;case"has-open-invoice":ee.error("You cannot remove your last payment method, because you have an open invoice.");break;case"has-domains":ee.error("You cannot remove your last payment method, because you have domains.");break;case"has-marketplace-integrations":ee.error("You cannot remove your last payment method, because you have billable marketplace integrations.");break;case"has-v0-premium-sub":ee.error("You cannot remove your last payment method, because you have a v0 subscription.");break;case"has-v0-team-seats":ee.error("You cannot remove your last payment method, because you have v0 team seats.");break;case"has-draft-invoice":ee.error("You cannot remove your last payment method, because you have a draft invoice.")}n=e.length>0}return n},[ee]),ei=async t=>{X({active:!0,card:t,requiresNewCard:await en(V,e)})},er=async()=>{await Promise.all([h(),O.mutate()]),J(!1),K.card&&(es(K.card.id,!0),X({...K,active:!1}))},es=async(t,n)=>{let i=e?`?teamId=${encodeURIComponent(e.id)}`:"";q(!0);try{let e=await (0,v.default)(`${C.API_STRIPE_PAYMENT_METHODS}${i}`,{method:n?"DELETE":"POST",body:JSON.stringify({paymentMethod:t,makeDefault:!n||void 0})});if(e.error)return z(e.error.message);await O.mutate()}finally{q(!1)}};return(0,t.jsxs)("div",{id:"payment-method",className:"jsx-efc69a07e34f3d23",children:[(0,t.jsxs)(u.Fieldset,{disabled:!x,children:[(0,t.jsxs)(a.FieldsetContent,{children:[(0,t.jsx)(U.FieldsetTitle,{id:L.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.billing.paymentMethod,children:L.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.billing.paymentMethod}),(0,t.jsxs)(m.FieldsetSubtitle,{children:[Q?"A card will be used for purchases of items outside of your AWS Marketplace contract. ":null,"Payments for domains, add-ons, and other usage are made using the default card."]}),(0,t.jsx)("div",{className:"jsx-efc69a07e34f3d23 h-[159px]",children:G||!_?(0,t.jsx)(w.Table,{children:(0,t.jsx)(w.Table.Body,{children:_?V.map(e=>{let{card:n}=e;if(!n)return null;let i=e.id===B;return(0,t.jsxs)(w.Table.Row,{className:"border-t",children:[(0,t.jsx)(w.Table.Cell,{className:"text-gray-1000",children:(0,t.jsxs)("span",{className:"jsx-efc69a07e34f3d23 flex items-center gap-x-2",children:[(0,t.jsx)(Y,{brand:n.brand}),S?`••••
                              ${n.last4}`:`${(0,I.cardBrand)(n.brand)} ${n.funding} ••••
                              ${n.last4}`,i?(0,t.jsx)(r.Badge,{icon:(0,t.jsx)(E.CheckCircleFill,{}),variant:x?"blue-subtle":"gray-subtle",children:"Default"}):null]})}),S?null:(0,t.jsxs)(w.Table.Cell,{className:"text-right text-gray-1000",children:["Valid until ",n.exp_month,"/",n.exp_year]}),(0,t.jsx)(w.Table.Cell,{className:"w-[3%]",children:(0,t.jsxs)(o.DotsMenu,{children:[i?null:(0,t.jsx)(p.MenuItem,{onClick:()=>{es(e.id).catch(A.captureError)},children:"Make Default"}),(0,t.jsx)(p.MenuItem,{onClick:()=>{ei(e)},type:"error",children:"Remove"})]})})]},e.id)}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(w.Table.Row,{className:"border-t",children:[(0,t.jsx)(w.Table.Cell,{children:(0,t.jsxs)("span",{className:"jsx-efc69a07e34f3d23 flex items-center gap-x-2",children:[(0,t.jsx)(j.CreditCard,{}),"••••"]})}),(0,t.jsx)(w.Table.Cell,{className:"text-right",children:"••/••••"}),(0,t.jsx)(w.Table.Cell,{className:"w-[3%]",children:(0,t.jsx)(k.LockClosed,{})})]}),(0,t.jsxs)(w.Table.Row,{className:"border-t",children:[(0,t.jsx)(w.Table.Cell,{children:(0,t.jsxs)("span",{className:"jsx-efc69a07e34f3d23 flex items-center gap-x-2",children:[(0,t.jsx)(j.CreditCard,{}),"••••"]})}),(0,t.jsx)(w.Table.Cell,{className:"text-right",children:"••/••••"}),(0,t.jsx)(w.Table.Cell,{className:"w-[3%]",children:(0,t.jsx)(k.LockClosed,{})})]})]})})}):(0,t.jsx)(l.EmptyState.Root,{description:"No payment methods added",icon:(0,t.jsx)(l.EmptyState.Icon,{icon:(0,t.jsx)(j.CreditCard,{size:32})}),paddingY:26})})]}),(0,t.jsxs)(d.FieldsetFooter,{disabled:!1,children:[(0,t.jsx)(d.FieldsetFooter.Status,{children:H?(0,t.jsxs)(c.ErrorText,{children:[H," – Please try again later."]}):x?"At most, three credit cards can be added.":"You need additional permissions to manage your team's payment method."}),x?(0,t.jsx)(d.FieldsetFooter.Actions,{children:(0,t.jsx)(s.Button,{className:"add-new-card","data-testid":(0,g.tid)("account-settings","billing","add-new-card"),disabled:V.length>=3,loading:W,onClick:()=>{W||J(!0)},size:"small",children:"Add Card"})}):null]})]}),(0,t.jsx)(M.CreditCardModal,{isActive:Z,onAbort:()=>{J(!1)},onContinue:()=>void er(),paying:!1}),(0,t.jsx)(D,{cardToRemove:K.card,isActive:K.active,onCancel:()=>X({...K,active:!1}),onCancelDone:()=>X({...K,card:null}),onContinue:()=>{K.requiresNewCard?er():(es(K.card.id,!0),X({...K,active:!1}))},requiresNewCard:K.requiresNewCard}),(0,t.jsx)(n.default,{id:"efc69a07e34f3d23",children:".table th{text-transform:uppercase}@media (min-width:768px){.table .shown-on-mobile{display:none}}@media (max-width:768px){.table .column-brand,.table .column-type,.table .column-exp,.table .hidden-on-mobile{display:none}.table .shown-on-mobile{white-space:nowrap}}"})]})}function V(e){let{canUpdatePaymentMethod:n}=e;return(0,t.jsx)("div",{id:"payment-method",children:(0,t.jsxs)(u.Fieldset,{disabled:!n,children:[(0,t.jsxs)(a.FieldsetContent,{children:[(0,t.jsx)(U.FieldsetTitle,{id:L.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.billing.paymentMethod,children:L.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.billing.paymentMethod}),(0,t.jsx)(m.FieldsetSubtitle,{children:"Payments for domains, add-ons, and other usage are made using the default card."}),(0,t.jsx)("div",{className:"h-[159px]",children:(0,t.jsx)(w.Table,{children:(0,t.jsx)(w.Table.Body,{children:[,,].fill(null).map((e,n)=>(0,t.jsxs)(w.Table.Row,{className:"border-t border-t-gray-alpha-400",children:[(0,t.jsx)(w.Table.Cell,{children:(0,t.jsxs)("span",{className:"flex items-center gap-x-2",children:[(0,t.jsx)(f.Skeleton,{height:16,width:16}),(0,t.jsx)(f.Skeleton,{height:16,width:156})]})}),(0,t.jsx)(w.Table.Cell,{className:"flex justify-end text-right",children:(0,t.jsx)("span",{className:"flex h-8 items-center",children:(0,t.jsx)(f.Skeleton,{height:16,width:128})})}),(0,t.jsx)(w.Table.Cell,{className:"w-[3%]",children:(0,t.jsx)("span",{className:"flex h-8 items-center",children:(0,t.jsx)(f.Skeleton,{height:16,width:16})})})]},n))})})})]}),(0,t.jsx)(d.FieldsetFooter,{disabled:!1,children:void 0===n?(0,t.jsx)(f.Skeleton,{height:22,width:480}):n?"At most, three credit cards can be added.":"You need additional permissions to manage your team's payment method."})]})})}function D(e){let{isActive:n,cardToRemove:i,requiresNewCard:r,onCancel:s,onCancelDone:a,onContinue:o}=e,l=i?.card;return r?(0,t.jsx)(O.default,{active:n,description:(0,t.jsxs)(t.Fragment,{children:["You cannot remove"," ",(0,t.jsxs)("span",{className:"text-heading-14",children:[(0,I.cardBrand)(l?.brand)," ****",l?.last4]})," ","without adding a new payment method first."]}),onAdded:o,onAnimationDone:a,onCancel:s,title:"Remove Payment Method"}):(0,t.jsxs)(h.Modal.Modal,{active:n,onAnimationDone:a,onClickOutside:s,children:[(0,t.jsxs)(h.Modal.Body,{children:[(0,t.jsx)(h.Modal.Title,{children:"Remove Payment Method"}),(0,t.jsxs)(h.Modal.Subtitle,{children:["You are about to remove"," ",(0,t.jsxs)("span",{className:"text-heading-14",children:[(0,I.cardBrand)(l?.brand)," ****",l?.last4]})," ","from your account."]}),(0,t.jsx)(h.Modal.Subtitle,{children:"Are you sure you want to continue?"})]}),(0,t.jsxs)(h.Modal.Actions,{children:[(0,t.jsx)(h.Modal.Action,{onClick:s,type:"secondary",children:"Cancel"}),(0,t.jsx)(h.Modal.Action,{onClick:o,children:"Continue"})]})]})}function Y(e){let{brand:n}=e;switch(n){case"visa":return(0,t.jsx)(_.LogoVisa,{});case"mastercard":return(0,t.jsx)(S.LogoMastercard,{});case"amex":return(0,t.jsx)(x.LogoAmex,{});default:return(0,t.jsx)(j.CreditCard,{})}}e.s(["BillingCardFieldset",()=>B,"BillingCardSkeleton",()=>V,"CardIcon",()=>Y])},7729377,e=>{"use strict";var t=e.i(5169864),n=e.i(2304153);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,i,r=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=r){var s=[],a=!0,o=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);a=!0);}catch(e){o=!0,i=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw i}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var u=function(e){return null!==e&&"object"===s(e)},d="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;if(null===e||u(e)&&"function"==typeof e.elements&&"function"==typeof e.createToken&&"function"==typeof e.createPaymentMethod&&"function"==typeof e.confirmCardPayment)return e;throw Error(t)},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;if(u(e)&&"function"==typeof e.then)return{tag:"async",stripePromise:Promise.resolve(e).then(function(e){return p(e,t)})};var n=p(e,t);return null===n?{tag:"empty"}:{tag:"sync",stripe:n}},f=function(e){var n=t.default.useRef(e);return t.default.useEffect(function(){n.current=e},[e]),n.current},m="[object Object]",y=function e(t,n){if(!u(t)||!u(n))return t===n;var i=Array.isArray(t);if(i!==Array.isArray(n))return!1;var r=Object.prototype.toString.call(t)===m;if(r!==(Object.prototype.toString.call(n)===m))return!1;if(!r&&!i)return t===n;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(var o={},l=0;l<s.length;l+=1)o[s[l]]=!0;for(var c=0;c<a.length;c+=1)o[a[c]]=!0;var d=Object.keys(o);return d.length===s.length&&d.every(function(i){return e(t[i],n[i])})},g=function(e){e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),e.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},v=t.default.createContext(null);v.displayName="ElementsContext";var C=function(e,t){if(!e)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};n.default.any,n.default.object,n.default.func.isRequired;var b=["on","session"],w=t.default.createContext(null);w.displayName="CheckoutContext";var x=function(e,t){if(!e)throw Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in a <CheckoutProvider> provider."));return e},_=function(e,t){if("success"!==t.type)return{stripe:e,checkoutState:t};var n=t.sdk,i=t.session;return n.on,n.session,{stripe:e,checkoutState:{type:"success",checkout:Object.assign({},i,o(n,b))}}},S=function(e){var n=e.stripe,i=e.options,r=e.children,s=t.default.useMemo(function(){return h(n,"Invalid prop `stripe` supplied to `CheckoutProvider`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.")},[n]),a=l(t.default.useState({type:"loading"}),2),o=a[0],c=a[1],u=l(t.default.useState(null),2),d=u[0],p=u[1],m=t.default.useRef(!1);t.default.useEffect(function(){var e=!0,t=function(t){var n=t.stripe;n&&e&&!m.current&&(m.current=!0,n.initCheckout(i).then(function(e){c({type:"success",sdk:e,session:e.session()}),e.on("change",function(e){c(function(t){return"success"===t.type?{type:"success",sdk:t.sdk,session:e}:t})})},function(e){c({type:"error",error:e})}))};return"async"===s.tag?s.stripePromise.then(function(e){p(e),e&&t({stripe:e})}):"sync"===s.tag&&(p(s.stripe),t({stripe:s.stripe})),function(){e=!1}},[s,i,c]);var v=f(n);t.default.useEffect(function(){null!==v&&v!==n&&console.warn("Unsupported prop change on CheckoutProvider: You cannot change the `stripe` prop after setting it.")},[v,n]);var C="success"===o.type?o.sdk:null,b=f(i),x=f(C);t.default.useEffect(function(){if(C){var e,t,n,r,s=!!(!x&&C),a=null==b||null==(e=b.elementsOptions)?void 0:e.appearance,o=null==i||null==(t=i.elementsOptions)?void 0:t.appearance,l=!y(o,a);o&&(l||s)&&C.changeAppearance(o);var c=null==b||null==(n=b.elementsOptions)?void 0:n.fonts,u=null==i||null==(r=i.elementsOptions)?void 0:r.fonts,d=!y(c,u);u&&(d||s)&&C.loadFonts(u)}},[i,b,C,x]),t.default.useEffect(function(){g(d)},[d]);var S=t.default.useMemo(function(){return _(d,o)},[d,o]);return t.default.createElement(w.Provider,{value:S},r)};S.propTypes={stripe:n.default.any,options:n.default.shape({fetchClientSecret:n.default.func.isRequired,elementsOptions:n.default.object}).isRequired};var j=function(e){var n=t.default.useContext(w),i=t.default.useContext(v);if(!n)return C(i,e);if(!i)return n;throw Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."))},E=function(){return x(t.default.useContext(w),"calls useCheckout()").checkoutState},k=function(e,n,i){var r=!!i,s=t.default.useRef(i);t.default.useEffect(function(){s.current=i},[i]),t.default.useEffect(function(){if(!r||!e)return function(){};var t=function(){s.current&&s.current.apply(s,arguments)};return e.on(n,t),function(){e.off(n,t)}},[r,n,e,s])},T=["mode"],A=function(e,i){var s="".concat(e.charAt(0).toUpperCase()+e.slice(1),"Element"),c=i?function(e){j("mounts <".concat(s,">"));var n=e.id,i=e.className;return t.default.createElement("div",{id:n,className:i})}:function(n){var i,c=n.id,d=n.className,p=n.options,h=void 0===p?{}:p,m=n.onBlur,g=n.onFocus,v=n.onReady,C=n.onChange,b=n.onEscape,w=n.onClick,x=n.onLoadError,_=n.onLoaderStart,S=n.onNetworksChange,E=n.onConfirm,A=n.onCancel,P=n.onShippingAddressChange,N=n.onShippingRateChange,R=n.onSavedPaymentMethodRemove,M=n.onSavedPaymentMethodUpdate,O=j("mounts <".concat(s,">")),I="elements"in O?O.elements:null,$="checkoutState"in O?O.checkoutState:null,L=(null==$?void 0:$.type)==="success"?$.checkout:null,U=l(t.default.useState(null),2),F=U[0],B=U[1],V=t.default.useRef(null),D=t.default.useRef(null);k(F,"blur",m),k(F,"focus",g),k(F,"escape",b),k(F,"click",w),k(F,"loaderror",x),k(F,"loaderstart",_),k(F,"networkschange",S),k(F,"confirm",E),k(F,"cancel",A),k(F,"shippingaddresschange",P),k(F,"shippingratechange",N),k(F,"savedpaymentmethodremove",R),k(F,"savedpaymentmethodupdate",M),k(F,"change",C),v&&(i="expressCheckout"===e?v:function(){v(F)}),k(F,"ready",i),t.default.useLayoutEffect(function(){if(null===V.current&&null!==D.current&&(I||L)){var t=null;if(L)switch(e){case"payment":t=L.createPaymentElement(h);break;case"address":if("mode"in h){var n=h.mode,i=o(h,T);if("shipping"===n)t=L.createShippingAddressElement(i);else if("billing"===n)t=L.createBillingAddressElement(i);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":t=L.createExpressCheckoutElement(h);break;case"currencySelector":t=L.createCurrencySelectorElement();break;case"taxId":t=L.createTaxIdElement(h);break;default:throw Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else I&&(t=I.create(e,h));V.current=t,B(t),t&&t.mount(D.current)}},[I,L,h]);var Y=f(h);return t.default.useEffect(function(){if(V.current){var e,t=(e=["paymentRequest"],u(h)?Object.keys(h).reduce(function(t,n){var i=!u(Y)||!y(h[n],Y[n]);return e.includes(n)?(i&&console.warn("Unsupported prop change: options.".concat(n," is not a mutable property.")),t):i?r(r({},t||{}),{},a({},n,h[n])):t},null):null);t&&"update"in V.current&&V.current.update(t)}},[h,Y]),t.default.useLayoutEffect(function(){return function(){if(V.current&&"function"==typeof V.current.destroy)try{V.current.destroy(),V.current=null}catch(e){}}},[]),t.default.createElement("div",{id:c,className:d,ref:D})};return c.propTypes={id:n.default.string,className:n.default.string,onChange:n.default.func,onBlur:n.default.func,onFocus:n.default.func,onReady:n.default.func,onEscape:n.default.func,onClick:n.default.func,onLoadError:n.default.func,onLoaderStart:n.default.func,onNetworksChange:n.default.func,onConfirm:n.default.func,onCancel:n.default.func,onShippingAddressChange:n.default.func,onShippingRateChange:n.default.func,onSavedPaymentMethodRemove:n.default.func,onSavedPaymentMethodUpdate:n.default.func,options:n.default.object},c.displayName=s,c.__elementType=e,c},P="undefined"==typeof window,N=["options"];A("currencySelector",P);var R=A("payment",P);A("expressCheckout",P),A("taxId",P);var M=A("address",P),O=function(e){var n=e.options,i=o(e,N),s=r(r({},n),{},{mode:"billing"});return t.default.createElement(M,r(r({},i),{},{options:s}))};e.s(["BillingAddressElement",()=>O,"CheckoutProvider",()=>S,"PaymentElement",()=>R,"useCheckout",()=>E])},4373123,5895979,5325056,5978870,2166755,e=>{"use strict";e.i(2957938);var t=e.i(1146226),n=e.i(5169864),i=e.i(1175850),r=e.i(633201),s=e.i(5802506),a=e.i(7917902),o=e.i(3322724),l=e.i(287495);let c=new Map;function u(e){if(!e)return Promise.resolve(null);let t=c.get(e);return t||(t=(0,r.loadStripe)(e).catch(t=>((0,s.captureError)(t),c.delete(e),null)),c.set(e,t)),t}e.s(["getStripe",()=>u,"withBillingContext",0,e=>{function n(n){let{account:r}=(0,a.useAccount)(),s=(0,l.default)(),c=(0,o.useMediaQuery)(600),d=`${c?16:14}px`,p=r?.billing?.platform==="stripeTestMode";return(0,t.jsx)(i.Elements,{options:{loader:"always",payment_method_types:["card"],appearance:{theme:s?"stripe":"night",variables:{colorBackground:s?"#fff":"#000",colorPrimary:s?"#000":"#fff",fontSizeBase:d}},currency:"usd",mode:"setup"},stripe:u(p?"pk_test_51KWTJcBQYfoTMhVJkeKojfST4MsShve9XJ7Seqw7mgZaUCeO1DR4dR3EkrWFDqD0MG5IiZRYFygw6ZR8FnmZZKnn004vR9fkFq":"pk_live_alyEi3lN0kSwbdevK0nrGwTw"),children:(0,t.jsx)(e,{...n})})}return n.displayName=`WithBillingContext${e.displayName||e.name||"Component"}`,n}],5895979);let d=(0,n.createContext)(void 0);function p(){let e=(0,n.useContext)(d);if(!e)throw Error("useCopperStripe must be used within CopperProvider");return e}function h(){let e=(0,n.useContext)(d);if(!e)throw Error("useCopperClient must be used within CopperProvider");return{teamIdOrSlug:e.teamIdOrSlug,purchaseIntent:e.purchaseIntent,providerDetails:e.providerDetails,setPurchaseIntent:e.setPurchaseIntent,setProviderDetails:e.setProviderDetails,clearPaymentState:e.clearPaymentState}}function f(e){let{children:i,environment:r,teamIdOrSlug:s,clearPaymentStateRef:a}=e,[o,l]=(0,n.useState)(null),[c,p]=(0,n.useState)(null),h=(0,n.useMemo)(()=>u(function(e){switch(e){case"production_test":return"pk_test_51KWTJcBQYfoTMhVJkeKojfST4MsShve9XJ7Seqw7mgZaUCeO1DR4dR3EkrWFDqD0MG5IiZRYFygw6ZR8FnmZZKnn004vR9fkFq";case"production":return"pk_live_alyEi3lN0kSwbdevK0nrGwTw";default:throw Error(`Unsupported environment for Stripe key: ${e}`)}}(r)),[r]),f=(0,n.useCallback)(()=>{l(null),p(null)},[]);(0,n.useEffect)(()=>{a&&(a.current=f)},[f,a]);let m=(0,n.useMemo)(()=>({stripe:h,teamIdOrSlug:s??null,purchaseIntent:o,providerDetails:c,setPurchaseIntent:l,setProviderDetails:p,clearPaymentState:f}),[h,s,o,c,f]);return(0,t.jsx)(d.Provider,{value:m,children:i})}e.s(["CopperProvider",()=>f,"useCopperClient",()=>h,"useCopperStripe",()=>p],5325056);var m=e.i(7729377);let y=(0,n.createContext)(void 0);var g=e.i(7722264);let v={layout:{type:"tabs",defaultCollapsed:!1},terms:{card:"never",applePay:"never",googlePay:"never"}};function C(e){let{paymentElementOptions:i}=e,{confirmHandler:r,onReady:s}=function(){let e=(0,n.useContext)(y);if(!e)throw Error("useCopperCheckout must be used within CopperPaymentElement");return e}(),a=(0,m.useCheckout)(),o=(0,n.useCallback)(async()=>{try{if("success"!==a.type)return{success:!1,error:"error"===a.type?a.error.message:"Checkout session failed to load"};let e=await a.checkout.confirm({redirect:"if_required"});if("error"===e.type)return{success:!1,error:e.error.message};return{success:!0}}catch(e){return{success:!1,error:(0,g.isErrorLike)(e)?e.message:"An error occurred"}}},[a]);return(0,n.useEffect)(()=>(r.current=o,()=>{r.current=null}),[r,o]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.PaymentElement,{onReady:s,options:i??v}),(0,t.jsx)(m.BillingAddressElement,{})]})}function b(e){let{confirmHandler:i,clientSecret:r,options:s,onReady:a}=e,{stripe:o}=p(),l=(0,n.useMemo)(()=>({fetchClientSecret:()=>Promise.resolve(r),elementsOptions:s.elementsOptions}),[r,s.elementsOptions]);return(0,t.jsx)(y.Provider,{value:{confirmHandler:i,onReady:a},children:(0,t.jsx)(m.CheckoutProvider,{stripe:o,options:l,children:(0,t.jsx)(C,{paymentElementOptions:s.paymentElement})})})}function w(e){return(0,n.useMemo)(()=>e?.billing?.platform==="stripeTestMode"?"production_test":"production",[e])}e.s(["CopperPaymentElement",()=>b],5978870),e.s(["useEnvironment",()=>w],2166755),e.s([],4373123)}]);

//# debugId=34e1526e-185c-cc6e-7b5e-65df603b2f17
//# sourceMappingURL=3922f916d1a82131.js.map
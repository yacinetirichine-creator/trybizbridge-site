;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="ebcbf788-4c9c-22a7-3d41-57b7a5d5550b")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,4043190,1610543,5758916,2381001,9974972,9584282,6119682,13501,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),n=e.i(1991452),l=e.i(6891161),s=e.i(8362472),r=e.i(57106),o=e.i(9716741);e.s(["default",0,function(e){let{active:i,onCancel:a}=e,{teamSlug:d,project:c}=(0,n.useRouter)().query;return(0,t.jsxs)(l.Modal.Modal,{active:i,onClickOutside:a,children:[(0,t.jsxs)(l.Modal.Body,{children:[(0,t.jsx)(l.Modal.Header,{children:(0,t.jsx)(l.Modal.Title,{children:"Assign Domain"})}),(0,t.jsxs)(o.default,{preset:"body-2",children:["In order to assign a domain to your production deployments, configure it in"," ",(0,t.jsx)(r.Link,{as:`/${d}/${c}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:"the project settings"})," ",(0,t.jsx)("strong",{children:"(recommended)"}),"."]}),(0,t.jsxs)(o.default,{preset:"body-2",children:["If you want to assign to this specific deployment, however, you can do so using our"," ",(0,t.jsx)(r.Link,{href:"/cli",tab:!0,variant:"highlight",children:"command-line interface"}),":"]}),(0,t.jsx)(s.Snippet,{text:"vercel alias <deployment> <domain>",width:"100%"})]}),(0,t.jsx)(l.Modal.Actions,{children:(0,t.jsx)(l.Modal.Action,{fullWidth:!0,onClick:a,children:"OK"})})]})}],4043190);var a=e.i(3306538),d=e.i(6850581),c=e.i(5255926),u=e.i(5468328),m=e.i(3981247),x=e.i(8893913),p=e.i(3753138),h=e.i(6226725),j=e.i(5169576),g=e.i(3978547),y=e.i(4004502),f=e.i(7442760),v=e.i(1717203),b=e.i(7557283),k=e.i(7957424),S=e.i(7218483),D=e.i(5819220),A=e.i(979715),C=e.i(3872542),R=e.i(7808943),N=e.i(5610834),I=e.i(9722978),w=e.i(8735244),M=e.i(85019),T=e.i(4641028),L=e.i(5356862);function P(e){let{children:i,inProgress:n}=e;return(0,t.jsxs)("div",{className:"flex items-center",children:[n?(0,t.jsx)("div",{className:"ml-[-1.5px] w-[19.5px]",children:(0,t.jsx)(w.Spinner,{size:12})}):null,i]})}let E=function(e){let i,{deployment:n,padLeft:l,showSpinner:s=!0,onlyBuild:r=!1,hideAgo:o=!1}=e,{teamSlug:a}=(0,N.useParams)()??{},d=(0,S.useAge)(n?.buildingAt||void 0,{includeSeconds:!0}),u=n&&"id"in n?n.id:n?.uid,m=n&&"READY"===n.readyState&&n.checksState,{data:x,checks:p,isLoading:h}=(0,T.default)({deploymentId:m?u:void 0,teamId:a}),j=F(n,p,r)||0,g=n?.undeleted||n?.deleted||n?.createdAt||n?.created,y=g?g+j:void 0,f=n?.deleted!==void 0,v=y?new Date(y).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",b=(0,S.useAgo)(y,{suffix:" ago",alwaysRelative:!0});if(!n||h&&!x)return(0,t.jsx)(c.Skeleton,{height:16,width:100});let k=n.checksState&&!n.checksConclusion,D=!!("BUILDING"===n.readyState||"READY"===n.readyState&&!n.aliasAssigned&&k),A=(i=F(n,p,r),(0,M.age)(i,{includeSeconds:!0})||"—"),C=(0,t.jsx)("span",{className:(0,I.clsx)({"pl-[18px]":!D&&l}),suppressHydrationWarning:!0,children:f?(0,t.jsx)("span",{suppressHydrationWarning:!0,title:v,children:b}):(0,t.jsxs)(t.Fragment,{children:[D?d:A,D||o||!b?null:(0,t.jsxs)("span",{suppressHydrationWarning:!0,title:v,children:[" ","(",b,")"]})]})});return s?(0,t.jsx)(P,{inProgress:D,children:C}):C};function F(e,t,i){if(!e||"BUILDING"===e.readyState||!("buildingAt"in e))return;let n="readyStateAt"in e?e.readyStateAt:e.ready;if(!n||!e.buildingAt)return;let l=n-e.buildingAt;if(i)return l;let s=t?.length?(0,L.getChecksTimes)(t,e):void 0,r=s?.checksFinishedAt&&s.checksStartedAt?s.checksFinishedAt-s.checksStartedAt:0,o=e.aliasAssignedAt??("number"==typeof e.aliasAssigned?e.aliasAssigned:void 0),a=0;if(o){let e=s?.checksFinishedAt?o-s.checksFinishedAt:o-n;e<18e5&&(a=e)}return l+r+a}var z=e.i(8529990),W=e.i(6625227),B=e.i(6060673),U=e.i(2689512),O=e.i(5071474),$=e.i(7952998),H=e.i(5002318),q=e.i(2084539),V=e.i(9995926),G=e.i(9375869),_=e.i(8216525),Y=e.i(3907048),K=e.i(779588),Q=e.i(5326905),J=e.i(8459493),Z=e.i(7448864),X=e.i(940143),ee=e.i(455575),et=e.i(7749291),ei=e.i(5338940),en=e.i(545405),el=e.i(4478191),es=e.i(8366444);function er(e){let{isDisabled:i,menuText:n,tidString:l,icon:s,disabledTooltip:r,title:o,onClick:a}=e;return i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial geist-show-on-mobile",children:(0,t.jsx)(u.Tooltip,{boxAlign:"left",text:r,children:(0,t.jsx)(J.MenuItem,{"data-testid":(0,y.tid)("deployment-entity","dots-menu",l),disabled:!0,suffix:s,children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:(0,t.jsx)("span",{className:"text-copy-14",style:{fontSize:"inherit",color:"inherit"},children:n})})})})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial geist-hide-on-mobile",children:(0,t.jsx)(u.Tooltip,{forceHide:!1,position:"left",style:{width:"100%"},text:r,children:(0,t.jsx)(J.MenuItem,{"data-testid":(0,y.tid)("deployment-entity","dots-menu",l),disabled:!0,style:{width:"100%"},suffix:s,children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:(0,t.jsx)("span",{className:"text-copy-14",style:{fontSize:"inherit",color:"inherit"},children:n})})})})})]}):(0,t.jsx)(J.MenuItem,{"data-testid":(0,y.tid)("deployment-entity","dots-menu",l),onClick:a,suffix:s,title:o,children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:(0,t.jsx)("span",{className:"text-copy-14",style:{fontSize:"inherit",color:"inherit"},children:n})})})}var eo=e.i(6619197),ea=e.i(9365163);function ed(e){let{openModal:i,rollingRelease:n,teamSlug:l,projectSlug:s}=e;return er({isDisabled:!1,menuText:"Abort Rollout",tidString:"abort-rollout",icon:(0,t.jsx)(x.RotateCounterClockwise,{}),disabledTooltip:"",title:"Abort Rollout",onClick:()=>{i&&n&&l&&s&&i(l,s,n)}})}function ec(e){let{openModal:i,rollingRelease:n,teamSlug:l,projectSlug:s}=e;return er({isDisabled:!1,menuText:"Force Complete",tidString:"force-complete",icon:(0,t.jsx)(p.ArrowCircleUp,{}),disabledTooltip:"",title:"Force Complete",onClick:()=>{i&&n&&l&&s&&i(l,s,n)}})}function eu(e){let{deployment:i,redeploy:n,handleClickRunInstantly:l,handleClickCreateAlias:s,itemsOnly:o,handleCancelDeployment:a,canPromoteToProduction:d,canRedeployProduction:c,canUpdateDeployment:u,canReadDeployment:m,canRollbackDeployment:h,handleClickRollback:j,isRollingReleaseCanaryDeployment:g,isRollingReleaseActive:y,rollingRelease:f,openCompleteRollingReleaseModal:v,openAbortRollingReleaseModal:b}=e,k=(0,ee.useToasts)(),S=(0,G.useDeploymentLink)(i),D=a&&("QUEUED"===i.readyState||"BUILDING"===i.readyState),A="READY"===i.readyState,{team:C}=(0,ei.useTeam)(),{enabled:R}=(0,es.useOnDemandConcurrentBuilds)(C,u),N="QUEUED"===i.readyState&&R,I=!("target"in i)||"production"===i.target,w=!("prebuilt"in i&&i.prebuilt)&&(I?c&&u:u),M=d&&w&&u&&m&&h,T=(0,ea.useRollbackTooltip)(i),L=er({isDisabled:!!T,menuText:"Instant Rollback",tidString:"instant-rollback",icon:(0,t.jsx)(x.RotateCounterClockwise,{}),disabledTooltip:T,title:"Instant Rollback",onClick:j}),P=y?"Queue for Promotion":"target"in i&&"production"===i.target?"Promote":"Promote to Production",E=null,F=(0,eo.usePromoteTooltip)(i);d&&(E=(0,t.jsxs)(t.Fragment,{children:[er({isDisabled:!!F,disabledTooltip:F,menuText:P,tidString:"promote",icon:(0,t.jsx)(p.ArrowCircleUp,{}),title:P,onClick:()=>n(i,!0)}),(0,t.jsx)(Q.MenuDivider,{})]}));let z=g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(X.MenuSection,{title:"Manage Rolling Release",children:[(0,t.jsx)(ed,{openModal:b,rollingRelease:f,teamSlug:C?.slug,projectSlug:i.name}),(0,t.jsx)(ec,{openModal:v,rollingRelease:f,teamSlug:C?.slug,projectSlug:i.name})]}),(0,t.jsx)(Q.MenuDivider,{})]}):(0,t.jsxs)(t.Fragment,{children:[h?L:null,d?E:null]}),W=(0,t.jsxs)(t.Fragment,{children:[d||h?z:null,w?(0,t.jsx)(J.MenuItem,{onClick:()=>n(i),children:"Redeploy"}):null,N&&u?(0,t.jsx)(J.MenuItem,{onClick:l,children:"Start Building Now"}):null,m?(0,t.jsx)(J.MenuItem,{Component:r.Link,href:S,isLink:!0,children:"Inspect Deployment"}):null,m?(0,t.jsx)(J.MenuItem,{Component:r.Link,href:`${S}/source`,isLink:!0,children:"View Source"}):null,m?(0,t.jsx)(J.MenuItem,{onClick:()=>{(0,en.copyToClipboard)(i.url),k.message("Copied to clipboard!")},children:"Copy URL"}):null,A&&u?(0,t.jsx)(J.MenuItem,{onClick:s,children:"Assign Domain"}):null,D&&u?(0,t.jsx)(J.MenuItem,{onClick:()=>a?.(i),type:"error",children:"Cancel Deployment"}):null,m?(0,t.jsxs)(J.MenuItem,{Component:r.Link,disabled:!i,href:(0,el.withDefaultRoute)(`https://${i.url}`,i.defaultRoute),isLink:!0,target:"_blank",children:["Visit   ",(0,t.jsx)(et.ExternalSmall,{})]}):null,!M&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Q.MenuDivider,{}),h?null:(0,t.jsx)(Z.MenuItemLocked,{children:"Instant Rollback"}),d?null:(0,t.jsx)(Z.MenuItemLocked,{children:"Promote"}),w?null:(0,t.jsx)(Z.MenuItemLocked,{children:"Redeploy"}),N&&!u?(0,t.jsx)(Z.MenuItemLocked,{children:"Run Build"}):null,m?null:(0,t.jsx)(Z.MenuItemLocked,{children:"Inspect Deployment"}),m?null:(0,t.jsx)(Z.MenuItemLocked,{children:"View Source"}),m?null:(0,t.jsx)(Z.MenuItemLocked,{children:"Copy URL"}),A&&!u?(0,t.jsx)(Z.MenuItemLocked,{children:"Assign Domain"}):null,D&&!u?(0,t.jsx)(Z.MenuItemLocked,{children:"Cancel Deployment"}):null,m?null:(0,t.jsxs)(Z.MenuItemLocked,{children:["Visit   ",(0,t.jsx)(et.ExternalSmall,{})]})]})]});return o?W:(0,t.jsx)(K.DotsMenu,{closeOnSelect:!1,children:W})}var em=e.i(6143247),ex=e.i(8270020);function ep(){return(0,ex.useIsActive)()?8e3:3e4}e.s(["useDeploymentsPageRefreshInterval",()=>ep],1610543);var eh=e.i(4396019);function ej(e){let{datetime:i,label:n,tooltipTop:l}=e;return(0,t.jsx)(u.Tooltip,{text:(0,t.jsx)(H.DeploymentAliasToolTipText,{datetime:i,tooltipTop:l}),children:(0,t.jsx)("div",{className:"inline-flex items-center text-gray-900 font-medium text-label-14 truncate max-w-full z-10 relative",children:n})})}function eg(e){let{datetime:i}=e,n=(0,S.useAgo)(i);return(0,t.jsx)("span",{children:n})}function ey(e){let{datetime:i}=e;return i?(0,t.jsx)(eg,{datetime:i}):null}var ef=e.i(4206574),ev=e.i(4597921);function eb(e){let{deployment:i}=e,l=(0,n.useRouter)(),{data:s}=(0,B.useProject)(i?.name);return(0,t.jsx)(A.EntityField,{thumbnail:s?(0,t.jsx)(U.ProjectAvatar,{project:s,size:22}):(0,t.jsx)(U.ProjectAvatarSkeleton,{size:22}),thumbnailSize:22,title:s?(0,t.jsx)(r.Link,{href:`/${l.query.teamSlug}/${s.name}`,title:s.name,children:s.name}):i?.name??null})}function ek(e){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)(eA,{}),children:(0,t.jsx)(eS,{...e})})}function eS(e){let n,{deployment:l,deploymentsMap:s}=e,o=l?.meta?.originalDeploymentId,a=o?String(o):void 0;a&&(n=s?.get(a));let{data:d,isLoading:u}=(0,W.default)(n?void 0:a,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});d&&(n=d);let m=(0,G.useDeploymentLink)(n),h=(0,i.useMemo)(()=>n?(0,O.default)(n).hash:"",[n]);if(a){let e=l?.meta?.action==="promote"||l?.target==="production"&&n?.target!=="production";return(0,t.jsx)(A.EntityField,{title:(0,t.jsx)("div",{className:"flex h-[20px] flex-row gap-2 text-[var(--accents-6)]",children:u?(0,t.jsx)(c.Skeleton,{boxHeight:22,height:14,vcenter:!0,width:100}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid place-content-center",children:e?(0,t.jsx)(p.ArrowCircleUp,{}):(0,t.jsx)(x.RotateCounterClockwise,{})}),(0,t.jsxs)("span",{className:"flex min-w-0 items-center gap-[0.3em]",children:[e?"Production Rebuild":"Redeploy"," of"," ",n?(0,t.jsx)(r.Link,{className:"z-[2] flex min-w-0 text-inherit",href:m,title:n.host||"",variant:"secondary",prefetch:!1,children:h?(0,t.jsx)(R.default,{className:"overflow-hidden truncate whitespace-nowrap bg-transparent p-0 text-[13.5px] text-inherit",children:h}):n.host||""}):"a deleted deployment"]})]})}),titleSkeletonWidth:100})}return(0,t.jsx)(eD,{deployment:l,skeletonWidth:100})}function eD(e){let{deployment:i,skeletonWidth:n}=e;return i?(0,t.jsx)(A.EntityField,{description:(0,t.jsx)($.DeploymentSource,{branchClassName:"text-[13.5px]",commitClassName:"text-[13.5px]",lineClassName:"gap-x-2 text-gray-1000",secondLineLinkClassName:"gap-x-1 text-[13.5px]",deployment:i}),descriptionSkeletonWidth:n,title:null,titleSkeletonWidth:n}):(0,t.jsx)(eA,{})}function eA(){return(0,t.jsx)(A.EntityField,{description:null,descriptionSkeletonWidth:100,title:null,titleSkeletonWidth:100})}function eC(e){return(0,t.jsx)(i.Suspense,{fallback:(0,t.jsx)(eN,{...e}),children:(0,t.jsx)(eR,{...e})})}function eR(e){let{scope:i}=(0,f.useDeploymentListScope)(),{deployment:n}=e,{team:l}=(0,ei.useTeam)(),s=ep(),r=e.projectIdOrName??n?.projectId??n?.name,{data:o}=(0,B.useProject)(r),{deployment:a}=(0,eh.useProjectProductionDeployment)(r,{config:{refreshInterval:s}}),d=n?.customEnvironment?.id&&!n.customEnvironment.slug,{data:c}=(0,k.useCustomEnvironments)(r,{revalidateIfStale:!1,skip:!d}),{data:u}=(0,m.useRollingRelease)({teamIdOrSlug:l?.slug,projectSlug:n?.name},{refreshInterval:s}),x=(0,G.useDeploymentLink)(n),{can:p,isLoading:h}=(0,v.default)({projectIdOrName:r}),{deploymentTargetLabel:j}=(0,V.useDeploymentEnvironmentLabel)({deployment:n,customEnvironments:c?.customEnvironments}),g=(0,ev.useServerFlag)("promotion-status-visible",!1);return(0,t.jsx)(eN,{...e,arePermissionsLoading:h,can:p,deploymentLink:x,deploymentTargetLabel:j,isCurrentProductionDeployment:a?.id===n?.uid,rollingRelease:u?.rollingRelease??void 0,project:o,isProjectDeploymentsPage:"PROJECT_DEPLOYMENTS"===i,promotionStatusVisibleFlag:g})}let eN=(0,i.memo)(function(e){let{deployment:n,deploymentsMap:l,isCurrentProductionDeployment:s,rollingRelease:o,redeploy:c,handleClickCreateAlias:m,handleCancelDeployment:f,handleClickRunInstantly:v,project:k,openRollbackModal:R,projectCellEnabled:N,deploymentLink:I,can:w,arePermissionsLoading:M,deploymentTargetLabel:T,skeleton:L,openCompleteRollingReleaseModal:P,openAbortRollingReleaseModal:F,isProjectDeploymentsPage:W,promotionStatusVisibleFlag:B}=e,U=k?.lastAliasRequest?.type==="rollback"&&k.lastAliasRequest.toDeploymentId===n?.uid,$=k?.lastAliasRequest?.type==="rollback"&&k.lastAliasRequest.fromDeploymentId===n?.uid,V=U&&k.lastAliasRequest?.requestedAt||n?.created||0,G=(0,S.useAgo)(V),K=n?(0,z.getGitInfoFromDeployment)(n):null,Q=n?.meta?.deployHookId||void 0,J=(e,t)=>w?.(e,t)??!1,Z=!!(k&&M),X=n?.target!==null?b.Resource.Deployment:b.Resource.DeploymentPreview,ee=J(b.Action.Update,X),et=J(b.Action.Read,X),ei=J(b.Action.Create,b.Resource.DeploymentRollback),en=J(b.Action.Create,b.Resource.Deployment),el=J(b.Action.Create,b.Resource.DeploymentFromProductionBranch),es=!Z&&(en||el||ee||et||ei),er=(0,i.useMemo)(()=>(0,O.default)(n).hash,[n]),eo=null,ea=o?.state==="ACTIVE"&&!!(o.canaryDeployment?.id&&o.canaryDeployment.id===n?.uid),ed=o?.state==="ACTIVE"&&!!(o.queuedDeploymentId&&o.queuedDeploymentId===n?.uid),ec=null,ex=(0,ef.getPromotionStatusInfo)({deployment:n,rollingRelease:o,project:k});B&&(ec=ex?(0,t.jsx)(A.EntityField,{description:ex.datetime?(0,t.jsx)("span",{className:"block h-[20px] tabular-nums",children:(0,t.jsx)(ey,{datetime:ex.datetime})}):null,descriptionSkeletonWidth:120,descriptionWrap:!1,title:(0,t.jsx)(ej,{...ex}),titleSkeletonWidth:80,width:120}):(0,t.jsx)(A.EntityField,{width:120,className:"!hidden md:!block"}));let ep=ex?(0,t.jsx)(H.DeploymentAliasToolTipText,{datetime:ex.datetime,tooltipTop:ex.tooltipTop}):null;if(s)eo=U?(0,t.jsx)(u.Tooltip,{className:"translate-y-px",text:ep,children:(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(x.RotateCounterClockwise,{}),size:"sm",variant:"amber-subtle",children:"Current"})}):(0,t.jsx)(u.Tooltip,{className:"translate-y-px",text:ep,children:(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(p.ArrowCircleUp,{}),size:"sm",variant:"blue-subtle",children:"Current"})});else if(ea){let{activeStage:e}=o,i=e?.targetPercentage;eo=(0,t.jsx)(u.Tooltip,{className:"translate-y-px",text:ep,children:(0,t.jsx)(a.Badge,{icon:"number"==typeof i?(0,t.jsx)(q.CustomGaugeIcon,{percentage:i}):null,size:"sm",variant:"blue-subtle",children:"Canary"})})}else $?eo=(0,t.jsx)(u.Tooltip,{className:"translate-y-px",text:ep,children:(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(h.CrossCircle,{}),size:"sm",variant:"red-subtle",children:"Rolled Back"})}):n?.readySubstate!=="PROMOTED"||B||(eo=(0,t.jsx)(u.Tooltip,{text:ep,children:(0,t.jsx)(j.Information,{color:"gray-900",size:14})}));return ed&&(eo=(0,t.jsx)(a.Badge,{icon:(0,t.jsx)(g.ClockDashed,{}),size:"sm",variant:"blue-subtle",children:"Upcoming Canary"})),n?.readySubstate!=="STAGED"||"production"!==n.target||B||(T=T?.concat(": Staged")),(0,t.jsxs)(D.Entity,{className:(0,em.cn)("md:border-0 md:[&:not(:first-of-type)]:rounded-t-[0px] md:[&:not(:first-of-type)]:border-t",{"deployment-entity":n,"shadow-[inset_4px_0_0_var(--ds-amber-700)] rounded-none":U&&s,"md:[&:not(:first-of-type)]:mt-[-1px]":L}),"data-testid":(0,y.tid)("deployments","deployment-entity",n?.uid??"no-uid"),disabledDotMenuTooltip:es?void 0:(0,t.jsxs)(t.Fragment,{children:["Additional permissions are required to manage Deployment."," ",(0,t.jsx)(r.Link,{href:"/docs/deployments/managing-deployments",variant:"highlight",children:"Learn More →"})]}),isDotMenuDisabled:!es,menuButtonProps:{"aria-label":"Deployment Actions","data-testid":(0,y.tid)("deployment-entity","dots-menu","button")},menuItems:n&&W?(0,t.jsx)(eu,{canPromoteToProduction:en,canReadDeployment:et,canRedeployProduction:el,canRollbackDeployment:ei,canUpdateDeployment:ee,deployment:n,handleCancelDeployment:()=>f?.(n),handleClickCreateAlias:()=>m?.(n),handleClickRollback:()=>{R&&R(s?void 0:n)},handleClickRunInstantly:()=>v?.(n),isRollingReleaseCanaryDeployment:ea,isRollingReleaseActive:o?.state==="ACTIVE",itemsOnly:!0,redeploy:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return c?.(...t)},rollingRelease:o,openCompleteRollingReleaseModal:P,openAbortRollingReleaseModal:F}):null,menuListTestId:`${n?.uid??"no-uid"}-dots-menu`,placeholder:!n,children:[n?(0,t.jsx)(C.PropagatedPropsOmitter,{children:(0,t.jsx)(r.Link,{className:"absolute -inset-4 z-[1]",href:I,prefetchStrategy:"hover"})}):null,(0,t.jsx)(A.EntityField,{className:"max-w-[200px]","data-testid":(0,y.tid)("deployment-entity","target"),descriptionWrap:!1,description:n?(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial relative z-[1]",children:[T,eo]}):null,descriptionSkeletonWidth:80,title:(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)(r.Link,{href:I,prefetchStrategy:"hover",style:{display:"flex",alignItems:"center",gap:8},title:n?.url,children:(0,t.jsx)("p",{className:"text-heading-14 truncate",children:er})})}),titleSkeletonWidth:220,minWidth:140}),(0,t.jsx)(A.EntityField,{description:(0,t.jsx)("span",{className:"block h-[20px] tabular-nums",children:(0,t.jsx)(E,{deployment:n,onlyBuild:!0,hideAgo:!0})}),descriptionSkeletonWidth:146,descriptionWrap:!1,title:n?(0,t.jsx)(_.DeploymentStatus,{deployment:n,label:!0,labelStyle:{color:"var(--ds-gray-900)",fontWeight:400},labelWeight:500}):null,titleSkeletonWidth:146,width:146}),ec,N?(0,t.jsx)(eb,{deployment:n}):null,(0,t.jsx)(ek,{deployment:n,deploymentsMap:l}),(0,t.jsx)(A.EntityField,{avatar:n?(0,t.jsx)(Y.CreatorAvatar,{deployment:n,showProviderIcon:!0,size:24}):null,className:"z-[2]",description:n?(0,t.jsxs)(d.RelativeTimeCard,{date:V,side:"left",children:[G,void 0===Q&&(!n.meta?.originalDeploymentId&&K?.commitAuthorLogin?` by ${K.commitAuthorLogin}`:` by ${n?.creator.username}`),void 0!==Q&&" via Deploy Hook"]}):null,right:!0})]})});e.s(["DeploymentRow",()=>eC],5758916);var eI=e.i(3228096),ew=e.i(5771992);function eM(e){let{scope:i="",project:n,style:l,className:s}=e,{data:o,isLoading:a}=(0,ew.default)({limit:1,projectId:n?.id||"",target:"production",state:"READY"}),d=!!o?.deployments.filter(e=>"STAGED"!==e.readySubstate).length,c=!!o?.deployments.filter(e=>"STAGED"===e.readySubstate).length,u=null;return(u=d?"Add, buy, or transfer in a domain to serve your Production deployment from.":c?"Promote a production deployment to serve traffic.":"Your Production Domain is not serving traffic.",a&&!o)?(0,t.jsx)(eT,{style:l,className:s}):(0,t.jsx)("div",{className:(0,em.cn)("h-[500px] material-base border-none shadow-md",s),style:l,children:(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4 text-center",children:[(0,t.jsx)("div",{className:"flex rounded border border-solid border-gray-alpha-400 bg-background-100 p-2",children:(0,t.jsx)(eI.Globe,{color:"gray-900"})}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("h3",{className:"text-label-16 m-0 font-medium","data-testid":(0,y.tid)("no-deployment-card","title"),children:`No Production ${d?"Domain":"Deployment"}`}),(0,t.jsx)("p",{className:"text-copy-14 m-0",children:u})]}),d?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.ButtonLink,{as:`/${i}/${n?.name||""}/settings/domains`,className:"self-center",disabled:!n,href:`/${i}/${n?.name||""}/settings/domains`,type:"secondary",children:"Add Domain"}),(0,t.jsx)(r.Link,{external:!0,href:"/docs/domains/working-with-domains#working-with-domains",variant:"secondary",children:"Learn More"})]}):null]})})}function eT(e){let{style:i,className:n}=e;return(0,t.jsx)("div",{className:(0,em.cn)("h-[500px] material-base border-none",n),style:i,children:(0,t.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-4 text-center",children:[(0,t.jsx)("div",{className:"flex rounded border border-solid border-gray-alpha-400 bg-background-100 p-2",children:(0,t.jsx)(eI.Globe,{})}),(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)(c.Skeleton,{boxHeight:20,height:18,vcenter:!0,width:200}),(0,t.jsx)(c.Skeleton,{boxHeight:20,height:16,vcenter:!0,width:400})]})]})})}e.s(["NoDeploymentCard",()=>eM],2381001);var eL=e.i(8522580),eP=e.i(4218798);e.s(["default",0,()=>{let e=(0,n.useRouter)(),{data:i}=(0,B.useProject)(e.query.project),l=(0,eP.useTransferTarget)(i);return i?.name&&l?(0,t.jsxs)(eL.Note,{fill:!0,label:!1,type:"warning",variant:"contrast",children:["The Project ",(0,t.jsx)("b",{children:i.name})," is being transferred into"," ",(0,t.jsx)("b",{children:l.name}),"."]}):(0,t.jsx)(eL.Note,{fill:!0,label:!1,type:"warning",variant:"contrast",children:" "})}],9974972);var eE=e.i(4585051),eF=e.i(9318197),ez=e.i(4450569),eW=e.i(369178);let eB=(0,t.jsxs)("svg",{fill:"var(--accents-5)",height:"20",viewBox:"0 0 66 20",width:"66",children:[(0,t.jsx)("path",{d:"M43 10c0 5.523-4.477 10-10 10s-10-4.477-10-10S27.477 0 33 0s10 4.477 10 10zM32.53 6.47a.75.75 0 10-1.06 1.06L33.94 10l-2.47 2.47a.75.75 0 101.06 1.06l3-3a.75.75 0 000-1.06l-3-3z"}),(0,t.jsx)("path",{d:"M.5 9.125v1h2.455v-1H.5zM4.864 9.125v1h3.909v-1h-3.91zM10.682 9.125v1h3.909v-1h-3.91zM16.5 9.125v1h3.91v-1H16.5zM45.59 9.125v1h3.91v-1h-3.91zM51.41 9.125v1h3.908v-1H51.41zM57.227 9.125v1h3.91v-1h-3.91zM63.045 9.125v1H65.5v-1h-2.455z"})]});e.s(["default",0,()=>{let e=(0,n.useRouter)(),{data:i}=(0,B.useProject)(e.query.project),{transferredFromAccountId:l}=i||{},s=(0,eP.useTransferTarget)(i),r=l?.startsWith("team_");return i&&s?(0,t.jsx)(eW.default,{children:(0,t.jsx)("div",{className:"rounded-[var(--geist-radius)] border border-dashed border-[var(--accents-2)] p-12",children:(0,t.jsxs)(ez.default,{center:!0,children:[(0,t.jsx)("h3",{className:"text-copy-16 m-0",style:{maxWidth:"360px",marginBottom:"16px"},children:"Transferring Project"}),(0,t.jsxs)(ez.default,{center:!0,row:!0,children:[(0,t.jsx)(eE.Avatar,{placeholder:!l,size:48,teamId:r?l:void 0,uid:r?void 0:l}),(0,t.jsx)(eF.Spacer,{inline:!0,x:.25}),eB,(0,t.jsx)(eF.Spacer,{inline:!0,x:.25}),(0,t.jsx)(eE.Avatar,{hash:s?.avatar,placeholder:!s,size:48,teamId:s.id})]}),(0,t.jsx)(eF.Spacer,{}),(0,t.jsx)(w.Spinner,{}),(0,t.jsx)(eF.Spacer,{}),(0,t.jsxs)("p",{className:"text-copy-16 m-0 text-center",children:["The Project ",(0,t.jsx)("b",{children:i.name})," is being transferred into"," ",(0,t.jsx)("b",{children:s.name}),"."]})]})})}):null}],9584282);var eU=e.i(762945),eO=e.i(1335111),e$=e.i(7994132),eH=e.i(60582);function eq(e){let{project:i,teamSlug:n}=e;if(!i.nodeVersion)return null;let l=(0,e$.getNodeVersions)().find(e=>e.range===i.nodeVersion);return l&&l.discontinueDate?(0,t.jsx)(eO.CompatBanner,{callToAction:{label:eH.IS_DASH?"Upgrade Node.js":"Upgrade Node.js in project settings",href:`/${n}/${i.name}/settings/build-and-deployment#node.js-version`},icon:(0,t.jsx)(eU.Warning,{className:"shrink-0"}),label:(0,e$.WarningMessage)({selectedOption:{range:i.nodeVersion,discontinueDate:l.discontinueDate,link:l.link}}),variant:"warning"}):null}e.s(["DiscontinuedNodeBanner",()=>eq],6119682);var eV=e.i(2006191);function eG(e){let{project:i,teamSlug:n}=e,{data:l}=(0,eV.useTeam)(n);if(!l?.microfrontends?.exceededMicrofrontendsLimitFromDowngradeAt||!i.microfrontends?.enabled)return null;let s=new Date(l?.microfrontends?.exceededMicrofrontendsLimitFromDowngradeAt+2592e6).toLocaleDateString("en-US",{month:"long",day:"numeric"});return(0,t.jsx)(eO.CompatBanner,{callToAction:{label:"Remove microfrontends or upgrade to a paid plan",href:`/${n}/${i.name}/settings/microfrontends`},icon:(0,t.jsx)(eU.Warning,{className:"shrink-0"}),label:(0,t.jsxs)(t.Fragment,{children:["You have exceeded the microfrontends limit for your team. New deployments for this project will no longer build after"," ",s,"."]}),variant:"warning",priority:2})}e.s(["ExceededMicrofrontendsLimitBanner",()=>eG],13501)}]);

//# debugId=ebcbf788-4c9c-22a7-3d41-57b7a5d5550b
//# sourceMappingURL=48bb041c86ad5720.js.map
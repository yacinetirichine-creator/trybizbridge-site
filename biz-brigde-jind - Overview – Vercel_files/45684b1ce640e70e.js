;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="d2c1934c-cabd-3f69-13a9-c127df3274a8")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5313122,e=>{"use strict";var t=e.i(1146226),s=e.i(5169864),r=e.i(8674454),o=e.i(6694387),i=e.i(4991687),n=e.i(8459493),c=e.i(57106),a=e.i(1918911),l=e.i(9722978),u=e.i(4004502),d=e.i(5927860),p=e.i(9668517),x=e.i(6048771),m=e.i(7849855),h=e.i(1919132),y=e.i(8020240);function f(e){return e===d.EnvTarget.Production?"Production":e===d.EnvTarget.Preview?"Preview":"Development"}function g(e){let{environments:s,className:r}=e,o=s?.length===3?"All Environments":s?.map(f).join(", ");return(0,t.jsx)("p",{className:`text-copy-13-mono text-gray-900 truncate ${(0,l.clsx)("whitespace-nowrap rounded bg-gray-200 px-1 text-sm",r)}`,title:o,children:o})}function j(e){let{projectConnections:s,teamOrUserSlug:l}=e;return(0,t.jsxs)(i.MenuContainer,{children:[(0,t.jsx)(o.MenuButton,{className:"geist-show-on-mobile",size:"small",type:"secondary",children:"Show Connections"}),(0,t.jsx)(o.MenuButton,{className:"geist-hide-on-mobile mx-0",size:"small",type:"tertiary",children:(0,t.jsx)(a.ChevronUpDown,{color:"gray-700"})}),(0,t.jsx)(r.Menu,{className:"min-h-[10dvh] max-w-full md:min-h-0 md:max-w-[480px]",width:"auto",children:s.map(e=>(0,t.jsx)(n.MenuItem,{Component:c.Link,"data-testid":(0,u.tid)("project-store","item"),href:`/${l?`${l}/`:""}${encodeURIComponent(e.name)}`,isLink:!0,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-2 flex-1 min-w-20 max-w-full",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(x.ProjectLogo,{deploymentId:e.latestDeployment,framework:e.framework,project:e,size:18}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000 truncate min-w-20 max-w-[50%]",title:e.name,children:e.name})]}),(0,h.isLogDrainInConnection)(e)?(0,t.jsx)(y.LogDrainConnection,{connection:e}):(0,t.jsx)(g,{environments:e.environments})]})},e.id))})]})}function v(e){let{projectConnections:r}=e,o=(0,p.useTeamSlug)(),{projectSlug:i,hasProject:n}=(0,m.useProjectSlug)(),{currentProjectConnection:a}=(0,s.useMemo)(()=>({currentProjectConnection:r.find(e=>e.name===i)}),[i,r]),d=r[0];return(0,t.jsxs)(t.Fragment,{children:[n&&a?(0,t.jsx)(g,{className:"geist-hide-on-mobile",environments:a.environments}):(0,t.jsx)(c.ButtonLink,{className:(0,l.clsx)("geist-hide-on-mobile m-0 -mx-1 h-6 min-w-20 bg-background-200 !px-1 text-sm","hover:!bg-gray-200 [&>svg]:-ml-1"),"data-testid":(0,u.tid)("project-store","item"),href:`/${o?`${o}/`:""}${encodeURIComponent(d.name)}`,size:"small",type:"tertiary",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial p-px",children:[(0,t.jsx)(x.ProjectLogo,{deploymentId:d.latestDeployment,framework:d.framework,project:{id:d.projectId},size:18}),(0,t.jsx)("p",{className:"text-[13px] leading-[18px] font-medium text-gray-1000 truncate",children:d.name})]})}),(0,t.jsx)(j,{projectConnections:r,teamOrUserSlug:o})]})}e.s(["ProjectConnectionsAssigned",()=>v])},4677153,e=>{"use strict";var t=e.i(1146226),s=e.i(2504781),r=e.i(5468328),o=e.i(7897830),i=e.i(1414602),n=e.i(1919132);function c(e){let{resource:c,size:a,type:l}=e,{permissions:u,isLoading:d}=(0,i.useResourcePermissions)(),{openConnectProject:p}=(0,o.useResourceModals)({onSuccess:null});return(0,t.jsx)(r.Tooltip,{disableTriggers:u.update,text:"You need additional permission to connect a Project.",children:(0,t.jsx)(s.Button,{disabled:!c||d||!u.update||c.capabilities?.projects===!1,onClick:()=>{c&&p(c)},size:a,type:l,children:n.CONNECT_PROJECT_LABEL})})}e.s(["ConnectProjectButton",()=>c])},9203481,2375948,e=>{"use strict";var t=e.i(1146226),s=e.i(5255926),r=e.i(5468328),o=e.i(9722978),i=e.i(57106),n=e.i(7218483),c=e.i(4004502),a=e.i(5610834),l=e.i(5819220),u=e.i(979715),d=e.i(6401841),p=e.i(762945),x=e.i(9429910),m=e.i(1414602),h=e.i(648779),y=e.i(7897830),f=e.i(5313122),g=e.i(4677153),j=e.i(7114720);e.s([],2375948);var v=e.i(7917902),R=e.i(7849855);function C(e){let{Footer:s,Info:r,createdAt:a,link:u,id:d,hasError:p,title:x,description:m,Icon:h,Badge:y}=e,f=(0,n.useAgo)(a,{formatYearsWeeksMonths:!0});return(0,t.jsxs)("div",{className:"min-w-0","data-resource-item":d,children:[(0,t.jsx)(i.Link,{className:"group block","data-testid":(0,c.tid)("store-entity",d),href:u,children:(0,t.jsxs)(l.Entity,{className:(0,o.clsx)("rounded-b-none rounded-t bg-background-100 transition-[background] duration-100 ease-in-out group-hover:bg-background-200",{"border-red-500":p}),gapSize:"small",thumbnail:(0,t.jsx)("div",{className:"mr-2 text-foreground",children:h}),children:[(0,t.jsx)(T,{description:(0,t.jsx)("span",{children:m}),title:(0,t.jsxs)("span",{className:"no-underline",children:[x,y]}),width:r?"30%":void 0}),r,a?(0,t.jsx)(T,{description:(0,t.jsxs)("span",{title:`Created at ${new Date(a).toISOString()}`,children:["Created ",f]}),label:!0,right:!0,width:"auto"}):null]})}),s]})}function b(e){let{children:s,notification:r,className:i}=e;return(0,t.jsx)("div",{className:(0,o.clsx)("flex flex-row items-center gap-1.5 flex-initial h-14 rounded-b border border-t-0 border-solid px-4 py-3",{"border-gray-200 bg-background-200":r?.level!=="error","border-red-500 bg-red-100":r?.level==="error"},i),children:r?(0,t.jsx)(w,{notification:r}):s})}function w(e){let{notification:s}=e;return(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 lg:gap-3 flex-initial",children:[(0,t.jsx)("p",{className:(0,o.clsx)("text-[13px] leading-[18px] font-medium","error"===s.level?"text-red-700":"warn"===s.level?"text-amber-900":"text-gray-900"),children:s.title}),(0,t.jsxs)(r.Tooltip,{text:s.message,children:["error"===s.level?(0,t.jsx)(d.Stop,{color:"red-700",size:20}):null,"warn"===s.level?(0,t.jsx)(p.Warning,{color:"amber-900",size:20}):null,"info"===s.level?(0,t.jsx)(x.InformationFill,{size:20}):null]})]})}function T(e){let{className:s,...r}=e;return(0,t.jsx)(u.EntityField,{className:(0,o.clsx)("max-md:mt-0 max-md:border-t-0",s),...r})}function A(e){let{Info:s,item:r,Badge:i,resourceLinkFunc:n,showCreatedAt:c=!0,alwaysShowConnectButton:l=!1}=e,u=(0,a.useRouter)(),{openConnectProject:d}=(0,y.useResourceModals)({onSuccess:e=>{u.push(n(e))}}),{permissions:p}=(0,m.useResourcePermissions)(),{team:x}=(0,v.useAccount)(),{projectSlug:w}=(0,R.useProjectAndTeamSlug)(),T=r.billingPlan?.name,A=l||0===r.projectsMetadata.length;return(0,t.jsx)(C,{Badge:i,Footer:(0,t.jsx)(b,{className:(0,o.clsx)(A?"justify-end":"justify-start"),notification:r.notification,children:A?(0,t.jsxs)("div",{className:(0,o.clsx)("flex gap-2"),children:[(0,t.jsx)(g.ConnectProjectButton,{size:"small",resource:r,type:"secondary"}),x&&(0,t.jsx)(j.MarketplaceAddDrainButton,{resource:r,teamSlug:x.slug,projectSlug:w??void 0,size:"small",type:"secondary"})]}):(0,t.jsx)(f.ProjectConnectionsAssigned,{projectConnections:r.projectsMetadata})}),Icon:(0,t.jsx)(h.ProductIcon,{icon:r.product.iconUrl,size:"large"}),Info:s?(0,t.jsx)(s,{item:r}):void 0,createdAt:c?r.createdAt:void 0,description:T?`${r.product.name} - ${T}`:r.product.name,hasError:r.notification?.level==="error",id:r.id,link:n(r),title:r.name})}function P(e){let{showRightSkeleton:r=!0}=e;return(0,t.jsxs)("div",{children:[(0,t.jsxs)(l.Entity,{className:"rounded-b-none rounded-t",gapSize:"small",thumbnail:(0,t.jsx)("div",{className:"flex flex-col items-center justify-start flex-initial mr-2",children:(0,t.jsx)(s.Skeleton,{height:36,rounded:!0,width:36})}),children:[(0,t.jsx)(T,{description:(0,t.jsx)(s.Skeleton,{boxHeight:22,height:12,vcenter:!0,width:"40%"}),title:(0,t.jsx)(s.Skeleton,{boxHeight:22,height:14,vcenter:!0,width:"60%"})}),r?(0,t.jsx)(T,{right:!0,title:(0,t.jsx)(s.Skeleton,{className:"h-[18px] md:h-[22px]",height:14,vcenter:!0,width:120})}):null]}),(0,t.jsx)(b,{})]})}e.s(["ListItem",()=>C,"ListItemFooter",()=>b,"ResourceEntityItem",()=>T,"ResourceItem",()=>A,"ResourceItemPlaceholder",()=>P],9203481)},8026771,e=>{"use strict";var t=e.i(1146226),s=e.i(5169864),r=e.i(8835183),o=e.i(6881349),i=e.i(2504781),n=e.i(1991452),c=e.i(2793676),a=e.i(5610834),l=e.i(3798983),u=e.i(5074599);function d(e){return`Search provider or ${u.resourceTitle[e].toLowerCase()}..`}function p(e){return null!=e}function x(){let e=(0,a.useSearchParams)();return{storeTag:e?.get("type")??"All",search:e?.get("search")??""}}function m(e,t){let r=(0,n.useRouter)(),{storeTag:o,search:i}=x(),[a,l]=(0,s.useState)("All"),d=t?o:a,[m,h]=(0,s.useState)(i),y=(0,s.useMemo)(()=>{let t=new Map;return e?.forEach(e=>{"integration"===e.type?t.set(e.product.integration.id,{value:e.product.integration.id,label:e.product.integration.name}):t.set(e.type,{value:e.type,label:(0,u.getProtocolTitleByResource)(e)})}),[{value:"All",label:"All"},...Array.from(t.values()).filter(p)]},[e]);return{filteredResources:(0,s.useMemo)(()=>e?.filter(e=>{if("All"!==d&&("integration"===e.type?e.product.integration.id!==d:e.type!==d))return!1;let t=m.toLowerCase();return!!(e.name.toLowerCase().includes(t)||e.id.includes(t))||"integration"===e.type&&e.product.name.toLowerCase().includes(t)})??null,[m,e,d]),search:m,onSearchChanged:e=>{h(e),t&&r.replace({query:{...r.query,search:e}},void 0,{shallow:!0,scroll:!1})},storeTagFilter:d,onStoreTagFilterChanged:e=>{t?r.replace({query:"All"===e?(0,c.default)(r.query,"type"):{...r.query,type:e}},void 0,{shallow:!0,scroll:!1}):l(e)},storeTags:y}}function h(e){let{ConnectResourceButton:s,search:i,onSearchChanged:n,storeTagFilter:c,storeTags:a,onStoreTagFilterChanged:l,protocolType:u}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.SearchInput,{className:"[&>div:first-of-type]:flex-1",onChange:e=>{n(e.target.value.trim())},placeholder:d(u),value:i,width:"100%"}),(0,t.jsxs)(o.Combobox,{clearable:!1,onChange:e=>{e&&l(e)},value:c,children:[(0,t.jsx)(o.Combobox.Input,{disabled:!0}),(0,t.jsx)(o.Combobox.List,{children:a.map(e=>(0,t.jsx)(o.Combobox.Option,{value:e.value,children:e.label},e.value))})]}),s]})}function y(e){let{createConnectAction:s,protocolType:n}=e,{storeTag:c}=x();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.SearchInput,{className:"[&>div:first-of-type]:flex-1",placeholder:d(n),width:"100%"}),(0,t.jsxs)(o.Combobox,{clearable:!1,value:c,children:[(0,t.jsx)(o.Combobox.Input,{disabled:!0}),(0,t.jsx)(o.Combobox.List,{children:(0,t.jsx)(o.Combobox.Option,{value:c,children:" "})})]}),"none"!==s?(0,t.jsx)(i.Button,{disabled:!0,type:"secondary",typeName:"button",children:l.createConnectStoreButtonLabel[s]}):null]})}e.s(["ResourceFilters",()=>h,"ResourceFiltersPlaceholder",()=>y,"useResourceFilters",()=>m])},5551580,e=>{"use strict";var t=e.i(1146226),s=e.i(2504781),r=e.i(5255926),o=e.i(5169864),i=e.i(3798983),n=e.i(9203481),c=e.i(8026771);function a(e){let{protocolType:a}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(o.Suspense,{fallback:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-stretch justify-start gap-4 flex-initial",style:{width:"100%"},children:[(0,t.jsx)(r.Skeleton,{height:40,width:"100%"}),(0,t.jsx)(r.Skeleton,{className:"geist-hide-on-mobile",height:40,width:190}),(0,t.jsx)(r.Skeleton,{className:"geist-show-on-mobile",height:40,width:"100%"})]}),(0,t.jsx)(s.Button,{disabled:!0,type:"secondary",typeName:"button",children:i.createConnectStoreButtonLabel.connect})]}),children:(0,t.jsx)(c.ResourceFiltersPlaceholder,{createConnectAction:"connect",protocolType:a})})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:Array.from({length:3}).map((e,s)=>(0,t.jsx)(n.ResourceItemPlaceholder,{},s))})]})}e.s(["ResourceListPlaceholder",()=>a])},6068777,(e,t,s)=>{var r=e.r(2136587),o=e.r(5729582),i=Array.prototype.splice;t.exports=function(e,t){for(var s=e?t.length:0,n=s-1;s--;){var c=t[s];if(s==n||c!==a){var a=c;o(c)?i.call(e,c,1):r(e,c)}}return e}},102342,(e,t,s)=>{var r=e.r(8357529),o=e.r(6068777);t.exports=function(e,t){var s=[];if(!(e&&e.length))return s;var i=-1,n=[],c=e.length;for(t=r(t,3);++i<c;){var a=e[i];t(a,i,e)&&(s.push(a),n.push(i))}return o(e,n),s}},8385183,e=>{"use strict";var t=e.i(5297527),s=e.i(4244280);e.i(102342),e.i(4426431);let r=`${s.API_INTEGRATION_CONTROLLER}/categories`;function o(e){let s="tag_databases"===e.id?"storage":t.INTEGRATION_PROTOCOL_TYPES.find(t=>e.id.replace("tag_","")===t)??null;return{...e,protocol:s}}var i=e.i(277234),n=e.i(6269556),c=e.i(818351);function a(){let{isPreview:e}=(0,n.useMarketplaceNavigation)();return{...(0,c.useIsomorphicSWR)(e?`${r}?status=all`:r,async e=>(await (0,i.fetchAPI)(e)).map(o),{revalidateOnFocus:!1,revalidateOnReconnect:!1})}}e.s(["useIntegrationCategories",()=>a],8385183)},1815574,e=>{"use strict";var t=e.i(1146226),s=e.i(5338940),r=e.i(3850869),o=e.i(2652226),i=e.i(5074599);function n(e){let{protocolType:n}=e,{team:c}=(0,s.useTeam)();return(0,t.jsx)(o.default,{children:(0,t.jsx)(r.AdditionalPermissionsRequired,{resource:i.resourceTitle[n],team:c})})}e.s(["AdditionalResourcePermissionsRequired",()=>n])},4981413,4209381,1055938,e=>{"use strict";var t=e.i(1146226),s=e.i(3306538),r=e.i(57106),o=e.i(4011256);e.i(8703064);var i=e.i(6798946),n=e.i(2782729),c=e.i(4325157),a=e.i(5074599),l=e.i(1414602),u=e.i(6810699),d=e.i(8385183);function p(e){let{onClickProduct:s,selectedProduct:p,showCreateButton:m=!1,protocolType:h}=e,{data:y}=(0,d.useIntegrationCategories)(),{permissions:f,isLoading:g}=(0,l.useResourcePermissions)(),{data:j}=(0,u.useResourceList)({protocolType:h}),{data:v}=(0,c.useMarketplaceIntegrations)({protocolType:h}),R=y?.find(e=>e.protocol===h);return v?(0,t.jsx)(x,{canCreate:f.create,disabled:g,integrations:v.map(e=>({...e,isSelected:p?.type==="integration"&&p.product.id===e.products[0].id,selectedProductId:p?.type==="integration"&&p.integration.id===e.id?p.product.id:void 0,comingSoon:(0,n.isIntegrationStoreDisabled)({integration:e,storesData:j})})),onClickProduct:s,protocolType:h,showCreateButton:m}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-heading-16",children:(0,a.browseProductsTitle)(h)}),(0,t.jsx)(r.Link,{external:!0,href:`${o.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:Array.from({length:R?.marketplaceIntegrationsCount??3}).map((e,s)=>(0,t.jsx)(i.CreateResourceCardPlaceholder,{showCreateButton:m},s))})]})}function x(e){let{integrations:n,canCreate:c,disabled:l,showCreateButton:u,onClickProduct:d,protocolType:p}=e;if(0===n.length)return null;let x=a.resourceTitle[p],m={text:`You need additional permission to create a ${x}.`,isEnabled:!c};return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-between flex-initial",children:[(0,t.jsx)("p",{className:"text-heading-16",children:(0,a.browseProductsTitle)(p)}),(0,t.jsx)(r.Link,{external:!0,href:`${o.MARKETPLACE_DOC_PAGE}/integrations/install-an-integration/product-integration`,target:"_blank",children:(0,t.jsx)("p",{className:"text-copy-14",children:"Learn more"})})]}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:n.map(e=>{let r=!!e.comingSoon,o=l||!c||!!e.comingSoon;if(0===e.products.length)return null;if(1===e.products.length){let n=e.products[0];return(0,t.jsx)(i.CreateResourceCard,{Badge:r?(0,t.jsx)(s.Badge,{className:"important:bg-transparent",size:"sm",variant:"gray-subtle",children:"Coming soon"}):null,description:n.shortDescription,icon:{url:n.iconUrl},isDisabled:o,isSelected:e.isSelected,name:n.name,onClick:()=>{d({product:n,integration:e,type:"integration"})},showCreateButton:u,tooltip:m},n.id)}return(0,t.jsx)(i.CreateResourceCollapsibleCard,{integration:e,isDisabled:l||!c,onClick:t=>{d({product:t,integration:e,type:"integration"})},selectedProductId:e.selectedProductId,showCreateButton:u,tooltip:m},e.id)})})]})}e.s(["BrowseProducts",()=>p],4981413);var m=e.i(5169864),h=e.i(5610834),y=e.i(7897830);function f(e,t){let s=(0,h.useRouter)(),{openCreateResource:r}=(0,y.useResourceModals)({onSuccess:e=>{s.push(t(e))}}),o=(0,h.useSearchParams)(),i=o?.get("productId")??null,{data:n}=(0,c.useMarketplaceIntegrations)({protocolType:e}),a=(0,m.useMemo)(()=>{if(!n)return null;for(let e of n)for(let t of e.products)if(t.id===i)return{integration:e,product:t};return null},[n,i]);(0,m.useEffect)(()=>{if(a){let{integration:e,product:t}=a;r({type:"integration",integration:e,product:t})}},[r,a])}function g(e){let{title:s,subtitle:r,children:o,Icon:i}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-6 flex-initial rounded border border-solid border-gray-200 bg-background-200 px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-3 flex-initial",children:[i,(0,t.jsxs)("div",{className:"flex flex-col items-center justify-start gap-2 flex-initial",children:[s&&(0,t.jsx)("p",{className:"text-heading-20",children:s}),r&&(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 text-center",children:r})]})]}),o]})}e.s(["useCreateResourceDeeplink",()=>f],4209381),e.s(["EmptyResourcesState",()=>g],1055938)},680627,e=>{"use strict";var t=e.i(1146226),s=e.i(1717203),r=e.i(7557283);e.i(3182268);var o=e.i(7849855);e.i(8703064);var i=e.i(5154466);e.i(3134771);var n=e.i(1815854),c=e.i(6060673),a=e.i(3798983),l=e.i(2782729),u=e.i(6810699),d=e.i(5074599),p=e.i(8026771);function x(e){let{ConnectResourceButton:x,onClickConnectStoreModal:m,isStoreTagFilterFromQuery:h,protocolType:y}=e,{data:f}=(0,u.useResourceList)({protocolType:y}),{projectSlug:g}=(0,o.useProjectSlug)(),j=(0,c.useProject)(g),{can:v,isLoading:R}=(0,s.default)(),C={"edge-config":v(r.Action.Update,r.Resource.EdgeConfig),blob:v(r.Action.Create,r.Resource.Blob),integration:v(r.Action.Create,r.Resource.IntegrationResource)},b=f?.stores,{search:w,onSearchChanged:T,storeTagFilter:A,onStoreTagFilterChanged:P,storeTags:S,filteredResources:N}=(0,p.useResourceFilters)(b??null,h);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(p.ResourceFilters,{ConnectResourceButton:x,onSearchChanged:T,onStoreTagFilterChanged:P,protocolType:y,search:w,storeTagFilter:A,storeTags:S})}),N&&0===N.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-1 flex-initial min-h-52",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"No Results Found"}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900 text-center",children:`Your search for "${w}" did not return any results.`})]}):null,N&&N.length>0?(0,t.jsx)(i.SelectResourceCardList,{children:N.map(e=>{let s=e.projectsMetadata.some(e=>e.projectId===j.data?.id),r="integration"===e.type?{icon:{url:(0,l.getStoreIcon)(e),size:"large"}}:{Icon:(0,t.jsx)(n.SelectResourceStoreIcon,{iconSize:"large",type:e.type,useColor:C[e.type]})};return(0,t.jsx)(i.SelectResourceCard,{createdAt:e.createdAt,description:"storage"===y?a.storeTitleFull[e.type]:d.resourceTitle[y],isAlreadyConnected:s,isDisabled:!C[e.type],name:e.name,onClick:()=>m(e),tooltip:{isEnabled:!R&&!C[e.type],text:`You do not have permission to connect this ${(0,d.getProtocolTitleByResource)(e)}.`},...r},e.id)})}):null]})}e.s(["SelectResources",()=>x])},9691190,e=>{"use strict";var t=e.i(1146226),s=e.i(2504781),r=e.i(4030453),o=e.i(134877),i=e.i(5610834),n=e.i(6810699),c=e.i(7849855),a=e.i(7897830),l=e.i(5154466),u=e.i(4981413),d=e.i(5074599),p=e.i(1815574),x=e.i(4209381),m=e.i(1055938),h=e.i(8026771),y=e.i(9203481),f=e.i(5551580),g=e.i(680627),j=e.i(8544664);function v(e){let{ListItem:i,protocolType:a,resourceLinkFunc:l,Info:u,EmptyStateIcon:d,BrowserProductsEmptyState:y,includeMetadata:g,preloadedResources:v}=e,{hasProject:R,projectSlug:T}=(0,c.useProjectSlug)(),{data:A,error:P,hasResources:S}=(0,n.useResourceList)({projectSlug:T,protocolType:a,fallbackData:v?{stores:v}:void 0}),N=(0,n.useStoreListMetadataByType)({items:A?.stores??[],skip:!g}),{search:M,onSearchChanged:k,storeTagFilter:I,onStoreTagFilterChanged:B,storeTags:L,filteredResources:E}=(0,h.useResourceFilters)(A?N:null,!0);return(function(e){let{hasProject:t,projectSlug:s,teamSlug:r}=(0,c.useProjectAndTeamSlug)(),{data:o}=(0,n.useResourceList)({projectSlug:s??void 0,protocolType:e});(0,j.usePlaceholderCount)(`resourcePlaceholderCount:${e}:${r}${t?`:${s}`:""}`,o?.stores.length)}(a),(0,x.useCreateResourceDeeplink)(a,l),A&&E)?P&&(0,o.isAPIErrorForbidden)(P)?(0,t.jsx)(p.AdditionalResourcePermissionsRequired,{protocolType:a}):P?(0,t.jsxs)(m.EmptyResourcesState,{Icon:d,children:[(0,t.jsx)(r.Error,{children:"An error occurred while loading the list."}),(0,t.jsx)(s.Button,{onClick:()=>window.location.reload(),size:"small",type:"error",typeName:"button",children:"Try Again"})]}):S?0===A.stores.length&&R?(0,t.jsx)(b,{protocolType:a,resourceLinkFunc:l}):0===E.length?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(h.ResourceFilters,{ConnectResourceButton:(0,t.jsx)(w,{protocolType:a,resourceLinkFunc:l}),onSearchChanged:k,onStoreTagFilterChanged:B,protocolType:a,search:M,storeTagFilter:I,storeTags:L})}),(0,t.jsx)(m.EmptyResourcesState,{subtitle:`Your search for "${M}" did not return any results.`,title:"No Results Found"})]}):(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row items-stretch justify-between gap-4 flex-initial",children:(0,t.jsx)(h.ResourceFilters,{ConnectResourceButton:(0,t.jsx)(w,{protocolType:a,resourceLinkFunc:l}),onSearchChanged:k,onStoreTagFilterChanged:B,protocolType:a,search:M,storeTagFilter:I,storeTags:L})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:E.map(e=>(0,t.jsx)(i,{Info:u,item:e,resourceLinkFunc:l},e.id))})]}):y??(0,t.jsx)(C,{protocolType:a,resourceLinkFunc:l}):(0,t.jsx)(f.ResourceListPlaceholder,{protocolType:a})}function R(e){let{protocolType:s,resourceLinkFunc:r,Info:o}=e;return(0,t.jsx)(v,{Info:o,ListItem:y.ResourceItem,protocolType:s,resourceLinkFunc:r})}function C(e){let{protocolType:s,resourceLinkFunc:r}=e,o=(0,i.useRouter)(),{openCreateResource:n}=(0,a.useResourceModals)({onSuccess:e=>{o.push(r(e))}});return(0,t.jsx)(m.EmptyResourcesState,{subtitle:(0,d.emptyResourcesStateSubtitle)(s),title:(0,d.emptyResourcesStateTitle)(s),children:(0,t.jsx)(l.SelectResourceCardListContainer,{children:(0,t.jsx)(u.BrowseProducts,{onClickProduct:e=>{e&&n(e)},protocolType:s,selectedProduct:void 0,showCreateButton:!0})})})}function b(e){let{protocolType:r,resourceLinkFunc:o}=e,n=(0,i.useRouter)(),{openConnectProject:c,openBrowseProducts:u}=(0,a.useResourceModals)({onSuccess:e=>{n.push(o(e))}});return(0,t.jsx)(m.EmptyResourcesState,{subtitle:`You can connect to existing ${d.resourceTitlePlural[r]} from this team, or
            create a new one and connect it to this project.`,title:`Connect to a ${d.resourceTitle[r]}`,children:(0,t.jsx)(l.SelectResourceCardListContainer,{children:(0,t.jsx)(g.SelectResources,{ConnectResourceButton:(0,t.jsx)(s.Button,{onClick:()=>{u("browse-new")},type:"default",typeName:"button",children:(0,d.connectResourceButtonLabel)(r)}),hasCreateConnectButton:!0,isStoreTagFilterFromQuery:!0,onClickConnectStoreModal:e=>{c(e)},protocolType:r})})})}function w(e){let{resourceLinkFunc:r,protocolType:o}=e,n=(0,i.useRouter)(),{openBrowseProducts:l}=(0,a.useResourceModals)({onSuccess:e=>{n.push(r(e))}}),{hasProject:u}=(0,c.useProjectSlug)();return u?(0,t.jsx)(s.Button,{onClick:()=>{l("browse-existing")},type:"secondary",typeName:"button",children:`Connect ${d.resourceTitle[o]}`}):null}e.s(["ResourceList",()=>R,"ResourceListWithListItem",()=>v])},7512194,e=>{"use strict";var t=e.i(1146226),s=e.i(5169864),r=e.i(7849855),o=e.i(39509),i=e.i(328065),n=e.i(3758860),c=e.i(6864621);let a={active:!1,modalKey:0,type:o.ResourceModalsActionTypes.ModalClosed,steps:[]};function l(e){let{children:l,Modal:u,protocolType:d}=e,{showCreateDatabaseModal:p,setShowCreateDatabaseModal:x}=(0,c.useCreateDatabaseModal)(),{hasProject:m}=(0,r.useProjectSlug)(),h=(0,s.useCallback)(()=>{x(!1)},[x]),y=(0,s.useCallback)((e,t)=>(function(e){let{hasProject:t,onClose:s}=e;return(e,r)=>{if(!r.type.startsWith("open-")&&"animation-done"!==r.type&&"resource-updated"!==r.type&&e.type===o.ResourceModalsActionTypes.ModalClosed)throw Error(`Cannot handle action "${r.type}" without opening the modal`);switch(r.type){case`open-${o.ResourceModalsActionTypes.BrowseProducts}`:return{modalKey:e.modalKey,type:o.ResourceModalsActionTypes.BrowseProducts,steps:[o.ResourceModalsActionTypes.BrowseProducts,o.ResourceModalsActionTypes.CreateResource],active:!0};case`open-${o.ResourceModalsActionTypes.BrowseProductsOrSelectResources}`:return{modalKey:e.modalKey,type:o.ResourceModalsActionTypes.BrowseProductsOrSelectResources,steps:[o.ResourceModalsActionTypes.BrowseProductsOrSelectResources,o.ResourceModalsActionTypes.CreateResource,o.ResourceModalsActionTypes.CreateEnvs],tab:r.tab,active:!0};case`go-to-step-${o.ResourceModalsActionTypes.CreateResource}`:case`open-${o.ResourceModalsActionTypes.CreateResource}`:{let s=e.steps,i="integration"===r.resourceWithProduct.type&&(0,n.showProjectConnectionAfterResourceCreation)(r.resourceWithProduct.product),c="integration"===r.resourceWithProduct.type&&(0,n.supportsAnyDrainProtocol)(r.resourceWithProduct.product);if("open-create-resource"===r.type&&(s=(t||i)&&!c?[o.ResourceModalsActionTypes.CreateResource,o.ResourceModalsActionTypes.CreateEnvs]:[o.ResourceModalsActionTypes.CreateResource]),"go-to-step-create-resource"!==r.type||!i||s.includes(o.ResourceModalsActionTypes.CreateEnvs)||c||s.push(o.ResourceModalsActionTypes.CreateEnvs),0===s.length||s[0]===o.ResourceModalsActionTypes.CreateEnvs||s[0]===o.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${s.join(",")}" for action "${r.type}"`);let{resourceWithProduct:a}=r;return{modalKey:e.modalKey,type:o.ResourceModalsActionTypes.CreateResource,resourceWithProduct:a,backOrCancelLabel:s[0]===o.ResourceModalsActionTypes.CreateResource?"Cancel":"Go Back",steps:s,active:!0}}case`go-to-step-${o.ResourceModalsActionTypes.CreateEnvs}`:case`open-${o.ResourceModalsActionTypes.CreateEnvs}`:{let t=e.steps,s="Cancel";if("open-create-envs"===r.type?t=[o.ResourceModalsActionTypes.CreateEnvs]:e.type===o.ResourceModalsActionTypes.BrowseProductsOrSelectResources&&(s="Go Back"),0===t.length||t[0]===o.ResourceModalsActionTypes.CreateResource&&t[1]!==o.ResourceModalsActionTypes.CreateEnvs||t[0]===o.ResourceModalsActionTypes.BrowseProducts&&!(0,n.showProjectConnectionAfterResourceCreation)(e.resource)||t[0]===o.ResourceModalsActionTypes.DeleteEnvs)throw Error(`Invalid steps "${t.join(",")}" for action "${r.type}"`);return{backOrCancelLabel:s,modalKey:e.modalKey,type:o.ResourceModalsActionTypes.CreateEnvs,resource:r.resource,connection:"connection"in r?r.connection:void 0,steps:t,active:!0}}case"browse-products-or-select-resources-switch-tabs":if(e.type!==o.ResourceModalsActionTypes.BrowseProductsOrSelectResources)throw Error('Cannot switch tabs outside of the "browse-stores-or-select-existing" step');return{modalKey:e.modalKey,steps:e.steps,type:e.type,tab:r.tab,active:!0};case"back":if(e.type===o.ResourceModalsActionTypes.CreateEnvs&&"Go Back"===e.backOrCancelLabel&&e.steps[0]===o.ResourceModalsActionTypes.BrowseProductsOrSelectResources)return{modalKey:e.modalKey,steps:e.steps,type:o.ResourceModalsActionTypes.BrowseProductsOrSelectResources,tab:"browse-existing",active:!0};if("create-resource"===e.type)switch(e.steps[0]){case o.ResourceModalsActionTypes.BrowseProductsOrSelectResources:return{modalKey:e.modalKey,steps:e.steps,type:o.ResourceModalsActionTypes.BrowseProductsOrSelectResources,tab:"browse-new",active:!0};case o.ResourceModalsActionTypes.BrowseProducts:return{modalKey:e.modalKey,steps:e.steps,type:o.ResourceModalsActionTypes.BrowseProducts,active:!0}}return s(),{...e,active:!1};case"close":return s(),{...e,active:!1};case"animation-done":return{...a,modalKey:e.modalKey+1};case"resource-updated":if(e.type===o.ResourceModalsActionTypes.ModalClosed)return e;return{...e,resource:r.resource,isConnected:r.isConnected};case"open-delete-envs":return{...e,active:!0,resource:r.resource,resourceId:r.resourceId,connections:r.connections,type:o.ResourceModalsActionTypes.DeleteEnvs,steps:[o.ResourceModalsActionTypes.DeleteEnvs]}}}})({hasProject:m,onClose:h})(e,t),[m,h]),[f,g]=(0,s.useReducer)(y,a);(0,s.useEffect)(()=>{p&&(m?g({type:"open-browse-products-or-select-resources",tab:"browse-new"}):g({type:"open-browse-products"}))},[p,g,m]);let j=(0,s.useMemo)(()=>({state:f,dispatch:g,protocolType:d}),[f,d]),v=(0,i.getResourceModalsContext)();return(0,t.jsxs)(v.Provider,{value:j,children:[u,l]})}e.s(["ResourceModalsProviderBase",()=>l])},3788585,e=>{"use strict";var t=e.i(1146226),s=e.i(5169864),r=e.i(553769),o=e.i(57106);function i(e){let{buttonCaption:i,integrations:n,showHeader:c=!0}=e,a=n.map(e=>e.name),l=a.length>1?`${a.slice(0,-1).join(", ")}, and ${a[a.length-1]}`:a[0];return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[c?(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:"Accept Terms & Conditions"}),(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:['By clicking "',i,'", you agree to:']})]}):(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:['By clicking "',i,'", you agree to:']}),(0,t.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,t.jsx)("li",{children:(0,t.jsx)(o.Link,{external:!0,href:"/legal/integration-marketplace-end-users-addendum",type:"primary",children:"Vercel Integration Marketplace End User Addendum"})}),n.map(e=>(0,t.jsxs)(s.default.Fragment,{children:[(0,t.jsx)("li",{children:(0,t.jsx)(o.Link,{external:!0,href:e.eulaDocUri,type:"primary",children:(0,r.isAwsIntegration)(e)?`${e.name} Customer Agreement`:`${e.name} EULA`})}),(0,t.jsx)("li",{children:(0,t.jsxs)(o.Link,{external:!0,href:e.privacyDocUri,type:"primary",children:[e.name," Privacy Policy"]})})]},e.id))]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-14 text-xs",children:["Vercel may share certain information from your account such as your"," ",(0,t.jsx)("span",{className:"font-medium",children:"Vercel ID"}),","," ",(0,t.jsx)("span",{className:"font-medium",children:"email address"}),", or"," ",(0,t.jsx)("span",{className:"font-medium",children:"usage data"})," with"," ",l,"."]}),(0,t.jsxs)("p",{className:"text-copy-14 text-xs",children:["See"," ",n.map((e,r)=>(0,t.jsxs)(s.default.Fragment,{children:[(0,t.jsxs)(o.Link,{href:e.privacyDocUri,external:!0,target:"_blank",type:"primary",children:[e.name,"'s Privacy Policy"]}),r<n.length-1&&(r===n.length-2?", and ":", ")]},e.id))," ","for how your information may be used."]}),n.some(e=>(0,r.isAwsIntegration)(e))?(0,t.jsxs)("p",{className:"text-copy-14 text-xs",children:['AWS will receive account data such as browser information and usage patterns for fraud prevention purposes. Click "',i,'" to proceed.']}):null]})]})}e.s(["TermsAndConditions",()=>i])}]);

//# debugId=d2c1934c-cabd-3f69-13a9-c127df3274a8
//# sourceMappingURL=d78253a4c727caff.js.map
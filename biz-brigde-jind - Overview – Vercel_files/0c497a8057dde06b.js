;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="c77d4238-526f-d3ee-3e79-45b25f8c992c")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7948698,5921732,408695,e=>{"use strict";let t,r;var a=e.i(2957938),i=e.i(5972454),n=e.i(8973103),s=e.i(3683485),o=e.i(7548658);let l=Symbol.for("effect/Clock"),u=i.GenericTag("effect/Clock"),c=0x80000000-1,d={unsafeSchedule(e,t){let r=n.toMillis(t);if(r>c)return s.constFalse;let a=!1,i=setTimeout(()=>{a=!0,e()},r);return()=>(clearTimeout(i),!a)}},p=(r=BigInt(1e6),"undefined"==typeof performance?()=>BigInt(Date.now())*r:()=>(void 0===t&&(t=BigInt(Date.now())*r-BigInt(Math.round(1e6*performance.now()))),t+BigInt(Math.round(1e6*performance.now())))),h=function(){let e="object"==typeof a.default&&"hrtime"in a.default&&"function"==typeof a.default.hrtime.bigint?a.default.hrtime:void 0;if(!e)return p;let t=p()-e.bigint();return()=>t+e.bigint()}();class f{[l]=l;unsafeCurrentTimeMillis(){return Date.now()}unsafeCurrentTimeNanos(){return h()}currentTimeMillis=o.sync(()=>this.unsafeCurrentTimeMillis());currentTimeNanos=o.sync(()=>this.unsafeCurrentTimeNanos());scheduler(){return o.succeed(d)}sleep(e){return o.async(t=>{let r=d.unsafeSchedule(()=>t(o.void),e);return o.asVoid(o.sync(r))})}}e.s(["ClockTypeId",0,l,"clockTag",0,u,"make",0,()=>new f],7948698);var m=e.i(138042),g=e.i(7459383);e.i(6816077);var y=e.i(6712028),b=e.i(4935619);b.isNumber,m.number;let S=y.number,v=y.greaterThanOrEqualTo(S),k=y.clamp(S),w=(0,s.dual)(2,(e,t)=>{let r=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,i=r>a?r:a;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)});e.s(["Order",0,S,"clamp",0,k,"greaterThanOrEqualTo",0,v,"nextPow2",0,e=>Math.max(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))),2),"parse",0,e=>{if("NaN"===e)return g.some(NaN);if("Infinity"===e)return g.some(1/0);if("-Infinity"===e)return g.some(-1/0);if(""===e.trim())return g.none;let t=Number(e);return Number.isNaN(t)?g.none:g.some(t)},"remainder",0,w,"sign",0,e=>S(e,0)],5921732),b.isRegExp,e.s(["escape",0,e=>e.replace(/[/\\^$*+?.()|[\]{}]/g,"\\$&")],408695)},194400,e=>{"use strict";var t=e.i(5283034),r=e.i(1331084),a=e.i(3683485),i=e.i(4935619);let n="InvalidData",s="MissingData",o="SourceUnavailable",l="Unsupported",u=Symbol.for("effect/ConfigError"),c={_tag:"ConfigError",[u]:u},d=(e,t)=>{let r=Object.create(c);return r._op="And",r.left=e,r.right=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} and ${this.right}`}}),Object.defineProperty(r,"message",{enumerable:!1,get(){return this.toString()}}),r},p=(e,t)=>{let r=Object.create(c);return r._op="Or",r.left=e,r.right=t,Object.defineProperty(r,"toString",{enumerable:!1,value(){return`${this.left} or ${this.right}`}}),Object.defineProperty(r,"message",{enumerable:!1,get(){return this.toString()}}),r},h=function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pathDelim:"."},s=Object.create(c);return s._op=n,s.path=e,s.message=r,Object.defineProperty(s,"toString",{enumerable:!1,value(){let e=(0,a.pipe)(this.path,t.join(i.pathDelim));return`(Invalid data at ${e}: "${this.message}")`}}),s},f=function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pathDelim:"."},n=Object.create(c);return n._op=s,n.path=e,n.message=r,Object.defineProperty(n,"toString",{enumerable:!1,value(){let e=(0,a.pipe)(this.path,t.join(i.pathDelim));return`(Missing data at ${e}: "${this.message}")`}}),n},m=function(e,r,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{pathDelim:"."},s=Object.create(c);return s._op=o,s.path=e,s.message=r,s.cause=i,Object.defineProperty(s,"toString",{enumerable:!1,value(){let e=(0,a.pipe)(this.path,t.join(n.pathDelim));return`(Source unavailable at ${e}: "${this.message}")`}}),s},g=function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{pathDelim:"."},n=Object.create(c);return n._op=l,n.path=e,n.message=r,Object.defineProperty(n,"toString",{enumerable:!1,value(){let e=(0,a.pipe)(this.path,t.join(i.pathDelim));return`(Unsupported operation at ${e}: "${this.message}")`}}),n},y=(0,a.dual)(2,(e,t)=>{switch(e._op){case"And":return d(y(e.left,t),y(e.right,t));case"Or":return p(y(e.left,t),y(e.right,t));case n:return h([...t,...e.path],e.message);case s:return f([...t,...e.path],e.message);case o:return m([...t,...e.path],e.message,e.cause);case l:return g([...t,...e.path],e.message)}}),b={andCase:(e,t,r)=>t&&r,orCase:(e,t,r)=>t&&r,invalidDataCase:a.constFalse,missingDataCase:a.constTrue,sourceUnavailableCase:a.constFalse,unsupportedCase:a.constFalse},S=(0,a.dual)(3,(e,t,a)=>{let i=[e],u=[];for(;i.length>0;){let e=i.pop();switch(e._op){case"And":i.push(e.right),i.push(e.left),u.push(r.left({_op:"AndCase"}));break;case"Or":i.push(e.right),i.push(e.left),u.push(r.left({_op:"OrCase"}));break;case n:u.push(r.right(a.invalidDataCase(t,e.path,e.message)));break;case s:u.push(r.right(a.missingDataCase(t,e.path,e.message)));break;case o:u.push(r.right(a.sourceUnavailableCase(t,e.path,e.message,e.cause)));break;case l:u.push(r.right(a.unsupportedCase(t,e.path,e.message)))}}let c=[];for(;u.length>0;){let e=u.pop();switch(e._op){case"Left":switch(e.left._op){case"AndCase":{let e=c.pop(),r=c.pop(),i=a.andCase(t,e,r);c.push(i);break}case"OrCase":{let e=c.pop(),r=c.pop(),i=a.orCase(t,e,r);c.push(i)}}break;case"Right":c.push(e.right)}}if(0===c.length)throw Error("BUG: ConfigError.reduceWithContext - please report an issue at https://github.com/Effect-TS/effect/issues");return c.pop()});e.s(["And",0,d,"ConfigErrorTypeId",0,u,"InvalidData",0,h,"MissingData",0,f,"Or",0,p,"SourceUnavailable",0,m,"Unsupported",0,g,"isAnd",0,e=>"And"===e._op,"isConfigError",0,e=>(0,i.hasProperty)(e,u),"isInvalidData",0,e=>e._op===n,"isMissingData",0,e=>e._op===s,"isMissingDataOnly",0,e=>S(e,void 0,b),"isOr",0,e=>"Or"===e._op,"isSourceUnavailable",0,e=>e._op===o,"isUnsupported",0,e=>e._op===l,"prefixed",0,y,"reduceWithContext",0,S],194400)},7294722,5166253,1029151,9347119,5525866,3427637,e=>{"use strict";let t,r;var a=e.i(5283034),i=e.i(5972454),n=e.i(8973103),s=e.i(3683485),o=e.i(9159985),l=e.i(7948698),u=e.i(2957938),c=e.i(1331084),d=e.i(5015632),p=e.i(9390854),h=e.i(5921732),f=e.i(8815901),m=e.i(9960543);e.i(4935619);var g=e.i(408695),y=e.i(194400),b=e.i(6774608);let S={_tag:"Empty"},v=(0,s.dual)(2,(e,t)=>({_tag:"AndThen",first:e,second:t})),k=(0,s.dual)(2,(e,t)=>v(e,{_tag:"MapName",f:t})),w=(0,s.dual)(2,(e,t)=>v(e,{_tag:"Nested",name:t})),E=(0,s.dual)(2,(e,t)=>v(e,{_tag:"Unnested",name:t})),x=(0,s.dual)(2,(e,t)=>{let r=b.of(t),i=e;for(;b.isCons(r);){let e=r.head;switch(e._tag){case"Empty":r=r.tail;break;case"AndThen":r=b.cons(e.first,b.cons(e.second,r.tail));break;case"MapName":i=a.map(i,e.f),r=r.tail;break;case"Nested":i=a.prepend(i,e.name),r=r.tail;break;case"Unnested":if(!(0,s.pipe)(a.head(i),f.contains(e.name)))return c.left(y.MissingData(i,`Expected ${e.name} to be in path in ConfigProvider#unnested`));i=a.tailNonEmpty(i),r=r.tail}}return c.right(i)});var I=e.i(7548658);let T="Constant",C="Fail",R="Fallback",F="Described",A="Lazy",O="MapOrFail",_="Nested",M="Primitive",D="Sequence",N="HashMap",z="ZipWith";e.s(["OP_CONSTANT",0,T,"OP_DESCRIBED",0,F,"OP_FAIL",0,C,"OP_FALLBACK",0,R,"OP_HASHMAP",0,N,"OP_LAZY",0,A,"OP_MAP_OR_FAIL",0,O,"OP_NESTED",0,_,"OP_PRIMITIVE",0,M,"OP_SEQUENCE",0,D,"OP_ZIP_WITH",0,z],5166253);let P=(e,t)=>[...e,...t],L=Symbol.for("effect/ConfigProvider"),U=i.GenericTag("effect/ConfigProvider"),j=Symbol.for("effect/ConfigProviderFlat"),W=e=>({[j]:j,patch:e.patch,load:function(t,r){let a=!(arguments.length>2)||void 0===arguments[2]||arguments[2];return e.load(t,r,a)},enumerateChildren:e.enumerateChildren}),q=e=>({[L]:L,pipe(){return(0,m.pipeArguments)(this,arguments)},...{load:t=>I.flatMap($(e,a.empty(),t,!1),e=>f.match(a.head(e),{onNone:()=>I.fail(y.MissingData(a.empty(),`Expected a single value having structure: ${t}`)),onSome:I.succeed})),flattened:e}}),B=e=>{let{pathDelim:t,seqDelim:r}=Object.assign({},{pathDelim:"_",seqDelim:","},e),i=()=>void 0!==u.default&&"env"in u.default&&"object"==typeof u.default.env?u.default.env:{};return q(W({load:function(e,n){let o=!(arguments.length>2)||void 0===arguments[2]||arguments[2],l=(0,s.pipe)(e,a.join(t)),u=i(),c=l in u?f.some(u[l]):f.none();return(0,s.pipe)(c,I.mapError(()=>y.MissingData(e,`Expected ${l} to exist in the process context`)),I.flatMap(t=>G(t,e,n,r,o)))},enumerateChildren:e=>I.sync(()=>{let r=Object.keys(i()).map(e=>e.toUpperCase().split(t)).filter(t=>{for(let r=0;r<e.length;r++){let i=(0,s.pipe)(e,a.unsafeGet(r)),n=t[r];if(void 0===n||i!==n)return!1}return!0}).flatMap(t=>t.slice(e.length,e.length+1));return p.fromIterable(r)}),patch:S}))},$=(e,t,r,i)=>{switch(r._tag){case T:return I.succeed(a.of(r.value));case F:return I.suspend(()=>$(e,t,r.config,i));case C:return I.fail(y.MissingData(t,r.message));case R:return(0,s.pipe)(I.suspend(()=>$(e,t,r.first,i)),I.catchAll(a=>r.condition(a)?(0,s.pipe)($(e,t,r.second,i),I.catchAll(e=>I.fail(y.Or(a,e)))):I.fail(a)));case A:return I.suspend(()=>$(e,t,r.config(),i));case O:return I.suspend(()=>(0,s.pipe)($(e,t,r.original,i),I.flatMap(I.forEachSequential(e=>(0,s.pipe)(r.mapOrFail(e),I.mapError(y.prefixed(((e,t)=>{let r=t;if("Nested"===r._tag){let t=e.slice();for(;"Nested"===r._tag;)t.push(r.name),r=r.config;return t}return e})(t,r.original))))))));case _:return I.suspend(()=>$(e,P(t,a.of(r.name)),r.config,i));case M:return(0,s.pipe)(x(t,e.patch),I.flatMap(t=>(0,s.pipe)(e.load(t,r,i),I.flatMap(e=>{if(0===e.length){let e=(0,s.pipe)(a.last(t),f.getOrElse(()=>"<n/a>"));return I.fail(y.MissingData([],`Expected ${r.description} with name ${e}`))}return I.succeed(e)}))));case D:return(0,s.pipe)(x(t,e.patch),I.flatMap(i=>(0,s.pipe)(e.enumerateChildren(i),I.flatMap(J),I.flatMap(i=>0===i.length?I.suspend(()=>I.map($(e,t,r.config,!0),a.of)):(0,s.pipe)(I.forEachSequential(i,i=>$(e,a.append(t,`[${i}]`),r.config,!0)),I.map(e=>{let t=a.flatten(e);return 0===t.length?a.of(a.empty()):a.of(t)}))))));case N:return I.suspend(()=>(0,s.pipe)(x(t,e.patch),I.flatMap(t=>(0,s.pipe)(e.enumerateChildren(t),I.flatMap(n=>(0,s.pipe)(n,I.forEachSequential(n=>$(e,P(t,a.of(n)),r.valueConfig,i)),I.map(e=>0===e.length?a.of(d.empty()):(0,s.pipe)(K(e),a.map(e=>d.fromIterable(a.zip(a.fromIterable(n),e)))))))))));case z:return I.suspend(()=>(0,s.pipe)($(e,t,r.left,i),I.either,I.flatMap(n=>(0,s.pipe)($(e,t,r.right,i),I.either,I.flatMap(e=>{if(c.isLeft(n)&&c.isLeft(e))return I.fail(y.And(n.left,e.left));if(c.isLeft(n)&&c.isRight(e))return I.fail(n.left);if(c.isRight(n)&&c.isLeft(e))return I.fail(e.left);if(c.isRight(n)&&c.isRight(e)){var i,o;let l,u,d=(0,s.pipe)(t,a.join(".")),p=V(t,d),[h,m]=(i=(0,s.pipe)(n.right,a.map(c.right)),o=(0,s.pipe)(e.right,a.map(c.right)),l=a.unfold(i.length,e=>e>=o.length?f.none():f.some([p(e),e+1])),u=a.unfold(o.length,e=>e>=i.length?f.none():f.some([p(e),e+1])),[P(i,l),P(o,u)]);return(0,s.pipe)(h,a.zip(m),I.forEachSequential(e=>{let[t,a]=e;return(0,s.pipe)(I.zip(t,a),I.map(e=>{let[t,a]=e;return r.zip(t,a)}))}))}throw Error("BUG: ConfigProvider.fromFlatLoop - please report an issue at https://github.com/Effect-TS/effect/issues")})))))}},V=(e,t)=>r=>c.left(y.MissingData(e,`The element at index ${r} in a sequence at path "${t}" was missing`)),H=((e,t)=>q(W({load:(t,r)=>e.flattened.load(t,r,!0),enumerateChildren:t=>e.flattened.enumerateChildren(t),patch:w(e.flattened.patch,t)})),(e,t)=>W({load:(r,a,i)=>(0,s.pipe)(x(r,e.patch),I.flatMap(t=>e.load(t,a,i)),I.catchAll(e=>(0,s.pipe)(I.sync(t),I.flatMap(t=>(0,s.pipe)(x(r,t.patch),I.flatMap(e=>t.load(e,a,i)),I.catchAll(t=>I.fail(y.Or(e,t)))))))),enumerateChildren:r=>(0,s.pipe)(x(r,e.patch),I.flatMap(t=>e.enumerateChildren(t)),I.either,I.flatMap(e=>(0,s.pipe)(I.sync(t),I.flatMap(t=>(0,s.pipe)(x(r,t.patch),I.flatMap(e=>t.enumerateChildren(e)),I.either,I.flatMap(t=>{if(c.isLeft(e)&&c.isLeft(t))return I.fail(y.And(e.left,t.left));if(c.isLeft(e)&&c.isRight(t))return I.succeed(t.right);if(c.isRight(e)&&c.isLeft(t))return I.succeed(e.right);if(c.isRight(e)&&c.isRight(t))return I.succeed((0,s.pipe)(e.right,p.union(t.right)));throw Error("BUG: ConfigProvider.orElseFlat - please report an issue at https://github.com/Effect-TS/effect/issues")})))))),patch:S})),G=(e,t,r,i,n)=>n?(0,s.pipe)(e.split(RegExp(`\\s*${g.escape(i)}\\s*`)),I.forEachSequential(e=>r.parse(e.trim())),I.mapError(y.prefixed(t))):(0,s.pipe)(r.parse(e),I.mapBoth({onFailure:y.prefixed(t),onSuccess:a.of})),K=e=>Object.keys(e[0]).map(t=>e.map(e=>e[t])),J=e=>(0,s.pipe)(I.forEachSequential(e,Q),I.mapBoth({onFailure:()=>a.empty(),onSuccess:a.sort(h.Order)}),I.either,I.map(c.merge)),Z=/^(\[(\d+)\])$/,Q=e=>{let t=e.match(Z);if(null!==t){let e=t[2];return(0,s.pipe)(void 0!==e&&e.length>0?f.some(e):f.none(),f.flatMap(Y))}return f.none()},Y=e=>{let t=Number.parseInt(e);return Number.isNaN(t)?f.none():f.some(t)};e.s(["configProviderTag",0,U,"fromEnv",0,B],1029151);let X=Symbol.for("effect/Console"),ee=i.GenericTag("effect/Console"),et={[X]:X,assert(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return I.sync(()=>{console.assert(e,...r)})},clear:I.sync(()=>{console.clear()}),count:e=>I.sync(()=>{console.count(e)}),countReset:e=>I.sync(()=>{console.countReset(e)}),debug(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return I.sync(()=>{console.debug(...t)})},dir:(e,t)=>I.sync(()=>{console.dir(e,t)}),dirxml(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return I.sync(()=>{console.dirxml(...t)})},error(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return I.sync(()=>{console.error(...t)})},group:e=>e?.collapsed?I.sync(()=>console.groupCollapsed(e?.label)):I.sync(()=>console.group(e?.label)),groupEnd:I.sync(()=>{console.groupEnd()}),info(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return I.sync(()=>{console.info(...t)})},log(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return I.sync(()=>{console.log(...t)})},table:(e,t)=>I.sync(()=>{console.table(e,t)}),time:e=>I.sync(()=>console.time(e)),timeEnd:e=>I.sync(()=>console.timeEnd(e)),timeLog(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return I.sync(()=>{console.timeLog(e,...r)})},trace(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return I.sync(()=>{console.trace(...t)})},warn(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return I.sync(()=>{console.warn(...t)})},unsafe:console};e.s(["consoleTag",0,ee,"defaultConsole",0,et],9347119);var er=e.i(7862555),ea=e.i(2090854),ei=e.i(4138091);let en=Symbol.for("effect/Random"),es=i.GenericTag("effect/Random");class eo{seed;[en]=en;PRNG;constructor(e){this.seed=e,this.PRNG=new ei.PCGRandom(e)}get next(){return I.sync(()=>this.PRNG.number())}get nextBoolean(){return I.map(this.next,e=>e>.5)}get nextInt(){return I.sync(()=>this.PRNG.integer(Number.MAX_SAFE_INTEGER))}nextRange(e,t){return I.map(this.next,r=>(t-e)*r+e)}nextIntBetween(e,t){return I.sync(()=>this.PRNG.integer(t-e)+e)}shuffle(e){return el(e,e=>this.nextIntBetween(0,e))}}let el=(e,t)=>I.suspend(()=>(0,s.pipe)(I.sync(()=>Array.from(e)),I.flatMap(e=>{let r=[];for(let t=e.length;t>=2;t-=1)r.push(t);return(0,s.pipe)(r,I.forEachSequentialDiscard(r=>(0,s.pipe)(t(r),I.map(t=>eu(e,r-1,t)))),I.as(er.fromIterable(e)))}))),eu=(e,t,r)=>{let a=e[t];return e[t]=e[r],e[r]=a,e},ec=e=>new eo(ea.hash(e));class ed{values;[en]=en;index=0;constructor(e){if(this.values=e,0===e.length)throw Error("Requires at least one value")}getNextValue(){let e=this.values[this.index];return this.index=(this.index+1)%this.values.length,e}get next(){return I.sync(()=>{let e=this.getNextValue();return"number"==typeof e?Math.max(0,Math.min(1,e)):ea.hash(e)/0x7fffffff})}get nextBoolean(){return I.sync(()=>{let e=this.getNextValue();return"boolean"==typeof e?e:ea.hash(e)%2==0})}get nextInt(){return I.sync(()=>{let e=this.getNextValue();return"number"==typeof e&&Number.isFinite(e)?Math.round(e):Math.abs(ea.hash(e))})}nextRange(e,t){return I.map(this.next,r=>(t-e)*r+e)}nextIntBetween(e,t){return I.sync(()=>{let r=this.getNextValue();return"number"==typeof r&&Number.isFinite(r)?Math.max(e,Math.min(t-1,Math.round(r))):e+Math.abs(ea.hash(r))%(t-e)})}shuffle(e){return el(e,e=>this.nextIntBetween(0,e))}}e.s(["RandomTypeId",0,en,"fixed",0,e=>new ed(e),"make",0,ec,"randomTag",0,es],5525866);let ep=Symbol.for("effect/Tracer"),eh=e=>({[ep]:ep,...e}),ef=i.GenericTag("effect/Tracer"),em=i.GenericTag("effect/ParentSpan"),eg=(r=(t="abcdef0123456789").length,function(e){let a="";for(let i=0;i<e;i++)a+=t.charAt(Math.floor(Math.random()*r));return a});class ey{name;parent;context;startTime;kind;_tag="Span";spanId;traceId="native";sampled=!0;status;attributes;events=[];links;constructor(e,t,r,a,i,n){this.name=e,this.parent=t,this.context=r,this.startTime=i,this.kind=n,this.status={_tag:"Started",startTime:i},this.attributes=new Map,this.traceId="Some"===t._tag?t.value.traceId:eg(32),this.spanId=eg(16),this.links=Array.from(a)}end(e,t){this.status={_tag:"Ended",endTime:e,exit:t,startTime:this.status.startTime}}attribute(e,t){this.attributes.set(e,t)}event(e,t,r){this.events.push([e,t,r??{}])}addLinks(e){this.links.push(...e)}}let eb=eh({span:(e,t,r,a,i,n)=>new ey(e,t,r,a,i,n),context:e=>e()}),eS=i.Reference()("effect/Tracer/DisablePropagation",{defaultValue:s.constFalse});e.s(["DisablePropagation",0,eS,"TracerTypeId",0,ep,"addSpanStackTrace",0,e=>{if(e?.captureStackTrace===!1||e?.captureStackTrace!==void 0&&"boolean"!=typeof e.captureStackTrace)return e;let t=Error.stackTraceLimit;Error.stackTraceLimit=3;let r=Error();Error.stackTraceLimit=t;let a=!1;return{...e,captureStackTrace:()=>{if(!1!==a)return a;if(void 0!==r.stack){let e=r.stack.split("\n");if(void 0!==e[3])return a=e[3].trim()}}}},"externalSpan",0,e=>({_tag:"ExternalSpan",spanId:e.spanId,traceId:e.traceId,sampled:e.sampled??!0,context:e.context??i.empty()}),"make",0,eh,"nativeTracer",0,eb,"spanTag",0,em,"tracerTag",0,ef],3427637);let ev=(0,s.pipe)(i.empty(),i.add(l.clockTag,l.make()),i.add(ee,et),i.add(es,ec(Math.random())),i.add(U,B()),i.add(ef,eb)),ek=(0,o.globalValue)(Symbol.for("effect/DefaultServices/currentServices"),()=>I.fiberRefUnsafeMakeContext(ev)),ew=e=>I.withFiberRuntime(t=>e(t.currentDefaultServices)),eE=e=>ew(t=>e(t.unsafeMap.get(l.clockTag.key))),ex=eE(e=>e.currentTimeMillis),eI=eE(e=>e.currentTimeNanos),eT=(0,s.dual)(2,(e,t)=>I.fiberRefLocallyWith(ek,i.add(l.clockTag,t))(e)),eC=(0,s.dual)(2,(e,t)=>I.fiberRefLocallyWith(ek,i.add(U,t))(e)),eR=e=>ew(t=>e(t.unsafeMap.get(U.key))),eF=e=>ew(t=>e(t.unsafeMap.get(es.key))),eA=(0,s.dual)(2,(e,t)=>I.fiberRefLocallyWith(ek,i.add(es,t))(e)),eO=eF(e=>e.next),e_=eF(e=>e.nextInt),eM=eF(e=>e.nextBoolean),eD=(0,s.dual)(2,(e,t)=>I.fiberRefLocallyWith(ek,i.add(ef,t))(e));e.s(["choice",0,e=>{let t=a.fromIterable(e);return I.map(0===t.length?I.fail(new I.NoSuchElementException("Cannot select a random element from an empty array")):eF(e=>e.nextIntBetween(0,t.length)),e=>t[e])},"clockWith",0,eE,"config",0,e=>eR(t=>t.load(e)),"configProviderWith",0,eR,"currentServices",0,ek,"currentTimeMillis",0,ex,"currentTimeNanos",0,eI,"next",0,eO,"nextBoolean",0,eM,"nextInt",0,e_,"nextIntBetween",0,(e,t)=>eF(r=>r.nextIntBetween(e,t)),"nextRange",0,(e,t)=>eF(r=>r.nextRange(e,t)),"randomWith",0,eF,"shuffle",0,e=>eF(t=>t.shuffle(e)),"sleep",0,e=>{let t=n.decode(e);return eE(e=>e.sleep(t))},"tracerWith",0,e=>ew(t=>e(t.unsafeMap.get(ef.key))),"withClock",0,eT,"withConfigProvider",0,eC,"withRandom",0,eA,"withTracer",0,eD],7294722)},2725920,e=>{"use strict";var t=e.i(138042),r=e.i(3683485),a=e.i(6712028);e.i(4935619).isBoolean,t.boolean,a.boolean,e.s(["not",0,e=>!e])},7525378,592224,1177850,283075,9674368,8317886,5886356,2273461,9246450,5369340,3196727,6532885,2916763,8755077,6211456,219787,8531418,1253121,7897461,4039787,e=>{"use strict";var t=e.i(5242335);t.EffectTypeId,t.StreamTypeId,t.SinkTypeId,t.ChannelTypeId;let r=t.EffectPrototype,a=t.CommitPrototype;t.StructuralCommitPrototype;let i=t.Base,n=t.StructuralBase;class s extends i{}class o extends n{}e.s(["Class",()=>s,"CommitPrototype",0,a,"EffectPrototype",0,r,"StructuralClass",()=>o],7525378);var l=e.i(3683485);let u="Sequential",c="Parallel",d="ParallelN",p={_tag:u},h={_tag:c},f=e=>({_tag:d,parallelism:e}),m=(0,l.dual)(2,(e,t)=>{switch(e._tag){case u:return t.onSequential();case c:return t.onParallel();case d:return t.onParallelN(e.parallelism)}});e.s(["isParallel",0,e=>e._tag===c,"isParallelN",0,e=>e._tag===d,"isSequential",0,e=>e._tag===u,"match",0,m,"parallel",0,h,"parallelN",0,f,"sequential",0,p],592224),e.s(["parallel",0,h,"parallelN",0,f,"sequential",0,p],1177850);var g=e.i(5283034),y=e.i(3628392),b=e.i(9390854),S=e.i(8815901),v=e.i(9960543),k=e.i(7548658);function w(e){return new I(e)}function E(){return w(new Map)}let x=Symbol.for("effect/FiberRefs");class I{locals;[x]=x;constructor(e){this.locals=e}pipe(){return(0,v.pipeArguments)(this,arguments)}}let T=function(e,t,r){let a,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=t,s=r,o=i;for(;void 0===a;)if(g.isNonEmptyReadonlyArray(n)&&g.isNonEmptyReadonlyArray(s)){let e=g.headNonEmpty(n)[0],t=g.tailNonEmpty(n),r=g.headNonEmpty(s)[0],i=g.headNonEmpty(s)[1],l=g.tailNonEmpty(s);e.startTimeMillis<r.startTimeMillis?(s=l,o=!0):e.startTimeMillis>r.startTimeMillis?n=t:e.id<r.id?(s=l,o=!0):e.id>r.id?n=t:a=[i,o]}else a=[e.initial,!0];return a},C=(0,l.dual)(3,(e,t,r)=>{let a=new Map(e.locals);return r.locals.forEach((e,r)=>{let i=e[0][1];if(!e[0][0][y.symbol](t)){if(!a.has(r)){if(y.equals(i,r.initial))return;a.set(r,[[t,r.join(r.initial,i)]]);return}let n=a.get(r),[s,o]=T(r,n,e);if(o){let e=r.diff(s,i),o=n[0][1],l=r.join(o,r.patch(e)(o));if(!y.equals(o,l)){let e,i=n[0][0];e=i[y.symbol](t)?[[i,l],...n.slice(1)]:[[t,l],...n],a.set(r,e)}}}}),new I(a)}),R=(0,l.dual)(2,(e,t)=>{let r=new Map;return F(e,r,t),new I(r)}),F=(e,t,r)=>{e.locals.forEach((e,a)=>{let i=e[0][1],n=a.patch(a.fork)(i);y.equals(i,n)?t.set(a,e):t.set(a,[[r,n],...e])})},A=e=>b.fromIterable(e.locals.keys()),O=e=>k.forEachSequentialDiscard(A(e),t=>k.fiberRefSet(t,D(e,t))),_=(0,l.dual)(2,(e,t)=>{let r=new Map(e.locals);return r.delete(t),new I(r)}),M=(0,l.dual)(2,(e,t)=>e.locals.has(t)?S.some(g.headNonEmpty(e.locals.get(t))[1]):S.none()),D=(0,l.dual)(2,(e,t)=>(0,l.pipe)(M(e,t),S.getOrElse(()=>t.initial))),N=(0,l.dual)(2,(e,t)=>{let{fiberId:r,fiberRef:a,value:i}=t;if(0===e.locals.size)return new I(new Map([[a,[[r,i]]]]));let n=new Map(e.locals);return z(n,r,a,i),new I(n)}),z=(e,t,r,a)=>{let i,n=e.get(r)??[];if(g.isNonEmptyReadonlyArray(n)){let[e,r]=g.headNonEmpty(n);if(e[y.symbol](t))if(y.equals(r,a))return;else i=[[t,a],...n.slice(1)];else i=[[t,a],...n]}else i=[[t,a]];e.set(r,i)},P=(0,l.dual)(2,(e,t)=>{let{entries:r,forkAs:a}=t;if(0===e.locals.size)return new I(new Map(r));let i=new Map(e.locals);return void 0!==a&&F(e,i,a),r.forEach(e=>{let[t,r]=e;1===r.length?z(i,r[0][0],t,r[0][1]):r.forEach(e=>{let[r,a]=e;z(i,r,t,a)})}),new I(i)});e.s(["FiberRefsSym",0,x,"delete_",0,_,"empty",()=>E,"fiberRefs",0,A,"forkAs",0,R,"get",0,M,"getOrDefault",0,D,"joinAs",0,C,"setAll",0,O,"unsafeMake",()=>w,"updateAs",0,N,"updateManyAs",0,P],283075),e.s(["delete",()=>_,"empty",0,E,"get",0,M,"getOrDefault",0,D,"joinAs",0,C,"setAll",0,O,"updateAs",0,N,"updateManyAs",0,P],9674368);let L="Empty",U="Remove",j="Update",W="AndThen",q={_tag:L},B=(e,t)=>{let r=new Map(e.locals),a=q;for(let[e,i]of t.locals.entries()){let t=g.headNonEmpty(i)[1],n=r.get(e);if(void 0!==n){let r=g.headNonEmpty(n)[1];(0,y.equals)(r,t)||(a=$({_tag:j,fiberRef:e,patch:e.diff(r,t)})(a))}else a=$({_tag:"Add",fiberRef:e,value:t})(a);r.delete(e)}for(let[e]of r.entries())a=$({_tag:U,fiberRef:e})(a);return a},$=(0,l.dual)(2,(e,t)=>({_tag:W,first:e,second:t})),V=(0,l.dual)(3,(e,t,r)=>{let a=r,i=g.of(e);for(;g.isNonEmptyReadonlyArray(i);){let e=g.headNonEmpty(i),r=g.tailNonEmpty(i);switch(e._tag){case L:i=r;break;case"Add":a=N(a,{fiberId:t,fiberRef:e.fiberRef,value:e.value}),i=r;break;case U:a=_(a,e.fiberRef),i=r;break;case j:{let n=D(a,e.fiberRef);a=N(a,{fiberId:t,fiberRef:e.fiberRef,value:e.fiberRef.patch(e.patch)(n)}),i=r;break}case W:i=g.prepend(e.first)(g.prepend(e.second)(r))}}return a});e.s(["diff",0,B,"patch",0,V],8317886);var H=e.i(2090854),G=e.i(4935619);let K="effect/FiberStatus",J=Symbol.for(K),Z="Done",Q="Running",Y="Suspended",X=H.string(`${K}-${Z}`);class ee{[J]=J;_tag=Z;[H.symbol](){return X}[y.symbol](e){return ei(e)&&e._tag===Z}}class et{runtimeFlags;[J]=J;_tag=Q;constructor(e){this.runtimeFlags=e}[H.symbol](){return(0,l.pipe)(H.hash(K),H.combine(H.hash(this._tag)),H.combine(H.hash(this.runtimeFlags)),H.cached(this))}[y.symbol](e){return ei(e)&&e._tag===Q&&this.runtimeFlags===e.runtimeFlags}}class er{runtimeFlags;blockingOn;[J]=J;_tag=Y;constructor(e,t){this.runtimeFlags=e,this.blockingOn=t}[H.symbol](){return(0,l.pipe)(H.hash(K),H.combine(H.hash(this._tag)),H.combine(H.hash(this.runtimeFlags)),H.combine(H.hash(this.blockingOn)),H.cached(this))}[y.symbol](e){return ei(e)&&e._tag===Y&&this.runtimeFlags===e.runtimeFlags&&y.equals(this.blockingOn,e.blockingOn)}}let ea=new ee,ei=e=>(0,G.hasProperty)(e,J);e.s(["done",0,ea,"isDone",0,e=>e._tag===Z,"isRunning",0,e=>e._tag===Q,"isSuspended",0,e=>e._tag===Y,"running",0,e=>new et(e),"suspended",0,(e,t)=>new er(e,t)],5886356);var en=e.i(5921732),es=e.i(6712028);let eo=k.logLevelAll,el=k.logLevelFatal,eu=k.logLevelError,ec=k.logLevelWarning,ed=k.logLevelInfo,ep=k.logLevelDebug,eh=k.logLevelTrace,ef=k.logLevelNone;k.allLogLevels;let em=(0,l.pipe)(en.Order,es.mapInput(e=>e.ordinal)),eg=es.greaterThan(em);e.s(["Debug",0,ep,"Error",0,eu,"Fatal",0,el,"Info",0,ed,"Trace",0,eh,"Warning",0,ec,"fromLiteral",0,e=>{switch(e){case"All":return eo;case"Debug":return ep;case"Error":return eu;case"Fatal":return el;case"Info":return ed;case"Trace":return eh;case"None":return ef;case"Warning":return ec}},"greaterThan",0,eg],2273461);var ey=e.i(5972454);e.i(1331084);var eb=e.i(9159985),eS=e.i(2873450),ev=e.i(1200317),ek=e.i(5246317),ew=e.i(4138091);let eE=Symbol.for("effect/Micro"),ex=Symbol.for("effect/Micro/MicroExit"),eI=e=>"object"==typeof e&&null!==e&&eE in e,eT=Symbol.for("effect/Micro/MicroCause"),eC={_E:l.identity};class eR extends globalThis.Error{_tag;traces;[eT];constructor(e,t,r){let a,i,n;const s=`MicroCause.${e}`;if(t instanceof globalThis.Error){a=`(${s}) ${t.name}`;const e=(i=t.message).split("\n").length;n=t.stack?`(${s}) ${t.stack.split("\n").slice(0,e+3).join("\n")}`:`${a}: ${i}`}else a=s,i=(0,eS.toStringUnknown)(t,0),n=`${a}: ${i}`;r.length>0&&(n+=`
    ${r.join("\n    ")}`),super(i),this._tag=e,this.traces=r,this[eT]=eC,this.name=a,this.stack=n}pipe(){return(0,v.pipeArguments)(this,arguments)}toString(){return this.stack}[eS.NodeInspectSymbol](){return this.stack}}class eF extends eR{error;constructor(e,t=[]){super("Fail",e,t),this.error=e}}let eA=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new eF(e,t)};class eO extends eR{defect;constructor(e,t=[]){super("Die",e,t),this.defect=e}}let e_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return new eO(e,t)};class eM extends eR{constructor(e=[]){super("Interrupt","interrupted",e)}}let eD=e=>"Fail"===e._tag,eN=e=>"Interrupt"===e._tag,ez=Symbol.for("effect/Micro/MicroFiber"),eP={_A:l.identity,_E:l.identity};class eL{context;interruptible;[ez];_stack=[];_observers=[];_exit;_children;currentOpCount=0;constructor(e,t=!0){this.context=e,this.interruptible=t,this[ez]=eP}getRef(e){return ev.unsafeGetReference(this.context,e)}addObserver(e){return this._exit?(e(this._exit),l.constVoid):(this._observers.push(e),()=>{let t=this._observers.indexOf(e);t>=0&&this._observers.splice(t,1)})}_interrupted=!1;unsafeInterrupt(){!this._exit&&(this._interrupted=!0,this.interruptible&&this.evaluate(tc))}unsafePoll(){return this._exit}evaluate(e){if(this._exit)return;if(void 0!==this._yielded){let e=this._yielded;this._yielded=void 0,e()}let t=this.runLoop(e);if(t===eG)return;let r=eU.interruptChildren&&eU.interruptChildren(this);if(void 0!==r)return this.evaluate(ti(r,()=>t));this._exit=t;for(let e=0;e<this._observers.length;e++)this._observers[e](t);this._observers.length=0}runLoop(e){let t=!1,r=e;this.currentOpCount=0;try{for(;;){if(this.currentOpCount++,!t&&this.getRef(tv).shouldYield(this)){t=!0;let e=r;r=ti(e5,()=>e)}if((r=r[eB](this))===eG){let e=this._yielded;if(ex in e)return this._yielded=void 0,e;return eG}}}catch(e){if(!(0,G.hasProperty)(r,eB))return td(`MicroFiber.runLoop: Not a valid effect: ${String(r)}`);return td(e)}}getCont(e){for(;;){let t=this._stack.pop();if(!t)return;let r=t[eH]&&t[eH](this);if(r)return{[e]:r};if(t[e])return t}}_yielded=void 0;yieldWith(e){return this._yielded=e,eG}children(){return this._children??=new Set}}let eU=(0,eb.globalValue)("effect/Micro/fiberMiddleware",()=>({interruptChildren:void 0})),ej=e=>e3(()=>{for(let t of e)t.unsafeInterrupt();let t=e[Symbol.iterator](),r=e3(()=>{let e=t.next();for(;!e.done;){if(e.value.unsafePoll()){e=t.next();continue}let a=e.value;return e7(e=>{a.addObserver(t=>{e(r)})})}return tp});return r}),eW=Symbol.for("effect/Micro/identifier"),eq=Symbol.for("effect/Micro/args"),eB=Symbol.for("effect/Micro/evaluate"),e$=Symbol.for("effect/Micro/successCont"),eV=Symbol.for("effect/Micro/failureCont"),eH=Symbol.for("effect/Micro/ensureCont"),eG=Symbol.for("effect/Micro/Yield"),eK={_A:l.identity,_E:l.identity,_R:l.identity},eJ={...r,_op:"Micro",[eE]:eK,pipe(){return(0,v.pipeArguments)(this,arguments)},[Symbol.iterator](){return new ew.SingleShotGen(new ew.YieldWrap(this))},toJSON(){return{_id:"Micro",op:this[eW],...eq in this?{args:this[eq]}:void 0}},toString(){return(0,eS.format)(this)},[eS.NodeInspectSymbol](){return(0,eS.format)(this)}};function eZ(e){return td("Micro.evaluate: Not implemented")}let eQ=e=>({...eJ,[eW]:e.op,[eB]:e.eval??eZ,[e$]:e.contA,[eV]:e.contE,[eH]:e.ensure}),eY=e=>{let t=eQ(e);return function(){let r=Object.create(t);return r[eq]=!1===e.single?arguments:arguments[0],r}},eX=e=>{let t={...eQ(e),[ex]:ex,_tag:e.op,get[e.prop](){return this[eq]},toJSON(){return{_id:"MicroExit",_tag:e.op,[e.prop]:this[eq]}},[y.symbol](t){return to(t)&&t._tag===e.op&&y.equals(this[eq],t[eq])},[H.symbol](){return H.cached(this,H.combine(H.string(e.op))(H.hash(this[eq])))}};return function(e){let r=Object.create(t);return r[eq]=e,r[e$]=void 0,r[eV]=void 0,r[eH]=void 0,r}},e0=eX({op:"Success",prop:"value",eval(e){let t=e.getCont(e$);return t?t[e$](this[eq],e):e.yieldWith(this)}}),e1=eX({op:"Failure",prop:"cause",eval(e){let t=e.getCont(eV);for(;eN(this[eq])&&t&&e.interruptible;)t=e.getCont(eV);return t?t[eV](this[eq],e):e.yieldWith(this)}}),e2=eY({op:"Sync",eval(e){let t=this[eq](),r=e.getCont(e$);return r?r[e$](t,e):e.yieldWith(tl(t))}}),e3=eY({op:"Suspend",eval(e){return this[eq]()}}),e5=eY({op:"Yield",eval(e){let t=!1;return e.getRef(tv).scheduleTask(()=>{t||e.evaluate(tp)},this[eq]??0),e.yieldWith(()=>{t=!0})}})(0),e4=e0(void 0),e8=eY({op:"WithMicroFiber",eval(e){return this[eq](e)}}),e6=eY({op:"Async",single:!1,eval(e){let t=this[eq][0],r=!1,a=!1,i=this[eq][1]?new AbortController:void 0,n=t(t=>{r||(r=!0,a?e.evaluate(t):a=t)},i?.signal);return!1!==a?a:(a=!0,e._yielded=()=>{r=!0},void 0===i&&void 0===n||e._stack.push(e9(()=>(r=!0,i?.abort(),n??tp))),eG)}}),e9=eY({op:"AsyncFinalizer",ensure(e){e.interruptible&&(e.interruptible=!1,e._stack.push(tO(!0)))},contE(e,t){return eN(e)?ti(this[eq](),()=>e1(e)):e1(e)}}),e7=e=>e6(e,e.length>=2),te=(0,l.dual)(2,(e,t)=>ts(e,e=>t)),tt=(0,l.dual)(2,(e,t)=>ti(e,e=>{let r=eI(t)?t:"function"==typeof t?t(e):t;return eI(r)?r:e0(r)})),tr=((e,t)=>ti(e,e=>{let r=eI(t)?t:"function"==typeof t?t(e):t;return eI(r)?te(r,e):e0(e)}),e=>tT(e,{onFailure:tu,onSuccess:tl})),ta=(0,l.dual)(2,(e,t)=>{let r;return r=[e,t],e8(e=>e7(t=>{let a=!1,i=new Set,n=e=>{a=!0,t(0===i.size?e:ti(ej(i),()=>e))};for(let t of r){if(a)break;let r=tP(e,t_(t),!0,!0);i.add(r),r.addObserver(e=>{i.delete(r),n(e)})}return ej(i)}))}),ti=(0,l.dual)(2,(e,t)=>{let r=Object.create(tn);return r[eq]=e,r[e$]=t,r}),tn=eQ({op:"OnSuccess",eval(e){return e._stack.push(this),this[eq]}}),ts=(0,l.dual)(2,(e,t)=>ti(e,e=>e0(t(e)))),to=e=>(0,G.hasProperty)(e,ex),tl=e0,tu=e1,tc=tu(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new eM(e)}()),td=e=>tu(e_(e)),tp=tl(void 0),th=e=>{for(let t of e)if("Failure"===t._tag)return t;return tp},tf="setImmediate"in globalThis?globalThis.setImmediate:e=>setTimeout(e,0);class tm{tasks=[];running=!1;scheduleTask(e,t){this.tasks.push(e),this.running||(this.running=!0,tf(this.afterScheduled))}afterScheduled=()=>{this.running=!1,this.runTasks()};runTasks(){let e=this.tasks;this.tasks=[];for(let t=0,r=e.length;t<r;t++)e[t]()}shouldYield(e){return e.currentOpCount>=e.getRef(tb)}flush(){for(;this.tasks.length>0;)this.runTasks()}}let tg=(0,l.dual)(2,(e,t)=>e8(r=>{let a=r.context;return r.context=t(a),tA(e,()=>(r.context=a,e4))})),ty=(0,l.dual)(2,(e,t)=>tg(e,ey.merge(t)));(e,t,r)=>tg(e,ey.add(t,r));class tb extends ey.Reference()("effect/Micro/currentMaxOpsBeforeYield",{defaultValue:()=>2048}){}class tS extends ey.Reference()("effect/Micro/currentConcurrency",{defaultValue:()=>"unbounded"}){}class tv extends ey.Reference()("effect/Micro/currentScheduler",{defaultValue:()=>new tm}){}e=>eI(e[1]),(e,t)=>Array.from({length:t},()=>e);let tk=(0,l.dual)(2,(e,t)=>{let r=Object.create(tw);return r[eq]=e,r[eV]=t,r}),tw=eQ({op:"OnFailure",eval(e){return e._stack.push(this),this[eq]}}),tE=(0,l.dual)(3,(e,t,r)=>tk(e,e=>t(e)?r(e):e1(e))),tx=((e,t)=>tE(e,eD,e=>t(e.error)),(0,l.dual)(2,(e,t)=>{let r=Object.create(tI);return r[eq]=e,r[e$]=t.onSuccess,r[eV]=t.onFailure,r})),tI=eQ({op:"OnSuccessAndFailure",eval(e){return e._stack.push(this),this[eq]}}),tT=(0,l.dual)(2,(e,t)=>tx(e,{onFailure:e=>e2(()=>t.onFailure(e)),onSuccess:e=>e2(()=>t.onSuccess(e))})),tC=((e,t)=>tx(e,{onFailure:e=>"Fail"===e._tag?t.onFailure(e.error):e1(e),onSuccess:t.onSuccess}),e=>e7(t=>{let r=setTimeout(()=>{t(e4)},e);return e2(()=>{clearTimeout(r)})})),tR=((e,t)=>ta(e,tt(t_(tC(t.duration)),t.onTimeout)),Symbol.for("effect/Micro/MicroScope"));class tF{[tR];state={_tag:"Open",finalizers:new Set};constructor(){this[tR]=tR}unsafeAddFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.add(e)}addFinalizer(e){return e3(()=>"Open"===this.state._tag?(this.state.finalizers.add(e),e4):e(this.state.exit))}unsafeRemoveFinalizer(e){"Open"===this.state._tag&&this.state.finalizers.delete(e)}close(e){return e3(()=>{if("Open"===this.state._tag){let t=Array.from(this.state.finalizers).reverse();return this.state={_tag:"Closed",exit:e},ti(tz(t,t=>tr(t(e))),th)}return e4})}get fork(){return e2(()=>{let e=new tF;if("Closed"===this.state._tag)return e.state=this.state,e;function t(t){return e.close(t)}return this.state.finalizers.add(t),e.unsafeAddFinalizer(e=>e2(()=>this.unsafeRemoveFinalizer(t))),e})}}let tA=(0,l.dual)(2,(e,t)=>tM(r=>tx(r(e),{onFailure:e=>ti(t(tu(e)),()=>e1(e)),onSuccess:e=>ti(t(tl(e)),()=>e0(e))}))),tO=((e,t,r)=>tA(e,e=>t(e)?r(e):tp),eY({op:"SetInterruptible",ensure(e){if(e.interruptible=this[eq],e._interrupted&&e.interruptible)return()=>tc}})),t_=e=>e8(t=>t.interruptible?e:(t.interruptible=!0,t._stack.push(tO(!1)),t._interrupted)?tc:e),tM=e=>e8(t=>t.interruptible?(t.interruptible=!1,t._stack.push(tO(!0)),e(t_)):e(l.identity)),tD=(e,t)=>Array.isArray(e)||(0,G.isIterable)(e)?tz(e,l.identity,t):t?.discard?tz(Object.values(e),l.identity,t):e3(()=>{let r={};return te(tz(Object.entries(e),e=>{let[t,a]=e;return ts(a,e=>{r[t]=e})},{discard:!0,concurrency:t?.concurrency}),r)}),tN=eY({op:"While",contA(e,t){return(this[eq].step(e),this[eq].while())?(t._stack.push(this),this[eq].body()):tp},eval(e){return this[eq].while()?(e._stack.push(this),this[eq].body()):tp}}),tz=(e,t,r)=>e8(a=>{let i=r?.concurrency==="inherit"?a.getRef(tS):r?.concurrency??1,n="unbounded"===i?1/0:Math.max(1,i),s=g.fromIterable(e),o=s.length;if(0===o)return r?.discard?e4:e0([]);let l=r?.discard?void 0:Array(o),u=0;return 1===n?te(tN({while:()=>u<s.length,body:()=>t(s[u],u),step:l?e=>l[u++]=e:e=>u++}),l):e7(e=>{let r,i=new Set,c=0,d=0,p=!1,h=!1;return!function f(){for(p=!0;c<n&&u<o;){let m=u,g=s[m];u++,c++;try{let s=tP(a,t(g,m),!0,!0);i.add(s),s.addObserver(t=>{i.delete(s),h||("Failure"===t._tag?void 0===r&&(r=t,o=u,i.forEach(e=>e.unsafeInterrupt())):void 0!==l&&(l[m]=t.value),d++,c--,d===o?e(r??e0(l)):!p&&c<n&&f())})}catch(e){r=td(e),o=u,i.forEach(e=>e.unsafeInterrupt())}}p=!1}(),e3(()=>(h=!0,u=o,ej(i)))})}),tP=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=new eL(e.context,e.interruptible);return a||(e.children().add(i),i.addObserver(()=>e.children().delete(i))),r?i.evaluate(t):e.getRef(tv).scheduleTask(()=>i.evaluate(t),0),i},tL=function(){class e extends globalThis.Error{}return Object.assign(e.prototype,eJ,t.StructuralPrototype,{[eW]:"Failure",[eB](){return e1(eA(this))},toString(){return this.message?`${this.name}: ${this.message}`:this.name},toJSON(){return{...this}},[eS.NodeInspectSymbol](){let e=this.stack;return e?`${this.toString()}
${e.split("\n").slice(1).join("\n")}`:this.toString()}}),e}(),tU=class extends tL{constructor(e){super(),e&&Object.assign(this,e)}},tj=e=>{class t extends tU{_tag=e}return t.prototype.name=e,t};e.s(["provideContext",0,ty,"runFork",0,(e,t)=>{let r=new eL(tv.context(t?.scheduler??new tm));if(r.evaluate(e),t?.signal)if(t.signal.aborted)r.unsafeInterrupt();else{let e=()=>r.unsafeInterrupt();t.signal.addEventListener("abort",e,{once:!0}),r.addObserver(()=>t.signal.removeEventListener("abort",e))}return r}],9246450);var tW=e.i(432214);let tq=Symbol.for("effect/Readable");e.s(["TypeId",0,tq],5369340);let tB=Symbol.for("effect/Ref"),t$={_A:e=>e};class tV extends s{ref;commit(){return this.get}[tB]=t$;[tq]=tq;constructor(e){super(),this.ref=e,this.get=k.sync(()=>tW.get(this.ref))}get;modify(e){return k.sync(()=>{let t=tW.get(this.ref),[r,a]=e(t);return t!==a&&tW.set(a)(this.ref),r})}}let tH=e=>new tV(tW.make(e)),tG=e=>k.sync(()=>tH(e)),tK=e=>e.get,tJ=(0,l.dual)(2,(e,t)=>e.modify(()=>[void 0,t])),tZ=(0,l.dual)(2,(e,t)=>e.modify(e=>[e,t])),tQ=(0,l.dual)(2,(e,t)=>e.modify(e=>[e,t(e)])),tY=(0,l.dual)(2,(e,t)=>e.modify(e=>{let r=t(e);switch(r._tag){case"None":return[e,e];case"Some":return[e,r.value]}})),tX=(0,l.dual)(2,(e,t)=>e.modify(()=>[t,t])),t0=(0,l.dual)(2,(e,t)=>e.modify(t)),t1=(0,l.dual)(3,(e,t,r)=>e.modify(e=>{let a=r(e);switch(a._tag){case"None":return[t,e];case"Some":return a.value}})),t2=(0,l.dual)(2,(e,t)=>e.modify(e=>[void 0,t(e)])),t3=(0,l.dual)(2,(e,t)=>e.modify(e=>{let r=t(e);return[r,r]})),t5=(0,l.dual)(2,(e,t)=>e.modify(e=>[void 0,S.match(t(e),{onNone:()=>e,onSome:e=>e})])),t4=(0,l.dual)(2,(e,t)=>e.modify(e=>{let r=t(e);switch(r._tag){case"None":return[e,e];case"Some":return[r.value,r.value]}}));e.s(["RefTypeId",0,tB,"get",0,tK,"getAndSet",0,tZ,"getAndUpdate",0,tQ,"getAndUpdateSome",0,tY,"make",0,tG,"modify",0,t0,"modifySome",0,t1,"refVariance",0,t$,"set",0,tJ,"setAndGet",0,tX,"unsafeMake",0,tH,"update",0,t2,"updateAndGet",0,t3,"updateSome",0,t5,"updateSomeAndGet",0,t4],3196727),e.s(["RefTypeId",0,tB,"get",0,tK,"getAndSet",0,tZ,"getAndUpdate",0,tQ,"getAndUpdateSome",0,tY,"make",0,tG,"modify",0,t0,"modifySome",0,t1,"set",0,tJ,"setAndGet",0,tX,"unsafeMake",0,tH,"update",0,t2,"updateAndGet",0,t3,"updateSome",0,t5,"updateSomeAndGet",0,t4],6532885);class t8{buckets=[];scheduleTask(e,t){let r,a=this.buckets.length,i=0;for(;i<a;i++)if(this.buckets[i][0]<=t)r=this.buckets[i];else break;r&&r[0]===t?r[1].push(e):i===a?this.buckets.push([t,[e]]):this.buckets.splice(i,0,[t,[e]])}}class t6{maxNextTickBeforeTimer;running=!1;tasks=new t8;constructor(e){this.maxNextTickBeforeTimer=e}starveInternal(e){let t=this.tasks.buckets;for(let[e,r]of(this.tasks.buckets=[],t))for(let e=0;e<r.length;e++)r[e]();0===this.tasks.buckets.length?this.running=!1:this.starve(e)}starve(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e>=this.maxNextTickBeforeTimer?setTimeout(()=>this.starveInternal(0),0):Promise.resolve(void 0).then(()=>this.starveInternal(e+1))}shouldYield(e){return e.currentOpCount>e.getFiberRef(k.currentMaxOpsBeforeYield)&&e.getFiberRef(k.currentSchedulingPriority)}scheduleTask(e,t){this.tasks.scheduleTask(e,t),this.running||(this.running=!0,this.starve())}}let t9=(0,eb.globalValue)(Symbol.for("effect/Scheduler/defaultScheduler"),()=>new t6(2048));class t7{tasks=new t8;deferred=!1;scheduleTask(e,t){this.deferred?t9.scheduleTask(e,t):this.tasks.scheduleTask(e,t)}shouldYield(e){return e.currentOpCount>e.getFiberRef(k.currentMaxOpsBeforeYield)&&e.getFiberRef(k.currentSchedulingPriority)}flush(){for(;this.tasks.buckets.length>0;){let e=this.tasks.buckets;for(let[t,r]of(this.tasks.buckets=[],e))for(let e=0;e<r.length;e++)r[e]()}this.deferred=!0}}let re=(0,eb.globalValue)(Symbol.for("effect/FiberRef/currentScheduler"),()=>k.fiberRefUnsafeMake(t9)),rt=(0,l.dual)(2,(e,t)=>k.fiberRefLocally(e,re,t));e.s(["SyncScheduler",()=>t7,"currentScheduler",0,re,"withScheduler",0,rt],2916763);let rr=(0,eb.globalValue)(Symbol.for("effect/FiberRef/currentRequestMap"),()=>(0,k.fiberRefUnsafeMake)(new Map));e.s(["currentRequestMap",0,rr],8755077),e.s(["match",0,(e,t,r,a)=>{switch(e){case void 0:return t();case"unbounded":return r();case"inherit":return k.fiberRefGetWith(k.currentConcurrency,e=>"unbounded"===e?r():e>1?a(e):t());default:return e>1?a(e):t()}},"matchSimple",0,(e,t,r)=>{switch(e){case void 0:return t();case"unbounded":return r();case"inherit":return k.fiberRefGetWith(k.currentConcurrency,e=>"unbounded"===e||e>1?r():t());default:return e>1?r():t()}}],6211456);var ra=e.i(7862555),ri=e.i(7948698),rn=e.i(7294722);ri.ClockTypeId,ri.make;let rs=rn.sleep,ro=rn.currentTimeMillis,rl=rn.currentTimeNanos,ru=rn.clockWith,rc=ri.clockTag;e.s(["Clock",0,rc,"clockWith",0,ru,"currentTimeMillis",0,ro,"currentTimeNanos",0,rl,"sleep",0,rs],219787);var rd=e.i(8973103),rp=e.i(5015632),rh=e.i(6774608);let rf=(e,t)=>({label:e,startTime:t}),rm=e=>e.replace(/[\s="]/g,"_");e.s(["formatLabel",0,rm,"make",0,rf,"render",0,e=>t=>{let r=rm(t.label);return`${r}=${e-t.startTime}ms`}],8531418);var rg=e.i(3427637);rg.TracerTypeId;let ry=rg.spanTag;rg.tracerTag,rg.make;let rb=rg.externalSpan,rS=rn.tracerWith;rg.DisablePropagation,e.s(["ParentSpan",0,ry,"externalSpan",0,rb,"tracerWith",0,rS],1253121);var rv=e.i(4043929);let rk="effect/MetricLabel",rw=Symbol.for(rk);class rE{key;value;[rw]=rw;_hash;constructor(e,t){this.key=e,this.value=t,this._hash=H.string(rk+this.key+this.value)}[H.symbol](){return this._hash}[y.symbol](e){return rI(e)&&this.key===e.key&&this.value===e.value}pipe(){return(0,v.pipeArguments)(this,arguments)}}let rx=(e,t)=>new rE(e,t),rI=e=>(0,G.hasProperty)(e,rw);e.s(["make",0,rx],7897461);var rT=e.i(1191948);let rC=(0,l.dual)(e=>k.isEffect(e[0]),function(){let e=arguments;return k.fiberRefLocallyWith(e[0],k.currentLogAnnotations,"string"==typeof e[1]?rp.set(e[1],e[2]):t=>Object.entries(e[1]).reduce((e,t)=>{let[r,a]=t;return rp.set(e,r,a)},t))}),rR=e=>k.map(e,S.some),rF=e=>{let t,r;return"function"==typeof e?t=e:(t=e.try,r=e.catch),k.suspend(()=>{try{return k.succeed((0,ew.internalCall)(t))}catch(e){return k.fail(r?(0,ew.internalCall)(()=>r(e)):new k.UnknownException(e,"An unknown error occurred in Effect.try"))}})},rA=(0,l.dual)(3,(e,t,r)=>k.catchAll(e,e=>G.hasProperty(e,t)&&e[t]===r.failure?r.onFailure(e):k.fail(e))),rO=(0,l.dual)(2,(e,t)=>k.catchAllCause(e,e=>{let r=rv.find(e,e=>rv.isDieType(e)?S.some(e):S.none());switch(r._tag){case"None":return k.failCause(e);case"Some":return t(r.value.defect)}})),r_=(0,l.dual)(2,(e,t)=>k.matchCauseEffect(e,{onFailure:e=>{let r=t(e);switch(r._tag){case"None":return k.failCause(e);case"Some":return r.value}},onSuccess:k.succeed})),rM=(0,l.dual)(2,(e,t)=>k.catchAllCause(e,e=>{let r=rv.find(e,e=>rv.isDieType(e)?S.some(e):S.none());switch(r._tag){case"None":return k.failCause(e);case"Some":{let a=t(r.value.defect);return"Some"===a._tag?a.value:k.failCause(e)}}})),rD=(0,l.dual)(e=>k.isEffect(e[0]),function(e){let t;for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];let n=a[a.length-1];return t=2===a.length?G.isTagged(a[0]):e=>{let t=G.hasProperty(e,"_tag")?e._tag:void 0;if(!t)return!1;for(let e=0;e<a.length-1;e++)if(a[e]===t)return!0;return!1},k.catchIf(e,t,n)}),rN=(0,l.dual)(2,(e,t)=>{let r;return k.catchIf(e,e=>(r??=Object.keys(t),G.hasProperty(e,"_tag")&&G.isString(e._tag)&&r.includes(e._tag)),e=>t[e._tag](e))}),rz=ru(k.succeed),rP=(0,l.dual)(2,(e,t)=>k.zipRight(rs(t),e)),rL=e=>k.withFiberRuntime((t,r)=>e({id:t.id(),status:r,interruptors:rv.interruptors(t.getFiberRef(k.currentInterruptedCause))})),rU=rL(e=>b.size(e.interruptors)>0?k.interrupt:k.void),rj=rL(k.succeed),rW=k.succeed({}),rq=ek.bind(k.map,k.flatMap),rB=ek.bindTo(k.map),r$=ek.let_(k.map),rV=(0,l.dual)(2,(e,t)=>k.suspend(()=>{let r,a=e[Symbol.iterator](),i=[],n=k.succeed(!1),s=0;for(;(r=a.next())&&!r.done;){let e=r.value,a=s++;n=k.flatMap(n,r=>r?(i.push(e),k.succeed(!0)):t(e,a))}return k.map(n,()=>i)})),rH=(0,l.dual)(2,(e,t)=>k.suspend(()=>{let r,a=e[Symbol.iterator](),i=[],n=k.succeed(!0),s=0;for(;(r=a.next())&&!r.done;){let e=r.value,a=s++;n=k.flatMap(n,r=>k.map(r?t(e,a):k.succeed(!1),t=>(t||i.push(e),t)))}return k.map(n,()=>i)})),rG=e=>k.orElse(e,()=>k.flatMap(k.yieldNow(),()=>rG(e))),rK=(0,l.dual)(2,(e,t)=>k.map(k.forEachSequential(e,l.identity),g.filterMap(t))),rJ=(0,l.dual)(3,(e,t,r)=>rQ(e,t,e=>k.dieSync(()=>r(e)))),rZ=(0,l.dual)(3,(e,t,r)=>rQ(e,t,()=>k.dieMessage(r))),rQ=(0,l.dual)(3,(e,t,r)=>k.flatMap(e,e=>t(e)?k.succeed(e):r(e))),rY=(0,l.dual)(3,(e,t,r)=>k.suspend(()=>t(e)?k.succeed(e):k.fail(r(e)))),rX=(0,l.dual)(e=>k.isEffect(e[0]),(e,t,r)=>rQ(e,t,e=>void 0===r?k.fail(new k.NoSuchElementException):k.failSync(()=>r(e)))),r0=(0,l.dual)(2,(e,t)=>k.suspend(()=>{let r=e[Symbol.iterator](),a=r.next();return a.done?k.succeed(S.none()):r1(r,0,t,a.value)})),r1=(e,t,r,a)=>k.flatMap(r(a,t),i=>{if(i)return k.succeed(S.some(a));let n=e.next();return n.done?k.succeed(S.none()):r1(e,t+1,r,n.value)}),r2=(0,l.dual)(2,(e,t)=>k.flip(t(k.flip(e)))),r3=(0,l.dual)(2,(e,t)=>k.matchEffect(e,{onFailure:e=>k.succeed(t.onFailure(e)),onSuccess:e=>k.succeed(t.onSuccess(e))})),r5=(0,l.dual)(2,(e,t)=>k.suspend(()=>r4(e[Symbol.iterator](),0,t))),r4=(e,t,r)=>{let a=e.next();return a.done?k.succeed(!0):k.flatMap(r(a.value,t),a=>a?r4(e,t+1,r):k.succeed(a))},r8=k.withFiberRuntime(e=>k.succeed(e.getFiberRefs())),r6=e=>r3(e,{onFailure:l.constVoid,onSuccess:l.constVoid}),r9=(e,t)=>k.suspend(()=>t.while(e)?k.flatMap(t.body(e),e=>r9(e,t)):k.succeed(e)),r7=e=>function(){let t;for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];let n=S.fromNullable(e);for(let e=0,r=a.length;e<r;e++){let r=a[e];rv.isCause(r)&&(t=void 0!==t?rv.sequential(t,r):r,a=[...a.slice(0,e),...a.slice(e+1)],e--)}return void 0===t&&(t=rv.empty),k.withFiberRuntime(e=>(e.log(a,t,n),k.void))},ae=r7(),at=r7(eh),ar=r7(ep),aa=r7(ed),ai=r7(ec),an=r7(eu),as=r7(el),ao=(0,l.dual)(2,(e,t)=>k.flatMap(ro,r=>k.fiberRefLocallyWith(e,k.currentLogSpan,rh.prepend(rf(t,r))))),al=k.fiberRefGet(k.currentLogAnnotations),au=(e,t,r,a)=>k.suspend(()=>t(e)?k.flatMap(a(e),i=>k.map(au(r(e),t,r,a),rh.prepend(i))):k.sync(()=>rh.empty())),ac=(e,t,r,a)=>k.suspend(()=>t(e)?k.flatMap(a(e),()=>ac(r(e),t,r,a)):k.void),ad=(0,l.dual)(3,(e,t,r)=>k.suspend(()=>{let a,i=e[Symbol.iterator](),n=[],s=k.succeed(t),o=0;for(;!(a=i.next()).done;){let e=o++,t=a.value;s=k.flatMap(s,a=>k.map(r(a,t,e),e=>{let[t,r]=e;return n.push(r),t}))}return k.map(s,e=>[e,n])})),ap=(0,l.dual)(2,(e,t)=>k.matchCauseEffect(e,{onFailure:e=>k.failCauseSync(()=>t(e)),onSuccess:k.succeed})),ah=e=>k.map(tG(!0),t=>k.asVoid(k.whenEffect(e,tZ(t,!1)))),af=(0,l.dual)(2,(e,t)=>k.orElse(e,()=>k.failSync(t))),am=(0,l.dual)(2,(e,t)=>k.orElse(e,()=>k.sync(t))),ag=e=>a$((t,r)=>(0,l.pipe)(e,V(t,r))),ay=(0,l.dual)(3,(e,t,r)=>k.contextWithEffect(a=>k.provideContext(e,ey.add(a,t,r)))),ab=(0,l.dual)(3,(e,t,r)=>k.contextWithEffect(a=>k.flatMap(r,r=>k.provideContext(e,(0,l.pipe)(a,ey.add(t,r)))))),aS=rn.randomWith(k.succeed),av=(0,l.dual)(3,(e,t,r)=>g.fromIterable(e).reduce((e,t,a)=>k.flatMap(e,e=>r(e,t,a)),k.succeed(t))),ak=(0,l.dual)(3,(e,t,r)=>g.fromIterable(e).reduceRight((e,t,a)=>k.flatMap(e,e=>r(t,e,a)),k.succeed(t))),aw=(0,l.dual)(3,(e,t,r)=>k.flatMap(k.sync(()=>e[Symbol.iterator]()),e=>aE(e,0,t,r.while,r.body))),aE=(e,t,r,a,i)=>{let n=e.next();return!n.done&&a(r)?k.flatMap(i(r,n.value,t),r=>aE(e,t+1,r,a,i)):k.succeed(r)},ax=(0,l.dual)(2,(e,t)=>k.suspend(()=>aI(e,t))),aI=(e,t)=>k.flatMap(e,r=>t<=0?k.succeed(r):k.zipRight(k.yieldNow(),aI(e,t-1))),aT=k.succeed(S.none()),aC=(0,l.dual)(3,(e,t,r)=>k.flatMap(t,a=>k.flatMap(e,e=>k.map(t,t=>[r(a,t),e])))),aR=(0,l.dual)(e=>k.isEffect(e[0]),function(){return aF(arguments[0],"string"==typeof arguments[1]?[rx(arguments[1],arguments[2])]:Object.entries(arguments[1]).map(e=>{let[t,r]=e;return rx(t,r)}))}),aF=(0,l.dual)(2,(e,t)=>k.fiberRefLocallyWith(e,k.currentMetricLabels,e=>g.union(e,t))),aA=(0,l.dual)(2,(e,t)=>k.suspend(()=>{let r,a=e[Symbol.iterator](),i=[],n=k.succeed(!1),s=0;for(;(r=a.next())&&!r.done;){let e=r.value,a=s++;n=k.flatMap(n,r=>r?k.succeed(!0):(i.push(e),t(e,a)))}return k.map(n,()=>i)})),aO=(0,l.dual)(2,(e,t)=>k.suspend(()=>{let r,a=e[Symbol.iterator](),i=[],n=k.succeed(!0),s=0;for(;(r=a.next())&&!r.done;){let e=r.value,a=s++;n=k.flatMap(n,r=>(0,l.pipe)(r?t(e,a):k.succeed(!1),k.map(t=>(t&&i.push(e),t))))}return k.map(n,()=>i)})),a_=(0,l.dual)(2,(e,t)=>{let{onFailure:r,onSuccess:a}=t;return k.matchCauseEffect(e,{onFailure:e=>{let t=rv.failureOrCause(e);switch(t._tag){case"Left":return k.zipRight(r(t.left),k.failCause(e));case"Right":return k.failCause(e)}},onSuccess:e=>k.as(a(e),e)})}),aM=(0,l.dual)(2,(e,t)=>k.catchAllCause(e,e=>S.match(rv.keepDefects(e),{onNone:()=>k.failCause(e),onSome:r=>k.zipRight(t(r),k.failCause(e))}))),aD=(0,l.dual)(2,(e,t)=>k.matchCauseEffect(e,{onFailure:e=>{let r=rv.failureOrCause(e);switch(r._tag){case"Left":return k.zipRight(t(r.left),k.failCause(e));case"Right":return k.failCause(e)}},onSuccess:k.succeed})),aN=(0,l.dual)(3,(e,t,r)=>aD(e,e=>G.isTagged(e,t)?r(e):k.void)),az=(0,l.dual)(2,(e,t)=>k.matchCauseEffect(e,{onFailure:e=>k.zipRight(t(e),k.failCause(e)),onSuccess:k.succeed})),aP=(0,l.dual)(2,(e,t)=>aC(e,t,(e,t)=>rd.nanos(t-e))),aL=rS(k.succeed),aU=e=>{let t,r;"function"==typeof e?t=e:(t=e.try,r=e.catch);let a=e=>r?k.failSync(()=>r(e)):k.fail(new k.UnknownException(e,"An unknown error occurred in Effect.tryPromise"));return t.length>=1?k.async((e,r)=>{try{t(r).then(t=>e(k.succeed(t)),t=>e(a(t)))}catch(t){e(a(t))}}):k.async(e=>{try{t().then(t=>e(k.succeed(t)),t=>e(a(t)))}catch(t){e(a(t))}})},aj=(0,l.dual)(2,(e,t)=>k.flatMap(e,e=>rF({try:()=>t.try(e),catch:t.catch}))),aW=(0,l.dual)(2,(e,t)=>k.flatMap(e,e=>aU({try:t.try.length>=1?r=>t.try(e,r):()=>t.try(e),catch:t.catch}))),aq=(0,l.dual)(2,(e,t)=>k.suspend(()=>t()?aT:rR(e))),aB=(0,l.dual)(2,(e,t)=>k.flatMap(t,t=>t?aT:rR(e))),a$=e=>k.withFiberRuntime(t=>(t.setFiberRefs(e(t.id(),t.getFiberRefs())),k.void)),aV=(0,l.dual)(3,(e,t,r)=>k.mapInputContext(e,e=>ey.add(e,t,r(ey.unsafeGet(e,t))))),aH=(0,l.dual)(2,(e,t)=>k.suspend(()=>t()?k.map(e,S.some):k.succeed(S.none()))),aG=(0,l.dual)(3,(e,t,r)=>k.flatMap(k.fiberRefGet(t),t=>r(t)?k.map(e,e=>[t,S.some(e)]):k.succeed([t,S.none()]))),aK=(0,l.dual)(3,(e,t,r)=>k.flatMap(tK(t),t=>r(t)?k.map(e,e=>[t,S.some(e)]):k.succeed([t,S.none()]))),aJ=(0,l.dual)(2,(e,t)=>t(e)),aZ=e=>new Proxy({},{get:(t,r,a)=>function(){for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];return k.flatMap(e,e=>e[r](...a))}}),aQ=e=>new Proxy({},{get:(t,r,a)=>k.flatMap(e,e=>k.isEffect(e[r])?e[r]:k.succeed(e[r]))}),aY=e=>k.flatMap(k.context(),ey.getOption(e)),aX=(0,l.dual)(e=>k.isEffect(e[0]),function(){let e=arguments;return k.fiberRefLocallyWith(e[0],k.currentTracerSpanAnnotations,"string"==typeof e[1]?rp.set(e[1],e[2]):t=>Object.entries(e[1]).reduce((e,t)=>{let[r,a]=t;return rp.set(e,r,a)},t))}),a0=aY(rg.spanTag),a1=k.flatMap(k.context(),e=>{let t=e.unsafeMap.get(rg.spanTag.key);return void 0!==t&&"Span"===t._tag?k.succeed(t):k.fail(new k.NoSuchElementException)}),a2=(0,l.dual)(e=>k.isEffect(e[0]),(e,t,r)=>k.fiberRefLocallyWith(e,k.currentTracerSpanLinks,ra.append({_tag:"SpanLink",span:t,attributes:r??{}}))),a3=BigInt(0),a5=S.flatMap(e=>ey.get(e.context,rg.DisablePropagation)?"Span"===e._tag?a5(e.parent):S.none():S.some(e)),a4=(e,t,r)=>{let a,i=!e.getFiberRef(k.currentTracerEnabled)||r.context&&ey.get(r.context,rg.DisablePropagation),n=e.getFiberRef(k.currentContext),s=r.parent?S.some(r.parent):r.root?S.none():a5(ey.getOption(n,rg.spanTag));if(i)a=k.noopSpan({name:t,parent:s,context:ey.add(r.context??ey.empty(),rg.DisablePropagation,!0)});else{let i=e.getFiberRef(rn.currentServices),n=ey.get(i,rg.tracerTag),o=ey.get(i,rc),l=e.getFiberRef(k.currentTracerTimingEnabled),u=e.getFiberRefs(),c=M(u,k.currentTracerSpanAnnotations),d=M(u,k.currentTracerSpanLinks),p="Some"===d._tag?void 0!==r.links?[...ra.toReadonlyArray(d.value),...r.links??[]]:ra.toReadonlyArray(d.value):r.links??g.empty();a=n.span(t,s,r.context??ey.empty(),p,l?o.unsafeCurrentTimeNanos():a3,r.kind??"internal",r),"Some"===c._tag&&rp.forEach(c.value,(e,t)=>a.attribute(t,e)),void 0!==r.attributes&&Object.entries(r.attributes).forEach(e=>{let[t,r]=e;return a.attribute(t,r)})}return"function"==typeof r.captureStackTrace&&rv.spanToTrace.set(a,r.captureStackTrace),a},a8=k.fiberRefGet(k.currentTracerSpanAnnotations),a6=k.fiberRefGet(k.currentTracerSpanLinks),a9=(e,t,r,a)=>k.sync(()=>{"Ended"!==e.status._tag&&(k.exitIsFailure(t)&&rv.spanToTrace.has(e)&&e.attribute("code.stacktrace",rv.spanToTrace.get(e)()),e.end(a?r.unsafeCurrentTimeNanos():a3,t))}),a7=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let i=rg.addSpanStackTrace(1===r.length?void 0:r[0]),n=r[r.length-1];return k.withFiberRuntime(t=>{let r=a4(t,e,i),a=t.getFiberRef(k.currentTracerTimingEnabled),s=ey.get(t.getFiberRef(rn.currentServices),ri.clockTag);return k.onExit(n(r),e=>a9(r,e,s,a))})},ie=(0,l.dual)(2,(e,t)=>ay(e,rg.spanTag,t)),it=function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=rg.addSpanStackTrace(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return a7(t,r,t=>ie(e,t))}return e=>a7(t,r,t=>ie(e,t))};e.s(["Do",0,rW,"_catch",0,rA,"allowInterrupt",0,rU,"annotateCurrentSpan",0,function(){let e=arguments;return r6(k.flatMap(a1,t=>k.sync(()=>{if("string"==typeof e[0])t.attribute(e[0],e[1]);else for(let r in e[0])t.attribute(r,e[0][r])})))},"annotateLogs",0,rC,"annotateSpans",0,aX,"asSome",0,rR,"asSomeError",0,e=>k.mapError(e,S.some),"bind",0,rq,"bindTo",0,rB,"catchAllDefect",0,rO,"catchSomeCause",0,r_,"catchSomeDefect",0,rM,"catchTag",0,rD,"catchTags",0,rN,"cause",0,e=>k.matchCause(e,{onFailure:l.identity,onSuccess:()=>rv.empty}),"clock",0,rz,"clockWith",0,ru,"contextWith",0,e=>k.map(k.context(),e),"currentParentSpan",0,a0,"currentSpan",0,a1,"delay",0,rP,"descriptor",0,rj,"descriptorWith",0,rL,"diffFiberRefs",0,e=>aC(e,r8,B),"dropUntil",0,rV,"dropWhile",0,rH,"endSpan",0,a9,"eventually",0,rG,"every",0,r5,"fiberRefs",0,r8,"filterMap",0,rK,"filterOrDie",0,rJ,"filterOrDieMessage",0,rZ,"filterOrElse",0,rQ,"filterOrFail",0,rX,"findFirst",0,r0,"firstSuccessOf",0,e=>k.suspend(()=>{let t=ra.fromIterable(e);return ra.isNonEmpty(t)?(0,l.pipe)(ra.tailNonEmpty(t),g.reduce(ra.headNonEmpty(t),(e,t)=>k.orElse(e,()=>t))):k.dieSync(()=>new k.IllegalArgumentException("Received an empty collection of effects"))}),"flipWith",0,r2,"forever",0,e=>{let t=k.flatMap(k.flatMap(e,()=>k.yieldNow()),()=>t);return t},"fromNullable",0,e=>null==e?k.fail(new k.NoSuchElementException):k.succeed(e),"functionWithSpan",0,e=>function(){let t=e.captureStackTrace??!1;if(!1!==e.captureStackTrace){let e=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();Error.stackTraceLimit=e;let a=!1;t=()=>!1!==a?a:r.stack?a=r.stack.trim().split("\n").slice(2).join("\n").trim():void 0}return k.suspend(()=>{let r="function"==typeof e.options?e.options.apply(null,arguments):e.options;return it(k.suspend(()=>(0,ew.internalCall)(()=>e.body.apply(this,arguments))),r.name,{...r,captureStackTrace:t})})},"head",0,e=>k.flatMap(e,e=>{let t=e[Symbol.iterator]().next();return t.done?k.fail(new k.NoSuchElementException):k.succeed(t.value)}),"ignore",0,r6,"ignoreLogged",0,e=>k.matchCauseEffect(e,{onFailure:e=>ar(e,"An error was silently ignored because it is not anticipated to be useful"),onSuccess:()=>k.void}),"inheritFiberRefs",0,e=>a$((t,r)=>C(r,t,e)),"isFailure",0,e=>r3(e,{onFailure:l.constTrue,onSuccess:l.constFalse}),"isSuccess",0,e=>r3(e,{onFailure:l.constFalse,onSuccess:l.constTrue}),"iterate",0,r9,"labelMetrics",0,aF,"let_",0,r$,"liftPredicate",0,rY,"linkSpanCurrent",0,function(){let e=arguments,t=Array.isArray(e[0])?e[0]:[{_tag:"SpanLink",span:e[0],attributes:e[1]??{}}];return r6(k.flatMap(a1,e=>k.sync(()=>e.addLinks(t))))},"linkSpans",0,a2,"log",0,ae,"logAnnotations",0,al,"logDebug",0,ar,"logError",0,an,"logFatal",0,as,"logInfo",0,aa,"logTrace",0,at,"logWarning",0,ai,"logWithLevel",0,r7,"loop",0,(e,t)=>t.discard?ac(e,t.while,t.step,t.body):k.map(au(e,t.while,t.step,t.body),g.fromIterable),"makeSpan",0,(e,t)=>(t=rg.addSpanStackTrace(t),k.withFiberRuntime(r=>k.succeed(a4(r,e,t)))),"mapAccum",0,ad,"mapErrorCause",0,ap,"match",0,r3,"memoize",0,e=>(0,l.pipe)(k.deferredMake(),k.flatMap(t=>(0,l.pipe)(aC(e,k.zip(r8,k.runtimeFlags),(e,t)=>{let[r,a]=e,[i,n]=t;return[B(r,i),rT.diff(a,n)]}),k.intoDeferred(t),ah,k.map(e=>k.zipRight(e,(0,l.pipe)(k.deferredAwait(t),k.flatMap(e=>{let[t,r]=e;return k.as(k.zip(ag(t[0]),k.updateRuntimeFlags(t[1])),r)}))))))),"merge",0,e=>k.matchEffect(e,{onFailure:e=>k.succeed(e),onSuccess:k.succeed}),"negate",0,e=>k.map(e,e=>!e),"none",0,e=>k.flatMap(e,e=>{switch(e._tag){case"None":return k.void;case"Some":return k.fail(new k.NoSuchElementException)}}),"once",0,ah,"option",0,e=>k.matchEffect(e,{onFailure:()=>k.succeed(S.none()),onSuccess:e=>k.succeed(S.some(e))}),"optionFromOptional",0,e=>k.catchAll(k.map(e,S.some),e=>k.isNoSuchElementException(e)?aT:k.fail(e)),"orElseFail",0,af,"orElseSucceed",0,am,"parallelErrors",0,e=>k.matchCauseEffect(e,{onFailure:e=>{let t=g.fromIterable(rv.failures(e));return 0===t.length?k.failCause(e):k.fail(t)},onSuccess:k.succeed}),"patchFiberRefs",0,ag,"promise",0,e=>e.length>=1?k.async((t,r)=>{try{e(r).then(e=>t(k.succeed(e)),e=>t(k.die(e)))}catch(e){t(k.die(e))}}):k.async(t=>{try{e().then(e=>t(k.succeed(e)),e=>t(k.die(e)))}catch(e){t(k.die(e))}}),"provideService",0,ay,"provideServiceEffect",0,ab,"random",0,aS,"reduce",0,av,"reduceRight",0,ak,"reduceWhile",0,aw,"repeatN",0,ax,"sandbox",0,e=>k.matchCauseEffect(e,{onFailure:k.fail,onSuccess:k.succeed}),"serviceConstants",0,aQ,"serviceFunction",0,(e,t)=>function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return k.map(e,e=>t(e)(...a))},"serviceFunctionEffect",0,(e,t)=>function(){for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return k.flatMap(e,e=>t(e)(...a))},"serviceFunctions",0,aZ,"serviceMembers",0,e=>({functions:aZ(e),constants:aQ(e)}),"serviceOption",0,e=>k.map(k.context(),ey.getOption(e)),"serviceOptional",0,aY,"setFiberRefs",0,e=>k.suspend(()=>O(e)),"sleep",0,rs,"spanAnnotations",0,a8,"spanLinks",0,a6,"succeedNone",0,aT,"succeedSome",0,e=>k.succeed(S.some(e)),"summarized",0,aC,"tagMetrics",0,aR,"takeUntil",0,aA,"takeWhile",0,aO,"tapBoth",0,a_,"tapDefect",0,aM,"tapError",0,aD,"tapErrorCause",0,az,"tapErrorTag",0,aN,"timed",0,e=>aP(e,rl),"timedWith",0,aP,"tracer",0,aL,"tryMap",0,aj,"tryMapPromise",0,aW,"tryPromise",0,aU,"try_",0,rF,"unless",0,aq,"unlessEffect",0,aB,"unsafeMakeSpan",0,a4,"unsandbox",0,e=>ap(e,rv.flatten),"updateFiberRefs",0,a$,"updateService",0,aV,"useSpan",0,a7,"when",0,aH,"whenFiberRef",0,aG,"whenRef",0,aK,"withLogSpan",0,ao,"withMetric",0,aJ,"withParentSpan",0,ie,"withSpan",0,it],4039787)},7836076,e=>{"use strict";var t=e.i(7548658);let r=t.exitIsExit,a=t.exitIsFailure,i=t.exitIsSuccess,n=t.exitIsInterrupted,s=t.exitAs,o=t.exitAsVoid,l=t.exitCauseOption,u=t.exitCollectAll,c=t.exitDie,d=t.exitExists,p=t.exitFail,h=t.exitFailCause,f=t.exitFlatMap,m=t.exitFlatMapEffect,g=t.exitFlatten,y=t.exitForEachEffect,b=t.exitFromEither,S=t.exitFromOption,v=t.exitGetOrElse,k=t.exitInterrupt,w=t.exitMap,E=t.exitMapBoth,x=t.exitMapError,I=t.exitMapErrorCause,T=t.exitMatch,C=t.exitMatchEffect,R=t.exitSucceed,F=t.exitVoid,A=t.exitZip,O=t.exitZipLeft,_=t.exitZipRight,M=t.exitZipPar,D=t.exitZipParLeft,N=t.exitZipParRight,z=t.exitZipWith;e.s(["all",0,u,"as",0,s,"asVoid",0,o,"causeOption",0,l,"die",0,c,"exists",0,d,"fail",0,p,"failCause",0,h,"flatMap",0,f,"flatMapEffect",0,m,"flatten",0,g,"forEachEffect",0,y,"fromEither",0,b,"fromOption",0,S,"getOrElse",0,v,"interrupt",0,k,"isExit",0,r,"isFailure",0,a,"isInterrupted",0,n,"isSuccess",0,i,"map",0,w,"mapBoth",0,E,"mapError",0,x,"mapErrorCause",0,I,"match",0,T,"matchEffect",0,C,"succeed",0,R,"void",()=>F,"zip",0,A,"zipLeft",0,O,"zipPar",0,M,"zipParLeft",0,D,"zipParRight",0,N,"zipRight",0,_,"zipWith",0,z])},1658800,2311887,1145227,2034623,4309139,1635211,5663534,e=>{"use strict";let t,r,a;var i=e.i(5283034),n=e.i(2725920),s=e.i(7862555),o=e.i(5972454),l=e.i(7525378),u=e.i(1177850),c=e.i(1150852),d=e.i(9674368),p=e.i(8317886),h=e.i(5886356),f=e.i(3683485),m=e.i(9159985),g=e.i(5015632),y=e.i(9390854),b=e.i(2873450),S=e.i(2273461),v=e.i(9246450),k=e.i(432214),w=e.i(8815901),E=e.i(9960543),x=e.i(4935619),I=e.i(6532885),T=e.i(8332882),C=e.i(2916763),R=e.i(4138091),F=e.i(9839518),A=e.i(4043929),O=e.i(7948698),_=e.i(8755077),M=e.i(6211456),D=e.i(1029151),N=e.i(4039787),z=e.i(7548658),P=e.i(7294722),L=e.i(9347119),U=e.i(592224),j=e.i(219787),W=e.i(1331084),q=e.i(7836076),B=e.i(5921732),$=e.i(6712028),V=e.i(5242335);let H="InterruptSignal",G="Stateful",K="Resume",J="YieldNow",Z=e=>({_tag:H,cause:e}),Q=e=>({_tag:G,onFiber:e}),Y=e=>({_tag:K,effect:e}),X=()=>({_tag:J}),ee=Symbol.for("effect/FiberScope");class et{[ee]=ee;fiberId=c.none;roots=new Set;add(e,t){this.roots.add(t),t.addObserver(()=>{this.roots.delete(t)})}}class er{fiberId;parent;[ee]=ee;constructor(e,t){this.fiberId=e,this.parent=t}add(e,t){this.parent.tell(Q(e=>{e.addChild(t),t.addObserver(()=>{e.removeChild(t)})}))}}let ea=e=>new er(e.id(),e),ei=(0,m.globalValue)(Symbol.for("effect/FiberScope/Global"),()=>new et);e.s(["globalScope",0,ei,"unsafeMake",0,ea],2311887);var en=e.i(1191948);let es=Symbol.for("effect/Fiber"),eo={_E:e=>e,_A:e=>e},el={[es]:eo,pipe(){return(0,E.pipeArguments)(this,arguments)}},eu=Symbol.for("effect/Fiber"),ec=(0,f.pipe)($.tuple(B.Order,B.Order),$.mapInput(e=>[e.id().startTimeMillis,e.id().id])),ed=e=>eu in e,ep=e=>e.await,eh=e=>({...V.CommitPrototype,commit(){return eS(this)},...el,id:()=>c.none,await:z.succeed(e),children:z.succeed([]),inheritAll:z.void,poll:z.succeed(w.some(e)),interruptAsFork:()=>z.void}),ef=e=>z.map(e.status,t=>({id:e.id(),status:t})),em=e=>eh(q.failCause(e)),eg=e=>e.inheritAll,ey=(0,f.dual)(2,z.fnUntraced(function*(e,t){for(let r of e){if(ed(r)){r.unsafeInterruptAsFork(t);continue}yield*r.interruptAsFork(t)}for(let t of e)ed(t)&&t.unsafePoll()||(yield*t.await)})),eb=(0,f.dual)(2,(e,t)=>e.interruptAsFork(t)),eS=e=>z.zipLeft(z.flatten(e.await),e.inheritAll),ev=(0,f.dual)(2,(e,t)=>ek(e,e=>z.sync(()=>t(e)))),ek=(0,f.dual)(2,(e,t)=>({...V.CommitPrototype,commit(){return eS(this)},...el,id:()=>e.id(),await:z.flatMap(e.await,q.forEachEffect(t)),children:e.children,inheritAll:e.inheritAll,poll:z.flatMap(e.poll,e=>{switch(e._tag){case"None":return z.succeed(w.none());case"Some":return(0,f.pipe)(q.forEachEffect(e.value,t),z.map(w.some))}}),interruptAsFork:t=>e.interruptAsFork(t)})),ew=(0,f.dual)(2,(e,t)=>z.map(e.await,q.match({onFailure:e=>em(e),onSuccess:e=>t(e)}))),eE=(0,f.dual)(2,(e,t)=>{let{onFiber:r,onRuntimeFiber:a}=t;return ed(e)?a(e):r(e)}),ex={...V.CommitPrototype,commit(){return eS(this)},...el,id:()=>c.none,await:z.never,children:z.succeed([]),inheritAll:z.never,poll:z.succeed(w.none()),interruptAsFork:()=>z.never},eI=(0,f.dual)(2,(e,t)=>({...V.CommitPrototype,commit(){return eS(this)},...el,id:()=>c.getOrElse(e.id(),t.id()),await:z.zipWith(e.await,t.await,(e,t)=>q.isSuccess(e)?e:t),children:e.children,inheritAll:z.zipRight(t.inheritAll,e.inheritAll),poll:z.zipWith(e.poll,t.poll,(e,t)=>{switch(e._tag){case"None":return w.none();case"Some":return q.isSuccess(e.value)?e:t}}),interruptAsFork:r=>(0,f.pipe)(z.interruptAsFiber(e,r),z.zipRight((0,f.pipe)(t,z.interruptAsFiber(r))),z.asVoid)})),eT=(0,f.dual)(2,(e,t)=>eI(ev(e,W.left),ev(t,W.right))),eC=()=>Array.from(ei.roots),eR=z.sync(eC),eF=e=>eh(q.succeed(e)),eA=eF(void 0),eO="effect/FiberCurrent";e.s(["FiberTypeId",0,es,"Order",0,ec,"RuntimeFiberTypeId",0,eu,"_await",0,ep,"children",0,e=>e.children,"currentFiberURI",0,eO,"done",0,eh,"dump",0,ef,"dumpAll",0,e=>z.forEachSequential(e,ef),"fail",0,e=>eh(q.fail(e)),"failCause",0,em,"fiberVariance",0,eo,"fromEffect",0,e=>z.map(z.exit(e),eh),"getCurrentFiber",0,()=>w.fromNullable(globalThis[eO]),"id",0,e=>e.id(),"inheritAll",0,eg,"interruptAll",0,e=>z.flatMap(z.fiberId,t=>(0,f.pipe)(e,ey(t))),"interruptAllAs",0,ey,"interruptAsFork",0,eb,"interrupted",0,e=>eh(q.interrupt(e)),"isFiber",0,e=>(0,x.hasProperty)(e,es),"isRuntimeFiber",0,ed,"join",0,eS,"map",0,ev,"mapEffect",0,ek,"mapFiber",0,ew,"match",0,eE,"never",0,ex,"orElse",0,eI,"orElseEither",0,eT,"poll",0,e=>e.poll,"pretty",0,e=>z.flatMap(j.currentTimeMillis,t=>z.map(ef(e),e=>{var r;let a,i,{days:n,hours:s,milliseconds:o,minutes:l,seconds:u}={days:(a=(r=t-e.id.startTimeMillis)>0?Math.floor:Math.ceil)(r/864e5),hours:a(r/36e5)%24,minutes:a(r/6e4)%60,seconds:a(r/1e3)%60,milliseconds:a(r)%1e3,microseconds:a(1e3*r)%1e3,nanoseconds:a(1e6*r)%1e3},d=(0===n?"":`${n}d`)+(0===n&&0===s?"":`${s}h`)+(0===n&&0===s&&0===l?"":`${l}m`)+(0===n&&0===s&&0===l&&0===u?"":`${u}s`)+`${o}ms`,p=h.isSuspended(e.status)?(i=c.ids(e.status.blockingOn),y.size(i)>0?"waiting on "+Array.from(i).map(e=>`${e}`).join(", "):""):"",f=(e=>{if(h.isDone(e))return"Done";if(h.isRunning(e))return"Running";let t=en.interruptible(e.runtimeFlags)?"interruptible":"uninterruptible";return`Suspended(${t})`})(e.status);return`[Fiber](#${e.id.id}) (${d}) ${p}
   Status: ${f}`})),"roots",0,eR,"status",0,e=>e.status,"succeed",0,eF,"unsafeRoots",0,eC,"void",()=>eA],1145227);var e_=e.i(283075),eM=e.i(2957938),eD=e.i(6774608),eN=e.i(1088581),ez=e.i(8531418);let eP=Symbol.for("effect/Logger"),eL={_Message:e=>e,_Output:e=>e},eU=e=>({[eP]:eL,log:e,pipe(){return(0,E.pipeArguments)(this,arguments)}}),ej=(0,f.dual)(2,(e,t)=>eU(r=>t(e.log(r))));f.constVoid,(e,t)=>eU(r=>[e.log(r),t.log(r)]);let eW=/^[^\s"=]*$/,eq=(e,t)=>r=>{let{annotations:a,cause:n,date:s,fiberId:o,logLevel:l,message:u,spans:c}=r,d=t=>t.match(eW)?t:e(t),p=(e,t)=>`${ez.formatLabel(e)}=${d(t)}`,h=(e,t)=>" "+p(e,t),f=p("timestamp",s.toISOString());f+=h("level",l.label),f+=h("fiber",eN.threadName(o));let m=i.ensure(u);for(let e=0;e<m.length;e++)f+=h("message",b.toStringUnknown(m[e],t));for(let e of(A.isEmptyType(n)||(f+=h("cause",A.pretty(n,{renderErrorCause:!0}))),c))f+=" "+ez.render(s.getTime())(e);for(let[e,r]of a)f+=h(e,b.toStringUnknown(r,t));return f},eB=eU(eq(e=>`"${e.replace(/\\([\s\S])|(")/g,"\\$1$2")}"`)),e$=(JSON.stringify,eU(e=>{let{annotations:t,cause:r,date:a,fiberId:n,logLevel:s,message:o,spans:l}=e,u=a.getTime(),c={},d={};if(g.size(t)>0)for(let[e,r]of t)c[e]=eV(r);if(eD.isCons(l))for(let e of l)d[e.label]=u-e.startTime;let p=i.ensure(o);return{message:1===p.length?eV(p[0]):p.map(eV),logLevel:s.label,timestamp:a.toISOString(),cause:A.isEmpty(r)?void 0:A.pretty(r,{renderErrorCause:!0}),annotations:c,spans:d,fiberId:eN.threadName(n)}})),eV=e=>{switch(typeof e){case"bigint":case"function":case"symbol":return String(e);default:return b.toJSON(e)}},eH=(b.stringifyCircular,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let i="";for(let e=0;e<r.length;e++)i+=`\x1b[${r[e]}m`;return i+e+"\x1b[0m"}),eG=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return e},eK={None:[],All:[],Trace:["90"],Debug:["34"],Info:["32"],Warning:["33"],Error:["31"],Fatal:["101","30"]},eJ={None:"",All:"",Trace:"color:gray",Debug:"color:blue",Info:"color:green",Warning:"color:orange",Error:"color:red",Fatal:"background-color:red;color:white"},eZ=e=>`${e.getHours().toString().padStart(2,"0")}:${e.getMinutes().toString().padStart(2,"0")}:${e.getSeconds().toString().padStart(2,"0")}.${e.getMilliseconds().toString().padStart(3,"0")}`,eQ="object"==typeof eM.default&&null!==eM.default&&"object"==typeof eM.default.stdout&&null!==eM.default.stdout,eY=eQ&&!0===eM.default.stdout.isTTY,eX=eQ||"Deno"in globalThis;()=>{var e,t,r;let a,n,s,l,u,c;return n="browser"===("auto"===(a=e?.mode??"auto")?eX?"tty":"browser":a),s="boolean"==typeof e?.colors?e.colors:eY||n,l=e?.formatDate??eZ,n?(u=(t={colors:s,formatDate:l}).colors?"%c":"",eU(e=>{let{annotations:r,cause:a,context:n,date:s,fiberId:l,logLevel:c,message:p,spans:h}=e,f=d.getOrDefault(n,P.currentServices),m=o.get(f,L.consoleTag).unsafe,y=i.ensure(p),S=`${u}[${t.formatDate(s)}]`,v=[];if(t.colors&&v.push("color:gray"),S+=` ${u}${c.label}${u} (${eN.threadName(l)})`,t.colors&&v.push(eJ[c._tag],""),eD.isCons(h)){let e=s.getTime(),t=ez.render(e);for(let e of h)S+=" "+t(e)}S+=":";let k=0;if(y.length>0){let e=eV(y[0]);"string"==typeof e&&(S+=` ${u}${e}`,t.colors&&v.push("color:deepskyblue"),k++)}if(m.groupCollapsed(S,...v),A.isEmpty(a)||m.error(A.pretty(a,{renderErrorCause:!0})),k<y.length)for(;k<y.length;k++)m.log(b.redact(y[k]));if(g.size(r)>0)for(let[e,a]of r){let r=b.redact(a);t.colors?m.log(`%c${e}:`,"color:gray",r):m.log(`${e}:`,r)}m.groupEnd()})):(c=(r={colors:s,formatDate:l,stderr:e?.stderr===!0}).colors?eH:eG,eU(e=>{let{annotations:t,cause:a,context:n,date:s,fiberId:l,logLevel:u,message:p,spans:h}=e,f=d.getOrDefault(n,P.currentServices),m=o.get(f,L.consoleTag).unsafe,y=!0===r.stderr?m.error:m.log,S=i.ensure(p),v=c(`[${r.formatDate(s)}]`,"37")+` ${c(u.label,...eK[u._tag])}`+` (${eN.threadName(l)})`;if(eD.isCons(h)){let e=s.getTime(),t=ez.render(e);for(let e of h)v+=" "+t(e)}v+=":";let k=0;if(S.length>0){let e=eV(S[0]);"string"==typeof e&&(v+=" "+c(e,"1","36"),k++)}if(y(v),m.group(),A.isEmpty(a)||y(A.pretty(a,{renderErrorCause:!0})),k<S.length)for(;k<S.length;k++)y(b.redact(S[k]));if(g.size(t)>0)for(let[e,r]of t)y(c(`${e}:`,"1","37"),b.redact(r));m.groupEnd()}))};var e0=e.i(8973103),e1=e.i(3628392),e2=e.i(2090854);let e3="effect/MetricBoundaries",e5=Symbol.for(e3);class e4{values;[e5]=e5;constructor(e){this.values=e,this._hash=(0,f.pipe)(e2.string(e3),e2.combine(e2.array(this.values)))}_hash;[e2.symbol](){return this._hash}[e1.symbol](e){return e8(e)&&e1.equals(this.values,e.values)}pipe(){return(0,E.pipeArguments)(this,arguments)}}let e8=e=>(0,x.hasProperty)(e,e5),e6=Symbol.for("effect/MetricKeyType"),e9="effect/MetricKeyType/Counter",e7=Symbol.for(e9),te="effect/MetricKeyType/Frequency",tt=Symbol.for(te),tr="effect/MetricKeyType/Gauge",ta=Symbol.for(tr),ti="effect/MetricKeyType/Histogram",tn=Symbol.for(ti),ts=Symbol.for("effect/MetricKeyType/Summary"),to={_In:e=>e,_Out:e=>e};class tl{incremental;bigint;[e6]=to;[e7]=e7;constructor(e,t){this.incremental=e,this.bigint=t,this._hash=e2.string(e9)}_hash;[e2.symbol](){return this._hash}[e1.symbol](e){return tc(e)}pipe(){return(0,E.pipeArguments)(this,arguments)}}e2.symbol,e1.symbol,e2.symbol,e1.symbol;class tu{boundaries;[e6]=to;[tn]=tn;constructor(e){this.boundaries=e,this._hash=(0,f.pipe)(e2.string(ti),e2.combine(e2.hash(this.boundaries)))}_hash;[e2.symbol](){return this._hash}[e1.symbol](e){return td(e)&&e1.equals(this.boundaries,e.boundaries)}pipe(){return(0,E.pipeArguments)(this,arguments)}}e2.symbol,e1.symbol;let tc=e=>(0,x.hasProperty)(e,e7),td=e=>(0,x.hasProperty)(e,tn);var tp=e.i(7897461);let th=Symbol.for("effect/MetricKey"),tf={_Type:e=>e},tm=i.getEquivalence(e1.equals);class tg{name;keyType;description;tags;[th]=tf;constructor(e,t,r,a=[]){this.name=e,this.keyType=t,this.description=r,this.tags=a,this._hash=(0,f.pipe)(e2.string(this.name+this.description),e2.combine(e2.hash(this.keyType)),e2.combine(e2.array(this.tags)))}_hash;[e2.symbol](){return this._hash}[e1.symbol](e){return ty(e)&&this.name===e.name&&e1.equals(this.keyType,e.keyType)&&e1.equals(this.description,e.description)&&tm(this.tags,e.tags)}pipe(){return(0,E.pipeArguments)(this,arguments)}}let ty=e=>(0,x.hasProperty)(e,th),tb=(0,f.dual)(2,(e,t)=>0===t.length?e:new tg(e.name,e.keyType,e.description,i.union(e.tags,t))),tS=Symbol.for("effect/MutableHashMap"),tv={[tS]:tS,[Symbol.iterator](){return new tk(this)},toString(){return(0,b.format)(this.toJSON())},toJSON(){return{_id:"MutableHashMap",values:Array.from(this).map(b.toJSON)}},[b.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,E.pipeArguments)(this,arguments)}};class tk{self;referentialIterator;bucketIterator;constructor(e){this.self=e,this.referentialIterator=e.referential[Symbol.iterator]()}next(){if(void 0!==this.bucketIterator)return this.bucketIterator.next();let e=this.referentialIterator.next();return e.done?(this.bucketIterator=new tw(this.self.buckets.values()),this.next()):e}[Symbol.iterator](){return new tk(this.self)}}class tw{backing;constructor(e){this.backing=e}currentBucket;next(){if(void 0===this.currentBucket){let e=this.backing.next();if(e.done)return e;this.currentBucket=e.value[Symbol.iterator]()}let e=this.currentBucket.next();return e.done?(this.currentBucket=void 0,this.next()):e}}let tE=()=>{let e=Object.create(tv);return e.referential=new Map,e.buckets=new Map,e.bucketsSize=0,e},tx=(0,f.dual)(2,(e,t)=>{if(!1===e1.isEqual(t))return e.referential.has(t)?w.some(e.referential.get(t)):w.none();let r=t[e2.symbol](),a=e.buckets.get(r);return void 0===a?w.none():tI(e,a,t)}),tI=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(let i=0,n=t.length;i<n;i++)if(r[e1.symbol](t[i][0])){let r=t[i][1];return a&&(t.splice(i,1),e.bucketsSize--),w.some(r)}return w.none()},tT=(0,f.dual)(2,(e,t)=>w.isSome(tx(e,t))),tC=(0,f.dual)(3,(e,t,r)=>{if(!1===e1.isEqual(t))return e.referential.set(t,r),e;let a=t[e2.symbol](),i=e.buckets.get(a);return void 0===i?e.buckets.set(a,[[t,r]]):(tR(e,i,t),i.push([t,r])),e.bucketsSize++,e}),tR=(e,t,r)=>{for(let a=0,i=t.length;a<i;a++)if(r[e1.symbol](t[a][0])){t.splice(a,1),e.bucketsSize--;return}},tF=(0,f.dual)(2,(e,t)=>{if(!1===e1.isEqual(t))return e.referential.delete(t),e;let r=t[e2.symbol](),a=e.buckets.get(r);return void 0===a||(tR(e,a,t),0===a.length&&e.buckets.delete(r)),e});e.s(["empty",0,tE,"get",0,tx,"has",0,tT,"remove",0,tF,"set",0,tC,"size",0,e=>e.referential.size+e.bucketsSize],2034623);let tA=Symbol.for("effect/MetricState"),tO="effect/MetricState/Counter",t_=Symbol.for(tO),tM="effect/MetricState/Frequency",tD=Symbol.for(tM),tN="effect/MetricState/Gauge",tz=Symbol.for(tN),tP="effect/MetricState/Histogram",tL=Symbol.for(tP),tU="effect/MetricState/Summary",tj=Symbol.for(tU),tW={_A:e=>e};class tq{count;[tA]=tW;[t_]=t_;constructor(e){this.count=e}[e2.symbol](){return(0,f.pipe)(e2.hash(tO),e2.combine(e2.hash(this.count)),e2.cached(this))}[e1.symbol](e){return tK(e)&&this.count===e.count}pipe(){return(0,E.pipeArguments)(this,arguments)}}let tB=i.getEquivalence(e1.equals);class t${occurrences;[tA]=tW;[tD]=tD;constructor(e){this.occurrences=e}_hash;[e2.symbol](){return(0,f.pipe)(e2.string(tM),e2.combine(e2.array(i.fromIterable(this.occurrences.entries()))),e2.cached(this))}[e1.symbol](e){return tJ(e)&&tB(i.fromIterable(this.occurrences.entries()),i.fromIterable(e.occurrences.entries()))}pipe(){return(0,E.pipeArguments)(this,arguments)}}class tV{value;[tA]=tW;[tz]=tz;constructor(e){this.value=e}[e2.symbol](){return(0,f.pipe)(e2.hash(tN),e2.combine(e2.hash(this.value)),e2.cached(this))}[e1.symbol](e){return tZ(e)&&this.value===e.value}pipe(){return(0,E.pipeArguments)(this,arguments)}}class tH{buckets;count;min;max;sum;[tA]=tW;[tL]=tL;constructor(e,t,r,a,i){this.buckets=e,this.count=t,this.min=r,this.max=a,this.sum=i}[e2.symbol](){return(0,f.pipe)(e2.hash(tP),e2.combine(e2.hash(this.buckets)),e2.combine(e2.hash(this.count)),e2.combine(e2.hash(this.min)),e2.combine(e2.hash(this.max)),e2.combine(e2.hash(this.sum)),e2.cached(this))}[e1.symbol](e){return tQ(e)&&e1.equals(this.buckets,e.buckets)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return(0,E.pipeArguments)(this,arguments)}}class tG{error;quantiles;count;min;max;sum;[tA]=tW;[tj]=tj;constructor(e,t,r,a,i,n){this.error=e,this.quantiles=t,this.count=r,this.min=a,this.max=i,this.sum=n}[e2.symbol](){return(0,f.pipe)(e2.hash(tU),e2.combine(e2.hash(this.error)),e2.combine(e2.hash(this.quantiles)),e2.combine(e2.hash(this.count)),e2.combine(e2.hash(this.min)),e2.combine(e2.hash(this.max)),e2.combine(e2.hash(this.sum)),e2.cached(this))}[e1.symbol](e){return tY(e)&&this.error===e.error&&e1.equals(this.quantiles,e.quantiles)&&this.count===e.count&&this.min===e.min&&this.max===e.max&&this.sum===e.sum}pipe(){return(0,E.pipeArguments)(this,arguments)}}let tK=e=>(0,x.hasProperty)(e,t_),tJ=e=>(0,x.hasProperty)(e,tD),tZ=e=>(0,x.hasProperty)(e,tz),tQ=e=>(0,x.hasProperty)(e,tL),tY=e=>(0,x.hasProperty)(e,tj),tX=Symbol.for("effect/MetricHook"),t0={_In:e=>e,_Out:e=>e},t1=e=>({[tX]:t0,pipe(){return(0,E.pipeArguments)(this,arguments)},...e}),t2=BigInt(0),t3=(e,t,r,a,n,s)=>{let o=e,l=t,u=r,c=a,d=n,p=s,h=e,f=t,m=r,g=a,y=n,b=s;for(;;){if(!i.isNonEmptyReadonlyArray(p))return{quantile:d,value:w.none(),consumed:c,rest:[]};if(1===d)return{quantile:d,value:w.some(i.lastNonEmpty(p)),consumed:c+p.length,rest:[]};let e=i.headNonEmpty(p),t=i.span(p,t=>t===e),r=d*l,a=o/2*r,n=c+t[0].length,s=Math.abs(n-r);if(n<r-a){h=o,f=l,m=i.head(p),g=n,y=d,b=t[1],o=h,l=f,u=m,c=g,d=y,p=b;continue}if(n>r+a)return{quantile:d,value:w.isNone(u)?w.some(e):u,consumed:c,rest:p};switch(u._tag){case"None":h=o,f=l,m=i.head(p),g=n,y=d,b=t[1],o=h,l=f,u=m,c=g,d=y,p=b;continue;case"Some":if(s<Math.abs(r-u.value)){h=o,f=l,m=i.head(p),g=n,y=d,b=t[1],o=h,l=f,u=m,c=g,d=y,p=b;continue}return{quantile:d,value:w.some(u.value),consumed:c,rest:p}}}throw Error("BUG: MetricHook.resolveQuantiles - please report an issue at https://github.com/Effect-TS/effect/issues")},t5=Symbol.for("effect/MetricPair"),t4={_Type:e=>e},t8=(e,t)=>({[t5]:t4,metricKey:e,metricState:t,pipe(){return(0,E.pipeArguments)(this,arguments)}}),t6=Symbol.for("effect/MetricRegistry");class t9{[t6]=t6;map=tE();snapshot(){let e=[];for(let[t,r]of this.map)e.push(t8(t,r.get()));return e}get(e){let t,r,a,i=(0,f.pipe)(this.map,tx(e),w.getOrUndefined);if(null!=i)return i;if(tc(e.keyType))return this.getCounter(e);if(t=e.keyType,(0,x.hasProperty)(t,ta))return this.getGauge(e);if(r=e.keyType,(0,x.hasProperty)(r,tt))return this.getFrequency(e);if(td(e.keyType))return this.getHistogram(e);if(a=e.keyType,(0,x.hasProperty)(a,ts))return this.getSummary(e);throw Error("BUG: MetricRegistry.get - unknown MetricKeyType - please report an issue at https://github.com/Effect-TS/effect/issues")}getCounter(e){let t=(0,f.pipe)(this.map,tx(e),w.getOrUndefined);if(null==t){let r,a,i,n=(r=e.keyType.bigint?t2:0,a=e.keyType.incremental?e.keyType.bigint?e=>e>=t2:e=>e>=0:e=>!0,t1({get:()=>new tq(r),update:i=e=>{a(e)&&(r+=e)},modify:i}));(0,f.pipe)(this.map,tT(e))||(0,f.pipe)(this.map,tC(e,n)),t=n}return t}getFrequency(e){let t=(0,f.pipe)(this.map,tx(e),w.getOrUndefined);if(null==t){let r=(e=>{let t=new Map;for(let r of e.keyType.preregisteredWords)t.set(r,0);let r=e=>{let r=t.get(e)??0;t.set(e,r+1)};return t1({get:()=>new t$(t),update:r,modify:r})})(e);(0,f.pipe)(this.map,tT(e))||(0,f.pipe)(this.map,tC(e,r)),t=r}return t}getGauge(e){let t=(0,f.pipe)(this.map,tx(e),w.getOrUndefined);if(null==t){let r,a=(r=e.keyType.bigint?BigInt(0):0,t1({get:()=>new tV(r),update:e=>{r=e},modify:e=>{r+=e}}));(0,f.pipe)(this.map,tT(e))||(0,f.pipe)(this.map,tC(e,a)),t=a}return t}getHistogram(e){let t=(0,f.pipe)(this.map,tx(e),w.getOrUndefined);if(null==t){let r,a,n,s,o,l,u,c,d,p=(n=new Uint32Array((a=(r=e.keyType.boundaries.values).length)+1),s=new Float64Array(a),o=0,l=0,u=Number.MAX_VALUE,c=5e-324,(0,f.pipe)(r,i.sort(B.Order),i.map((e,t)=>{s[t]=e})),t1({get:()=>{let e;return new tH((e={buckets:(()=>{let e=i.allocate(a),t=0;for(let r=0;r<a;r++){let a=s[r];t+=n[r],e[r]=[a,t]}return e})(),count:o,min:u,max:c,sum:l}).buckets,e.count,e.min,e.max,e.sum)},update:d=e=>{let t=0,r=a;for(;t!==r;){let a=Math.floor(t+(r-t)/2);e<=s[a]?r=a:t=a,r===t+1&&(e<=s[t]?r=t:t=r)}n[t]=n[t]+1,o+=1,l+=e,e<u&&(u=e),e>c&&(c=e)},modify:d}));(0,f.pipe)(this.map,tT(e))||(0,f.pipe)(this.map,tC(e,p)),t=p}return t}getSummary(e){let t=(0,f.pipe)(this.map,tx(e),w.getOrUndefined);if(null==t){let r=(e=>{let{error:t,maxAge:r,maxSize:a,quantiles:n}=e.keyType,s=(0,f.pipe)(n,i.sort(B.Order)),o=i.allocate(a),l=0,u=0,c=0,d=0,p=0,h=(e,t)=>{a>0&&(o[(l+=1)%a]=[t,e]),d=0===u?e:Math.min(d,e),p=0===u?e:Math.max(p,e),u+=1,c+=e};return t1({get:()=>{let e;return e={error:t,quantiles:(e=>{let n=[],l=0;for(;l!==a-1;){let t=o[l];if(null!=t){let[a,i]=t,s=e0.millis(e-a);e0.greaterThanOrEqualTo(s,e0.zero)&&e0.lessThanOrEqualTo(s,r)&&n.push(i)}l+=1}return((e,t,r)=>{let a=r.length;if(!i.isNonEmptyReadonlyArray(t))return i.empty();let n=t[0],s=t.slice(1),o=t3(e,a,w.none(),0,n,r),l=i.of(o);return s.forEach(t=>{l.push(t3(e,a,o.value,o.consumed,t,o.rest))}),i.map(l,e=>[e.quantile,e.value])})(t,s,i.sort(n,B.Order))})(Date.now()),count:u,min:d,max:p,sum:c},new tG(e.error,e.quantiles,e.count,e.min,e.max,e.sum)},update:e=>{let[t,r]=e;return h(t,r)},modify:e=>{let[t,r]=e;return h(t,r)}})})(e);(0,f.pipe)(this.map,tT(e))||(0,f.pipe)(this.map,tC(e,r)),t=r}return t}}let t7=Symbol.for("effect/Metric"),re={_Type:e=>e,_In:e=>e,_Out:e=>e},rt=(0,m.globalValue)(Symbol.for("effect/Metric/globalMetricRegistry"),()=>new t9),rr=function(e,t,r,a){let i=Object.assign(e=>z.tap(e,e=>ro(i,e)),{[t7]:re,keyType:e,unsafeUpdate:t,unsafeValue:r,unsafeModify:a,register(){return this.unsafeValue([]),this},pipe(){return(0,E.pipeArguments)(this,arguments)}});return i},ra=((e,t)=>rr(e.keyType,(r,a)=>e.unsafeUpdate(t(r),a),e.unsafeValue,(r,a)=>e.unsafeModify(t(r),a)),(e,t)=>ri(new tg(e,new tl(t?.incremental??!1,t?.bigint??!1),w.fromNullable(t?.description)))),ri=e=>{let t,r=new WeakMap,a=a=>{if(0===a.length)return void 0!==t?t:t=rt.get(e);let i=r.get(a);return void 0!==i||(i=rt.get(tb(e,a)),r.set(a,i)),i};return rr(e.keyType,(e,t)=>a(t).update(e),e=>a(e).get(),(e,t)=>a(t).modify(e))},rn=((e,t)=>rr(e.keyType,e.unsafeUpdate,r=>t(e.unsafeValue(r)),e.unsafeModify),(0,f.dual)(3,(e,t,r)=>rs(e,[tp.make(t,r)]))),rs=(0,f.dual)(2,(e,t)=>rr(e.keyType,(r,a)=>e.unsafeUpdate(r,i.union(t,a)),r=>e.unsafeValue(i.union(t,r)),(r,a)=>e.unsafeModify(r,i.union(t,a)))),ro=((e,t,r)=>{let a=e=>ro(t,r(e));return N.tapDefect(e,e=>z.forEachSequentialDiscard(A.defects(e),a))},(0,f.dual)(2,(e,t)=>z.fiberRefGetWith(z.currentMetricLabels,r=>z.sync(()=>e.unsafeUpdate(t,r)))));var rl=e.i(6187448),ru=e.i(5525866);let rc=Symbol.for("effect/Request"),rd={...V.StructuralPrototype,[rc]:{_E:e=>e,_A:e=>e}},rp=function(){function e(e){e&&Object.assign(this,e)}return e.prototype=rd,e}(),rh=(0,f.dual)(2,(e,t)=>z.fiberRefGetWith(_.currentRequestMap,r=>z.sync(()=>{if(r.has(e)){let a=r.get(e);a.state.completed||(a.state.completed=!0,z.deferredUnsafeDone(a.result,t))}}))),rf=(0,f.dual)(2,(e,t)=>z.matchEffect(t,{onFailure:t=>rh(e,z.exitFail(t)),onSuccess:t=>rh(e,z.exitSucceed(t))})),rm=(0,f.dual)(2,(e,t)=>rh(e,z.exitFail(t))),rg=(0,f.dual)(2,(e,t)=>rh(e,z.exitFailCause(t))),ry=(0,f.dual)(2,(e,t)=>rh(e,z.exitSucceed(t)));class rb{count=0;observers=new Set;interrupted=!1;addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.delete(e)}increment(){this.count++,this.observers.forEach(e=>e(this.count))}decrement(){this.count--,this.observers.forEach(e=>e(this.count))}}e.s(["Class",0,rp,"Listeners",()=>rb,"RequestTypeId",0,rc,"TaggedClass",0,e=>class extends rp{_tag=e},"complete",0,rh,"completeEffect",0,rf,"fail",0,rm,"failCause",0,rg,"isRequest",0,e=>(0,x.hasProperty)(e,rc),"of",0,()=>e=>Object.assign(Object.create(rd),e),"succeed",0,ry,"tagged",0,e=>t=>{let r=Object.assign(Object.create(rd),t);return r._tag=e,r}],4309139);class rS{self;stack;direction;count=0;constructor(e,t,r){this.self=e,this.stack=t,this.direction=r}clone(){return new rS(this.self,this.stack.slice(),this.direction)}reversed(){return new rS(this.self,this.stack.slice(),1*(0===this.direction))}next(){let e=this.entry;switch(this.count++,0===this.direction?this.moveNext():this.movePrev(),e._tag){case"None":return{done:!0,value:this.count};case"Some":return{done:!1,value:e.value}}}get key(){return this.stack.length>0?w.some(this.stack[this.stack.length-1].key):w.none()}get value(){return this.stack.length>0?w.some(this.stack[this.stack.length-1].value):w.none()}get entry(){return w.map(i.last(this.stack),e=>[e.key,e.value])}get index(){let e=0,t=this.stack;if(0===t.length){let e=this.self._root;return null!=e?e.count:0}null!=t[t.length-1].left&&(e=t[t.length-1].left.count);for(let r=t.length-2;r>=0;--r)t[r+1]===t[r].right&&(++e,null!=t[r].left&&(e+=t[r].left.count));return e}moveNext(){let e=this.stack;if(0===e.length)return;let t=e[e.length-1];if(null!=t.right)for(t=t.right;null!=t;)e.push(t),t=t.left;else for(e.pop();e.length>0&&e[e.length-1].right===t;)t=e[e.length-1],e.pop()}get hasNext(){let e=this.stack;if(0===e.length)return!1;if(null!=e[e.length-1].right)return!0;for(let t=e.length-1;t>0;--t)if(e[t-1].left===e[t])return!0;return!1}movePrev(){let e=this.stack;if(0===e.length)return;let t=e[e.length-1];if(null!=t&&null!=t.left)for(t=t.left;null!=t;)e.push(t),t=t.right;else for(e.pop();e.length>0&&e[e.length-1].left===t;)t=e[e.length-1],e.pop()}get hasPrev(){let e=this.stack;if(0===e.length)return!1;if(null!=e[e.length-1].left)return!0;for(let t=e.length-1;t>0;--t)if(e[t-1].right===e[t])return!0;return!1}}let rv=e=>{let{color:t,count:r,key:a,left:i,right:n,value:s}=e;return{color:t,key:a,value:s,left:i,right:n,count:r}};function rk(e,t){e.key=t.key,e.value=t.value,e.left=t.left,e.right=t.right,e.color=t.color,e.count=t.count}let rw=(e,t)=>{let{count:r,key:a,left:i,right:n,value:s}=e;return{color:t,key:a,value:s,left:i,right:n,count:r}},rE=e=>{e.count=1+(e.left?.count??0)+(e.right?.count??0)};var rx=e.i(9804639);let rI="effect/RedBlackTree",rT=Symbol.for(rI),rC={[rT]:{_Key:e=>e,_Value:e=>e},[e2.symbol](){let e=e2.hash(rI);for(let t of this)e^=(0,f.pipe)(e2.hash(t[0]),e2.combine(e2.hash(t[1])));return e2.cached(this,e)},[e1.symbol](e){if(rF(e)){if((this._root?.count??0)!==(e._root?.count??0))return!1;let t=Array.from(e);return Array.from(this).every((e,r)=>{let a=t[r];return e1.equals(e[0],a[0])&&e1.equals(e[1],a[1])})}return!1},[Symbol.iterator](){let e=[],t=this._root;for(;null!=t;)e.push(t),t=t.left;return new rS(this,e,0)},toString(){return(0,b.format)(this.toJSON())},toJSON(){return{_id:"RedBlackTree",values:Array.from(this).map(b.toJSON)}},[b.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,E.pipeArguments)(this,arguments)}},rR=(e,t)=>{let r=Object.create(rC);return r._ord=e,r._root=t,r},rF=e=>(0,x.hasProperty)(e,rT),rA=(0,f.dual)(2,(e,t)=>{let r=rR(t,void 0);for(let[t,a]of e)r=rM(r,t,a);return r}),rO=(0,f.dual)(2,(e,t)=>{let r=e._ord,a=e._root;for(;void 0!==a;){let e=r(t,a.key);if(e1.equals(t,a.key))return w.some(a.value);a=e<=0?a.left:a.right}return w.none()}),r_=(0,f.dual)(2,(e,t)=>w.isSome(rO(e,t))),rM=(0,f.dual)(3,(e,t,r)=>{let a=e._ord,i=e._root,n=[],s=[];for(;null!=i;){let e=a(t,i.key);n.push(i),s.push(e),i=e<=0?i.left:i.right}n.push({color:0,key:t,value:r,left:void 0,right:void 0,count:1});for(let e=n.length-2;e>=0;--e){let t=n[e];s[e]<=0?n[e]={color:t.color,key:t.key,value:t.value,left:n[e+1],right:t.right,count:t.count+1}:n[e]={color:t.color,key:t.key,value:t.value,left:t.left,right:n[e+1],count:t.count+1}}for(let e=n.length-1;e>1;--e){let t=n[e-1],r=n[e];if(1===t.color||1===r.color)break;let a=n[e-2];if(a.left===t)if(t.left===r){let i=a.right;if(i&&0===i.color)t.color=1,a.right=rw(i,1),a.color=0,e-=1;else{if(a.color=0,a.left=t.right,t.color=1,t.right=a,n[e-2]=t,n[e-1]=r,rE(a),rE(t),e>=3){let r=n[e-3];r.left===a?r.left=t:r.right=t}break}}else{let i=a.right;if(i&&0===i.color)t.color=1,a.right=rw(i,1),a.color=0,e-=1;else{if(t.right=r.left,a.color=0,a.left=r.right,r.color=1,r.left=t,r.right=a,n[e-2]=r,n[e-1]=t,rE(a),rE(t),rE(r),e>=3){let t=n[e-3];t.left===a?t.left=r:t.right=r}break}}else if(t.right===r){let i=a.left;if(i&&0===i.color)t.color=1,a.left=rw(i,1),a.color=0,e-=1;else{if(a.color=0,a.right=t.left,t.color=1,t.left=a,n[e-2]=t,n[e-1]=r,rE(a),rE(t),e>=3){let r=n[e-3];r.right===a?r.right=t:r.left=t}break}}else{let i=a.left;if(i&&0===i.color)t.color=1,a.left=rw(i,1),a.color=0,e-=1;else{if(t.left=r.right,a.color=0,a.right=r.left,r.color=1,r.right=t,r.left=a,n[e-2]=r,n[e-1]=t,rE(a),rE(t),rE(r),e>=3){let t=n[e-3];t.right===a?t.right=r:t.left=r}break}}}return n[0].color=1,rR(e._ord,n[0])}),rD=(e,t)=>{let r=e[Symbol.iterator](),a=0;return{[Symbol.iterator]:()=>rD(e,t),next:()=>{a++;let e=r.key;switch(0===t?r.moveNext():r.movePrev(),e._tag){case"None":return{done:!0,value:a};case"Some":return{done:!1,value:e.value}}}}},rN=(0,f.dual)(2,(e,t)=>{let r=e._root;void 0!==r&&rP(r,(e,r)=>(t(e,r),w.none()))}),rz=(0,f.dual)(2,(e,t)=>{if(!r_(e,t))return e;let r=e._ord,a=e._root,i=[];for(;void 0!==a;){let e=r(t,a.key);i.push(a),a=e1.equals(t,a.key)?void 0:e<=0?a.left:a.right}if(0===i.length)return e;let n=Array(i.length),s=i[i.length-1];n[n.length-1]={color:s.color,key:s.key,value:s.value,left:s.left,right:s.right,count:s.count};for(let e=i.length-2;e>=0;--e)(s=i[e]).left===i[e+1]?n[e]={color:s.color,key:s.key,value:s.value,left:n[e+1],right:s.right,count:s.count}:n[e]={color:s.color,key:s.key,value:s.value,left:s.left,right:n[e+1],count:s.count};if(void 0!==(s=n[n.length-1]).left&&void 0!==s.right){let e=n.length;for(s=s.left;null!=s.right;)n.push(s),s=s.right;let t=n[e-1];n.push({color:s.color,key:t.key,value:t.value,left:s.left,right:s.right,count:s.count}),n[e-1].key=s.key,n[e-1].value=s.value;for(let t=n.length-2;t>=e;--t)s=n[t],n[t]={color:s.color,key:s.key,value:s.value,left:s.left,right:n[t+1],count:s.count};n[e-1].left=n[e]}if(0===(s=n[n.length-1]).color){let e=n[n.length-2];e.left===s?e.left=void 0:e.right===s&&(e.right=void 0),n.pop();for(let e=0;e<n.length;++e)n[e].count--}else if(void 0!==s.left||void 0!==s.right){void 0!==s.left?rk(s,s.left):void 0!==s.right&&rk(s,s.right),s.color=1;for(let e=0;e<n.length-1;++e)n[e].count--}else{if(1===n.length)return rR(r,void 0);for(let e=0;e<n.length;++e)n[e].count--;let e=n[n.length-2];rL(n),e.left===s?e.left=void 0:e.right=void 0}return rR(r,n[0])}),rP=(e,t)=>{let r,a=e,i=!1;for(;!i;)if(null!=a)r=rx.make(a,r),a=a.left;else if(null!=r){let e=t(r.value.key,r.value.value);if(w.isSome(e))return e;a=r.value.right,r=r.previous}else i=!0;return w.none()},rL=e=>{let t,r,a,i;for(let n=e.length-1;n>=0;--n){if(t=e[n],0===n){t.color=1;return}if((r=e[n-1]).left===t){if(void 0!==(a=r.right)&&void 0!==a.right&&0===a.right.color){if(i=(a=r.right=rv(a)).right=rv(a.right),r.right=a.left,a.left=r,a.right=i,a.color=r.color,t.color=1,r.color=1,i.color=1,rE(r),rE(a),n>1){let t=e[n-2];t.left===r?t.left=a:t.right=a}e[n-1]=a;return}if(void 0!==a&&void 0!==a.left&&0===a.left.color){if(i=(a=r.right=rv(a)).left=rv(a.left),r.right=i.left,a.left=i.right,i.left=r,i.right=a,i.color=r.color,r.color=1,a.color=1,t.color=1,rE(r),rE(a),rE(i),n>1){let t=e[n-2];t.left===r?t.left=i:t.right=i}e[n-1]=i;return}if(void 0!==a&&1===a.color)if(0===r.color){r.color=1,r.right=rw(a,0);return}else{r.right=rw(a,0);continue}if(void 0!==a){if(r.right=(a=rv(a)).left,a.left=r,a.color=r.color,r.color=0,rE(r),rE(a),n>1){let t=e[n-2];t.left===r?t.left=a:t.right=a}e[n-1]=a,e[n]=r,n+1<e.length?e[n+1]=t:e.push(t),n+=2}}else{if(void 0!==(a=r.left)&&void 0!==a.left&&0===a.left.color){if(i=(a=r.left=rv(a)).left=rv(a.left),r.left=a.right,a.right=r,a.left=i,a.color=r.color,t.color=1,r.color=1,i.color=1,rE(r),rE(a),n>1){let t=e[n-2];t.right===r?t.right=a:t.left=a}e[n-1]=a;return}if(void 0!==a&&void 0!==a.right&&0===a.right.color){if(i=(a=r.left=rv(a)).right=rv(a.right),r.left=i.right,a.right=i.left,i.right=r,i.left=a,i.color=r.color,r.color=1,a.color=1,t.color=1,rE(r),rE(a),rE(i),n>1){let t=e[n-2];t.right===r?t.right=i:t.left=i}e[n-1]=i;return}if(void 0!==a&&1===a.color)if(0===r.color){r.color=1,r.left=rw(a,0);return}else{r.left=rw(a,0);continue}if(void 0!==a){if(r.left=(a=rv(a)).right,a.right=r,a.color=r.color,r.color=0,rE(r),rE(a),n>1){let t=e[n-2];t.right===r?t.right=a:t.left=a}e[n-1]=a,e[n]=r,n+1<e.length?e[n+1]=t:e.push(t),n+=2}}}},rU=Symbol.for("effect/SortedSet"),rj={[rU]:{_A:e=>e},[e2.symbol](){return(0,f.pipe)(e2.hash(this.keyTree),e2.combine(e2.hash(rU)),e2.cached(this))},[e1.symbol](e){return rq(e)&&e1.equals(this.keyTree,e.keyTree)},[Symbol.iterator](){return rD(this.keyTree,0)},toString(){return(0,b.format)(this.toJSON())},toJSON(){return{_id:"SortedSet",values:Array.from(this).map(b.toJSON)}},[b.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,E.pipeArguments)(this,arguments)}},rW=e=>{let t=Object.create(rj);return t.keyTree=e,t},rq=e=>(0,x.hasProperty)(e,rU),rB=f.dual(2,(e,t)=>rW(rA(Array.from(e).map(e=>[e,!0]),t))),r$=f.dual(2,(e,t)=>r_(e.keyTree,t)?e:rW(rM(e.keyTree,t,!0))),rV=f.dual(2,(e,t)=>{for(let r of e)if(!t(r))return!1;return!0}),rH=((e,t)=>rN(e.keyTree,t),f.dual(2,(e,t)=>r_(e.keyTree,t))),rG=f.dual(2,(e,t)=>rV(e,e=>rH(t,e))),rK=f.dual(2,(e,t)=>rW(rz(e.keyTree,t)));e.s(["add",0,r$,"fromIterable",0,rB,"getEquivalence",0,()=>(e,t)=>rG(e,t)&&rG(t,e),"isSortedSet",0,rq,"remove",0,rK,"values",0,e=>rD(e.keyTree,0)],1635211);let rJ=Symbol.for("effect/Supervisor"),rZ={_T:e=>e};class rQ{underlying;value0;[rJ]=rZ;constructor(e,t){this.underlying=e,this.value0=t}get value(){return this.value0}onStart(e,t,r,a){this.underlying.onStart(e,t,r,a)}onEnd(e,t){this.underlying.onEnd(e,t)}onEffect(e,t){this.underlying.onEffect(e,t)}onSuspend(e){this.underlying.onSuspend(e)}onResume(e){this.underlying.onResume(e)}map(e){return new rQ(this,(0,f.pipe)(this.value,z.map(e)))}zip(e){return new rY(this,e)}}class rY{left;right;_tag="Zip";[rJ]=rZ;constructor(e,t){this.left=e,this.right=t}get value(){return z.zip(this.left.value,this.right.value)}onStart(e,t,r,a){this.left.onStart(e,t,r,a),this.right.onStart(e,t,r,a)}onEnd(e,t){this.left.onEnd(e,t),this.right.onEnd(e,t)}onEffect(e,t){this.left.onEffect(e,t),this.right.onEffect(e,t)}onSuspend(e){this.left.onSuspend(e),this.right.onSuspend(e)}onResume(e){this.left.onResume(e),this.right.onResume(e)}map(e){return new rQ(this,(0,f.pipe)(this.value,z.map(e)))}zip(e){return new rY(this,e)}}let rX=e=>(0,x.hasProperty)(e,rJ)&&(0,x.isTagged)(e,"Zip");class r0{[rJ]=rZ;fibers=new Set;get value(){return z.sync(()=>Array.from(this.fibers))}onStart(e,t,r,a){this.fibers.add(a)}onEnd(e,t){this.fibers.delete(t)}onEffect(e,t){}onSuspend(e){}onResume(e){}map(e){return new rQ(this,(0,f.pipe)(this.value,z.map(e)))}zip(e){return new rY(this,e)}onRun(e,t){return e()}}class r1{effect;[rJ]=rZ;constructor(e){this.effect=e}get value(){return this.effect}onStart(e,t,r,a){}onEnd(e,t){}onEffect(e,t){}onSuspend(e){}onResume(e){}map(e){return new rQ(this,(0,f.pipe)(this.value,z.map(e)))}zip(e){return new rY(this,e)}onRun(e,t){return e()}}let r2=z.sync(()=>new r0),r3=(0,m.globalValue)("effect/Supervisor/none",()=>new r1(z.void));e.s(["Zip",()=>rY,"isZip",0,rX,"none",0,r3,"track",0,r2],5663534);var r5=e.i(211823),r4=e.i(4730360),r8=e.i(731044),r6=e.i(8806827),r9=e.i(8308496),r7=e.i(4063476),ae=e.i(1800779);r5.DifferTypeId,r4.ChunkPatchTypeId,r8.ContextPatchTypeId,r6.HashMapPatchTypeId,r9.HashSetPatchTypeId,r7.OrPatchTypeId,ae.ReadonlyArrayPatchTypeId;let at=r5.make;r5.environment,r5.chunk,r5.hashMap,r5.hashSet,r5.orElseEither,r5.readonlyArray,r5.transform,r5.update,r5.updateWith,r5.zip;let ar="Empty",aa="AddSupervisor",ai="RemoveSupervisor",an="AndThen",as={_tag:ar},ao=(e,t)=>({_tag:an,first:e,second:t}),al=(e,t)=>e1.equals(e,t)?r3:rX(e)?al(e.left,t).zip(al(e.right,t)):e,au=e=>e1.equals(e,r3)?y.empty():rX(e)?(0,f.pipe)(au(e.left),y.union(au(e.right))):y.make(e),ac=at({empty:as,patch:(e,t)=>((e,t)=>{let r=e,a=t;for(;s.isNonEmpty(a);){let e=s.headNonEmpty(a);switch(e._tag){case ar:a=s.tailNonEmpty(a);break;case aa:r=r.zip(e.supervisor),a=s.tailNonEmpty(a);break;case ai:r=al(r,e.supervisor),a=s.tailNonEmpty(a);break;case an:a=s.prepend(e.first)(s.prepend(e.second)(s.tailNonEmpty(a)))}}return r})(t,s.of(e)),combine:ao,diff:(e,t)=>{if(e1.equals(e,t))return as;let r=au(e),a=au(t),i=(0,f.pipe)(a,y.difference(r),y.reduce(as,(e,t)=>ao(e,{_tag:aa,supervisor:t}))),n=(0,f.pipe)(r,y.difference(a),y.reduce(as,(e,t)=>ao(e,{_tag:ai,supervisor:t})));return ao(i,n)}});var ad=e.i(3427637),ap=e.i(2561845);let ah=ra("effect_fiber_started",{incremental:!0}),af=ra("effect_fiber_active"),am=ra("effect_fiber_successes",{incremental:!0}),ag=ra("effect_fiber_failures",{incremental:!0}),ay=rn((t={start:.5,factor:2,count:35},ri((r=(0,f.pipe)(i.makeBy(t.count-1,e=>t.start*Math.pow(t.factor,e)),s.unsafeFromArray,e=>new e4((0,f.pipe)(e,i.appendAll(s.of(1/0)),i.dedupe))),new tg("effect_fiber_lifetimes",new tu(r),w.fromNullable(a))))),"time_unit","milliseconds"),ab="Continue",aS="Yield",av={_E:e=>e,_A:e=>e},ak=e=>{throw Error(`BUG: FiberRuntime - ${b.toStringUnknown(e)} - please report an issue at https://github.com/Effect-TS/effect/issues`)},aw=Symbol.for("effect/internal/fiberRuntime/YieldedOp"),aE=(0,m.globalValue)("effect/internal/fiberRuntime/yieldedOpChannel",()=>({currentOp:null})),ax={[rl.OP_ON_SUCCESS]:(e,t,r)=>(0,R.internalCall)(()=>t.effect_instruction_i1(r)),OnStep:(e,t,r)=>z.exitSucceed(z.exitSucceed(r)),[rl.OP_ON_SUCCESS_AND_FAILURE]:(e,t,r)=>(0,R.internalCall)(()=>t.effect_instruction_i2(r)),[rl.OP_REVERT_FLAGS]:(e,t,r)=>(e.patchRuntimeFlags(e.currentRuntimeFlags,t.patch),en.interruptible(e.currentRuntimeFlags)&&e.isInterrupted())?z.exitFailCause(e.getInterruptedCause()):z.exitSucceed(r),[rl.OP_WHILE]:(e,t,r)=>((0,R.internalCall)(()=>t.effect_instruction_i2(r)),(0,R.internalCall)(()=>t.effect_instruction_i0()))?(e.pushStack(t),(0,R.internalCall)(()=>t.effect_instruction_i1())):z.void,[rl.OP_ITERATOR]:(e,t,r)=>{let a=(0,R.internalCall)(()=>t.effect_instruction_i0.next(r));return a.done?z.exitSucceed(a.value):(e.pushStack(t),(0,R.yieldWrapGet)(a.value))}},aI={[H]:(e,t,r,a)=>(e.processNewInterruptSignal(a.cause),en.interruptible(t)?z.exitFailCause(a.cause):r),[K]:(e,t,r,a)=>{throw Error("It is illegal to have multiple concurrent run loops in a single fiber")},[G]:(e,t,r,a)=>(a.onFiber(e,h.running(t)),r),[J]:(e,t,r,a)=>z.flatMap(z.yieldNow(),()=>r)},aT=ap.getCurrentVersion();class aC extends l.Class{[es]=eo;[eu]=av;_fiberRefs;_fiberId;_queue=[];_children=null;_observers=[];_running=!1;_stack=[];_asyncInterruptor=null;_asyncBlockingOn=null;_exitValue=null;_steps=[];_isYielding=!1;currentRuntimeFlags;currentOpCount=0;currentSupervisor;currentScheduler;currentTracer;currentSpan;currentContext;currentDefaultServices;constructor(e,t,r){if(super(),this.currentRuntimeFlags=r,this._fiberId=e,this._fiberRefs=t,en.runtimeMetrics(r)){const e=this.getFiberRef(z.currentMetricLabels);ah.unsafeUpdate(1,e),af.unsafeUpdate(1,e)}this.refreshRefCache()}commit(){return eS(this)}id(){return this._fiberId}resume(e){this.tell(Y(e))}get status(){return this.ask((e,t)=>t)}get runtimeFlags(){return this.ask((e,t)=>h.isDone(t)?e.currentRuntimeFlags:t.runtimeFlags)}scope(){return ea(this)}get children(){return this.ask(e=>Array.from(e.getChildren()))}getChildren(){return null===this._children&&(this._children=new Set),this._children}getInterruptedCause(){return this.getFiberRef(z.currentInterruptedCause)}fiberRefs(){return this.ask(e=>e.getFiberRefs())}ask(e){return z.suspend(()=>{let t=z.deferredUnsafeMake(this._fiberId);return this.tell(Q((r,a)=>{z.deferredUnsafeDone(t,z.sync(()=>e(r,a)))})),z.deferredAwait(t)})}tell(e){this._queue.push(e),this._running||(this._running=!0,this.drainQueueLaterOnExecutor())}get await(){return z.async(e=>{let t=t=>e(z.succeed(t));return this.tell(Q((e,r)=>{null!==e._exitValue?t(this._exitValue):e.addObserver(t)})),z.sync(()=>this.tell(Q((e,r)=>{e.removeObserver(t)})))},this.id())}get inheritAll(){return z.withFiberRuntime((e,t)=>{let r=e.id(),a=e.getFiberRefs(),i=t.runtimeFlags,n=this.getFiberRefs(),s=e_.joinAs(a,r,n);e.setFiberRefs(s);let o=e.getFiberRef(iw),l=(0,f.pipe)(en.diff(i,o),T.exclude(en.Interruption),T.exclude(en.WindDown));return z.updateRuntimeFlags(l)})}get poll(){return z.sync(()=>w.fromNullable(this._exitValue))}unsafePoll(){return this._exitValue}interruptAsFork(e){return z.sync(()=>this.tell(Z(A.interrupt(e))))}unsafeInterruptAsFork(e){this.tell(Z(A.interrupt(e)))}addObserver(e){null!==this._exitValue?e(this._exitValue):this._observers.push(e)}removeObserver(e){this._observers=this._observers.filter(t=>t!==e)}getFiberRefs(){return this.setFiberRef(iw,this.currentRuntimeFlags),this._fiberRefs}unsafeDeleteFiberRef(e){this._fiberRefs=e_.delete_(this._fiberRefs,e)}getFiberRef(e){return this._fiberRefs.locals.has(e)?this._fiberRefs.locals.get(e)[0][1]:e.initial}setFiberRef(e,t){this._fiberRefs=e_.updateAs(this._fiberRefs,{fiberId:this._fiberId,fiberRef:e,value:t}),this.refreshRefCache()}refreshRefCache(){this.currentDefaultServices=this.getFiberRef(P.currentServices),this.currentTracer=this.currentDefaultServices.unsafeMap.get(ad.tracerTag.key),this.currentSupervisor=this.getFiberRef(iE),this.currentScheduler=this.getFiberRef(C.currentScheduler),this.currentContext=this.getFiberRef(z.currentContext),this.currentSpan=this.currentContext.unsafeMap.get(ad.spanTag.key)}setFiberRefs(e){this._fiberRefs=e,this.refreshRefCache()}addChild(e){this.getChildren().add(e)}removeChild(e){this.getChildren().delete(e)}transferChildren(e){let t=this._children;if(this._children=null,null!==t&&t.size>0)for(let r of t)null===r._exitValue&&e.add(this.currentRuntimeFlags,r)}drainQueueOnCurrentThread(){let e=!0;for(;e;){let t=ab,r=globalThis[eO];globalThis[eO]=this;try{for(;t===ab;)t=0===this._queue.length?"Done":this.evaluateMessageWhileSuspended(this._queue.splice(0,1)[0])}finally{this._running=!1,globalThis[eO]=r}this._queue.length>0&&!this._running?(this._running=!0,t===aS?(this.drainQueueLaterOnExecutor(),e=!1):e=!0):e=!1}}drainQueueLaterOnExecutor(){this.currentScheduler.scheduleTask(this.run,this.getFiberRef(z.currentSchedulingPriority))}drainQueueWhileRunning(e,t){let r=t;for(;this._queue.length>0;){let t=this._queue.splice(0,1)[0];r=aI[t._tag](this,e,r,t)}return r}isInterrupted(){return!A.isEmpty(this.getFiberRef(z.currentInterruptedCause))}addInterruptedCause(e){let t=this.getFiberRef(z.currentInterruptedCause);this.setFiberRef(z.currentInterruptedCause,A.sequential(t,e))}processNewInterruptSignal(e){this.addInterruptedCause(e),this.sendInterruptSignalToAllChildren()}sendInterruptSignalToAllChildren(){if(null===this._children||0===this._children.size)return!1;let e=!1;for(let t of this._children)t.tell(Z(A.interrupt(this.id()))),e=!0;return e}interruptAllChildren(){if(this.sendInterruptSignalToAllChildren()){let e=this._children.values();this._children=null;let t=!1;return z.whileLoop({while:()=>!t,body:()=>{let r=e.next();return r.done?z.sync(()=>{t=!0}):z.asVoid(r.value.await)},step:()=>{}})}return null}reportExitValue(e){if(en.runtimeMetrics(this.currentRuntimeFlags)){let t=this.getFiberRef(z.currentMetricLabels),r=this.id().startTimeMillis,a=Date.now();switch(ay.unsafeUpdate(a-r,t),af.unsafeUpdate(-1,t),e._tag){case rl.OP_SUCCESS:am.unsafeUpdate(1,t);break;case rl.OP_FAILURE:ag.unsafeUpdate(1,t)}}if("Failure"===e._tag){let t=this.getFiberRef(z.currentUnhandledErrorLogLevel);A.isInterruptedOnly(e.cause)||"Some"!==t._tag||this.log("Fiber terminated with an unhandled error",e.cause,t)}}setExitValue(e){this._exitValue=e,this.reportExitValue(e);for(let t=this._observers.length-1;t>=0;t--)this._observers[t](e);this._observers=[]}getLoggers(){return this.getFiberRef(aO)}log(e,t,r){let a=w.isSome(r)?r.value:this.getFiberRef(z.currentLogLevel),i=this.getFiberRef(aR);if(S.greaterThan(i,a))return;let n=this.getFiberRef(z.currentLogSpan),s=this.getFiberRef(z.currentLogAnnotations),l=this.getLoggers(),u=this.getFiberRefs();if(y.size(l)>0){let r=new Date(o.get(this.getFiberRef(P.currentServices),O.clockTag).unsafeCurrentTimeMillis());b.withRedactableContext(u,()=>{for(let i of l)i.log({fiberId:this.id(),logLevel:a,message:e,cause:t,context:u,spans:n,annotations:s,date:r})})}}evaluateMessageWhileSuspended(e){switch(e._tag){case J:return aS;case H:return this.processNewInterruptSignal(e.cause),null!==this._asyncInterruptor&&(this._asyncInterruptor(z.exitFailCause(e.cause)),this._asyncInterruptor=null),ab;case K:return this._asyncInterruptor=null,this._asyncBlockingOn=null,this.evaluateEffect(e.effect),ab;case G:return e.onFiber(this,null!==this._exitValue?h.done:h.suspended(this.currentRuntimeFlags,this._asyncBlockingOn)),ab;default:return ak(e)}}evaluateEffect(e){this.currentSupervisor.onResume(this);try{let t=en.interruptible(this.currentRuntimeFlags)&&this.isInterrupted()?z.exitFailCause(this.getInterruptedCause()):e;for(;null!==t;){let e=t,r=this.runLoop(e);if(r===aw){let e=aE.currentOp;aE.currentOp=null,e._op===rl.OP_YIELD?en.cooperativeYielding(this.currentRuntimeFlags)?(this.tell(X()),this.tell(Y(z.exitVoid)),t=null):t=z.exitVoid:e._op===rl.OP_ASYNC&&(t=null)}else{this.currentRuntimeFlags=(0,f.pipe)(this.currentRuntimeFlags,en.enable(en.WindDown));let e=this.interruptAllChildren();null!==e?t=z.flatMap(e,()=>r):(0===this._queue.length?this.setExitValue(r):this.tell(Y(r)),t=null)}}}finally{this.currentSupervisor.onSuspend(this)}}start(e){if(this._running)this.tell(Y(e));else{this._running=!0;let t=globalThis[eO];globalThis[eO]=this;try{this.evaluateEffect(e)}finally{this._running=!1,globalThis[eO]=t,this._queue.length>0&&this.drainQueueLaterOnExecutor()}}}startFork(e){this.tell(Y(e))}patchRuntimeFlags(e,t){let r=en.patch(e,t);return globalThis[eO]=this,this.currentRuntimeFlags=r,r}initiateAsync(e,t){let r=!1,a=e=>{r||(r=!0,this.tell(Y(e)))};en.interruptible(e)&&(this._asyncInterruptor=a);try{t(a)}catch(e){a(z.failCause(A.die(e)))}}pushStack(e){this._stack.push(e),"OnStep"===e._op&&this._steps.push({refs:this.getFiberRefs(),flags:this.currentRuntimeFlags})}popStack(){let e=this._stack.pop();if(e)return"OnStep"===e._op&&this._steps.pop(),e}getNextSuccessCont(){let e=this.popStack();for(;e;){if(e._op!==rl.OP_ON_FAILURE)return e;e=this.popStack()}}getNextFailCont(){let e=this.popStack();for(;e;){if(e._op!==rl.OP_ON_SUCCESS&&e._op!==rl.OP_WHILE&&e._op!==rl.OP_ITERATOR)return e;e=this.popStack()}}[rl.OP_TAG](e){return z.sync(()=>o.unsafeGet(this.currentContext,e))}Left(e){return z.fail(e.left)}None(e){return z.fail(new z.NoSuchElementException)}Right(e){return z.exitSucceed(e.right)}Some(e){return z.exitSucceed(e.value)}Micro(e){return z.unsafeAsync(t=>{let r=t,a=v.runFork(v.provideContext(e,this.currentContext));return a.addObserver(e=>{if("Success"===e._tag)return r(z.exitSucceed(e.value));switch(e.cause._tag){case"Interrupt":return r(z.exitFailCause(A.interrupt(c.none)));case"Fail":return r(z.fail(e.cause.error));case"Die":return r(z.die(e.cause.defect))}}),z.unsafeAsync(e=>{r=t=>{e(z.void)},a.unsafeInterrupt()})})}[rl.OP_SYNC](e){let t=(0,R.internalCall)(()=>e.effect_instruction_i0()),r=this.getNextSuccessCont();return void 0!==r?(r._op in ax||ak(r),ax[r._op](this,r,t)):(aE.currentOp=z.exitSucceed(t),aw)}[rl.OP_SUCCESS](e){let t=this.getNextSuccessCont();return void 0!==t?(t._op in ax||ak(t),ax[t._op](this,t,e.effect_instruction_i0)):(aE.currentOp=e,aw)}[rl.OP_FAILURE](e){let t=e.effect_instruction_i0,r=this.getNextFailCont();if(void 0===r)return aE.currentOp=z.exitFailCause(t),aw;switch(r._op){case rl.OP_ON_FAILURE:case rl.OP_ON_SUCCESS_AND_FAILURE:if(!(en.interruptible(this.currentRuntimeFlags)&&this.isInterrupted()))return(0,R.internalCall)(()=>r.effect_instruction_i1(t));return z.exitFailCause(A.stripFailures(t));case"OnStep":if(!(en.interruptible(this.currentRuntimeFlags)&&this.isInterrupted()))return z.exitSucceed(z.exitFailCause(t));return z.exitFailCause(A.stripFailures(t));case rl.OP_REVERT_FLAGS:if(this.patchRuntimeFlags(this.currentRuntimeFlags,r.patch),en.interruptible(this.currentRuntimeFlags)&&this.isInterrupted())return z.exitFailCause(A.sequential(t,this.getInterruptedCause()));return z.exitFailCause(t);default:ak(r)}}[rl.OP_WITH_RUNTIME](e){return(0,R.internalCall)(()=>e.effect_instruction_i0(this,h.running(this.currentRuntimeFlags)))}Blocked(e){let t=this.getFiberRefs(),r=this.currentRuntimeFlags;if(this._steps.length>0){let a=[],i=this._steps[this._steps.length-1],n=this.popStack();for(;n&&"OnStep"!==n._op;)a.push(n),n=this.popStack();this.setFiberRefs(i.refs),this.currentRuntimeFlags=i.flags;let s=p.diff(i.refs,t),o=en.diff(i.flags,r);return z.exitSucceed(z.blocked(e.effect_instruction_i0,z.withFiberRuntime(t=>{for(;a.length>0;)t.pushStack(a.pop());return t.setFiberRefs(p.patch(t.id(),t.getFiberRefs())(s)),t.currentRuntimeFlags=en.patch(o)(t.currentRuntimeFlags),e.effect_instruction_i1})))}return z.uninterruptibleMask(t=>z.flatMap(aK(z.runRequestBlock(e.effect_instruction_i0)),()=>t(e.effect_instruction_i1)))}RunBlocked(e){let t;return t=e.effect_instruction_i0,z.forEachSequentialDiscard(F.flatten(t),e=>aV(F.sequentialCollectionToChunk(e),e=>{let[t,r]=e,a=new Map,i=[];for(let e of r)for(let t of(i.push(s.toReadonlyArray(e)),e))a.set(t.request,t);let n=i.flat();return z.fiberRefLocally(iA(t.runAll(i),n,()=>n.forEach(e=>{e.listeners.interrupted=!0})),_.currentRequestMap,a)},!1,!1))}[rl.OP_UPDATE_RUNTIME_FLAGS](e){let t=e.effect_instruction_i0,r=this.currentRuntimeFlags,a=en.patch(r,t);if(en.interruptible(a)&&this.isInterrupted())return z.exitFailCause(this.getInterruptedCause());if(this.patchRuntimeFlags(this.currentRuntimeFlags,t),!e.effect_instruction_i1)return z.exitVoid;{let t=en.diff(a,r);return this.pushStack(new z.RevertFlags(t,e)),(0,R.internalCall)(()=>e.effect_instruction_i1(r))}}[rl.OP_ON_SUCCESS](e){return this.pushStack(e),e.effect_instruction_i0}OnStep(e){return this.pushStack(e),e.effect_instruction_i0}[rl.OP_ON_FAILURE](e){return this.pushStack(e),e.effect_instruction_i0}[rl.OP_ON_SUCCESS_AND_FAILURE](e){return this.pushStack(e),e.effect_instruction_i0}[rl.OP_ASYNC](e){return this._asyncBlockingOn=e.effect_instruction_i1,this.initiateAsync(this.currentRuntimeFlags,e.effect_instruction_i0),aE.currentOp=e,aw}[rl.OP_YIELD](e){return this._isYielding=!1,aE.currentOp=e,aw}[rl.OP_WHILE](e){let t=e.effect_instruction_i0,r=e.effect_instruction_i1;return t()?(this.pushStack(e),r()):z.exitVoid}[rl.OP_ITERATOR](e){return ax[rl.OP_ITERATOR](this,e,void 0)}[rl.OP_COMMIT](e){return(0,R.internalCall)(()=>e.commit())}runLoop(e){let t=e;for(this.currentOpCount=0;;){if((this.currentRuntimeFlags&en.OpSupervision)!=0&&this.currentSupervisor.onEffect(this,t),this._queue.length>0&&(t=this.drainQueueWhileRunning(this.currentRuntimeFlags,t)),!this._isYielding){this.currentOpCount+=1;let e=this.currentScheduler.shouldYield(this);if(!1!==e){this._isYielding=!0,this.currentOpCount=0;let r=t;t=z.flatMap(z.yieldNow({priority:e}),()=>r)}}try{if((t=this.currentTracer.context(()=>{if(aT!==t[z.EffectTypeId]._V){let e=this.getFiberRef(z.currentVersionMismatchErrorLogLevel);if("Some"===e._tag){let r=t[z.EffectTypeId]._V;this.log(`Executing an Effect versioned ${r} with a Runtime of version ${ap.getCurrentVersion()}, you may want to dedupe the effect dependencies, you can use the language service plugin to detect this at compile time: https://github.com/Effect-TS/language-service`,A.empty,e)}}return this[t._op](t)},this))===aw){let e=aE.currentOp;if(e._op===rl.OP_YIELD||e._op===rl.OP_ASYNC)return aw;return aE.currentOp=null,e._op===rl.OP_SUCCESS||e._op===rl.OP_FAILURE?e:z.exitFailCause(A.die(e))}}catch(e){t=(t===aw||x.hasProperty(t,"_op"))&&t._op in this?z.isInterruptedException(e)?z.exitFailCause(A.sequential(A.die(e),A.interrupt(c.none))):z.die(e):z.dieMessage(`Not a valid effect: ${b.toStringUnknown(t)}`)}}}run=()=>{this.drainQueueOnCurrentThread()}}let aR=(0,m.globalValue)("effect/FiberRef/currentMinimumLogLevel",()=>z.fiberRefUnsafeMake(S.fromLiteral("Info"))),aF=(0,m.globalValue)(Symbol.for("effect/Logger/defaultLogger"),()=>{let e;return e=eB,eU(t=>{let r=d.getOrDefault(t.context,P.currentServices);o.get(r,L.consoleTag).unsafe.log(e.log(t))})}),aA=(0,m.globalValue)(Symbol.for("effect/Logger/tracerLogger"),()=>eU(e=>{let{annotations:t,cause:r,context:a,fiberId:i,logLevel:n,message:s}=e,l=o.getOption(e_.getOrDefault(a,z.currentContext),ad.spanTag);if("None"===l._tag||"ExternalSpan"===l.value._tag)return;let u=o.unsafeGet(e_.getOrDefault(a,P.currentServices),O.clockTag),d={};for(let[e,r]of t)d[e]=r;d["effect.fiberId"]=c.threadName(i),d["effect.logLevel"]=n.label,null!==r&&"Empty"!==r._tag&&(d["effect.cause"]=A.pretty(r,{renderErrorCause:!0})),l.value.event(b.toStringUnknown(Array.isArray(s)&&1===s.length?s[0]:s),u.unsafeCurrentTimeNanos(),d)})),aO=(0,m.globalValue)(Symbol.for("effect/FiberRef/currentLoggers"),()=>z.fiberRefUnsafeMakeHashSet(y.make(aF,aA))),a_=(0,f.dual)(2,(e,t)=>{let r="string"==typeof t?S.fromLiteral(t):t;return z.withFiberRuntime(t=>{let a=t.getFiberRef(aR);return S.greaterThan(a,r)?z.succeed(w.none()):z.map(e,w.some)})}),aM=(0,f.dual)(e=>z.isEffect(e[0]),(e,t)=>z.uninterruptible(z.tap(e,e=>aN(r=>t(e,r))))),aD=(0,f.dual)(e=>z.isEffect(e[0]),(e,t)=>iF(e,aN(e=>t(e)))),aN=e=>z.withFiberRuntime(t=>{let r=t.getFiberRefs(),a=en.disable(t.currentRuntimeFlags,en.Interruption);return z.flatMap(id,t=>z.scopeAddFinalizerExit(t,t=>z.withFiberRuntime(i=>{let n=i.getFiberRefs(),s=i.currentRuntimeFlags,o=p.diff(n,r),l=en.diff(s,a),u=p.diff(r,n);return i.setFiberRefs(p.patch(o,i.id(),r)),iF(z.withRuntimeFlags(e(t),l),z.sync(()=>{i.setFiberRefs(p.patch(u,i.id(),i.getFiberRefs()))}))})))}),az=Symbol.for("effect/Effect/existsPar/found"),aP=(0,f.dual)(e=>x.isIterable(e[0])&&!z.isEffect(e[0]),(e,t,r)=>M.matchSimple(r?.concurrency,()=>z.suspend(()=>aL(e[Symbol.iterator](),0,t)),()=>z.matchEffect(aB(e,(e,r)=>z.if_(t(e,r),{onTrue:()=>z.fail(az),onFalse:()=>z.void}),r),{onFailure:e=>e===az?z.succeed(!0):z.fail(e),onSuccess:()=>z.succeed(!1)}))),aL=(e,t,r)=>{let a=e.next();return a.done?z.succeed(!1):z.flatMap(r(a.value,t),a=>a?z.succeed(a):aL(e,t+1,r))},aU=(0,f.dual)(e=>x.isIterable(e[0])&&!z.isEffect(e[0]),(e,t,r)=>{let a=r?.negate?(e,r)=>z.map(t(e,r),n.not):t;return M.matchSimple(r?.concurrency,()=>z.suspend(()=>i.fromIterable(e).reduceRight((e,t,r)=>z.zipWith(e,z.suspend(()=>a(t,r)),(e,r)=>r?[t,...e]:e),z.sync(()=>[]))),()=>z.map(aB(e,(e,t)=>z.map(a(e,t),t=>t?w.some(e):w.none()),r),i.getSomes))}),aj=(e,t)=>{let[r,a]=(e=>{if(Array.isArray(e)||x.isIterable(e))return[e,w.none()];let t=Object.keys(e),r=t.length;return[t.map(t=>e[t]),w.some(e=>{let a={};for(let i=0;i<r;i++)a[t[i]]=e[i];return a})]})(e);if(t?.mode==="validate"){let e=[];for(let t of r)e.push(z.either(t));return z.flatMap(aB(e,f.identity,{concurrency:t?.concurrency,batching:t?.batching,concurrentFinalizers:t?.concurrentFinalizers}),e=>{let r=w.none(),i=e.length,n=Array(i),s=Array(i),o=!1;for(let t=0;t<i;t++){let a=e[t];"Left"===a._tag?(n[t]=w.some(a.left),o=!0):(s[t]=a.right,n[t]=r)}return o?"Some"===a._tag?z.fail(a.value(n)):z.fail(n):t?.discard?z.void:"Some"===a._tag?z.succeed(a.value(s)):z.succeed(s)})}if(t?.mode==="either"){let e=[];for(let t of r)e.push(z.either(t));return t?.discard?aB(e,f.identity,{concurrency:t?.concurrency,batching:t?.batching,discard:!0,concurrentFinalizers:t?.concurrentFinalizers}):z.map(aB(e,f.identity,{concurrency:t?.concurrency,batching:t?.batching,concurrentFinalizers:t?.concurrentFinalizers}),e=>"Some"===a._tag?a.value(e):e)}return t?.discard!==!0&&"Some"===a._tag?z.map(aB(r,f.identity,t),a.value):aB(r,f.identity,t)},aW=(0,f.dual)(2,(e,t)=>Array.from({length:t},()=>e)),aq=(0,f.dual)(e=>z.isEffect(e[0]),(e,t,r)=>aj(aW(e,t),r)),aB=(0,f.dual)(e=>x.isIterable(e[0]),(e,t,r)=>z.withFiberRuntime(a=>{let i=r?.batching===!0||r?.batching==="inherit"&&a.getFiberRef(z.currentRequestBatching);return r?.discard?M.match(r.concurrency,()=>a8(u.sequential,r?.concurrentFinalizers)(r=>i?aV(e,(e,a)=>r(t(e,a)),!0,!1,1):z.forEachSequentialDiscard(e,(e,a)=>r(t(e,a)))),()=>a8(u.parallel,r?.concurrentFinalizers)(r=>aV(e,(e,a)=>r(t(e,a)),i,!1)),a=>a8(u.parallelN(a),r?.concurrentFinalizers)(r=>aV(e,(e,a)=>r(t(e,a)),i,!1,a))):M.match(r?.concurrency,()=>a8(u.sequential,r?.concurrentFinalizers)(r=>i?aH(e,1,(e,a)=>r(t(e,a)),!0):z.forEachSequential(e,(e,a)=>r(t(e,a)))),()=>a8(u.parallel,r?.concurrentFinalizers)(r=>a$(e,(e,a)=>r(t(e,a)),i)),a=>a8(u.parallelN(a),r?.concurrentFinalizers)(r=>aH(e,a,(e,a)=>r(t(e,a)),i)))})),a$=(e,t,r)=>z.suspend(()=>{let a=i.fromIterable(e),n=Array(a.length);return z.zipRight(aV(a,(e,r)=>z.flatMap(t(e,r),e=>z.sync(()=>n[r]=e)),r,!1),z.succeed(n))}),aV=(e,t,r,a,i)=>z.uninterruptibleMask(n=>z.transplant(s=>z.withFiberRuntime(o=>{let l=Array.from(e).reverse(),u=l.length;if(0===u)return z.void;let c=0,d=!1,p=i?Math.min(l.length,i):l.length,h=new Set,f=[],m=[],g=[],y=[],b=()=>{let e=f.filter(e=>{let{exit:t}=e;return"Failure"===t._tag}).sort((e,t)=>e.index<t.index?-1:+(e.index!==t.index)).map(e=>{let{exit:t}=e;return t});return 0===e.length&&e.push(z.exitVoid),e},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=z.uninterruptible(s(e)),a=aQ(r,o,o.currentRuntimeFlags,ei);return o.currentScheduler.scheduleTask(()=>{t&&a.unsafeInterruptAsFork(o.id()),a.resume(r)},0),a},v=()=>{a||(u-=l.length,l=[]),d=!0,h.forEach(e=>{e.currentScheduler.scheduleTask(()=>{e.unsafeInterruptAsFork(o.id())},0)})},k=r?z.step:z.exit,E=S(z.async(e=>{let a=(e,t)=>{"Blocked"===e._op?y.push(e):(f.push({index:t,exit:e}),"Failure"!==e._op||d||v())},s=()=>{if(l.length>0){let p=l.pop(),v=c++,E=e=>{if(l.length>0&&(a(e,v),l.length>0)){let e;return e=l.pop(),v=c++,z.flatMap(z.yieldNow(),()=>z.flatMap(k(n(t(e,v))),E))}return z.succeed(e)},x=S(z.flatMap(k(n(t(p,v))),E));m.push(x),h.add(x),d&&x.currentScheduler.scheduleTask(()=>{x.unsafeInterruptAsFork(o.id())},0),x.addObserver(t=>{let n;if(n="Failure"===t._op?t:t.effect_instruction_i0,g.push(x),h.delete(x),a(n,v),f.length===u)e(z.succeed(w.getOrElse(z.exitCollectAll(b(),{parallel:!0}),()=>z.exitVoid)));else if(y.length+f.length===u){let t=b(),a=y.map(e=>e.effect_instruction_i0).reduce(F.par);e(z.succeed(z.blocked(a,aV([w.getOrElse(z.exitCollectAll(t,{parallel:!0}),()=>z.exitVoid),...y.map(e=>e.effect_instruction_i1)],e=>e,r,!0,i))))}else s()})}};for(let e=0;e<p;e++)s()}));return z.asVoid(z.onExit(z.flatten(n(eS(E))),z.exitMatch({onFailure:e=>{v();let t=y.length+1,r=Math.min("number"==typeof i?i:y.length,y.length),a=Array.from(y);return z.async(i=>{let n=[],s=0,o=0,l=(r,o)=>l=>{n[r]=l,++s===t&&i(z.exitSucceed(z.exitFailCause(e))),a.length>0&&o&&u()},u=()=>{S(a.pop(),!0).addObserver(l(o,!0)),o++};E.addObserver(l(o,!1)),o++;for(let e=0;e<r;e++)u()})},onSuccess:()=>z.forEachSequential(g,e=>e.inheritAll)})))}))),aH=(e,t,r,a)=>z.suspend(()=>{let n=i.fromIterable(e),s=Array(n.length);return z.zipRight(aV(n,(e,t)=>z.map(r(e,t),e=>s[t]=e),a,!1,t),z.succeed(s))}),aG=e=>z.withFiberRuntime((t,r)=>z.succeed(aZ(e,t,r.runtimeFlags))),aK=e=>aX(e,ei),aJ=(0,f.dual)(2,(e,t)=>aG(z.onError(e,e=>{let r=A.failureOrCause(e);switch(r._tag){case"Left":return t(r.left);case"Right":return z.failCause(r.right)}}))),aZ=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=aY(e,t,r,a);return i.resume(e),i},aQ=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return aY(e,t,r,a)},aY=function(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=c.unsafeMake(),n=t.getFiberRefs(),s=e_.forkAs(n,i),o=new aC(i,s,r),l=e_.getOrDefault(s,z.currentContext),u=o.currentSupervisor;return u.onStart(l,e,w.some(t),o),o.addObserver(e=>u.onEnd(e,o)),(null!==a?a:(0,f.pipe)(t.getFiberRef(z.currentForkScopeOverride),w.getOrElse(()=>t.scope()))).add(r,o),o},aX=(e,t)=>z.withFiberRuntime((r,a)=>z.succeed(aZ(e,r,a.runtimeFlags,t))),a0=(0,f.dual)(e=>x.isFunction(e[2]),(e,t,r,a)=>M.matchSimple(a?.concurrency,()=>i.fromIterable(e).reduce((e,t,a)=>z.zipWith(e,t,(e,t)=>r(e,t,a)),z.succeed(t)),()=>z.flatMap(I.make(t),t=>z.flatMap(aB(e,(e,a)=>z.flatMap(e,e=>I.update(t,t=>r(t,e,a))),a),()=>I.get(t))))),a1=(0,f.dual)(e=>x.isIterable(e[0]),(e,t,r)=>(0,f.pipe)(aB(e,(e,r)=>z.either(t(e,r)),r),z.map(e=>z.partitionMap(e,f.identity)))),a2=(0,f.dual)(e=>x.isIterable(e[0]),(e,t,r)=>z.flatMap(a1(e,t,{concurrency:r?.concurrency,batching:r?.batching,concurrentFinalizers:r?.concurrentFinalizers}),e=>{let[t,a]=e;return i.isNonEmptyArray(t)?z.fail(t):r?.discard?z.void:z.succeed(a)})),a3=(0,f.dual)(e=>x.isIterable(e[0])&&!z.isEffect(e[0]),(e,t,r,a)=>M.matchSimple(a?.concurrency,()=>i.fromIterable(e).reduce((e,t,a)=>z.zipWith(e,t,(e,t)=>r(e,t,a)),t),()=>z.suspend(()=>(0,f.pipe)(a0([t,...e],w.none(),(e,t,a)=>{switch(e._tag){case"None":return w.some(t);case"Some":return w.some(r(e.value,t,a))}},a),z.map(e=>{switch(e._tag){case"None":throw Error("BUG: Effect.reduceEffect - please report an issue at https://github.com/Effect-TS/effect/issues");case"Some":return e.value}}))))),a5=e=>z.contextWithEffect(t=>w.match(o.getOption(t,ic),{onNone:()=>e,onSome:t=>{switch(t.strategy._tag){case"Parallel":return e;case"Sequential":case"ParallelN":return z.flatMap(z.scopeFork(t,u.parallel),t=>ig(e,t))}}})),a4=e=>t=>z.contextWithEffect(r=>w.match(o.getOption(r,ic),{onNone:()=>t,onSome:r=>"ParallelN"===r.strategy._tag&&r.strategy.parallelism===e?t:z.flatMap(z.scopeFork(r,u.parallelN(e)),e=>ig(t,e))})),a8=(e,t)=>r=>z.contextWithEffect(a=>w.match(o.getOption(a,ic),{onNone:()=>r(f.identity),onSome:a=>{if(!0!==t)return r(f.identity);{let t="Parallel"===e._tag?a5:"Sequential"===e._tag?a7:a4(e.parallelism);switch(a.strategy._tag){case"Parallel":return t(r(a5));case"Sequential":return t(r(a7));case"ParallelN":return t(r(a4(a.strategy.parallelism)))}}}})),a6=e=>z.flatMap(ic,e),a9=e=>z.flatMap(im(),t=>z.onExit(e(t),e=>t.close(e))),a7=e=>z.contextWithEffect(t=>w.match(o.getOption(t,ic),{onNone:()=>e,onSome:t=>{switch(t.strategy._tag){case"Sequential":return e;case"Parallel":case"ParallelN":return z.flatMap(z.scopeFork(t,u.sequential),t=>ig(e,t))}}})),ie=e=>iv(z.currentMetricLabels,t=>i.union(t,e)),it=(0,f.dual)(2,(e,t)=>a9(r=>z.flatMap(ig(e,r),t))),ir=(0,f.dual)(e=>z.isEffect(e[1]),(e,t,r)=>ia(e,t,(e,t)=>[e,t],r)),ia=(0,f.dual)(e=>z.isEffect(e[1]),(e,t,r,a)=>z.flatten(iu(z.exit(e),z.exit(t),(e,t)=>z.exitZipWith(e,t,{onSuccess:r,onFailure:(e,t)=>a?.concurrent?A.parallel(e,t):A.sequential(e,t)}),a))),ii=(0,f.dual)(e=>x.isIterable(e[0]),(e,t,r)=>z.flip(aB(e,(e,r)=>z.flip(t(e,r)),r))),is=(0,f.dual)(e=>z.isEffect(e[1]),(e,t,r)=>iu(e,t,(e,t)=>[e,t],r)),io=(0,f.dual)(e=>z.isEffect(e[1]),(e,t,r)=>r?.concurrent!==!0&&(r?.batching===void 0||!1===r.batching)?z.zipLeft(e,t):iu(e,t,(e,t)=>e,r)),il=(0,f.dual)(e=>z.isEffect(e[1]),(e,t,r)=>r?.concurrent!==!0&&(r?.batching===void 0||!1===r.batching)?z.zipRight(e,t):iu(e,t,(e,t)=>t,r)),iu=(0,f.dual)(e=>z.isEffect(e[1]),(e,t,r,a)=>z.map(aj([e,t],{concurrency:a?.concurrent?2:1,batching:a?.batching,concurrentFinalizers:a?.concurrentFinalizers}),e=>{let[t,a]=e;return r(t,a)})),ic=o.GenericTag("effect/Scope"),id=ic,ip={[z.ScopeTypeId]:z.ScopeTypeId,[z.CloseableScopeTypeId]:z.CloseableScopeTypeId,pipe(){return(0,E.pipeArguments)(this,arguments)},fork(e){return z.sync(()=>{var t;let r=ih(e);if("Closed"===this.state._tag)return r.state=this.state,r;let a={};return this.state.finalizers.set(a,e=>r.close(e)),t=e=>z.sync(()=>{"Open"===this.state._tag&&this.state.finalizers.delete(a)}),"Open"===r.state._tag&&r.state.finalizers.set({},t),r})},close(e){return z.suspend(()=>{if("Closed"===this.state._tag)return z.void;let t=Array.from(this.state.finalizers.values()).reverse();return(this.state={_tag:"Closed",exit:e},0===t.length)?z.void:U.isSequential(this.strategy)?(0,f.pipe)(z.forEachSequential(t,t=>z.exit(t(e))),z.flatMap(e=>(0,f.pipe)(z.exitCollectAll(e),w.map(z.exitAsVoid),w.getOrElse(()=>z.exitVoid)))):U.isParallel(this.strategy)?(0,f.pipe)(a$(t,t=>z.exit(t(e)),!1),z.flatMap(e=>(0,f.pipe)(z.exitCollectAll(e,{parallel:!0}),w.map(z.exitAsVoid),w.getOrElse(()=>z.exitVoid)))):(0,f.pipe)(aH(t,this.strategy.parallelism,t=>z.exit(t(e)),!1),z.flatMap(e=>(0,f.pipe)(z.exitCollectAll(e,{parallel:!0}),w.map(z.exitAsVoid),w.getOrElse(()=>z.exitVoid))))})},addFinalizer(e){return z.suspend(()=>"Closed"===this.state._tag?e(this.state.exit):(this.state.finalizers.set({},e),z.void))}},ih=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.sequential,t=Object.create(ip);return t.strategy=e,t.state={_tag:"Open",finalizers:new Map},t},im=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U.sequential;return z.sync(()=>ih(e))},ig=(0,f.dual)(2,(e,t)=>z.mapInputContext(e,o.merge(o.make(ic,t)))),iy=(0,f.dual)(2,(e,t)=>(0,f.pipe)(e,ig(t),z.onExit(e=>t.close(e)))),ib=e=>z.fiberRefUnsafeMakePatch(e,{differ:ac,fork:as}),iS=(0,f.dual)(2,(e,t)=>z.asVoid(aM(z.flatMap(z.fiberRefGet(e),r=>z.as(z.fiberRefSet(e,t),r)),t=>z.fiberRefSet(e,t)))),iv=(0,f.dual)(2,(e,t)=>z.fiberRefGetWith(e,r=>iS(e,t(r)))),ik=e=>aM(z.tap(z.sync(e),e=>z.fiberRefUpdate(e,f.identity)),e=>z.fiberRefDelete(e)),iw=z.fiberRefUnsafeMakeRuntimeFlags(en.none),iE=ib(r3),ix=e=>({...l.CommitPrototype,commit(){return eS(this)},[es]:eo,id:()=>i.fromIterable(e).reduce((e,t)=>c.combine(e,t.id()),c.none),await:z.exit(a$(e,e=>z.flatten(e.await),!1)),children:z.map(a$(e,e=>e.children,!1),i.flatten),inheritAll:z.forEachSequentialDiscard(e,e=>e.inheritAll),poll:z.map(z.forEachSequential(e,e=>e.poll),i.reduceRight(w.some(z.exitSucceed([])),(e,t)=>{switch(t._tag){case"None":return w.none();case"Some":switch(e._tag){case"None":return w.none();case"Some":return w.some(z.exitZipWith(t.value,e.value,{onSuccess:(e,t)=>[e,...t],onFailure:A.parallel}))}}})),interruptAsFork:t=>z.forEachSequentialDiscard(e,e=>e.interruptAsFork(t))}),iI=(0,f.dual)(3,(e,t,r)=>iC(e,t,{onSelfWin:(e,t)=>z.flatMap(e.await,a=>{switch(a._tag){case rl.OP_SUCCESS:return z.flatMap(e.inheritAll,()=>r.onSelfDone(a,t));case rl.OP_FAILURE:return r.onSelfDone(a,t)}}),onOtherWin:(e,t)=>z.flatMap(e.await,a=>{switch(a._tag){case rl.OP_SUCCESS:return z.flatMap(e.inheritAll,()=>r.onOtherDone(a,t));case rl.OP_FAILURE:return r.onOtherDone(a,t)}})})),iT=(0,f.dual)(2,(e,t)=>z.fiberIdWith(r=>iI(e,t,{onSelfDone:(e,t)=>z.exitMatchEffect(e,{onFailure:e=>(0,f.pipe)(eS(t),N.mapErrorCause(t=>A.parallel(e,t))),onSuccess:e=>(0,f.pipe)(t,z.interruptAsFiber(r),z.as(e))}),onOtherDone:(e,t)=>z.exitMatchEffect(e,{onFailure:e=>(0,f.pipe)(eS(t),N.mapErrorCause(t=>A.parallel(t,e))),onSuccess:e=>(0,f.pipe)(t,z.interruptAsFiber(r),z.as(e))})}))),iC=(0,f.dual)(3,(e,t,r)=>z.withFiberRuntime((a,i)=>{let n=i.runtimeFlags,s=k.make(!0),o=aY(e,a,n,r.selfScope),l=aY(t,a,n,r.otherScope);return z.async(a=>{o.addObserver(()=>iR(o,l,r.onSelfWin,s,a)),l.addObserver(()=>iR(l,o,r.onOtherWin,s,a)),o.startFork(e),l.startFork(t)},c.combine(o.id(),l.id()))})),iR=(e,t,r,a,i)=>{k.compareAndSet(!0,!1)(a)&&i(r(e,t))},iF=(0,f.dual)(2,(e,t)=>z.uninterruptibleMask(r=>z.matchCauseEffect(r(e),{onFailure:e=>z.matchCauseEffect(t,{onFailure:t=>z.failCause(A.sequential(e,t)),onSuccess:()=>z.failCause(e)}),onSuccess:e=>z.as(t,e)}))),iA=(e,t,r)=>z.fiberIdWith(a=>z.flatMap(z.flatMap(aK(z.interruptible(e)),e=>z.async(a=>{let i=t.map(e=>e.listeners.count),n=()=>{i.every(e=>0===e)&&t.every(e=>"Pending"===e.result.state.current._tag||!!("Done"===e.result.state.current._tag&&z.exitIsExit(e.result.state.current.effect)&&"Failure"===e.result.state.current.effect._tag&&A.isInterrupted(e.result.state.current.effect.cause)))&&(s.forEach(e=>e()),r?.(),a(z.interruptFiber(e)))};e.addObserver(e=>{s.forEach(e=>e()),a(e)});let s=t.map((e,t)=>{let r=e=>{i[t]=e,n()};return e.listeners.addObserver(r),()=>e.listeners.removeObserver(r)});return n(),z.sync(()=>{s.forEach(e=>e())})})),()=>z.suspend(()=>{let e=t.flatMap(e=>e.state.completed?[]:[e]);return z.forEachSequentialDiscard(e,e=>rh(e.request,z.exitInterrupt(a)))}))),iO=(0,f.dual)(2,(e,t)=>z.fiberRefGetWith(_.currentRequestMap,r=>z.suspend(()=>iA(e,i.fromIterable(t).flatMap(e=>r.has(e)?[r.get(e)]:[]))))),i_=(e,t)=>(t=ad.addSpanStackTrace(t),z.uninterruptible(z.withFiberRuntime(r=>{let a=o.unsafeGet(r.getFiberRef(z.currentContext),ic),i=N.unsafeMakeSpan(r,e,t),n=r.getFiberRef(z.currentTracerTimingEnabled),s=o.get(r.getFiberRef(P.currentServices),O.clockTag);return z.as(z.scopeAddFinalizerExit(a,e=>N.endSpan(i,e,s,n)),i)})));e.s(["FiberRuntime",()=>aC,"acquireRelease",0,aM,"acquireReleaseInterruptible",0,aD,"addFinalizer",0,aN,"all",0,aj,"allSuccesses",0,(e,t)=>z.map(aj(i.fromIterable(e).map(z.exit),t),i.filterMap(e=>z.exitIsSuccess(e)?w.some(e.effect_instruction_i0):w.none())),"allWith",0,e=>t=>aj(t,e),"annotateLogsScoped",0,function(){if("string"==typeof arguments[0])return iv(z.currentLogAnnotations,g.set(arguments[0],arguments[1]));let e=Object.entries(arguments[0]);return iv(z.currentLogAnnotations,g.mutate(t=>{for(let r=0;r<e.length;r++){let[a,i]=e[r];g.set(t,a,i)}return t}))},"currentLoggers",0,aO,"currentMinimumLogLevel",0,aR,"currentRuntimeFlags",0,iw,"currentSupervisor",0,iE,"daemonChildren",0,e=>z.fiberRefLocally(z.currentForkScopeOverride,w.some(ei))(e),"disconnect",0,e=>z.uninterruptibleMask(t=>z.fiberIdWith(r=>z.flatMap(aK(t(e)),e=>(0,f.pipe)(t(eS(e)),z.onInterrupt(()=>(0,f.pipe)(e,eb(r))))))),"ensuring",0,iF,"exists",0,aP,"fiberAll",0,ix,"fiberAwaitAll",0,e=>aB(e,ep),"fiberInterruptFork",0,e=>z.asVoid(aK(z.interruptFiber(e))),"fiberJoinAll",0,e=>eS(ix(e)),"fiberRefLocallyScoped",0,iS,"fiberRefLocallyScopedWith",0,iv,"fiberRefMake",0,(e,t)=>ik(()=>z.fiberRefUnsafeMake(e,t)),"fiberRefMakeContext",0,e=>ik(()=>z.fiberRefUnsafeMakeContext(e)),"fiberRefMakeRuntimeFlags",0,e=>ik(()=>z.fiberRefUnsafeMakeRuntimeFlags(e)),"fiberRefMakeWith",0,ik,"fiberRefUnsafeMakeSupervisor",0,ib,"fiberScoped",0,e=>aM(z.succeed(e),z.interruptFiber),"filter",0,aU,"finalizersMask",0,e=>t=>a8(e,!0)(t),"forEach",0,aB,"forEachConcurrentDiscard",0,aV,"forEachParUnbounded",0,a$,"fork",0,aG,"forkDaemon",0,aK,"forkWithErrorHandler",0,aJ,"interruptWhenPossible",0,iO,"invokeWithInterrupt",0,iA,"labelMetricsScoped",0,ie,"makeSpanScoped",0,i_,"mergeAll",0,a0,"parallelFinalizers",0,a5,"partition",0,a1,"race",0,iT,"raceAll",0,e=>z.withFiberRuntime((t,r)=>z.async(a=>{let i,n=new Set,s=A.empty,o=()=>{for(let e of n)e.unsafeInterruptAsFork(t.id())},l=!1,u=!0;for(let c of e){u=!1;let e=aZ(z.interruptible(c),t,r.runtimeFlags);if(n.add(e),e.addObserver(t=>{n.delete(e),i||("Success"===t._tag?(l=!0,i=e,s=A.empty,o()):s=A.parallel(t.cause,s)),l&&0===n.size&&a(i?z.zipRight(eg(i),i.unsafePoll()):z.failCause(s))}),i)break}return u?a(z.dieSync(()=>new z.IllegalArgumentException("Received an empty collection of effects"))):(l=!0,ey(n,t.id()))})),"raceFibersWith",0,iC,"raceWith",0,iI,"reduceEffect",0,a3,"replicate",0,aW,"replicateEffect",0,aq,"scope",0,id,"scopeExtend",0,ig,"scopeMake",0,im,"scopeTag",0,ic,"scopeUse",0,iy,"scopeWith",0,a6,"scopedEffect",0,e=>z.flatMap(im(),t=>iy(e,t)),"scopedWith",0,a9,"sequentialFinalizers",0,a7,"tagMetricsScoped",0,(e,t)=>ie([tp.make(e,t)]),"unsafeFork",0,aZ,"using",0,it,"validate",0,ir,"validateAll",0,a2,"validateFirst",0,ii,"validateWith",0,ia,"whenLogLevel",0,a_,"withClockScoped",0,e=>iv(P.currentServices,o.add(O.clockTag,e)),"withConfigProviderScoped",0,e=>iv(P.currentServices,o.add(D.configProviderTag,e)),"withEarlyRelease",0,e=>a6(t=>z.flatMap(z.scopeFork(t,U.sequential),t=>(0,f.pipe)(e,ig(t),z.map(e=>[z.fiberIdWith(e=>z.scopeClose(t,z.exitInterrupt(e))),e])))),"withRandomScoped",0,e=>iv(P.currentServices,o.add(ru.randomTag,e)),"withRuntimeFlagsScoped",0,e=>e===T.empty?z.void:(0,f.pipe)(z.runtimeFlags,z.flatMap(t=>{let r=en.patch(t,e),a=en.diff(r,t);return(0,f.pipe)(z.updateRuntimeFlags(e),z.zipRight(aN(()=>z.updateRuntimeFlags(a))),z.asVoid)}),z.uninterruptible),"withSpanScoped",0,function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=ad.addSpanStackTrace(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return z.flatMap(i_(t,ad.addSpanStackTrace(r)),t=>N.provideService(e,ad.spanTag,t))}return e=>z.flatMap(i_(t,ad.addSpanStackTrace(r)),t=>N.provideService(e,ad.spanTag,t))},"withTracerScoped",0,e=>iv(P.currentServices,o.add(ad.tracerTag,e)),"zipLeftOptions",0,io,"zipOptions",0,is,"zipRightOptions",0,il,"zipWithOptions",0,iu],1658800)},5450905,e=>{"use strict";var t=e.i(4043929),r=e.i(7548658);let a=t.CauseTypeId,i=r.RuntimeExceptionTypeId,n=r.InterruptedExceptionTypeId,s=r.IllegalArgumentExceptionTypeId,o=r.NoSuchElementExceptionTypeId,l=r.InvalidPubSubCapacityExceptionTypeId,u=r.ExceededCapacityExceptionTypeId,c=r.TimeoutExceptionTypeId,d=r.UnknownExceptionTypeId,p=r.YieldableError,h=t.empty,f=t.fail,m=t.die,g=t.interrupt,y=t.parallel,b=t.sequential,S=t.isCause,v=t.isEmptyType,k=t.isFailType,w=t.isDieType,E=t.isInterruptType,x=t.isSequentialType,I=t.isParallelType,T=t.size,C=t.isEmpty,R=t.isFailure,F=t.isDie,A=t.isInterrupted,O=t.isInterruptedOnly,_=t.failures,M=t.defects,D=t.interruptors,N=t.failureOption,z=t.failureOrCause,P=t.flipCauseOption,L=t.dieOption,U=t.interruptOption,j=t.keepDefects,W=t.linearize,q=t.stripFailures,B=t.stripSomeDefects,$=t.as,V=t.map,H=t.flatMap,G=t.andThen,K=t.flatten,J=t.contains,Z=r.causeSquash,Q=r.causeSquashWith,Y=t.find,X=t.filter,ee=t.match,et=t.reduce,er=t.reduceWithContext,ea=r.InterruptedException,ei=r.isInterruptedException,en=r.IllegalArgumentException,es=r.isIllegalArgumentException,eo=r.NoSuchElementException,el=r.isNoSuchElementException,eu=r.RuntimeException,ec=r.isRuntimeException,ed=r.TimeoutException,ep=r.isTimeoutException,eh=r.UnknownException,ef=r.isUnknownException,em=r.ExceededCapacityException,eg=r.isExceededCapacityException,ey=t.pretty,eb=t.prettyErrors,eS=r.originalInstance;e.s(["CauseTypeId",0,a,"ExceededCapacityException",0,em,"ExceededCapacityExceptionTypeId",0,u,"IllegalArgumentException",0,en,"IllegalArgumentExceptionTypeId",0,s,"InterruptedException",0,ea,"InterruptedExceptionTypeId",0,n,"InvalidPubSubCapacityExceptionTypeId",0,l,"NoSuchElementException",0,eo,"NoSuchElementExceptionTypeId",0,o,"RuntimeException",0,eu,"RuntimeExceptionTypeId",0,i,"TimeoutException",0,ed,"TimeoutExceptionTypeId",0,c,"UnknownException",0,eh,"UnknownExceptionTypeId",0,d,"YieldableError",0,p,"andThen",0,G,"as",0,$,"contains",0,J,"defects",0,M,"die",0,m,"dieOption",0,L,"empty",0,h,"fail",0,f,"failureOption",0,N,"failureOrCause",0,z,"failures",0,_,"filter",0,X,"find",0,Y,"flatMap",0,H,"flatten",0,K,"flipCauseOption",0,P,"interrupt",0,g,"interruptOption",0,U,"interruptors",0,D,"isCause",0,S,"isDie",0,F,"isDieType",0,w,"isEmpty",0,C,"isEmptyType",0,v,"isExceededCapacityException",0,eg,"isFailType",0,k,"isFailure",0,R,"isIllegalArgumentException",0,es,"isInterruptType",0,E,"isInterrupted",0,A,"isInterruptedException",0,ei,"isInterruptedOnly",0,O,"isNoSuchElementException",0,el,"isParallelType",0,I,"isRuntimeException",0,ec,"isSequentialType",0,x,"isTimeoutException",0,ep,"isUnknownException",0,ef,"keepDefects",0,j,"linearize",0,W,"map",0,V,"match",0,ee,"originalError",0,eS,"parallel",0,y,"pretty",0,ey,"prettyErrors",0,eb,"reduce",0,et,"reduceWithContext",0,er,"sequential",0,b,"size",0,T,"squash",0,Z,"squashWith",0,Q,"stripFailures",0,q,"stripSomeDefects",0,B])},3322401,5160412,4026828,3674254,6028004,210165,5523614,2067266,5331375,9333060,9992093,1650035,578549,217551,6902776,945364,e=>{"use strict";var t=e.i(3683485),r=e.i(4043929),a=e.i(5972454),i=e.i(7548658),n=e.i(7294722),s=e.i(9347119),o=e.i(1658800),l=e.i(5450905),u=e.i(219787),c=e.i(8973103),d=e.i(8317886),p=e.i(5015632),h=e.i(9960543),f=e.i(4935619),m=e.i(7862555),g=e.i(8815901);let y=Symbol.for("effect/ScheduleInterval"),b={[y]:y,startMillis:0,endMillis:0},S=(e,t)=>e>t?b:{[y]:y,startMillis:e,endMillis:t},v=(0,t.dual)(2,(e,t)=>k(e,t)===e),k=(0,t.dual)(2,(e,t)=>e.endMillis<=t.startMillis?e:t.endMillis<=e.startMillis?t:e.startMillis<t.startMillis?e:t.startMillis<e.startMillis?t:e.endMillis<=t.endMillis?e:t),w=(0,t.dual)(2,(e,t)=>S(Math.max(e.startMillis,t.startMillis),Math.min(e.endMillis,t.endMillis))),E=e=>e.startMillis>=e.endMillis;var x=e.i(8928058);let I=Symbol.for("effect/ScheduleIntervals"),T=e=>({[I]:I,intervals:e}),C=(0,t.dual)(2,(e,t)=>m.isNonEmpty(t.intervals)?m.isNonEmpty(e.intervals)?m.headNonEmpty(e.intervals).startMillis<m.headNonEmpty(t.intervals).startMillis?R(m.tailNonEmpty(e.intervals),t.intervals,m.headNonEmpty(e.intervals),m.empty()):R(e.intervals,m.tailNonEmpty(t.intervals),m.headNonEmpty(t.intervals),m.empty()):t:e),R=(e,r,a,i)=>{let n=e,s=r,o=a,l=i;for(;m.isNonEmpty(n)||m.isNonEmpty(s);)if(!m.isNonEmpty(n)&&m.isNonEmpty(s))o.endMillis<m.headNonEmpty(s).startMillis?(l=(0,t.pipe)(l,m.prepend(o)),o=m.headNonEmpty(s)):o=S(o.startMillis,m.headNonEmpty(s).endMillis),s=m.tailNonEmpty(s),n=m.empty();else if(m.isNonEmpty(n)&&m.isEmpty(s))o.endMillis<m.headNonEmpty(n).startMillis?(l=(0,t.pipe)(l,m.prepend(o)),o=m.headNonEmpty(n)):o=S(o.startMillis,m.headNonEmpty(n).endMillis),s=m.empty(),n=m.tailNonEmpty(n);else if(m.isNonEmpty(n)&&m.isNonEmpty(s))m.headNonEmpty(n).startMillis<m.headNonEmpty(s).startMillis?(o.endMillis<m.headNonEmpty(n).startMillis?(l=(0,t.pipe)(l,m.prepend(o)),o=m.headNonEmpty(n)):o=S(o.startMillis,m.headNonEmpty(n).endMillis),n=m.tailNonEmpty(n)):(o.endMillis<m.headNonEmpty(s).startMillis?(l=(0,t.pipe)(l,m.prepend(o)),o=m.headNonEmpty(s)):o=S(o.startMillis,m.headNonEmpty(s).endMillis),s=m.tailNonEmpty(s));else throw Error((0,x.getBugErrorMessage)("Intervals.unionLoop"));return T((0,t.pipe)(l,m.prepend(o),m.reverse))},F=(0,t.dual)(2,(e,t)=>A(e.intervals,t.intervals,m.empty())),A=(e,r,a)=>{let i=e,n=r,s=a;for(;m.isNonEmpty(i)&&m.isNonEmpty(n);){let e=(0,t.pipe)(m.headNonEmpty(i),w(m.headNonEmpty(n))),r=E(e)?s:(0,t.pipe)(s,m.prepend(e));(0,t.pipe)(m.headNonEmpty(i),v(m.headNonEmpty(n)))?i=m.tailNonEmpty(i):n=m.tailNonEmpty(n),s=r}return T(m.reverse(s))},O=e=>(0,t.pipe)(e.intervals,m.head,g.getOrElse(()=>b)).startMillis,_=(0,t.dual)(2,(e,t)=>O(e)<O(t)),M=(0,t.dual)(2,(e,t)=>_(e,t)?t:e),D=e=>(0,t.pipe)(e.intervals,m.head,g.getOrElse(()=>b)).endMillis,N="Continue",z="Done",P=e=>({_tag:N,intervals:e}),L=e=>({_tag:N,intervals:T(m.of(e))}),U={_tag:z};i.ScopeTypeId,i.CloseableScopeTypeId;let j=o.scopeTag,W=i.scopeAddFinalizer,q=i.scopeAddFinalizerExit,B=i.scopeClose,$=o.scopeExtend,V=i.scopeFork;o.scopeUse;let H=o.scopeMake;e.s(["Scope",0,j,"addFinalizer",0,W,"addFinalizerExit",0,q,"close",0,B,"extend",0,$,"fork",0,V,"make",0,H],5160412);var G=e.i(4039787),K=e.i(7525378),J=e.i(3628392),Z=e.i(7836076),Q=e.i(1150852),Y=e.i(2090854),X=e.i(2034623),ee=e.i(5369340),et=e.i(2916763),er=e.i(1145227),ea=e.i(2311887),ei=e.i(3196727),en=e.i(5663534);class es{permits;waiters=new Set;taken=0;constructor(e){this.permits=e}get free(){return this.permits-this.taken}take=e=>i.asyncInterrupt(t=>{if(this.free<e){let r=()=>{this.free<e||(this.waiters.delete(r),this.taken+=e,t(i.succeed(e)))};return this.waiters.add(r),i.sync(()=>{this.waiters.delete(r)})}return this.taken+=e,t(i.succeed(e))});updateTakenUnsafe(e,t){return this.taken=t(this.taken),this.waiters.size>0&&e.getFiberRef(et.currentScheduler).scheduleTask(()=>{let e=this.waiters.values(),t=e.next();for(;!1===t.done&&this.free>0;)t.value(),t=e.next()},e.getFiberRef(i.currentSchedulingPriority)),i.succeed(this.free)}updateTaken(e){return i.withFiberRuntime(t=>this.updateTakenUnsafe(t,e))}resize=e=>i.asVoid(i.withFiberRuntime(t=>(this.permits=e,this.free<0)?i.void:this.updateTakenUnsafe(t,e=>e)));release=e=>this.updateTaken(t=>t-e);releaseAll=this.updateTaken(e=>0);withPermits=e=>t=>i.uninterruptibleMask(r=>i.flatMap(r(this.take(e)),e=>o.ensuring(r(t),this.release(e))));withPermitsIfAvailable=e=>t=>i.uninterruptibleMask(r=>i.suspend(()=>this.free<e?G.succeedNone:(this.taken+=e,o.ensuring(r(G.asSome(t)),this.release(e)))))}let eo=e=>new es(e),el=e=>i.sync(()=>eo(e));class eu extends K.Class{isOpen;waiters=[];scheduled=!1;constructor(e){super(),this.isOpen=e}commit(){return this.await}unsafeSchedule(e){return this.scheduled||0===this.waiters.length||(this.scheduled=!0,e.currentScheduler.scheduleTask(this.flushWaiters,e.getFiberRef(i.currentSchedulingPriority))),i.void}flushWaiters=()=>{this.scheduled=!1;let e=this.waiters;this.waiters=[];for(let t=0;t<e.length;t++)e[t](i.exitVoid)};open=i.withFiberRuntime(e=>this.isOpen?i.void:(this.isOpen=!0,this.unsafeSchedule(e)));unsafeOpen(){this.isOpen||(this.isOpen=!0,this.flushWaiters())}release=i.withFiberRuntime(e=>this.isOpen?i.void:this.unsafeSchedule(e));await=i.asyncInterrupt(e=>this.isOpen?e(i.void):(this.waiters.push(e),i.sync(()=>{let t=this.waiters.indexOf(e);-1!==t&&this.waiters.splice(t,1)})));unsafeClose(){this.isOpen=!1}close=i.sync(()=>{this.isOpen=!1});whenOpen=e=>i.zipRight(this.await,e)}let ec=e=>new eu(e??!1),ed=e=>i.sync(()=>ec(e)),ep=e=>eS(e,o.fiberAwaitAll),eh=(0,t.dual)(2,(e,t)=>i.map(ef(e,t),e=>e[0])),ef=(0,t.dual)(2,(e,t)=>{let r=c.decode(t);return i.flatMap(i.context(),t=>i.map(eL(g.none()),a=>[i.provideContext(eg(e,r,a),t),ey(a)]))}),em=(e,r,a)=>{let n=c.toMillis(c.decode(r));return(0,t.pipe)(i.deferredMake(),i.tap(t=>i.intoDeferred(e,t)),i.map(e=>g.some([a+n,e])))},eg=(e,r,a)=>i.uninterruptibleMask(n=>(0,t.pipe)(G.clockWith(e=>e.currentTimeMillis),i.flatMap(t=>ej(a,a=>{switch(a._tag){case"None":return g.some(em(e,r,t));case"Some":{let[i]=a.value;return i-t<=0?g.some(em(e,r,t)):g.none()}}})),i.flatMap(e=>g.isNone(e)?i.dieMessage("BUG: Effect.cachedInvalidate - please report an issue at https://github.com/Effect-TS/effect/issues"):n(i.deferredAwait(e.value[1]))))),ey=e=>ei.set(e,g.none()),eb=(0,t.dual)(2,(e,t)=>eS(e,e=>t(o.fiberAll(e)))),eS=(0,t.dual)(2,(e,r)=>i.flatMap(en.track,a=>(0,t.pipe)(eF(e,a),o.ensuring(i.flatMap(a.value,r))))),ev=(0,t.dual)(e=>f.isIterable(e[0]),(e,t)=>t?.discard?i.forEachSequentialDiscard(e,o.fork):i.map(i.forEachSequential(e,o.fork),o.fiberAll)),ek=(0,t.dual)(2,(e,t)=>i.withFiberRuntime((r,a)=>{let n=o.unsafeFork(e,r,a.runtimeFlags,ea.globalScope);if("Open"===t.state._tag){let e={};t.state.finalizers.set(e,()=>i.fiberIdWith(e=>J.equals(e,n.id())?i.void:i.asVoid(i.interruptFiber(n)))),n.addObserver(()=>{"Closed"!==t.state._tag&&t.state.finalizers.delete(e)})}else n.unsafeInterruptAsFork(r.id());return i.succeed(n)})),ew=e=>o.scopeWith(t=>ek(e,t)),eE=e=>er.join(e),ex=e=>i.suspend(()=>i.flatMap(e,er.join)),eI=Symbol.for("effect/Effect/memoizeFunction.key");class eT{a;eq;[eI]=eI;constructor(e,t){this.a=e,this.eq=t}[J.symbol](e){if(f.hasProperty(e,eI))if(this.eq)return this.eq(this.a,e.a);else return J.equals(this.a,e.a);return!1}[Y.symbol](){return this.eq?0:Y.cached(this,Y.hash(this.a))}}let eC=(e,r)=>(0,t.pipe)(i.sync(()=>X.empty()),i.flatMap(eL),i.map(a=>n=>(0,t.pipe)(a.modifyEffect(a=>{let s=(0,t.pipe)(a,X.get(new eT(n,r)));return g.isNone(s)?(0,t.pipe)(i.deferredMake(),i.tap(r=>(0,t.pipe)(G.diffFiberRefs(e(n)),i.intoDeferred(r),o.fork)),i.map(e=>[e,(0,t.pipe)(a,X.set(new eT(n,r),e))])):i.succeed([s.value,a])}),i.flatMap(i.deferredAwait),i.flatMap(e=>{let[r,a]=e;return(0,t.pipe)(G.patchFiberRefs(r),i.as(a))})))),eR=(0,t.dual)(2,(e,r)=>(0,t.pipe)(i.exit(e),o.race(i.exit(r)),e=>i.flatten(e))),eF=(0,t.dual)(2,(e,t)=>i.fiberRefLocallyWith(o.currentSupervisor,e=>e.zip(t))(e)),eA=(0,t.dual)(2,(e,t)=>eO(e,{onTimeout:()=>i.timeoutExceptionFromDuration(t),duration:t})),eO=(0,t.dual)(2,(e,t)=>{let{duration:r,onTimeout:a}=t;return i.flatten(eD(e,{onTimeout:()=>i.failSync(a),onSuccess:i.succeed,duration:r}))}),e_=(0,t.dual)(2,(e,t)=>{let{duration:r,onTimeout:a}=t;return i.flatten(eD(e,{onTimeout:()=>i.failCauseSync(a),onSuccess:i.succeed,duration:r}))}),eM=(0,t.dual)(2,(e,t)=>eD(e,{duration:t,onSuccess:g.some,onTimeout:g.none})),eD=(0,t.dual)(2,(e,t)=>{let{duration:r,onSuccess:a,onTimeout:n}=t;return i.fiberIdWith(t=>i.uninterruptibleMask(s=>o.raceFibersWith(s(e),i.interruptible(G.sleep(r)),{onSelfWin:(e,r)=>i.flatMap(e.await,n=>"Success"===n._tag?i.flatMap(e.inheritAll,()=>i.as(i.interruptAsFiber(r,t),a(n.value))):i.flatMap(i.interruptAsFiber(r,t),()=>i.exitFailCause(n.cause))),onOtherWin:(e,r)=>i.flatMap(e.await,a=>"Success"===a._tag?i.flatMap(e.inheritAll,()=>i.as(i.interruptAsFiber(r,t),n())):i.flatMap(i.interruptAsFiber(r,t),()=>i.exitFailCause(a.cause))),otherScope:ea.globalScope})))}),eN=Symbol.for("effect/Ref/SynchronizedRef"),ez={_A:e=>e};class eP extends K.Class{ref;withLock;[eN]=ez;[ei.RefTypeId]=ei.refVariance;[ee.TypeId]=ee.TypeId;constructor(e,t){super(),this.ref=e,this.withLock=t,this.get=ei.get(this.ref)}get;commit(){return this.get}modify(e){return this.modifyEffect(t=>i.succeed(e(t)))}modifyEffect(e){return this.withLock((0,t.pipe)(i.flatMap(ei.get(this.ref),e),i.flatMap(e=>{let[t,r]=e;return i.as(ei.set(this.ref,r),t)})))}}let eL=e=>i.sync(()=>eU(e)),eU=e=>new eP(ei.unsafeMake(e),eo(1).withPermits(1)),ej=(0,t.dual)(2,(e,t)=>e.modifyEffect(e=>{let r=t(e);switch(r._tag){case"None":return i.succeed([e,e]);case"Some":return i.map(r.value,e=>[e,e])}})),eW=(0,t.dual)(2,(e,t)=>e$(e,t,(e,t)=>[e,t])),eq=(0,t.dual)(2,(e,t)=>e$(e,t,(e,t)=>e)),eB=(0,t.dual)(2,(e,t)=>e$(e,t,(e,t)=>t)),e$=(0,t.dual)(3,(e,a,n)=>({...K.CommitPrototype,commit(){return er.join(this)},[er.FiberTypeId]:er.fiberVariance,id:()=>(0,t.pipe)(e.id(),Q.getOrElse(a.id())),await:(0,t.pipe)(e.await,i.flatten,o.zipWithOptions(i.flatten(a.await),n,{concurrent:!0}),i.exit),children:e.children,inheritAll:i.zipRight(a.inheritAll,e.inheritAll),poll:i.zipWith(e.poll,a.poll,(e,a)=>(0,t.pipe)(e,g.flatMap(e=>(0,t.pipe)(a,g.map(t=>Z.zipWith(e,t,{onSuccess:n,onFailure:r.parallel})))))),interruptAsFork:t=>i.zipRight(e.interruptAsFork(t),a.interruptAsFork(t)),pipe(){return(0,h.pipeArguments)(this,arguments)}})),eV=(0,t.dual)(e=>i.isEffect(e[0]),(e,t,r)=>i.flatMap(e,e=>o.all(t(e),r).pipe(i.map(t=>Object.assign({},e,t)))));e.s(["SynchronizedTypeId",0,eN,"awaitAllChildren",0,ep,"bindAll",0,eV,"cached",0,eh,"cachedFunction",0,eC,"cachedInvalidateWithTTL",0,ef,"ensuringChild",0,eb,"ensuringChildren",0,eS,"forkAll",0,ev,"forkIn",0,ek,"forkScoped",0,ew,"fromFiber",0,eE,"fromFiberEffect",0,ex,"makeLatch",0,ed,"makeSemaphore",0,el,"makeSynchronized",0,eL,"raceFirst",0,eR,"supervised",0,eF,"synchronizedVariance",0,ez,"timeout",0,eA,"timeoutFail",0,eO,"timeoutFailCause",0,e_,"timeoutOption",0,eM,"timeoutTo",0,eD,"unsafeMakeLatch",0,ec,"unsafeMakeSemaphore",0,eo,"unsafeMakeSynchronized",0,eU,"updateSomeAndGetEffectSynchronized",0,ej,"zipFiber",0,eW,"zipLeftFiber",0,eq,"zipRightFiber",0,eB,"zipWithFiber",0,e$],4026828);let eH=Symbol.for("effect/ManagedRuntime");e.s(["TypeId",0,eH],3674254);var eG=e.i(6187448);let eK="Fresh",eJ="ProvideMerge";er.FiberTypeId,er.RuntimeFiberTypeId,er.Order,er.isFiber,er.isRuntimeFiber,er.id;let eZ=er._await;o.fiberAwaitAll,er.children,o.fiberAll,er.done,er.dump,er.dumpAll,er.fail,er.failCause,er.fromEffect;let eQ=er.getCurrentFiber,eY=er.inheritAll,eX=i.interruptFiber;er.interrupted;let e0=i.interruptAsFiber;er.interruptAsFork,er.interruptAll;let e1=er.interruptAllAs;o.fiberInterruptFork;let e2=er.join;o.fiberJoinAll,er.map,er.mapEffect,er.mapFiber,er.match,er.never,er.orElse,er.orElseEither;let e3=er.poll;er.pretty,er.roots,er.unsafeRoots,o.fiberScoped,er.status,er.succeed,er.void,e.s(["await",()=>eZ,"getCurrentFiber",0,eQ,"inheritAll",0,eY,"interrupt",0,eX,"interruptAllAs",0,e1,"interruptAs",0,e0,"join",0,e2,"poll",0,e3],6028004);var e5=e.i(9674368),e4=e.i(2873450),e8=e.i(592224),e6=e.i(1191948);let e9=e=>function(){if(1==arguments.length){let t=arguments[0];return function(r){for(var a=arguments.length,i=Array(a>1?a-1:0),n=1;n<a;n++)i[n-1]=arguments[n];return e(t,r,...i)}}return e.apply(this,arguments)},e7=e9((e,t,r)=>{let a=Q.unsafeMake(),n=[[i.currentContext,[[a,e.context]]]];r?.scheduler&&n.push([et.currentScheduler,[[a,r.scheduler]]]);let s=e5.updateManyAs(e.fiberRefs,{entries:n,forkAs:a});r?.updateRefs&&(s=r.updateRefs(s,a));let l=new o.FiberRuntime(a,s,e.runtimeFlags),u=t;r?.scope&&(u=i.flatMap(V(r.scope,e8.sequential),e=>i.zipRight(i.scopeAddFinalizer(e,i.fiberIdWith(e=>(0,J.equals)(e,l.id())?i.void:i.interruptAsFiber(l,e))),i.onExit(t,t=>B(e,t)))));let c=l.currentSupervisor;return c!==en.none&&(c.onStart(e.context,u,g.none(),l),l.addObserver(e=>c.onEnd(e,l))),ea.globalScope.add(e.runtimeFlags,l),r?.immediate===!1?l.resume(u):l.start(u),l}),te=e9(function(e,r){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e7(e,r,a);return a.onExit&&i.addObserver(e=>{a.onExit(e)}),(r,a)=>te(e)((0,t.pipe)(i,e0(r??Q.none)),{...a,onExit:a?.onExit?e=>a.onExit(Z.flatten(e)):void 0})}),tt=e9((e,t)=>{let r=tl(e)(t);if("Failure"===r._tag)throw ts(r.effect_instruction_i0);return r.effect_instruction_i0});class tr extends Error{fiber;_tag="AsyncFiberException";constructor(e){super(`Fiber #${e.id().id} cannot be resolved synchronously. This is caused by using runSync on an effect that performs async work`),this.fiber=e,this.name=this._tag,this.stack=this.message}}let ta=Symbol.for("effect/Runtime/FiberFailure"),ti=Symbol.for("effect/Runtime/FiberFailure/Cause");class tn extends Error{[ta];[ti];constructor(e){const t=r.prettyErrors(e)[0];super(t?.message||"An error has occurred"),this[ta]=ta,this[ti]=e,this.name=t?`(FiberFailure) ${t.name}`:"FiberFailure",t?.stack&&(this.stack=t.stack)}toJSON(){return{_id:"FiberFailure",cause:this[ti].toJSON()}}toString(){return"(FiberFailure) "+r.pretty(this[ti],{renderErrorCause:!0})}[e4.NodeInspectSymbol](){return this.toString()}}let ts=e=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=0;let r=new tn(e);return Error.stackTraceLimit=t,r},to=e=>{switch(e._op){case"Failure":case"Success":return e;case"Left":return i.exitFail(e.left);case"Right":return i.exitSucceed(e.right);case"Some":return i.exitSucceed(e.value);case"None":return i.exitFail(i.NoSuchElementException())}},tl=e9((e,t)=>{let r,a,n=to(t);if(n)return n;let s=new et.SyncScheduler,o=e7(e)(t,{scheduler:s});s.flush();let l=o.unsafePoll();return l?l:i.exitDie(i.capture((r=Error.stackTraceLimit,Error.stackTraceLimit=0,a=new tr(o),Error.stackTraceLimit=r,a),i.currentSpanFromFiber(o)))}),tu=e9((e,t,r)=>tc(e,t,r).then(e=>{switch(e._tag){case eG.OP_SUCCESS:return e.effect_instruction_i0;case eG.OP_FAILURE:throw ts(e.effect_instruction_i0)}})),tc=e9((e,t,r)=>new Promise(a=>{let i=to(t);i&&a(i);let n=e7(e)(t);n.addObserver(e=>{a(e)}),r?.signal!==void 0&&(r.signal.aborted?n.unsafeInterruptAsFork(n.id()):r.signal.addEventListener("abort",()=>{n.unsafeInterruptAsFork(n.id())},{once:!0}))}));class td{context;runtimeFlags;fiberRefs;constructor(e,t,r){this.context=e,this.runtimeFlags=t,this.fiberRefs=r}pipe(){return(0,h.pipeArguments)(this,arguments)}}let tp=e=>new td(e.context,e.runtimeFlags,e.fiberRefs),th=()=>i.withFiberRuntime((e,t)=>i.succeed(new td(e.getFiberRef(i.currentContext),t.runtimeFlags,e.getFiberRefs()))),tf=e6.make(e6.Interruption,e6.CooperativeYielding,e6.RuntimeMetrics),tm=tp({context:a.empty(),runtimeFlags:tf,fiberRefs:e5.empty()}),tg=(0,t.dual)(2,(e,t)=>tp({context:e.context,runtimeFlags:t(e.runtimeFlags),fiberRefs:e.fiberRefs})),ty=(0,t.dual)(2,(e,t)=>tg(e,e6.disable(t))),tb=(0,t.dual)(2,(e,t)=>tg(e,e6.enable(t))),tS=(0,t.dual)(2,(e,t)=>tp({context:t(e.context),runtimeFlags:e.runtimeFlags,fiberRefs:e.fiberRefs})),tv=(0,t.dual)(3,(e,t,r)=>tS(e,a.add(t,r))),tk=(0,t.dual)(2,(e,t)=>tp({context:e.context,runtimeFlags:e.runtimeFlags,fiberRefs:t(e.fiberRefs)})),tw=(0,t.dual)(3,(e,t,r)=>tk(e,e5.updateAs({fiberId:Q.none,fiberRef:t,value:r}))),tE=(0,t.dual)(2,(e,t)=>tk(e,e5.delete(t))),tx=te(tm),tI=e7(tm),tT=tu(tm),tC=tc(tm),tR=tt(tm),tF=tl(tm),tA=e=>i.suspend(()=>{let t;return i.flatMap(i.deferredMake(),r=>i.flatMap(th(),a=>i.uninterruptibleMask(n=>i.zipRight(o.fork(n(i.matchCauseEffect(e(e=>te(a)(i.intoDeferred(e,r))),{onFailure:e=>i.deferredFailCause(r,e),onSuccess:e=>(t=e,i.void)}))),n(i.onInterrupt(i.deferredAwait(r),()=>t??i.void))))))});e.s(["FiberFailureCauseId",0,ti,"asyncEffect",0,tA,"defaultRuntime",0,tm,"defaultRuntimeFlags",0,tf,"deleteFiberRef",0,tE,"disableRuntimeFlag",0,ty,"enableRuntimeFlag",0,tb,"fiberFailure",0,ts,"isAsyncFiberException",0,e=>f.isTagged(e,"AsyncFiberException")&&"fiber"in e,"isFiberFailure",0,e=>f.hasProperty(e,ta),"make",0,tp,"provideService",0,tv,"runtime",0,th,"setFiberRef",0,tw,"unsafeFork",0,e7,"unsafeForkEffect",0,tI,"unsafeRunCallback",0,te,"unsafeRunEffect",0,tx,"unsafeRunPromise",0,tu,"unsafeRunPromiseEffect",0,tT,"unsafeRunPromiseExit",0,tc,"unsafeRunPromiseExitEffect",0,tC,"unsafeRunSync",0,tt,"unsafeRunSyncEffect",0,tR,"unsafeRunSyncExit",0,tl,"unsafeRunSyncExitEffect",0,tF,"updateContext",0,tS,"updateFiberRefs",0,tk,"updateRuntimeFlags",0,tg],210165);let tO=(0,t.dual)(2,(e,t)=>e.modifyEffect(e=>i.map(t(e),t=>[e,t]))),t_=(0,t.dual)(2,(e,t)=>e.modifyEffect(e=>{let r=t(e);switch(r._tag){case"None":return i.succeed([e,e]);case"Some":return i.map(r.value,t=>[e,t])}})),tM=(0,t.dual)(2,(e,t)=>e.modify(t)),tD=(0,t.dual)(2,(e,t)=>e.modifyEffect(t)),tN=(0,t.dual)(3,(e,r,a)=>e.modifyEffect(e=>(0,t.pipe)(a(e),g.getOrElse(()=>i.succeed([r,e]))))),tz=(0,t.dual)(2,(e,t)=>e.modifyEffect(e=>i.map(t(e),e=>[void 0,e]))),tP=(0,t.dual)(2,(e,t)=>e.modifyEffect(e=>i.map(t(e),e=>[e,e]))),tL=(0,t.dual)(2,(e,t)=>e.modifyEffect(e=>{let r=t(e);switch(r._tag){case"None":return i.succeed([void 0,e]);case"Some":return i.map(r.value,e=>[void 0,e])}}));e.s(["getAndUpdateEffect",0,tO,"getAndUpdateSomeEffect",0,t_,"modify",0,tM,"modifyEffect",0,tD,"modifySomeEffect",0,tN,"updateAndGetEffect",0,tP,"updateEffect",0,tz,"updateSomeEffect",0,tL],5523614);var tU=e.i(3427637);let tj=Symbol.for("effect/Layer"),tW={[tj]:{_RIn:e=>e,_E:e=>e,_ROut:e=>e},pipe(){return(0,h.pipeArguments)(this,arguments)}},tq=Symbol.for("effect/Layer/MemoMap"),tB=a.Reference()("effect/Layer/CurrentMemoMap",{defaultValue:()=>tK()}),t$=e=>(0,f.hasProperty)(e,tj),tV=e=>e._op_layer===eK;class tH{ref;[tq];constructor(e){this.ref=e,this[tq]=tq}getOrElseMemoize(e,r){return(0,t.pipe)(tD(this.ref,a=>{let n=a.get(e);if(void 0!==n){let[e,s]=n,o=(0,t.pipe)(e,i.flatMap(e=>{let[r,a]=e;return(0,t.pipe)(G.patchFiberRefs(r),i.as(a))}),i.onExit(i.exitMatch({onFailure:()=>i.void,onSuccess:()=>i.scopeAddFinalizerExit(r,s)})));return i.succeed([o,a])}return(0,t.pipe)(ei.make(0),i.flatMap(n=>(0,t.pipe)(i.deferredMake(),i.flatMap(s=>(0,t.pipe)(ei.make(()=>i.void),i.map(l=>{let u=i.uninterruptibleMask(u=>(0,t.pipe)(o.scopeMake(),i.flatMap(o=>(0,t.pipe)(u(i.flatMap(tQ(e,o,!0),e=>G.diffFiberRefs(e(this)))),i.exit,i.flatMap(u=>{switch(u._tag){case eG.OP_FAILURE:return(0,t.pipe)(i.deferredFailCause(s,u.effect_instruction_i0),i.zipRight(i.scopeClose(o,u)),i.zipRight(i.failCause(u.effect_instruction_i0)));case eG.OP_SUCCESS:return(0,t.pipe)(ei.set(l,e=>(0,t.pipe)(i.scopeClose(o,e),i.whenEffect(ei.modify(n,e=>[1===e,e-1])),i.asVoid)),i.zipRight(ei.update(n,e=>e+1)),i.zipRight(i.scopeAddFinalizerExit(r,r=>(0,t.pipe)(i.sync(()=>a.delete(e)),i.zipRight(ei.get(l)),i.flatMap(e=>e(r))))),i.zipRight(i.deferredSucceed(s,u.effect_instruction_i0)),i.as(u.effect_instruction_i0[1]))}}))))),c=[(0,t.pipe)(i.deferredAwait(s),i.onExit(i.exitMatchEffect({onFailure:()=>i.void,onSuccess:()=>ei.update(n,e=>e+1)}))),e=>(0,t.pipe)(ei.get(l),i.flatMap(t=>t(e)))];return[u,tV(e)?a:a.set(e,c)]}))))))}),i.flatten)}}let tG=i.suspend(()=>i.map(eL(new Map),e=>new tH(e))),tK=()=>new tH(eU(new Map)),tJ=(0,t.dual)(2,(e,t)=>i.flatMap(tG,r=>tZ(e,r,t))),tZ=(0,t.dual)(3,(e,t,r)=>i.flatMap(tQ(e,r),e=>G.provideService(e(t),tB,t))),tQ=function(e,r){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];switch(e._op_layer){case"Locally":return i.sync(()=>t=>e.f(t.getOrElseMemoize(e.self,r)));case"ExtendScope":return i.sync(()=>t=>o.scopeWith(r=>t.getOrElseMemoize(e.layer,r)));case"Fold":return i.sync(()=>a=>(0,t.pipe)(a.getOrElseMemoize(e.layer,r),i.matchCauseEffect({onFailure:t=>a.getOrElseMemoize(e.failureK(t),r),onSuccess:t=>a.getOrElseMemoize(e.successK(t),r)})));case"Fresh":return i.sync(()=>a=>(0,t.pipe)(e.layer,tJ(r)));case"FromEffect":return a?i.sync(()=>t=>e.effect):i.sync(()=>t=>t.getOrElseMemoize(e,r));case"Provide":return i.sync(()=>a=>(0,t.pipe)(a.getOrElseMemoize(e.first,r),i.flatMap(n=>(0,t.pipe)(a.getOrElseMemoize(e.second,r),i.provideContext(n)))));case"Scoped":return a?i.sync(()=>t=>o.scopeExtend(e.effect,r)):i.sync(()=>t=>t.getOrElseMemoize(e,r));case"Suspend":return i.sync(()=>t=>t.getOrElseMemoize(e.evaluate(),r));case"ProvideMerge":return i.sync(()=>a=>(0,t.pipe)(a.getOrElseMemoize(e.first,r),i.zipWith(a.getOrElseMemoize(e.second,r),e.zipK)));case"ZipWith":return i.sync(()=>a=>(0,t.pipe)(a.getOrElseMemoize(e.first,r),o.zipWithOptions(a.getOrElseMemoize(e.second,r),e.zipK,{concurrent:!0})))}},tY=(0,t.dual)(2,(e,t)=>ru(e,{onFailure:t,onSuccess:rw})),tX=(0,t.dual)(2,(e,t)=>rl(e,{onFailure:t,onSuccess:rw})),t0=e=>t5(l.die(e)),t1=()=>re(i.context()),t2=e=>t5(l.fail(e)),t3=e=>t4(()=>l.fail(e())),t5=e=>re(i.failCause(e)),t4=e=>re(i.failCauseSync(e)),t8=(0,t.dual)(2,(e,t)=>ru(e,{onFailure:t2,onSuccess:t})),t6=(0,t.dual)(2,(e,t)=>t8(e,a.get(t))),t9=e=>{let t=Object.create(tW);return t._op_layer=eK,t.layer=e,t},t7=(0,t.dual)(2,(e,t)=>{let r=a.isTag(e),n=r?e:t,s=r?t:e;return re(i.map(s,e=>a.make(n,e)))});function re(e){let t=Object.create(tW);return t._op_layer="FromEffect",t.effect=e,t}let rt=(0,t.dual)(3,(e,t,r)=>rr(e,i.fiberRefLocally(t,r))),rr=(0,t.dual)(2,(e,t)=>{let r=Object.create(tW);return r._op_layer="Locally",r.self=e,r.f=t,r}),ra=(0,t.dual)(3,(e,t,r)=>rr(e,i.fiberRefLocallyWith(t,r))),ri=(e,r)=>rk(e,new Proxy({...r},{get(t,r,a){if(r in t)return t[r];let i=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=Error(`${e.key}: Unimplemented method "${r.toString()}"`);return Error.stackTraceLimit=i,n.name="UnimplementedError",rn(n)},has:t.constTrue})),rn=e=>{let t=i.die(e);function r(){return t}return Object.assign(r,t),Object.setPrototypeOf(r,Object.getPrototypeOf(t)),r},rs=(0,t.dual)(2,(e,t)=>t8(e,e=>rw(t(e)))),ro=(0,t.dual)(2,(e,t)=>tY(e,e=>t3(()=>t(e)))),rl=(0,t.dual)(2,(e,t)=>{let{onFailure:r,onSuccess:a}=t,i=Object.create(tW);return i._op_layer="Fold",i.layer=e,i.failureK=r,i.successK=a,i}),ru=(0,t.dual)(2,(e,t)=>{let{onFailure:r,onSuccess:a}=t;return rl(e,{onFailure:e=>{let t=l.failureOrCause(e);switch(t._tag){case"Left":return r(t.left);case"Right":return t5(t.right)}},onSuccess:a})}),rc=(0,t.dual)(2,(e,t)=>r_(e,t,(e,t)=>a.merge(e,t))),rd=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=t[0];for(let e=1;e<t.length;e++)a=rc(a,t[e]);return a},rp=(0,t.dual)(2,(e,t)=>tY(e,t)),rh=(0,t.dual)(4,(e,t,r,i)=>rs(e,e=>a.make(r,i(a.unsafeGet(e,t))))),rf=(0,t.dual)(2,(e,r)=>rx(()=>{let i=a.GenericTag("effect/Layer/retry/{ state: unknown }");return(0,t.pipe)(rk(i,{state:r.initial}),t8(n=>rm(e,r,i,(0,t.pipe)(n,a.get(i)).state)))})),rm=(e,r,i,n)=>(0,t.pipe)(e,tY(s=>(0,t.pipe)(rg(r,i,s,n),t8(n=>t9(rm(e,r,i,(0,t.pipe)(n,a.get(i)).state)))))),rg=(e,r,a,n)=>t7(r,(0,t.pipe)(u.currentTimeMillis,i.flatMap(r=>(0,t.pipe)(e.step(r,a,n),i.flatMap(e=>{let[n,s,o]=e;return o._tag===z?i.fail(a):(0,t.pipe)(u.sleep(c.millis(O(o.intervals)-r)),i.as({state:n}))}))))),ry=(0,t.dual)(2,(e,t)=>{let r=a.isTag(e),n=r?e:t,s=r?t:e;return rS(i.map(s,e=>a.make(n,e)))}),rb=e=>rS((0,t.pipe)(e,i.as(a.empty()))),rS=e=>{let t=Object.create(tW);return t._op_layer="Scoped",t.effect=e,t},rv=rS(i.map(o.acquireRelease(o.scopeMake(),(e,t)=>e.close(t)),e=>a.make(j,e))),rk=(0,t.dual)(2,(e,t)=>{let r=a.isTag(e),n=r?e:t,s=r?t:e;return re(i.succeed(a.make(n,s)))}),rw=e=>re(i.succeed(e)),rE=rw(a.empty()),rx=e=>{let t=Object.create(tW);return t._op_layer="Suspend",t.evaluate=e,t},rI=(0,t.dual)(2,(e,t)=>{let r=a.isTag(e),n=r?e:t,s=r?t:e;return re(i.sync(()=>a.make(n,s())))}),rT=(0,t.dual)(2,(e,t)=>t8(e,e=>re(i.as(t(e),e)))),rC=(0,t.dual)(2,(e,t)=>tY(e,e=>re(i.flatMap(t(e),()=>i.fail(e))))),rR=(0,t.dual)(2,(e,t)=>tX(e,e=>re(i.flatMap(t(e),()=>i.failCause(e))))),rF=(0,t.dual)(2,(e,r)=>i.flatMap(o.scopeWith(t=>tZ(e,r,t)),e=>(0,t.pipe)(th(),i.provideContext(e)))),rA=(0,t.dual)(2,(e,r)=>rx(()=>{let i=Object.create(tW);return i._op_layer="Provide",i.first=Object.create(tW,{_op_layer:{value:eJ,enumerable:!0},first:{value:t1(),enumerable:!0},second:{value:Array.isArray(r)?rd(...r):r},zipK:{value:(e,r)=>(0,t.pipe)(e,a.merge(r))}}),i.second=e,i})),rO=(0,t.dual)(2,(e,r)=>{let i=Object.create(tW);return i._op_layer=eJ,i.first=r,i.second=rA(e,r),i.zipK=(e,r)=>(0,t.pipe)(e,a.merge(r)),i}),r_=(0,t.dual)(3,(e,t,r)=>rx(()=>{let a=Object.create(tW);return a._op_layer="ZipWith",a.first=e,a.second=t,a.zipK=r,a})),rM=e=>{let t=a.GenericTag("effect/Layer/unwrapScoped/Layer.Layer<R1, E1, A>");return t8(ry(t,e),e=>a.get(e,t))},rD=(0,t.dual)(e=>t$(e[0]),function(){let e=arguments;return ra(e[0],i.currentLogAnnotations,"string"==typeof e[1]?p.set(e[1],e[2]):t=>Object.entries(e[1]).reduce((e,t)=>{let[r,a]=t;return p.set(e,r,a)},t))}),rN=(0,t.dual)(e=>t$(e[0]),function(){let e=arguments;return ra(e[0],i.currentTracerSpanAnnotations,"string"==typeof e[1]?p.set(e[1],e[2]):t=>Object.entries(e[1]).reduce((e,t)=>{let[r,a]=t;return p.set(e,r,a)},t))}),rz=(0,t.dual)(2,(e,t)=>rA(e,rw(a.make(tU.spanTag,t)))),rP=(0,t.dual)(2,(e,t)=>o.scopedWith(r=>i.flatMap(tJ(t,r),t=>i.provideSomeContext(e,t)))),rL=(0,t.dual)(2,(e,t)=>{let r=d.diff(tm.fiberRefs,t.fiberRefs),n=e6.diff(tm.runtimeFlags,t.runtimeFlags);return i.uninterruptibleMask(s=>i.withFiberRuntime(l=>{let u=l.getFiberRef(i.currentContext),c=l.getFiberRefs(),p=d.patch(l.id(),c)(r),h=l.currentRuntimeFlags,f=e6.patch(n)(h),m=d.diff(p,c),g=e6.diff(f,h);return l.setFiberRefs(p),l.currentRuntimeFlags=f,o.ensuring(i.provideSomeContext(s(e),a.merge(u,t.context)),i.withFiberRuntime(e=>(e.setFiberRefs(d.patch(e.id(),e.getFiberRefs())(m)),e.currentRuntimeFlags=e6.patch(g)(e.currentRuntimeFlags),i.void)))}))}),rU=(0,t.dual)(2,(e,t)=>Array.isArray(t)?rP(e,rd(...t)):t$(t)?rP(e,t):a.isContext(t)?i.provideSomeContext(e,t):eH in t?i.flatMap(t.runtimeEffect,t=>rL(e,t)):rL(e,t));e.s(["CurrentMemoMap",0,tB,"LayerTypeId",0,tj,"MemoMapTypeId",0,tq,"annotateLogs",0,rD,"annotateSpans",0,rN,"build",0,e=>o.scopeWith(t=>tJ(e,t)),"buildWithMemoMap",0,tZ,"buildWithScope",0,tJ,"catchAll",0,tY,"catchAllCause",0,tX,"context",0,t1,"die",0,t0,"dieSync",0,e=>t4(()=>l.die(e())),"discard",0,e=>rs(e,()=>a.empty()),"effect_provide",0,rU,"empty",0,rE,"extendScope",0,e=>{let t=Object.create(tW);return t._op_layer="ExtendScope",t.layer=e,t},"fail",0,t2,"failCause",0,t5,"failCauseSync",0,t4,"failSync",0,t3,"fiberRefLocally",0,rt,"fiberRefLocallyScoped",0,(e,t)=>rb(o.fiberRefLocallyScoped(e,t)),"fiberRefLocallyScopedWith",0,(e,t)=>rb(o.fiberRefLocallyScopedWith(e,t)),"fiberRefLocallyWith",0,ra,"flatMap",0,t8,"flatten",0,t6,"fresh",0,t9,"fromEffect",0,t7,"fromEffectContext",()=>re,"fromEffectDiscard",0,e=>re(i.map(e,()=>a.empty())),"fromFunction",0,(e,t,r)=>re(i.map(e,e=>a.make(t,r(e)))),"isFresh",0,tV,"isLayer",0,t$,"launch",0,e=>o.scopedEffect(i.zipRight(o.scopeWith(r=>(0,t.pipe)(e,tJ(r))),i.never)),"locallyEffect",0,rr,"makeMemoMap",0,tG,"map",0,rs,"mapError",0,ro,"match",0,ru,"matchCause",0,rl,"memoize",0,e=>o.scopeWith(t=>i.map(G.memoize(tJ(e,t)),re)),"merge",0,rc,"mergeAll",0,rd,"mock",0,function(){return 1==arguments.length?e=>ri(arguments[0],e):ri(arguments[0],arguments[1])},"orDie",0,e=>tY(e,e=>t0(e)),"orElse",0,rp,"passthrough",0,e=>rc(t1(),e),"project",0,rh,"provide",0,rA,"provideMerge",0,rO,"retry",0,rf,"scope",0,rv,"scoped",0,ry,"scopedContext",0,rS,"scopedDiscard",0,rb,"service",0,e=>t7(e,e),"succeed",0,rk,"succeedContext",0,rw,"suspend",0,rx,"sync",0,rI,"syncContext",0,e=>re(i.sync(e)),"tap",0,rT,"tapError",0,rC,"tapErrorCause",0,rR,"toRuntime",0,e=>(0,t.pipe)(o.scopeWith(t=>tJ(e,t)),i.flatMap(e=>(0,t.pipe)(th(),i.provideContext(e)))),"toRuntimeWithMemoMap",0,rF,"unsafeMakeMemoMap",0,tK,"unwrapEffect",0,e=>{let t=a.GenericTag("effect/Layer/unwrapEffect/Layer.Layer<R1, E1, A>");return t8(t7(t,e),e=>a.get(e,t))},"unwrapScoped",0,rM,"withParentSpan",0,rz,"withSpan",0,function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=tU.addSpanStackTrace(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return rM(i.map(r?.onEnd?i.tap(o.makeSpanScoped(t,r),e=>o.addFinalizer(t=>r.onEnd(e,t))):o.makeSpanScoped(t,r),t=>rz(e,t)))}return e=>rM(i.map(r?.onEnd?i.tap(o.makeSpanScoped(t,r),e=>o.addFinalizer(t=>r.onEnd(e,t))):o.makeSpanScoped(t,r),t=>rz(e,t)))},"zipWith",0,r_],2067266);let rj=i.map(i.fiberRefGet(n.currentServices),a.get(s.consoleTag)),rW=(0,t.dual)(2,(e,t)=>i.fiberRefLocallyWith(e,n.currentServices,a.add(s.consoleTag,t)));var rq=e.i(1200317),rB=e.i(1331084),r$=e.i(5283034),rV=e.i(5305881),rH=e.i(138042),rG=e.i(9159985),rK=e.i(6712028);let rJ=Symbol.for("effect/DateTime"),rZ=Symbol.for("effect/DateTime/TimeZone"),rQ={[rJ]:rJ,pipe(){return(0,h.pipeArguments)(this,arguments)},[e4.NodeInspectSymbol](){return this.toString()},toJSON(){return aN(this).toJSON()}},rY={...rQ,_tag:"Utc",[Y.symbol](){return Y.cached(this,Y.number(this.epochMillis))},[J.symbol](e){return r5(e)&&"Utc"===e._tag&&this.epochMillis===e.epochMillis},toString(){return`DateTime.Utc(${aN(this).toJSON()})`}},rX={...rQ,_tag:"Zoned",[Y.symbol](){return(0,t.pipe)(Y.number(this.epochMillis),Y.combine(Y.hash(this.zone)),Y.cached(this))},[J.symbol](e){return r5(e)&&"Zoned"===e._tag&&this.epochMillis===e.epochMillis&&J.equals(this.zone,e.zone)},toString(){return`DateTime.Zoned(${id(this)})`}},r0={[rZ]:rZ,[e4.NodeInspectSymbol](){return this.toString()}},r1={...r0,_tag:"Named",[Y.symbol](){return Y.cached(this,Y.string(`Named:${this.id}`))},[J.symbol](e){return r8(e)&&"Named"===e._tag&&this.id===e.id},toString(){return`TimeZone.Named(${this.id})`},toJSON(){return{_id:"TimeZone",_tag:"Named",id:this.id}}},r2={...r0,_tag:"Offset",[Y.symbol](){return Y.cached(this,Y.string(`Offset:${this.offset}`))},[J.symbol](e){return r8(e)&&"Offset"===e._tag&&this.offset===e.offset},toString(){return`TimeZone.Offset(${aL(this.offset)})`},toJSON(){return{_id:"TimeZone",_tag:"Offset",offset:this.offset}}},r3=(e,t,r)=>{let a=Object.create(rX);return a.epochMillis=e,a.zone=t,Object.defineProperty(a,"partsUtc",{value:r,enumerable:!1,writable:!0}),Object.defineProperty(a,"adjustedEpochMillis",{value:void 0,enumerable:!1,writable:!0}),Object.defineProperty(a,"partsAdjusted",{value:void 0,enumerable:!1,writable:!0}),a},r5=e=>f.hasProperty(e,rJ),r4=e=>r5(e[0]),r8=e=>f.hasProperty(e,rZ),r6=e=>r8(e)&&"Named"===e._tag,r9=e=>"Zoned"===e._tag,r7=rH.make((e,t)=>e.epochMillis===t.epochMillis),ae=rK.make((e,t)=>e.epochMillis<t.epochMillis?-1:+(e.epochMillis>t.epochMillis)),at=rK.clamp(ae),ar=e=>{let t=Object.create(rY);return t.epochMillis=e,Object.defineProperty(t,"partsUtc",{value:void 0,enumerable:!1,writable:!0}),t},aa=e=>{let t=e.getTime();if(Number.isNaN(t))throw new l.IllegalArgumentException("Invalid date");return ar(t)},ai=e=>{if(r5(e))return e;if(e instanceof Date)return aa(e);if("object"==typeof e){let t=new Date(0);return aH(t,e),aa(t)}return"string"!=typeof e||an(e)?aa(new Date(e)):aa(new Date(e+"Z"))},an=e=>/Z|[+-]\d{2}$|[+-]\d{2}:?\d{2}$|\]$/.test(e),as=(e,t)=>{let r;if(t?.timeZone===void 0&&r5(e)&&r9(e))return e;let a=ai(e);if(a.epochMillis<-86399999568e5||a.epochMillis>86399999496e5)throw RangeError(`Epoch millis out of range: ${a.epochMillis}`);if(t?.timeZone===void 0)r=aS(-60*new Date(a.epochMillis).getTimezoneOffset()*1e3);else if(r8(t?.timeZone))r=t.timeZone;else if("number"==typeof t?.timeZone)r=aS(t.timeZone);else{let e=aw(t.timeZone);if(g.isNone(e))throw new l.IllegalArgumentException(`Invalid time zone: ${t.timeZone}`);r=e.value}return t?.adjustForTimeZone!==!0?r3(a.epochMillis,r,a.partsUtc):aJ(a.epochMillis,r,t?.disambiguation??"compatible")},ao=g.liftThrowable(as),al=g.liftThrowable(ai),au=/^(.{17,35})\[(.+)\]$/,ac=i.map(u.currentTimeMillis,ar),ad=i.map(u.currentTimeMillis,e=>new Date(e)),ap=()=>ar(Date.now()),ah=(0,t.dual)(r4,(e,t,r)=>r?.adjustForTimeZone===!0?aJ(e.epochMillis,t,r?.disambiguation??"compatible"):r3(e.epochMillis,t,e.partsUtc)),af=(0,t.dual)(r4,(e,t,r)=>ah(e,aS(t),r)),am=(0,rG.globalValue)("effect/DateTime/validZoneCache",()=>new Map),ag={day:"numeric",month:"numeric",year:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"longOffset",fractionalSecondDigits:3,hourCycle:"h23"},ay=e=>{let t=e.resolvedOptions().timeZone;if(am.has(t))return am.get(t);let r=Object.create(r1);return r.id=t,r.format=e,am.set(t,r),r},ab=e=>{if(am.has(e))return am.get(e);try{return ay(new Intl.DateTimeFormat("en-US",{...ag,timeZone:e}))}catch{throw new l.IllegalArgumentException(`Invalid time zone: ${e}`)}},aS=e=>{let t=Object.create(r2);return t.offset=e,t},av=g.liftThrowable(ab),ak=/^(?:GMT|[+-])/,aw=e=>{if(ak.test(e)){let t=aQ(e);return null===t?g.none():g.some(aS(t))}return av(e)},aE=(0,t.dual)(r4,(e,t,r)=>g.map(av(t),t=>ah(e,t,r))),ax=(0,t.dual)(r4,(e,t,r)=>ah(e,ab(t),r)),aI=(0,t.dual)(2,(e,t)=>aj(t)-aj(e)),aT=(0,t.dual)(2,(e,t)=>{let r=aI(e,t);return r>0?rB.right(c.millis(r)):rB.left(c.millis(-r))}),aC=(0,t.dual)(2,(e,t)=>c.millis(Math.abs(aI(e,t)))),aR=rK.min(ae),aF=rK.max(ae),aA=rK.greaterThan(ae),aO=rK.greaterThanOrEqualTo(ae),a_=rK.lessThan(ae),aM=rK.lessThanOrEqualTo(ae),aD=rK.between(ae),aN=e=>new Date(e.epochMillis),az=e=>{if("Utc"===e._tag)return new Date(e.epochMillis);if("Offset"===e.zone._tag)return new Date(e.epochMillis+e.zone.offset);if(void 0!==e.adjustedEpochMillis)return new Date(e.adjustedEpochMillis);let t=e.zone.format.formatToParts(e.epochMillis).filter(e=>"literal"!==e.type),r=new Date(0);return r.setUTCFullYear(Number(t[2].value),Number(t[0].value)-1,Number(t[1].value)),r.setUTCHours(Number(t[3].value),Number(t[4].value),Number(t[5].value),Number(t[6].value)),e.adjustedEpochMillis=r.getTime(),r},aP=e=>az(e).getTime()-aj(e),aL=e=>{let t=Math.abs(e),r=Math.floor(t/36e5),a=Math.round(t%36e5/6e4);return 60===a&&(r+=1,a=0),`${e<0?"-":"+"}${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`},aU=e=>aL(aP(e)),aj=e=>e.epochMillis,aW=e=>({millis:e.getUTCMilliseconds(),seconds:e.getUTCSeconds(),minutes:e.getUTCMinutes(),hours:e.getUTCHours(),day:e.getUTCDate(),weekDay:e.getUTCDay(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}),aq=e=>"Utc"===e._tag?aB(e):(void 0!==e.partsAdjusted||(e.partsAdjusted=a2(e,aW)),e.partsAdjusted),aB=e=>(void 0!==e.partsUtc||(e.partsUtc=a3(e,aW)),e.partsUtc),a$=(0,t.dual)(2,(e,t)=>aB(e)[t]),aV=(0,t.dual)(2,(e,t)=>aq(e)[t]),aH=(e,t)=>{if(void 0!==t.year&&e.setUTCFullYear(t.year),void 0!==t.month&&e.setUTCMonth(t.month-1),void 0!==t.day&&e.setUTCDate(t.day),void 0!==t.weekDay){let r=t.weekDay-e.getUTCDay();e.setUTCDate(e.getUTCDate()+r)}void 0!==t.hours&&e.setUTCHours(t.hours),void 0!==t.minutes&&e.setUTCMinutes(t.minutes),void 0!==t.seconds&&e.setUTCSeconds(t.seconds),void 0!==t.millis&&e.setUTCMilliseconds(t.millis)},aG=(0,t.dual)(2,(e,t)=>aX(e,e=>aH(e,t))),aK=(0,t.dual)(2,(e,t)=>a0(e,e=>aH(e,t))),aJ=(e,t,r)=>{if("Offset"===t._tag)return r3(e-t.offset,t);let a=aY(e-864e5,e,t),i=aY(e+864e5,e,t);if(a===i)return r3(e-a,t);let n=a-i;if(a<i){if(aY(e-i,e,t)===i)return r3(e-i,t);let n=r3(e-a,t);if(e!==az(n).getTime())switch(r){case"reject":{let r=new Date(e).toISOString();throw RangeError(`Gap time: ${r} does not exist in time zone ${t.id}`)}case"earlier":return r3(e-i,t)}return n}if(aY(e-a,e,t)===a){if("earlier"===r||"compatible"===r||aY(e-a+n,e+n,t)===a)return r3(e-a,t);if("reject"===r){let r=new Date(e).toISOString();throw RangeError(`Ambiguous time: ${r} occurs twice in time zone ${t.id}`)}}return r3(e-i,t)},aZ=/([+-])(\d{2}):(\d{2})$/,aQ=e=>{let t=aZ.exec(e);if(null===t)return null;let[,r,a,i]=t;return("+"===r?1:-1)*(60*Number(a)+Number(i))*6e4},aY=(e,t,r)=>{let a=r.format.formatToParts(e).find(e=>"timeZoneName"===e.type)?.value??"";if("GMT"===a)return 0;let i=aQ(a);return null===i?aP(r3(t,r)):i},aX=(0,t.dual)(r4,(e,t,r)=>{if("Utc"===e._tag){let r=aN(e);return t(r),ar(r.getTime())}let a=new Date(az(e).getTime());return t(a),aJ(a.getTime(),e.zone,r?.disambiguation??"compatible")}),a0=(0,t.dual)(2,(e,t)=>a1(e,e=>{let r=new Date(e);return t(r),r.getTime()})),a1=(0,t.dual)(2,(e,t)=>{let r=t(aj(e));return"Utc"===e._tag?ar(r):r3(r,e.zone)}),a2=(0,t.dual)(2,(e,t)=>t(az(e))),a3=(0,t.dual)(2,(e,t)=>t(aN(e))),a5=(0,t.dual)(2,(e,t)=>"Utc"===e._tag?t.onUtc(e):t.onZoned(e)),a4=(0,t.dual)(2,(e,t)=>a1(e,e=>e+c.toMillis(t))),a8=(0,t.dual)(2,(e,t)=>a1(e,e=>e-c.toMillis(t))),a6=(e,t)=>{e.setTime(e.getTime()+t)},a9=(0,t.dual)(2,(e,t)=>aX(e,e=>{if(t.millis&&a6(e,t.millis),t.seconds&&a6(e,1e3*t.seconds),t.minutes&&a6(e,60*t.minutes*1e3),t.hours&&a6(e,60*t.hours*6e4),t.days&&e.setUTCDate(e.getUTCDate()+t.days),t.weeks&&e.setUTCDate(e.getUTCDate()+7*t.weeks),t.months){let r=e.getUTCDate();e.setUTCMonth(e.getUTCMonth()+t.months+1,0),r<e.getUTCDate()&&e.setUTCDate(r)}if(t.years){let r=e.getUTCDate(),a=e.getUTCMonth();e.setUTCFullYear(e.getUTCFullYear()+t.years,a+1,0),r<e.getUTCDate()&&e.setUTCDate(r)}})),a7=(0,t.dual)(2,(e,t)=>{let r={};for(let e in t)r[e]=-1*t[e];return a9(e,r)}),ie=(e,t,r)=>{switch(t){case"second":e.setUTCMilliseconds(0);break;case"minute":e.setUTCSeconds(0,0);break;case"hour":e.setUTCMinutes(0,0,0);break;case"day":e.setUTCHours(0,0,0,0);break;case"week":{let t=r?.weekStartsOn??0,a=e.getUTCDay();e.setUTCDate(e.getUTCDate()-(a-t+7)%7),e.setUTCHours(0,0,0,0);break}case"month":e.setUTCDate(1),e.setUTCHours(0,0,0,0);break;case"year":e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}},it=(0,t.dual)(r4,(e,t,r)=>aX(e,e=>ie(e,t,r))),ir=(e,t,r)=>{switch(t){case"second":e.setUTCMilliseconds(999);break;case"minute":e.setUTCSeconds(59,999);break;case"hour":e.setUTCMinutes(59,59,999);break;case"day":e.setUTCHours(23,59,59,999);break;case"week":{let t=r?.weekStartsOn??0,a=e.getUTCDay();e.setUTCDate(e.getUTCDate()-(a-t+7)%7+6),e.setUTCHours(23,59,59,999);break}case"month":e.setUTCMonth(e.getUTCMonth()+1,0),e.setUTCHours(23,59,59,999);break;case"year":e.setUTCMonth(11,31),e.setUTCHours(23,59,59,999)}},ia=(0,t.dual)(r4,(e,t,r)=>aX(e,e=>ir(e,t,r))),ii=(0,t.dual)(r4,(e,t,r)=>aX(e,e=>{if("milli"===t)return;let a=e.getTime(),i=new Date(a);ie(i,t,r);let n=i.getTime(),s=new Date(a);ir(s,t,r);let o=s.getTime()+1;a-n<o-a?e.setTime(n):e.setTime(o)})),is=(0,t.dual)(r4,(e,t)=>{try{var r;return new Intl.DateTimeFormat(t?.locale,{timeZone:"Utc"===e._tag?"UTC":(r=e.zone,"Named"===r._tag?r.id:aL(r.offset)),...t}).format(e.epochMillis)}catch{return new Intl.DateTimeFormat(t?.locale,{timeZone:"UTC",...t}).format(az(e))}}),io=(0,t.dual)(r4,(e,t)=>new Intl.DateTimeFormat(t?.locale,t).format(e.epochMillis)),il=(0,t.dual)(r4,(e,t)=>new Intl.DateTimeFormat(t?.locale,{...t,timeZone:"UTC"}).format(e.epochMillis)),iu=(0,t.dual)(2,(e,t)=>t.format(e.epochMillis)),ic=e=>{let t=az(e);return"Utc"===e._tag?t.toISOString():`${t.toISOString().slice(0,-1)}${aU(e)}`},id=e=>"Offset"===e.zone._tag?ic(e):`${ic(e)}[${e.zone.id}]`;e.s(["Equivalence",0,r7,"Order",0,ae,"TimeZoneTypeId",0,rZ,"TypeId",0,rJ,"add",0,a9,"addDuration",0,a4,"between",0,aD,"clamp",0,at,"distance",0,aI,"distanceDuration",0,aC,"distanceDurationEither",0,aT,"endOf",0,ia,"format",0,is,"formatIntl",0,iu,"formatIso",0,e=>aN(e).toISOString(),"formatIsoDate",0,e=>az(e).toISOString().slice(0,10),"formatIsoDateUtc",0,e=>aN(e).toISOString().slice(0,10),"formatIsoOffset",0,ic,"formatIsoZoned",0,id,"formatLocal",0,io,"formatUtc",0,il,"getPart",0,aV,"getPartUtc",0,a$,"greaterThan",0,aA,"greaterThanOrEqualTo",0,aO,"isDateTime",0,r5,"isFuture",0,e=>i.map(ac,a_(e)),"isPast",0,e=>i.map(ac,aA(e)),"isTimeZone",0,r8,"isTimeZoneNamed",0,r6,"isTimeZoneOffset",0,e=>r8(e)&&"Offset"===e._tag,"isUtc",0,e=>"Utc"===e._tag,"isZoned",0,r9,"lessThan",0,a_,"lessThanOrEqualTo",0,aM,"make",0,al,"makeZoned",0,ao,"makeZonedFromString",0,e=>{let t=au.exec(e);if(null===t){let t=aQ(e);return null!==t?ao(e,{timeZone:t}):g.none()}let[,r,a]=t;return ao(r,{timeZone:a})},"mapEpochMillis",0,a1,"match",0,a5,"max",0,aF,"min",0,aR,"mutate",0,aX,"mutateUtc",0,a0,"nearest",0,ii,"now",0,ac,"nowAsDate",0,ad,"removeTime",0,e=>a2(e,e=>(e.setUTCHours(0,0,0,0),ar(e.getTime()))),"setParts",0,aG,"setPartsUtc",0,aK,"setZone",0,ah,"setZoneNamed",0,aE,"setZoneOffset",0,af,"startOf",0,it,"subtract",0,a7,"subtractDuration",0,a8,"toDate",0,az,"toDateUtc",0,aN,"toEpochMillis",0,aj,"toParts",0,aq,"toPartsUtc",0,aB,"toUtc",0,e=>ar(e.epochMillis),"unsafeFromDate",0,aa,"unsafeIsFuture",0,e=>a_(ap(),e),"unsafeIsPast",0,e=>aA(ap(),e),"unsafeMake",0,ai,"unsafeMakeZoned",0,as,"unsafeNow",0,ap,"unsafeSetZoneNamed",0,ax,"withDate",0,a2,"withDateUtc",0,a3,"zoneFromString",0,aw,"zoneMakeLocal",0,()=>ay(new Intl.DateTimeFormat("en-US",ag)),"zoneMakeNamed",0,av,"zoneMakeNamedEffect",0,e=>G.try_({try:()=>ab(e),catch:e=>e}),"zoneMakeOffset",0,aS,"zoneToString",0,e=>"Offset"===e._tag?aL(e.offset):e.id,"zoneUnsafeMakeNamed",0,ab,"zonedOffset",0,aP,"zonedOffsetIso",0,aU],5331375);var ip=e.i(5921732);e.i(2958341),f.isString;let ih=rH.string;rK.string;let im=e=>e.length>0;class ig{s;stripped;index;length;constructor(e,t=!1){this.s=e,this.stripped=t,this.index=0,this.length=e.length}next(){if(this.done)return{done:!0,value:void 0};let e=this.index;for(;!this.done&&!iy(this.s[this.index]);)this.index=this.index+1;let t=this.index;if(!this.done){let e=this.s[this.index];this.index=this.index+1,!this.done&&ib(e,this.s[this.index])&&(this.index=this.index+1),this.stripped||(t=this.index)}return{done:!1,value:this.s.substring(e,t)}}[Symbol.iterator](){return new ig(this.s,this.stripped)}get done(){return this.index>=this.length}}let iy=e=>{let t=e.charCodeAt(0);return 13===t||10===t},ib=(e,t)=>13===e.charCodeAt(0)&&10===t.charCodeAt(0);e.s(["Equivalence",0,ih,"capitalize",0,e=>0===e.length?e:e[0].toUpperCase()+e.slice(1),"isNonEmpty",0,im,"uncapitalize",0,e=>0===e.length?e:e[0].toLowerCase()+e.slice(1)],9333060);let iS=Symbol.for("effect/Cron"),iv={[iS]:iS,[J.symbol](e){return ik(e)&&iA(this,e)},[Y.symbol](){return(0,t.pipe)(Y.hash(this.tz),Y.combine(Y.array(r$.fromIterable(this.seconds))),Y.combine(Y.array(r$.fromIterable(this.minutes))),Y.combine(Y.array(r$.fromIterable(this.hours))),Y.combine(Y.array(r$.fromIterable(this.days))),Y.combine(Y.array(r$.fromIterable(this.months))),Y.combine(Y.array(r$.fromIterable(this.weekdays))),Y.cached(this))},toString(){return(0,e4.format)(this.toJSON())},toJSON(){return{_id:"Cron",tz:this.tz,seconds:r$.fromIterable(this.seconds),minutes:r$.fromIterable(this.minutes),hours:r$.fromIterable(this.hours),days:r$.fromIterable(this.days),months:r$.fromIterable(this.months),weekdays:r$.fromIterable(this.weekdays)}},[e4.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,h.pipeArguments)(this,arguments)}},ik=e=>(0,f.hasProperty)(e,iS),iw=e=>{let t=Object.create(iv);t.seconds=new Set(r$.sort(e.seconds??[0],ip.Order)),t.minutes=new Set(r$.sort(e.minutes,ip.Order)),t.hours=new Set(r$.sort(e.hours,ip.Order)),t.days=new Set(r$.sort(e.days,ip.Order)),t.months=new Set(r$.sort(e.months,ip.Order)),t.weekdays=new Set(r$.sort(e.weekdays,ip.Order)),t.tz=g.fromNullable(e.tz);let r=Array.from(t.seconds),a=Array.from(t.minutes),i=Array.from(t.hours),n=Array.from(t.days),s=Array.from(t.months),o=Array.from(t.weekdays);return t.first={second:r[0]??0,minute:a[0]??0,hour:i[0]??0,day:n[0]??1,month:(s[0]??1)-1,weekday:o[0]??0},t.next={second:iE(r,60),minute:iE(a,60),hour:iE(i,24),day:iE(n,32),month:iE(s,13),weekday:iE(o,7)},t},iE=(e,t)=>{let r,a=Array(t).fill(void 0);if(0===e.length)return a;let i=e.length-1;for(let n=t-1;n>=0;n--){for(;i>=0&&e[i]>=n;)r=e[i--];a[n]=r}return a},ix=Symbol.for("effect/Cron/errors/ParseError");class iI extends rV.TaggedError("CronParseError"){[ix]=ix}let iT=e=>new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth()+1,0)).getUTCDate(),iC=rH.make((e,t)=>iF(e.seconds,t.seconds)&&iF(e.minutes,t.minutes)&&iF(e.hours,t.hours)&&iF(e.days,t.days)&&iF(e.months,t.months)&&iF(e.weekdays,t.weekdays)),iR=rH.array(rH.number),iF=(e,t)=>iR(r$.fromIterable(e),r$.fromIterable(t)),iA=(0,t.dual)(2,(e,t)=>iC(e,t)),iO={min:0,max:59},i_={min:0,max:59},iM={min:0,max:23},iD={min:1,max:31},iN={min:1,max:12,aliases:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12}},iz={min:0,max:6,aliases:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}},iP=(e,t)=>{let r=t.max-t.min+1,a=new Set;for(let i of e.split(",")){let[n,s]=iL(i);if("*"===n&&void 0===s)return rB.right(new Set);if(void 0!==s){if(!Number.isInteger(s))return rB.left(new iI({message:"Expected step value to be a positive integer",input:e}));if(s<1)return rB.left(new iI({message:"Expected step value to be greater than 0",input:e}));if(s>t.max)return rB.left(new iI({message:`Expected step value to be less than ${t.max}`,input:e}))}if("*"===n)for(let e=t.min;e<=t.max;e+=s??1)a.add(e);else{let[r,i]=iU(n,t.aliases);if(!Number.isInteger(r))return rB.left(new iI({message:"Expected a positive integer",input:e}));if(r<t.min||r>t.max)return rB.left(new iI({message:`Expected a value between ${t.min} and ${t.max}`,input:e}));if(void 0===i)a.add(r);else{if(!Number.isInteger(i))return rB.left(new iI({message:"Expected a positive integer",input:e}));if(i<t.min||i>t.max)return rB.left(new iI({message:`Expected a value between ${t.min} and ${t.max}`,input:e}));if(r>i)return rB.left(new iI({message:"Invalid value range",input:e}));for(let e=r;e<=i;e+=s??1)a.add(e)}}if(a.size>=r)return rB.right(new Set)}return rB.right(a)},iL=e=>{let t=e.indexOf("/");return -1!==t?[e.slice(0,t),Number(e.slice(t+1))]:[e,void 0]},iU=(e,t)=>{let r=e.indexOf("-");return -1!==r?[ij(e.slice(0,r),t),ij(e.slice(r+1),t)]:[ij(e,t),void 0]};function ij(e,t){return t?.[e.toLocaleLowerCase()]??Number(e)}var iW=e.i(5525866);iW.RandomTypeId;let iq=n.next;n.nextInt,n.nextBoolean,n.nextRange,n.nextIntBetween,n.shuffle,n.choice,n.randomWith,iW.randomTag,iW.make;let iB=iW.fixed,i$=Symbol.for("effect/Schedule"),iV=e=>(0,f.hasProperty)(e,i$),iH=Symbol.for("effect/ScheduleDriver"),iG={start:0,now:0,input:void 0,output:void 0,elapsed:c.zero,elapsedSincePrevious:c.zero,recurrence:0},iK=a.Reference()("effect/Schedule/CurrentIterationMetadata",{defaultValue:()=>iG}),iJ={_Out:e=>e,_In:e=>e,_R:e=>e},iZ={_Out:e=>e,_In:e=>e,_R:e=>e};class iQ{initial;step;[i$]=iJ;constructor(e,t){this.initial=e,this.step=t}pipe(){return(0,h.pipeArguments)(this,arguments)}}let iY=(e,t,r,a)=>ei.update(e,e=>0===e.recurrence?{now:t,input:r,output:a,recurrence:e.recurrence+1,elapsed:c.zero,elapsedSincePrevious:c.zero,start:t}:{now:t,input:r,output:a,recurrence:e.recurrence+1,elapsed:c.millis(t-e.start),elapsedSincePrevious:c.millis(t-e.now),start:e.start});class iX{schedule;ref;[iH]=iZ;constructor(e,t){this.schedule=e,this.ref=t}get state(){return i.map(ei.get(this.ref),e=>e[1])}get last(){return i.flatMap(ei.get(this.ref),e=>{let[t,r]=e;switch(t._tag){case"None":return i.failSync(()=>new i.NoSuchElementException);case"Some":return i.succeed(t.value)}})}iterationMeta=ei.unsafeMake(iG);get reset(){return ei.set(this.ref,[g.none(),this.schedule.initial]).pipe(i.zipLeft(ei.set(this.iterationMeta,iG)))}next(e){return(0,t.pipe)(i.map(ei.get(this.ref),e=>e[1]),i.flatMap(r=>(0,t.pipe)(u.currentTimeMillis,i.flatMap(a=>(0,t.pipe)(i.suspend(()=>this.schedule.step(a,e,r)),i.flatMap(r=>{let[n,s,o]=r,l=ei.set(this.ref,[g.some(s),n]);if(o._tag===z)return l.pipe(i.zipRight(i.fail(g.none())));let u=O(o.intervals)-a;if(u<=0)return l.pipe(i.zipRight(iY(this.iterationMeta,a,e,s)),i.as(s));let d=c.millis(u);return(0,t.pipe)(l,i.zipRight(iY(this.iterationMeta,a,e,s)),i.zipRight(G.sleep(d)),i.as(s))}))))))}}let i0=(e,t)=>new iQ(e,t),i1=(0,t.dual)(2,(e,t)=>i2(e,e=>i.sync(()=>t(e)))),i2=(0,t.dual)(2,(e,t)=>nE(e,(e,r)=>i.map(t(e),e=>c.sum(r,c.decode(e))))),i3=(0,t.dual)(2,(e,t)=>nv(i5(e,t),rB.merge)),i5=(0,t.dual)(2,(e,t)=>i0([e.initial,t.initial,!0],(r,a,n)=>n[2]?i.flatMap(e.step(r,a,n[0]),e=>{let[s,o,l]=e;return l._tag===z?i.map(t.step(r,a,n[1]),e=>{let[t,r,a]=e;return[[s,t,!1],rB.right(r),a]}):i.succeed([[s,n[1],!0],rB.left(o),l])}):i.map(t.step(r,a,n[1]),e=>{let[t,r,a]=e;return[[n[0],t,!1],rB.right(r),a]}))),i4=(0,t.dual)(2,(e,t)=>nv(e,()=>t)),i8=e=>nv(e,t.constVoid),i6=(0,t.dual)(2,(e,r)=>i0([e.initial,r.initial],(a,n,s)=>{let[o,l]=n;return i.zipWith(e.step(a,o,s[0]),r.step(a,l,s[1]),(e,r)=>{let[a,i,n]=e,[s,o,l]=r;return n._tag===N&&l._tag===N?[[a,s],[i,o],P((0,t.pipe)(n.intervals,C(l.intervals)))]:[[a,s],[i,o],U]})})),i9=(0,t.dual)(2,(e,t)=>i7(e,(e,r)=>i.sync(()=>t(e,r)))),i7=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.flatMap(e.step(r,a,n),e=>{let[r,n,s]=e;return s._tag===z?i.succeed([r,n,U]):i.map(t(a,n),e=>e?[r,n,s]:[r,n,U])}))),ne=e=>nD(e,m.empty(),(e,r)=>(0,t.pipe)(e,m.append(r))),nt=(0,t.dual)(2,(e,r)=>i0([e.initial,r.initial],(a,n,s)=>i.flatMap(e.step(a,n,s[0]),e=>{let[n,o,l]=e;return i.map(r.step(a,o,s[1]),e=>{let[r,a,i]=e;return l._tag===z||i._tag===z?[[n,r],a,U]:[[n,r],a,P((0,t.pipe)(l.intervals,M(i.intervals)))]})}))),nr=(0,t.dual)(2,(e,t)=>ni(e,e=>i.sync(()=>t(e)))),na=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.mapInputContext(e.step(r,a,n),t))),ni=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.flatMap(t(a),t=>e.step(r,t,n)))),nn=(0,t.dual)(2,(e,t)=>ns(e,e=>i.sync(()=>t(e)))),ns=(0,t.dual)(2,(e,t)=>nE(e,(e,r)=>t(r))),no=e=>i1(e,e=>e),nl=(0,t.dual)(2,(e,t)=>{let{onInput:r,onOutput:a}=t;return nv(nr(e,r),a)}),nu=(0,t.dual)(2,(e,t)=>{let{onInput:r,onOutput:a}=t;return nk(ni(e,r),a)}),nc=e=>(0,t.pipe)(ei.make([g.none(),e.initial]),i.map(t=>new iX(e,t))),nd=e=>{let t=c.decode(e),r=c.toMillis(t);return i0(!0,(e,a,n)=>i.succeed(n?[!1,t,L(S(e+r,1/0))]:[!1,c.zero,U]))},np=(0,t.dual)(2,(e,t)=>nB(e,t)),nh=(0,t.dual)(3,(e,t,r)=>n$(e,t,r)),nf=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.flatMap(e.step(r,a,n),e=>{let[r,a,n]=e;return n._tag===z?i.as(t,[r,a,n]):i.succeed([r,a,n])}))),nm=()=>i0(void 0,(e,t,r)=>i.succeed([r,t,L(S(e,1/0))])),ng=(0,t.dual)(2,(e,t)=>ny(e,t,F)),ny=(0,t.dual)(3,(e,r,a)=>i0([e.initial,r.initial],(n,s,o)=>(0,t.pipe)(i.zipWith(e.step(n,s,o[0]),r.step(n,s,o[1]),(e,t)=>[e,t]),i.flatMap(t=>{let[[n,o,l],[u,c,d]]=t;return l._tag===N&&d._tag===N?nb(e,r,s,n,o,l.intervals,u,c,d.intervals,a):i.succeed([[n,u],[o,c],U])})))),nb=(e,r,a,n,s,o,l,u,c,d)=>{let p=d(o,c);return m.isNonEmpty(p.intervals)?i.succeed([[n,l],[s,u],P(p)]):(0,t.pipe)(o,_(c))?i.flatMap(e.step(D(o),a,n),t=>{let[n,s,o]=t;return o._tag===z?i.succeed([[n,l],[s,u],U]):nb(e,r,a,n,s,o.intervals,l,u,c,d)}):i.flatMap(r.step(D(c),a,l),t=>{let[l,u,c]=t;return c._tag===z?i.succeed([[n,l],[s,u],U]):nb(e,r,a,n,s,o,l,u,c.intervals,d)})},nS=(0,t.dual)(2,(e,t)=>{let{max:r,min:a}=Object.assign({min:.8,max:1.2},t);return ns(e,e=>i.map(iq,t=>{let i=c.toMillis(e);return c.millis(i*a*(1-t)+i*r*t)}))}),nv=(0,t.dual)(2,(e,t)=>nk(e,e=>i.sync(()=>t(e)))),nk=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.flatMap(e.step(r,a,n),e=>{let[r,a,n]=e;return i.map(t(a),e=>[r,e,n])}))),nw=(0,t.dual)(2,(e,t)=>nE(e,(e,r)=>i.sync(()=>t(e,r)))),nE=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.flatMap(e.step(r,a,n),e=>{let a,[n,s,o]=e;if(o._tag===z)return i.succeed([n,s,o]);let l=o.intervals,u=(a=S(r,O(l)),c.millis(a.endMillis-a.startMillis));return i.map(t(s,u),e=>{let t=c.decode(e),a=O(l),i=r+c.toMillis(t),o=i-a;return[n,s,L(S(i,Math.max(0,D(l)+o)))]})}))),nx=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.flatMap(e.step(r,a,n),e=>{let[r,a,n]=e;return i.as(t(a,n),[r,a,n])}))),nI=e=>i0(e.initial,(r,a,n)=>(0,t.pipe)(e.step(r,a,n),i.map(e=>{let[t,r,i]=e;return[t,a,i]}))),nT=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.provideContext(e.step(r,a,n),t))),nC=(0,t.dual)(3,(e,t,r)=>i0(e.initial,(n,s,o)=>i.contextWithEffect(l=>i.provideContext(e.step(n,s,o),a.add(l,t,r))))),nR=e=>nV(nm(),e),nF=e=>nH(nm(),e),nA=e=>{let t=c.decode(e);return nY(sb,e=>c.lessThan(e,t))},nO=e=>nZ(nm(),e),n_=e=>nQ(nm(),e),nM=e=>nY(sS,t=>t<e),nD=(0,t.dual)(3,(e,t,r)=>nN(e,t,(e,t)=>i.sync(()=>r(e,t)))),nN=(0,t.dual)(3,(e,t,r)=>i0([e.initial,t],(t,a,n)=>{let[s,o]=n;return i.flatMap(e.step(t,a,s),e=>{let[t,a,n]=e;return n._tag===z?i.succeed([[t,o],o,n]):i.map(r(o,a),e=>[[t,e],o,n])})})),nz=(0,t.dual)(2,(e,r)=>{let a=c.decode(r);return(0,t.pipe)(e,ng(sb),nP(e=>{let[,t]=e;return c.greaterThanOrEqualTo(t,a)}),nv(e=>e[0]))}),nP=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.flatMap(e.step(r,a,n),n=>{let[s,o,l]=n;return t(o)?e.step(r,a,e.initial):i.succeed([s,o,l])}))),nL=(0,t.dual)(3,(e,r,a)=>(0,t.pipe)(nU(e,r,m.fromIterable(a),e.initial,m.empty()),i.map(e=>m.reverse(e)))),nU=(e,r,a,n,s)=>{if(!m.isNonEmpty(a))return i.succeed(s);let o=m.headNonEmpty(a),l=m.tailNonEmpty(a);return i.flatMap(e.step(r,o,n),r=>{let[a,n,o]=r;return o._tag===z?i.sync(()=>(0,t.pipe)(s,m.prepend(n))):nU(e,O(o.intervals),l,a,m.prepend(s,n))})},nj=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.zipRight(t(a),e.step(r,a,n)))),nW=(0,t.dual)(2,(e,t)=>i0(e.initial,(r,a,n)=>i.tap(e.step(r,a,n),e=>{let[,r]=e;return t(r)}))),nq=(e,t)=>i0(e,(e,r,a)=>i.sync(()=>[t(a),a,L(S(e,1/0))])),nB=(0,t.dual)(2,(e,t)=>n$(e,t,C)),n$=(0,t.dual)(3,(e,t,r)=>i0([e.initial,t.initial],(a,n,s)=>i.zipWith(e.step(a,n,s[0]),t.step(a,n,s[1]),(e,t)=>{let[a,i,n]=e,[s,o,l]=t;if(n._tag===z&&l._tag===z)return[[a,s],[i,o],U];if(n._tag===z&&l._tag===N)return[[a,s],[i,o],P(l.intervals)];if(n._tag===N&&l._tag===z)return[[a,s],[i,o],P(n.intervals)];if(n._tag===N&&l._tag===N)return[[a,s],[i,o],P(r(n.intervals,l.intervals))];throw Error("BUG: Schedule.unionWith - please report an issue at https://github.com/Effect-TS/effect/issues")}))),nV=(0,t.dual)(2,(e,t)=>i9(e,(e,r)=>!t(e))),nH=(0,t.dual)(2,(e,t)=>i7(e,(e,r)=>G.negate(t(e)))),nG=(0,t.dual)(2,(e,t)=>i9(e,(e,r)=>!t(r))),nK=(0,t.dual)(2,(e,t)=>i7(e,(e,r)=>G.negate(t(r)))),nJ=(0,t.dual)(2,(e,t)=>n0(e,nA(t))),nZ=(0,t.dual)(2,(e,t)=>i9(e,(e,r)=>t(e))),nQ=(0,t.dual)(2,(e,t)=>i7(e,(e,r)=>t(e))),nY=(0,t.dual)(2,(e,t)=>i9(e,(e,r)=>t(r))),nX=(0,t.dual)(2,(e,t)=>i7(e,(e,r)=>t(r))),n0=(0,t.dual)(2,(e,t)=>nv(ng(e,t),e=>e[0])),n1=(0,t.dual)(2,(e,t)=>nv(ng(e,t),e=>e[1])),n2=(0,t.dual)(3,(e,t,r)=>nv(ng(e,t),e=>{let[t,a]=e;return r(t,a)})),n3=e=>{let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),0).getTime()},n5=e=>{let t=new Date(n3(e));return t.setSeconds(t.getSeconds()+1)},n4=e=>{let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),0,0).getTime()},n8=e=>{let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),0,0,0).getTime()},n6=e=>{let t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0,0).getTime()},n9=e=>{let t=new Date(n6(e));return t.setDate(t.getDate()+1)},n7=(e,t,r)=>{let a=new Date(new Date(e).setDate(t));if(new Date(a.setMonth(a.getMonth()+r)).getDate()===t){let a=new Date(new Date(e).setDate(t));return a.setMonth(a.getMonth()+r)}return n7(e,t,r+1)},se=Symbol.for("effect/Schedule/ScheduleDefect");class st{error;[se];constructor(e){this.error=e,this[se]=se}}let sr=e=>i.catchAll(e,e=>i.die(new st(e))),sa=e=>g.match(r.find(e,e=>{let t;return r.isDieType(e)&&(t=e.defect,(0,f.hasProperty)(t,se))?g.some(e.defect):g.none()}),{onNone:()=>e,onSome:e=>r.fail(e.error)}),si=e=>i.catchAllCause(e,e=>i.failCause(sa(e))),sn=(0,t.dual)(2,(e,t)=>so(e,t,(e,t)=>i.fail(e))),ss=(0,t.dual)(2,(e,t)=>{if(iV(t))return sn(e,t);let r=t.schedule??nI(sS),a=t.while?nQ(r,e=>{let r=t.while(e);return"boolean"==typeof r?i.succeed(r):sr(r)}):r,n=t.until?nH(a,e=>{let r=t.until(e);return"boolean"==typeof r?i.succeed(r):sr(r)}):a;return si(sn(e,t.times?ng(n,nM(t.times)).pipe(nv(e=>e[0])):n))}),so=(0,t.dual)(3,(e,t,r)=>i.flatMap(nc(t),t=>i.matchEffect(e,{onFailure:e=>r(e,g.none()),onSuccess:a=>sl(G.provideServiceEffect(e,iK,ei.get(t.iterationMeta)),t,(e,a)=>G.provideServiceEffect(r(e,a),iK,ei.get(t.iterationMeta)),a)}))),sl=(e,t,r,a)=>i.matchEffect(t.next(a),{onFailure:()=>i.orDie(t.last),onSuccess:a=>i.matchEffect(e,{onFailure:e=>r(e,g.some(a)),onSuccess:a=>sl(e,t,r,a)})}),su=(0,t.dual)(2,(e,t)=>sp(e,t,(e,t)=>i.fail(e))),sc=(0,t.dual)(2,(e,t)=>iV(t)?su(e,t):si(su(e,sd(t)))),sd=e=>{let t=e.schedule??sS,r=e.while?nQ(t,t=>{let r=e.while(t);return"boolean"==typeof r?i.succeed(r):sr(r)}):t,a=e.until?nH(r,t=>{let r=e.until(t);return"boolean"==typeof r?i.succeed(r):sr(r)}):r;return e.times?ng(a,nM(e.times)):a},sp=(0,t.dual)(3,(e,t,r)=>i.flatMap(nc(t),t=>sh(G.provideServiceEffect(e,iK,ei.get(t.iterationMeta)),t,(e,a)=>G.provideServiceEffect(r(e,a),iK,ei.get(t.iterationMeta))))),sh=(e,r,a)=>i.catchAll(e,n=>i.matchEffect(r.next(n),{onFailure:()=>(0,t.pipe)(r.last,i.orDie,i.flatMap(e=>a(n,e))),onSuccess:()=>sh(e,r,a)})),sf=(0,t.dual)(2,(e,t)=>sm(e,void 0,t)),sm=(0,t.dual)(3,(e,t,r)=>i.flatMap(nc(r),r=>sg(G.provideServiceEffect(e,iK,ei.get(r.iterationMeta)),t,r))),sg=(e,t,r)=>i.matchEffect(r.next(t),{onFailure:()=>i.orDie(r.last),onSuccess:()=>i.flatMap(e,t=>sg(e,t,r))}),sy=nq(0,e=>e+1),sb=i0(g.none(),(e,t,r)=>{switch(r._tag){case"None":return i.succeed([g.some(e),c.zero,L(S(e,1/0))]);case"Some":return i.succeed([g.some(r.value),c.millis(e-r.value),L(S(e,1/0))])}}),sS=nq(0,e=>e+1),sv=i8(nM(1)),sk=i8(nM(0)),sw=(0,t.dual)(2,(e,t)=>ew(sf(e,t)));e.s(["CurrentIterationMetadata",0,iK,"ScheduleDriverTypeId",0,iH,"ScheduleTypeId",0,i$,"addDelay",0,i1,"addDelayEffect",0,i2,"andThen",0,i3,"andThenEither",0,i5,"as",0,i4,"asVoid",0,i8,"bothInOut",0,i6,"check",0,i9,"checkEffect",0,i7,"collectAllInputs",0,()=>ne(nm()),"collectAllOutputs",0,ne,"collectUntil",0,e=>ne(nR(e)),"collectUntilEffect",0,e=>ne(nF(e)),"collectWhile",0,e=>ne(nO(e)),"collectWhileEffect",0,e=>ne(n_(e)),"compose",0,nt,"count",0,sy,"cron",0,(e,r)=>{let a=ik(e)?rB.right(e):((e,t)=>{let r=e.split(" ").filter(im);if(5!==r.length&&6!==r.length)return rB.left(new iI({message:"Invalid number of segments in cron expression",input:e}));5===r.length&&r.unshift("0");let[a,i,n,s,o,l]=r,u=void 0===t||r8(t)?rB.right(t):rB.fromOption(aw(t),()=>new iI({message:"Invalid time zone in cron expression",input:t}));return rB.all({tz:u,seconds:iP(a,iO),minutes:iP(i,i_),hours:iP(n,iM),days:iP(s,iD),months:iP(o,iN),weekdays:iP(l,iz)}).pipe(rB.map(iw))})(e,r);return i0([!0,[Number.MIN_SAFE_INTEGER,0,0]],(e,r,n)=>{let s,o,l,u,c,[d,p]=n;if(e<p[0])return i.succeed([[!1,p],[p[1],p[2]],L(S(p[1],p[2]))]);if(rB.isLeft(a))return i.die(a.left);let h=a.right,f=new Date(e);d&&(s=as(f,{timeZone:g.getOrUndefined(h.tz)}).pipe(aq),(0===h.seconds.size||h.seconds.has(s.seconds))&&(0===h.minutes.size||h.minutes.has(s.minutes))&&(0===h.hours.size||h.hours.has(s.hours))&&(0===h.months.size||h.months.has(s.month))&&(0===h.days.size&&0===h.weekdays.size||(0===h.weekdays.size?h.days.has(s.day):0===h.days.size?h.weekdays.has(s.weekDay):h.days.has(s.day)||h.weekdays.has(s.weekDay))))&&(c=e);let m=n3(c=(o=g.getOrUndefined(h.tz),l=as(f??new Date,{timeZone:o}),u=void 0!==o&&r6(o)&&"UTC"===o.id?t.constVoid:e=>{let t=as(e,{timeZone:l.zone,adjustForTimeZone:!0}).pipe(az),r=e.getTime()-t.getTime();r>0&&e.setTime(e.getTime()+r)},aN(aX(l,e=>{e.setUTCSeconds(e.getUTCSeconds()+1,0);for(let t=0;t<1e4;t++){if(0!==h.seconds.size){let t=e.getUTCSeconds(),r=h.next.second[t];if(void 0===r){e.setUTCMinutes(e.getUTCMinutes()+1,h.first.second),u(e);continue}if(r>t){e.setUTCSeconds(r),u(e);continue}}if(0!==h.minutes.size){let t=e.getUTCMinutes(),r=h.next.minute[t];if(void 0===r){e.setUTCHours(e.getUTCHours()+1,h.first.minute,h.first.second),u(e);continue}if(r>t){e.setUTCMinutes(r,h.first.second),u(e);continue}}if(0!==h.hours.size){let t=e.getUTCHours(),r=h.next.hour[t];if(void 0===r){e.setUTCDate(e.getUTCDate()+1),e.setUTCHours(h.first.hour,h.first.minute,h.first.second),u(e);continue}if(r>t){e.setUTCHours(r,h.first.minute,h.first.second),u(e);continue}}if(0!==h.weekdays.size||0!==h.days.size){let t=1/0,r=1/0;if(0!==h.weekdays.size){let r=e.getUTCDay(),a=h.next.weekday[r];t=void 0===a?7-r+h.first.weekday:a-r}if(0!==h.days.size&&0!==t){let t=e.getUTCDate(),a=h.next.day[t];r=void 0===a?iT(e)-t+h.first.day:a-t}let a=Math.min(t,r);if(0!==a){e.setUTCDate(e.getUTCDate()+a),e.setUTCHours(h.first.hour,h.first.minute,h.first.second),u(e);continue}}if(0!==h.months.size){let t=e.getUTCMonth()+1,r=h.next.month[t];if(void 0===r){e.setUTCFullYear(e.getUTCFullYear()+1),e.setUTCMonth(h.first.month,h.first.day),e.setUTCHours(h.first.hour,h.first.minute,h.first.second),u(e);continue}if(r>t){e.setUTCMonth(r-1,h.first.day),e.setUTCHours(h.first.hour,h.first.minute,h.first.second),u(e);continue}}return}throw Error("Unable to find next cron date")}))).getTime()),y=n5(c);return i.succeed([[!1,[c,m,y]],[m,y],L(S(m,y))])})},"dayOfMonth",0,e=>i0([-1/0,0],(t,r,a)=>{var n,s,o;let l;if(!Number.isInteger(e)||e<1||31<e)return i.dieSync(()=>new i.IllegalArgumentException(`Invalid argument in: dayOfMonth(${e}). Must be in range 1...31`));let u=a[1],c=(n=t,s=e,o=0===u,(l=new Date(n)).getDate()===s&&o?n:l.getDate()<s?l.setDate(s):n7(n,s,1)),d=n6(c),p=n9(c),h=S(d,p);return i.succeed([[p,u+1],u,L(h)])}),"dayOfWeek",0,e=>i0([Number.MIN_SAFE_INTEGER,0],(t,r,a)=>{if(!Number.isInteger(e)||e<1||7<e)return i.dieSync(()=>new i.IllegalArgumentException(`Invalid argument in: dayOfWeek(${e}). Must be in range 1 (Monday)...7 (Sunday)`));let n=a[1],s=((e,t,r)=>{let a=new Date(e);if(a.getDay()===t&&r)return e;let i=(7+t-a.getDay())%7;return a.setDate(a.getDate()+(0===i?7:i))})(t,e,0===n),o=n6(s),l=n9(s),u=S(o,l);return i.succeed([[l,n+1],n,L(u)])}),"delayed",0,nn,"delayedEffect",0,ns,"delayedSchedule",0,no,"delays",0,e=>i0(e.initial,(r,a,n)=>(0,t.pipe)(e.step(r,a,n),i.flatMap(e=>{let[t,a,n]=e;return n._tag===z?i.succeed([t,c.zero,n]):i.succeed([t,c.millis(O(n.intervals)-r),n])}))),"driver",0,nc,"duration",0,nd,"either",0,np,"eitherWith",0,nh,"elapsed",0,sb,"ensuring",0,nf,"exponential",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=c.decode(e);return no(nv(sS,e=>c.times(r,Math.pow(t,e))))},"fibonacci",0,e=>{let r=c.decode(e);return no((0,t.pipe)(nq([r,r],e=>{let[t,r]=e;return[r,c.sum(t,r)]}),nv(e=>e[0])))},"fixed",0,e=>{let t=c.decode(e),r=c.toMillis(t);return i0([g.none(),0],(e,a,n)=>{let[s,o]=n;return i.sync(()=>{switch(s._tag){case"None":return[[g.some([e,e+r]),o+1],o,L(S(e+r,1/0))];case"Some":{let[a,i]=s.value,n=e>i+r,l=J.equals(t,c.zero)?t:c.millis(r-(e-a)%r),u=J.equals(l,c.zero)?t:l,d=n?e:e+c.toMillis(u);return[[g.some([a,d]),o+1],o,L(S(d,1/0))]}}})})},"forever",0,sS,"fromDelay",0,e=>nd(e),"fromDelays",0,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return i0([[e,...r].map(e=>c.decode(e)),!0],(e,t,r)=>{let[a,n]=r;return i.sync(()=>{if(n){let t=a[0],r=S(e+c.toMillis(t),1/0);return a.length>=2?[[a.slice(1),!0],t,L(r)]:[[[t,...a.slice(1)],!1],t,L(r)]}return[[a,!1],c.zero,U]})})},"fromFunction",0,e=>nv(nm(),e),"fromRetryOptions",0,sd,"hourOfDay",0,e=>i0([-1/0,0],(t,r,a)=>{let n;if(!Number.isInteger(e)||e<0||23<e)return i.dieSync(()=>new i.IllegalArgumentException(`Invalid argument in: hourOfDay(${e}). Must be in range 0...23`));let s=a[1],o=((e,t,r)=>{let a=new Date(e);if(a.getHours()===t&&r)return e;if(a.getHours()<t)return a.setHours(t);let i=new Date(a.setHours(t));return i.setTime(i.getTime()+864e5)})(t,e,0===s),l=n8(o),u=(n=new Date(n8(o))).setHours(n.getHours()+1),c=S(l,u);return i.succeed([[u,s+1],s,L(c)])}),"identity",0,nm,"intersect",0,ng,"intersectWith",0,ny,"isSchedule",0,iV,"jittered",0,e=>nS(e,{min:.8,max:1.2}),"jitteredWith",0,nS,"linear",0,e=>{let t=c.decode(e);return no(nv(sS,e=>c.times(t,e+1)))},"makeWithState",0,i0,"map",0,nv,"mapBoth",0,nl,"mapBothEffect",0,nu,"mapEffect",0,nk,"mapInput",0,nr,"mapInputContext",0,na,"mapInputEffect",0,ni,"minuteOfHour",0,e=>i0([Number.MIN_SAFE_INTEGER,0],(t,r,a)=>{let n;if(!Number.isInteger(e)||e<0||59<e)return i.dieSync(()=>new i.IllegalArgumentException(`Invalid argument in: minuteOfHour(${e}). Must be in range 0...59`));let s=a[1],o=((e,t,r)=>{let a=new Date(e);if(a.getMinutes()===t&&r)return e;if(a.getMinutes()<t)return a.setMinutes(t);let i=new Date(a.setMinutes(t));return i.setTime(i.getTime()+36e5)})(t,e,0===s),l=n4(o),u=(n=new Date(n4(o))).setMinutes(n.getMinutes()+1),c=S(l,u);return i.succeed([[u,s+1],s,L(c)])}),"modifyDelay",0,nw,"modifyDelayEffect",0,nE,"onDecision",0,nx,"once",0,sv,"passthrough",0,nI,"provideContext",0,nT,"provideService",0,nC,"recurUntil",0,nR,"recurUntilEffect",0,nF,"recurUntilOption",0,e=>nG(nv(nm(),e),g.isSome),"recurUpTo",0,nA,"recurWhile",0,nO,"recurWhileEffect",0,n_,"recurs",0,nM,"reduce",0,nD,"reduceEffect",0,nN,"repeatOrElse_Effect",0,so,"repeat_combined",0,ss,"repetitions",0,e=>nD(e,0,(e,t)=>e+1),"resetAfter",0,nz,"resetWhen",0,nP,"retryOrElse_Effect",0,sp,"retry_Effect",0,su,"retry_combined",0,sc,"run",0,nL,"scheduleDefectRefail",0,si,"scheduleDefectRefailCause",0,sa,"scheduleForked",0,sw,"scheduleFrom_Effect",0,sm,"schedule_Effect",0,sf,"secondOfMinute",0,e=>i0([-1/0,0],(t,r,a)=>{if(!Number.isInteger(e)||e<0||59<e)return i.dieSync(()=>new i.IllegalArgumentException(`Invalid argument in: secondOfMinute(${e}). Must be in range 0...59`));let n=a[1],s=((e,t,r)=>{let a=new Date(e);if(a.getSeconds()===t&&r)return e;if(a.getSeconds()<t)return a.setSeconds(t);let i=new Date(a.setSeconds(t));return i.setTime(i.getTime()+6e4)})(t,e,0===n),o=n3(s),l=n5(s),u=S(o,l);return i.succeed([[l,n+1],n,L(u)])}),"spaced",0,e=>i1(sS,()=>e),"stop",0,sk,"succeed",0,e=>nv(sS,()=>e),"sync",0,e=>nv(sS,e),"tapInput",0,nj,"tapOutput",0,nW,"unfold",0,nq,"union",0,nB,"unionWith",0,n$,"untilInput",0,nV,"untilInputEffect",0,nH,"untilOutput",0,nG,"untilOutputEffect",0,nK,"upTo",0,nJ,"whileInput",0,nZ,"whileInputEffect",0,nQ,"whileOutput",0,nY,"whileOutputEffect",0,nX,"windowed",0,e=>{let t=c.decode(e),r=c.toMillis(t);return i0([g.none(),0],(e,t,a)=>{let[n,s]=a;switch(n._tag){case"None":return i.succeed([[g.some(e),s+1],s,L(S(e+r,1/0))]);case"Some":return i.succeed([[g.some(n.value),s+1],s,L(S(e+(r-(e-n.value)%r),1/0))])}})},"zipLeft",0,n0,"zipRight",0,n1,"zipWith",0,n2],9992093);let sE=(0,t.dual)(2,(e,t)=>i.suspend(()=>{let r,a=0;return i.flatMap(i.whileLoop({while:()=>a<t.steps.length&&(void 0===r||rB.isLeft(r)),body:()=>{let n=t.steps[a],s=rU(e,n.provide);if(r){let e=!1,t=s;s=si(su(s=i.suspend(()=>e?t:(e=!0,r)),sx(n,!1)))}else{let e=sx(n,!0);s=e?si(su(s,e)):s}return i.either(s)},step:e=>{r=e,a++}}),()=>r)})),sx=(e,t)=>t?1!==e.attempts&&(e.schedule||e.attempts)?sd({schedule:e.schedule,while:e.while,times:e.attempts?e.attempts-1:void 0}):void 0:sd({schedule:e.schedule?e.schedule:e.attempts?void 0:sv,times:e.attempts,while:e.while});e.s(["scheduleFromStep",0,sx,"withExecutionPlan",0,sE],1650035);var sI=e.i(7459383),sT=e.i(9839518);let sC=e.i(6999262).DeferredTypeId,sR=i.deferredMake,sF=i.deferredMakeAs,sA=i.deferredAwait,sO=i.deferredComplete,s_=i.deferredCompleteWith,sM=i.deferredDone,sD=i.deferredFail,sN=i.deferredFailSync,sz=i.deferredFailCause,sP=i.deferredFailCauseSync,sL=i.deferredDie,sU=i.deferredDieSync,sj=i.deferredInterrupt,sW=i.deferredInterruptWith,sq=i.deferredIsDone,sB=i.deferredPoll,s$=i.deferredSucceed,sV=i.deferredSync,sH=i.deferredUnsafeMake,sG=i.deferredUnsafeDone;e.s(["DeferredTypeId",0,sC,"await",()=>sA,"complete",0,sO,"completeWith",0,s_,"die",0,sL,"dieSync",0,sU,"done",0,sM,"fail",0,sD,"failCause",0,sz,"failCauseSync",0,sP,"failSync",0,sN,"interrupt",0,sj,"interruptWith",0,sW,"isDone",0,sq,"make",0,sR,"makeAs",0,sF,"poll",0,sB,"succeed",0,s$,"sync",0,sV,"unsafeDone",0,sG,"unsafeMake",0,sH],578549);let sK=Symbol.for("effect/MutableList"),sJ={[sK]:sK,[Symbol.iterator](){let e=!1,t=this.head;return{next(){if(e)return this.return();if(null==t)return e=!0,this.return();let r=t.value;return t=t.next,{done:e,value:r}},return:t=>(e||(e=!0),{done:!0,value:t})}},toString(){return(0,e4.format)(this.toJSON())},toJSON(){return{_id:"MutableList",values:Array.from(this).map(e4.toJSON)}},[e4.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,h.pipeArguments)(this,arguments)}},sZ=t.dual(2,(e,t)=>{let r={value:t,removed:!1,prev:void 0,next:void 0};return void 0===e.head&&(e.head=r),void 0===e.tail||(e.tail.next=r,r.prev=e.tail),e.tail=r,e._length+=1,e}),sQ=Symbol.for("effect/MutableQueue"),sY=Symbol.for("effect/mutable/MutableQueue/Empty"),sX={[sQ]:sQ,[Symbol.iterator](){return Array.from(this.queue)[Symbol.iterator]()},toString(){return(0,e4.format)(this.toJSON())},toJSON(){return{_id:"MutableQueue",values:Array.from(this).map(e4.toJSON)}},[e4.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,h.pipeArguments)(this,arguments)}},s0=e=>{let t,r=Object.create(sX);return(t=Object.create(sJ)).head=void 0,t.tail=void 0,t._length=0,r.queue=t,r.capacity=e,r},s1=()=>s0(void 0),s2=t.dual(2,(e,t)=>{let r=e.queue._length;return(void 0===e.capacity||r!==e.capacity)&&(sZ(t)(e.queue),!0)}),s3=t.dual(2,(e,t)=>{let r,a=t[Symbol.iterator](),i=m.empty(),n=!0;for(;n&&(r=a.next())&&!r.done;)n=s2(r.value)(e);for(;null!=r&&!r.done;)i=m.prepend(r.value)(i),r=a.next();return m.reverse(i)}),s5=t.dual(2,(e,t)=>{if(0===e.queue._length)return t;var r,a,i=e.queue;let n=i.head;return void 0!==n?(r=i,!(a=n).removed&&(a.removed=!0,void 0!==a.prev&&void 0!==a.next?(a.prev.next=a.next,a.next.prev=a.prev):void 0!==a.prev?(r.tail=a.prev,a.prev.next=void 0):void 0!==a.next?(r.head=a.next,a.next.prev=void 0):(r.tail=void 0,r.head=void 0),r._length>0&&(r._length-=1)),n.value):void 0}),s4=t.dual(2,(e,t)=>{let r=m.empty(),a=0;for(;a<t;){let t=s5(sY)(e);if(t===sY)break;r=m.prepend(t)(r),a+=1}return m.reverse(r)});e.s(["EmptyMutableQueue",0,sY,"bounded",0,e=>s0(e),"capacity",0,e=>void 0===e.capacity?1/0:e.capacity,"isEmpty",0,e=>0===e.queue._length,"length",0,e=>e.queue._length,"offer",0,s2,"offerAll",0,s3,"poll",0,s5,"pollUpTo",0,s4,"unbounded",0,s1],217551);var s8=e.i(432214),s6=e.i(3997316),s9=e.i(1088581);let s7=(e,t,r,a)=>s6.struct({_tag:"Complete",key:e,exit:t,entryStats:r,timeToLiveMillis:a}),oe=(e,t)=>s6.struct({_tag:"Pending",key:e,deferred:t}),ot=Symbol.for("effect/Cache/MapKey");class or{current;[ot]=ot;previous=void 0;next=void 0;constructor(e){this.current=e}[Y.symbol](){return(0,t.pipe)(Y.hash(this.current),Y.combine(Y.hash(this.previous)),Y.combine(Y.hash(this.next)),Y.cached(this))}[J.symbol](e){return this===e||oi(e)&&J.equals(this.current,e.current)&&J.equals(this.previous,e.previous)&&J.equals(this.next,e.next)}}let oa=e=>new or(e),oi=e=>(0,f.hasProperty)(e,ot);class on{head=void 0;tail=void 0;add(e){if(e!==this.tail)if(void 0===this.tail)this.head=e,this.tail=e;else{let t=e.previous,r=e.next;void 0!==r&&(e.next=void 0,void 0!==t?(t.next=r,r.previous=t):(this.head=r,this.head.previous=void 0)),this.tail.next=e,e.previous=this.tail,this.tail=e}}remove(){let e=this.head;if(void 0!==e){let t=e.next;void 0!==t?(e.next=void 0,this.head=t,this.head.previous=void 0):(this.head=void 0,this.tail=void 0)}return e}}let os=Symbol.for("effect/Cache"),oo={_Key:e=>e,_Error:e=>e,_Value:e=>e},ol=Symbol.for("effect/ConsumerCache"),ou={_Key:e=>e,_Error:e=>e,_Value:e=>e},oc=e=>({loadedMillis:e});class od{capacity;context;fiberId;lookup;timeToLive;[os]=oo;[ol]=ou;cacheState;constructor(e,t,r,a,i){this.capacity=e,this.context=t,this.fiberId=r,this.lookup=a,this.timeToLive=i,this.cacheState=(()=>{let e,t;return e=X.empty(),t=new on,{map:e,keys:t,accesses:s1(),updating:s8.make(!1),hits:0,misses:0}})()}get(e){return i.map(this.getEither(e),rB.merge)}get cacheStats(){return i.sync(()=>({hits:this.cacheState.hits,misses:this.cacheState.misses,size:X.size(this.cacheState.map)}))}getOption(e){return i.suspend(()=>g.match(X.get(this.cacheState.map,e),{onNone:()=>{let t=oa(e);return this.trackAccess(t),this.trackMiss(),i.succeed(g.none())},onSome:e=>this.resolveMapValue(e)}))}getOptionComplete(e){return i.suspend(()=>g.match(X.get(this.cacheState.map,e),{onNone:()=>{let t=oa(e);return this.trackAccess(t),this.trackMiss(),i.succeed(g.none())},onSome:e=>this.resolveMapValue(e,!0)}))}contains(e){return i.sync(()=>X.has(this.cacheState.map,e))}entryStats(e){return i.sync(()=>{let t=X.get(this.cacheState.map,e);if(g.isSome(t))switch(t.value._tag){case"Complete":{let e=t.value.entryStats.loadedMillis;return g.some(oc(e))}case"Pending":break;case"Refreshing":{let e=t.value.complete.entryStats.loadedMillis;return g.some(oc(e))}}return g.none()})}getEither(e){return i.suspend(()=>{let t,r,a=g.getOrUndefined(X.get(this.cacheState.map,e));return(void 0===a&&(r=sH(this.fiberId),t=oa(e),X.has(this.cacheState.map,e)?a=g.getOrUndefined(X.get(this.cacheState.map,e)):X.set(this.cacheState.map,e,oe(t,r))),void 0===a)?(this.trackAccess(t),this.trackMiss(),i.map(this.lookupValueOf(e,r),rB.right)):i.flatMap(this.resolveMapValue(a),g.match({onNone:()=>this.getEither(e),onSome:e=>i.succeed(rB.left(e))}))})}invalidate(e){return i.sync(()=>{X.remove(this.cacheState.map,e)})}invalidateWhen(e,t){return i.sync(()=>{let r=X.get(this.cacheState.map,e);g.isSome(r)&&"Complete"===r.value._tag&&"Success"===r.value.exit._tag&&t(r.value.exit.value)&&X.remove(this.cacheState.map,e)})}get invalidateAll(){return i.sync(()=>{this.cacheState.map=X.empty()})}refresh(e){return G.clockWith(r=>i.suspend(()=>{let a=sH(this.fiberId),n=g.getOrUndefined(X.get(this.cacheState.map,e));if(void 0===n&&(X.has(this.cacheState.map,e)?n=g.getOrUndefined(X.get(this.cacheState.map,e)):X.set(this.cacheState.map,e,oe(oa(e),a))),void 0===n)return i.asVoid(this.lookupValueOf(e,a));switch(n._tag){case"Complete":if(this.hasExpired(r,n.timeToLiveMillis)){let t=g.getOrUndefined(X.get(this.cacheState.map,e));return J.equals(t,n)&&X.remove(this.cacheState.map,e),i.asVoid(this.get(e))}return(0,t.pipe)(this.lookupValueOf(e,a),G.when(()=>{let t=g.getOrUndefined(X.get(this.cacheState.map,e));if(J.equals(t,n)){let t,r=(t=n,s6.struct({_tag:"Refreshing",deferred:a,complete:t}));return X.set(this.cacheState.map,e,r),!0}return!1}),i.asVoid);case"Pending":case"Refreshing":return sA(n.deferred)}}))}set(e,t){return G.clockWith(r=>i.sync(()=>{let a=r.unsafeCurrentTimeMillis(),i=Z.succeed(t),n=s7(oa(e),i,oc(a),a+c.toMillis(c.decode(this.timeToLive(i))));X.set(this.cacheState.map,e,n)}))}get size(){return i.sync(()=>X.size(this.cacheState.map))}get values(){return i.sync(()=>{let e=[];for(let t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push(t[1].exit.value);return e})}get entries(){return i.sync(()=>{let e=[];for(let t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push([t[0],t[1].exit.value]);return e})}get keys(){return i.sync(()=>{let e=[];for(let t of this.cacheState.map)"Complete"===t[1]._tag&&"Success"===t[1].exit._tag&&e.push(t[0]);return e})}resolveMapValue(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return G.clockWith(r=>{switch(e._tag){case"Complete":if(this.trackAccess(e.key),this.hasExpired(r,e.timeToLiveMillis))return X.remove(this.cacheState.map,e.key.current),i.succeed(g.none());return this.trackHit(),i.map(e.exit,g.some);case"Pending":if(this.trackAccess(e.key),this.trackHit(),t)return i.succeed(g.none());return i.map(sA(e.deferred),g.some);case"Refreshing":if(this.trackAccess(e.complete.key),this.trackHit(),this.hasExpired(r,e.complete.timeToLiveMillis)){if(t)return i.succeed(g.none());return i.map(sA(e.deferred),g.some)}return i.map(e.complete.exit,g.some)}})}trackHit(){this.cacheState.hits=this.cacheState.hits+1}trackMiss(){this.cacheState.misses=this.cacheState.misses+1}trackAccess(e){if(s2(this.cacheState.accesses,e),s8.compareAndSet(this.cacheState.updating,!1,!0)){let e=!0;for(;e;){let t=s5(this.cacheState.accesses,sY);t===sY?e=!1:this.cacheState.keys.add(t)}let t=X.size(this.cacheState.map);for(e=t>this.capacity;e;){let r=this.cacheState.keys.remove();void 0!==r?X.has(this.cacheState.map,r.current)&&(X.remove(this.cacheState.map,r.current),t-=1,e=t>this.capacity):e=!1}s8.set(this.cacheState.updating,!1)}}hasExpired(e,t){return e.unsafeCurrentTimeMillis()>t}lookupValueOf(e,r){return G.clockWith(a=>i.suspend(()=>(0,t.pipe)(this.lookup(e),i.provideContext(this.context),i.exit,i.flatMap(t=>{let n=a.unsafeCurrentTimeMillis(),s=oc(n),o=s7(oa(e),t,s,n+c.toMillis(c.decode(this.timeToLive(t))));return X.set(this.cacheState.map,e,o),i.zipRight(sM(r,t),t)}),i.onInterrupt(()=>i.zipRight(sj(r),i.sync(()=>{X.remove(this.cacheState.map,e)}))))))}}var op=e.i(4309139);let oh=(0,rG.globalValue)(Symbol.for("effect/FiberRef/currentCache"),()=>{let e,t;return i.fiberRefUnsafeMake((e=()=>i.map(i.deferredMake(),e=>({listeners:new op.Listeners,handle:e})),t=()=>(0,c.seconds)(60),new od(65536,a.empty(),s9.none,e,e=>c.decode(t(e)))))}),of=(0,rG.globalValue)(Symbol.for("effect/FiberRef/currentCacheEnabled"),()=>i.fiberRefUnsafeMake(!1)),om=(e,t)=>i.flatMap(i.isEffect(t)?t:i.succeed(t),t=>i.fiberIdWith(r=>{let a=new Proxy(e,{});return i.fiberRefGetWith(of,e=>{if(e){let e=i.fiberRefGetWith(oh,n=>i.flatMap(n.getEither(a),s=>{switch(s._tag){case"Left":if(s.left.listeners.interrupted)return i.flatMap(n.invalidateWhen(a,e=>e.handle===s.left.handle),()=>e);return s.left.listeners.increment(),i.uninterruptibleMask(e=>i.flatMap(i.exit(i.blocked(sT.empty,e(i.deferredAwait(s.left.handle)))),e=>(s.left.listeners.decrement(),e)));case"Right":return s.right.listeners.increment(),i.uninterruptibleMask(e=>i.flatMap(i.exit(i.blocked(sT.single(t,sT.makeEntry({request:a,result:s.right.handle,listeners:s.right.listeners,ownerId:r,state:{completed:!1}})),e(i.deferredAwait(s.right.handle)))),()=>(s.right.listeners.decrement(),i.deferredAwait(s.right.handle))))}}));return e}let n=new op.Listeners;return n.increment(),i.flatMap(i.deferredMake(),e=>(0,o.ensuring)(i.blocked(sT.single(t,sT.makeEntry({request:a,result:e,listeners:n,ownerId:r,state:{completed:!1}})),i.deferredAwait(e)),i.sync(()=>n.decrement())))})})),og=(e,t)=>i.fiberRefGetWith(of,r=>r?i.fiberRefGetWith(oh,r=>i.flatMap(r.getEither(e),e=>{switch(e._tag){case"Left":return i.void;case"Right":return i.deferredComplete(e.right.handle,t)}})):i.void),oy=(0,t.dual)(2,(e,t)=>i.fiberRefLocally(e,of,t)),ob=(0,t.dual)(2,(e,t)=>i.fiberRefLocally(e,oh,t));e.s(["cacheRequest",0,og,"currentCache",0,oh,"currentCacheEnabled",0,of,"fromRequest",0,om,"withRequestCache",0,ob,"withRequestCaching",0,oy],6902776);let oS=op.RequestTypeId,ov=op.isRequest,ok=op.of,ow=op.tagged,oE=op.Class,ox=op.TaggedClass,oI=op.complete,oT=o.interruptWhenPossible,oC=op.completeEffect,oR=op.fail,oF=op.failCause,oA=op.succeed,oO=Symbol.for("effect/RequestBlock.Entry"),o_=sT.isEntry,oM=sT.makeEntry;e.s(["Class",0,oE,"EntryTypeId",0,oO,"RequestTypeId",0,oS,"TaggedClass",0,ox,"complete",0,oI,"completeEffect",0,oC,"fail",0,oR,"failCause",0,oF,"interruptWhenPossible",0,oT,"isEntry",0,o_,"isRequest",0,ov,"makeCache",0,e=>{var t;let r,a;return t={...e,lookup:()=>i.map(i.deferredMake(),e=>({listeners:new op.Listeners,handle:e}))},r=c.decode(t.timeToLive),a={capacity:t.capacity,lookup:t.lookup,timeToLive:()=>r},i.map(o.all([i.context(),i.fiberId]),e=>{let[t,r]=e;return new od(a.capacity,t,r,a.lookup,e=>c.decode(a.timeToLive(e)))})},"makeEntry",0,oM,"of",0,ok,"succeed",0,oA,"tagged",0,ow],945364);var oD=e.i(4138091);let oN=i.EffectTypeId,oz=i.isEffect,oP=G.memoize,oL=G.once,oU=o.all,oj=o.allWith,oW=o.allSuccesses,oq=G.dropUntil,oB=G.dropWhile,o$=G.takeUntil,oV=G.takeWhile,oH=G.every,oG=o.exists,oK=o.filter,oJ=G.filterMap,oZ=G.findFirst,oQ=o.forEach,oY=G.head,oX=o.mergeAll,o0=o.partition,o1=G.reduce,o2=G.reduceWhile,o3=G.reduceRight,o5=o.reduceEffect,o4=o.replicate,o8=o.replicateEffect,o6=o.validateAll,o9=o.validateFirst,o7=i.async,le=i.custom,lt=i.withFiberRuntime,lr=i.fail,la=i.failSync,li=i.failCause,ln=i.failCauseSync,ls=i.die,lo=i.dieMessage,ll=i.dieSync,lu=i.gen,lc=i.never,ld=G.none,lp=G.promise,lh=i.succeed,lf=G.succeedNone,lm=G.succeedSome,lg=i.suspend,ly=i.sync,lb=i.void,lS=i.yieldNow,lv=G._catch,lk=i.catchAll,lw=i.catchAllCause,lE=G.catchAllDefect,lx=i.catchIf,lI=i.catchSome,lT=G.catchSomeCause,lC=G.catchSomeDefect,lR=G.catchTag,lF=G.catchTags,lA=G.cause,lO=G.eventually,l_=G.ignore,lM=G.ignoreLogged,lD=G.parallelErrors,lN=G.sandbox,lz=G.try_,lP=G.tryMap,lL=G.tryMapPromise,lU=G.tryPromise,lj=G.unsandbox,lW=G.allowInterrupt,lq=i.checkInterruptible,lB=o.disconnect,l$=i.interrupt,lV=i.interruptWith,lH=i.interruptible,lG=i.interruptibleMask,lK=i.onInterrupt,lJ=i.uninterruptible,lZ=i.uninterruptibleMask,lQ=G.liftPredicate,lY=i.as,lX=G.asSome,l0=G.asSomeError,l1=i.asVoid,l2=i.flip,l3=G.flipWith,l5=i.map,l4=G.mapAccum,l8=i.mapBoth,l6=i.mapError,l9=G.mapErrorCause,l7=G.merge,ue=G.negate,ut=o.acquireRelease,ur=o.acquireReleaseInterruptible,ua=i.acquireUseRelease,ui=o.addFinalizer,un=o.ensuring,us=i.onError,uo=i.onExit,ul=o.parallelFinalizers,uu=o.sequentialFinalizers,uc=o.finalizersMask,ud=o.scope,up=o.scopeWith,uh=o.scopedWith,uf=o.scopedEffect,um=o.using,ug=o.withEarlyRelease,uy=o.daemonChildren,ub=G.descriptor,uS=G.descriptorWith,uv=G.diffFiberRefs,uk=i.fiberId,uw=i.fiberIdWith,uE=o.fork,ux=o.forkDaemon,uI=o.forkWithErrorHandler,uT=i.transplant,uC=i.withConcurrency,uR=et.withScheduler,uF=i.withSchedulingPriority,uA=i.withMaxOpsBeforeYield,uO=G.clock,u_=G.clockWith,uM=o.withClockScoped,uD=n.withClock,uN=G.delay,uz=G.sleep,uP=G.timed,uL=G.timedWith,uU=n.configProviderWith,uj=n.withConfigProvider,uW=o.withConfigProviderScoped,uq=i.context,uB=G.contextWith,u$=i.contextWithEffect,uV=i.mapInputContext,uH=G.provideService,uG=G.provideServiceEffect,uK=G.serviceFunction,uJ=G.serviceFunctionEffect,uZ=G.serviceFunctions,uQ=G.serviceConstants,uY=G.serviceMembers,uX=G.serviceOption,u0=G.serviceOptional,u1=G.updateService,u2=G.Do,u3=G.bind,u5=G.bindTo,u4=G.let_,u8=G.option,u6=i.either,u9=i.exit,u7=i.intoDeferred,ce=i.if_,ct=G.filterOrDie,cr=G.filterOrDieMessage,ca=G.filterOrElse,ci=G.filterOrFail,cn=i.filterEffectOrElse,cs=i.filterEffectOrFail,co=G.unless,cl=G.unlessEffect,cu=G.when,cc=i.whenEffect,cd=G.whenFiberRef,cp=G.whenRef,ch=i.flatMap,cf=i.andThen,cm=i.flatten,cg=o.race,cy=o.raceAll,cb=o.raceWith,cS=G.summarized,cv=i.tap,ck=G.tapBoth,cw=G.tapDefect,cE=G.tapError,cx=G.tapErrorTag,cI=G.tapErrorCause,cT=G.forever,cC=G.iterate,cR=G.loop,cF=G.repeatN,cA=i.whileLoop,cO=G.fiberRefs,c_=G.inheritFiberRefs,cM=i.fiberRefLocally,cD=i.fiberRefLocallyWith,cN=o.fiberRefLocallyScoped,cz=o.fiberRefLocallyScopedWith,cP=G.patchFiberRefs,cL=G.setFiberRefs,cU=G.updateFiberRefs,cj=G.isFailure,cW=G.isSuccess,cq=G.match,cB=i.matchCause,c$=i.matchCauseEffect,cV=i.matchEffect,cH=G.log,cG=G.logTrace,cK=G.logDebug,cJ=G.logInfo,cZ=G.logWarning,cQ=G.logError,cY=G.logFatal,cX=G.withLogSpan,c0=G.annotateLogs,c1=o.annotateLogsScoped,c2=G.logAnnotations,c3=i.withUnhandledErrorLogLevel,c5=o.whenLogLevel,c4=i.orDie,c8=i.orDieWith,c6=i.orElse,c9=G.orElseFail,c7=G.orElseSucceed,de=G.firstSuccessOf,dt=G.random,dr=n.randomWith,da=n.withRandom,di=(0,t.dual)(2,(e,t)=>da(e,iB(t))),dn=o.withRandomScoped,ds=i.runtimeFlags,dl=i.updateRuntimeFlags,du=i.withRuntimeFlags,dc=o.withRuntimeFlagsScoped,dd=G.tagMetrics,dp=G.labelMetrics,dh=o.tagMetricsScoped,df=o.labelMetricsScoped,dm=i.metricLabels,dg=G.withMetric,dy=o.validate,db=o.validateWith,dS=o.zipOptions,dv=o.zipLeftOptions,dk=o.zipRightOptions,dw=o.zipWithOptions,dE=(0,t.dual)(2,(e,t)=>dw(e,t,(e,t)=>e(t))),dx=i.blocked,dI=i.runRequestBlock,dT=i.step,dC=(0,t.dual)(e=>ov(e[0]),om),dR=i.withRequestBatching,dF=G.tracer,dA=n.tracerWith,dO=n.withTracer,d_=o.withTracerScoped,dM=i.withTracerEnabled,dD=i.withTracerTiming,dN=G.annotateSpans,dz=G.annotateCurrentSpan,dP=G.currentSpan,dL=G.currentParentSpan,dU=G.spanAnnotations,dj=G.spanLinks,dW=G.linkSpans,dq=G.linkSpanCurrent,dB=G.makeSpan,d$=o.makeSpanScoped,dV=G.useSpan,dH=G.withSpan,dG=G.functionWithSpan,dK=o.withSpanScoped,dJ=G.withParentSpan,dZ=G.fromNullable,dQ=G.optionFromOptional,dY=(0,t.dual)(2,(e,t)=>sI.isNone(e)?lf:l5(t(e.value),sI.some)),dX=e=>{let t=new Map;return new Proxy(e,{get(e,r,a){if(r in e)return Reflect.get(e,r,a);if(t.has(r))return t.get(r);let n=function(){for(var a=arguments.length,n=Array(a),s=0;s<a;s++)n[s]=arguments[s];return i.andThen(e,a=>"function"==typeof a[r]?(t.set(r,function(){for(var t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];return i.andThen(e,e=>e[r](...a))}),a[r](...n)):(t.set(r,i.andThen(e,e=>e[r])),a[r]))},s=i.andThen(e,e=>e[r]);Object.assign(n,s);let o=n.apply,l=n.bind,u=n.call,c=Object.setPrototypeOf({},Object.getPrototypeOf(s));return c.apply=o,c.bind=l,c.call=u,Object.setPrototypeOf(n,c),t.set(r,n),n}})};function d0(e,t){return Object.defineProperty(t,"length",{value:e,configurable:!0})}function d1(e){let t,a;if((0,oD.isGeneratorFunction)(e.body))t=i.fromIterator(()=>e.body.apply(e.self,e.args));else try{t=e.body.apply(e.self,e.args)}catch(e){a=e,t=ls(e)}if(e.pipeables.length>0)try{for(let r of e.pipeables)t=r(t,...e.args)}catch(e){t=a?li(r.sequential(r.die(a),r.die(e))):ls(e)}let n=!1,s=e.spanOptions&&"captureStackTrace"in e.spanOptions?e.spanOptions:{captureStackTrace:()=>{if(!1!==n)return n;if(e.errorCall.stack){let t=e.errorDef.stack.trim().split("\n"),r=e.errorCall.stack.trim().split("\n"),a=t.slice(2).join("\n").trim();a.includes("(")||(a=a.replace(/at (.*)/,"at ($1)"));let i=r.slice(2).join("\n").trim();return i.includes("(")||(i=i.replace(/at (.*)/,"at ($1)")),n=`${a}
${i}`}},...e.spanOptions};return dH(t,e.spanName,s)}let d2=i.fnUntraced;e.s(["Do",0,u2,"EffectTypeId",0,oN,"Service",0,function(){return function(){let e,[t,r]=arguments,a="accessors"in r&&r.accessors,n=Error.stackTraceLimit;Error.stackTraceLimit=2;let s=Error();Error.stackTraceLimit=n;let o="unchecked",l=function(e){if("unchecked"===o){let t=Object.getPrototypeOf(e);t===Object.prototype||null===t?o="plain":(Object.setPrototypeOf(Object.getPrototypeOf(this),t),o="patched")}if("plain"===o)Object.assign(this,e);else if("patched"===o)return Object.setPrototypeOf(e,Object.getPrototypeOf(this)),e};l.prototype._tag=t,Object.defineProperty(l,"make",{get(){return e=>new this(e)}}),Object.defineProperty(l,"use",{get(){return e=>i.andThen(this,e)}}),l.key=t,Object.assign(l,rq.TagProto),Object.defineProperty(l,"stack",{get:()=>s.stack});let u="dependencies"in r&&r.dependencies.length>0,c=u?"DefaultWithoutDependencies":"Default",d=!1;if("effect"in r?(d="function"==typeof r.effect,Object.defineProperty(l,c,{get(){return d?(function(){return t7(l,l5(r.effect.apply(null,arguments),e=>new this(e)))}).bind(this):e??=t7(l,l5(r.effect,e=>new this(e)))}})):"scoped"in r?(d="function"==typeof r.scoped,Object.defineProperty(l,c,{get(){return d?(function(){return ry(l,l5(r.scoped.apply(null,arguments),e=>new this(e)))}).bind(this):e??=ry(l,l5(r.scoped,e=>new this(e)))}})):"sync"in r?Object.defineProperty(l,c,{get(){return e??=rI(l,()=>new this(r.sync()))}}):Object.defineProperty(l,c,{get(){return e??=rk(l,new this(r.succeed))}}),u){let e;Object.defineProperty(l,"Default",{get(){return d?function(){return rA(this.DefaultWithoutDependencies.apply(null,arguments),r.dependencies)}:e??=rA(this.DefaultWithoutDependencies,r.dependencies)}})}return!0===a?dX(l):l}},"Tag",0,e=>()=>{let t=Error.stackTraceLimit;Error.stackTraceLimit=2;let r=Error();function a(){}return Error.stackTraceLimit=t,Object.setPrototypeOf(a,rq.TagProto),a.key=e,Object.defineProperty(a,"use",{get(){return e=>i.andThen(this,e)}}),Object.defineProperty(a,"stack",{get:()=>r.stack}),dX(a)},"acquireRelease",0,ut,"acquireReleaseInterruptible",0,ur,"acquireUseRelease",0,ua,"addFinalizer",0,ui,"all",0,oU,"allSuccesses",0,oW,"allWith",0,oj,"allowInterrupt",0,lW,"andThen",0,cf,"annotateCurrentSpan",0,dz,"annotateLogs",0,c0,"annotateLogsScoped",0,c1,"annotateSpans",0,dN,"ap",0,dE,"as",0,lY,"asSome",0,lX,"asSomeError",0,l0,"asVoid",0,l1,"async",0,o7,"asyncEffect",0,tA,"awaitAllChildren",0,ep,"bind",0,u3,"bindAll",0,eV,"bindTo",0,u5,"blocked",0,dx,"cacheRequestResult",0,og,"cached",0,oP,"cachedFunction",0,eC,"cachedInvalidateWithTTL",0,ef,"cachedWithTTL",0,eh,"catch",()=>lv,"catchAll",0,lk,"catchAllCause",0,lw,"catchAllDefect",0,lE,"catchIf",0,lx,"catchSome",0,lI,"catchSomeCause",0,lT,"catchSomeDefect",0,lC,"catchTag",0,lR,"catchTags",0,lF,"cause",0,lA,"checkInterruptible",0,lq,"clock",0,uO,"clockWith",0,u_,"configProviderWith",0,uU,"console",0,rj,"consoleWith",0,e=>i.fiberRefGetWith(n.currentServices,t=>e(a.get(t,s.consoleTag))),"context",0,uq,"contextWith",0,uB,"contextWithEffect",0,u$,"currentParentSpan",0,dL,"currentSpan",0,dP,"custom",0,le,"daemonChildren",0,uy,"delay",0,uN,"descriptor",0,ub,"descriptorWith",0,uS,"die",0,ls,"dieMessage",0,lo,"dieSync",0,ll,"diffFiberRefs",0,uv,"disconnect",0,lB,"dropUntil",0,oq,"dropWhile",0,oB,"either",0,u6,"ensureErrorType",0,()=>e=>e,"ensureRequirementsType",0,()=>e=>e,"ensureSuccessType",0,()=>e=>e,"ensuring",0,un,"ensuringChild",0,eb,"ensuringChildren",0,eS,"eventually",0,lO,"every",0,oH,"exists",0,oG,"exit",0,u9,"fail",0,lr,"failCause",0,li,"failCauseSync",0,ln,"failSync",0,la,"fiberId",0,uk,"fiberIdWith",0,uw,"filter",0,oK,"filterEffectOrElse",0,cn,"filterEffectOrFail",0,cs,"filterMap",0,oJ,"filterOrDie",0,ct,"filterOrDieMessage",0,cr,"filterOrElse",0,ca,"filterOrFail",0,ci,"finalizersMask",0,uc,"findFirst",0,oZ,"firstSuccessOf",0,de,"flatMap",0,ch,"flatten",0,cm,"flip",0,l2,"flipWith",0,l3,"fn",0,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let i=Error.stackTraceLimit;Error.stackTraceLimit=2;let n=Error();if(Error.stackTraceLimit=i,"string"!=typeof e)return d0(e.length,function(){for(var t=arguments.length,a=Array(t),i=0;i<t;i++)a[i]=arguments[i];let s=Error.stackTraceLimit;Error.stackTraceLimit=2;let o=Error();return Error.stackTraceLimit=s,d1({self:this,body:e,args:a,pipeables:r,spanName:"<anonymous>",spanOptions:{context:tU.DisablePropagation.context(!0)},errorDef:n,errorCall:o})});let s=r[0];return function(t){for(var r=arguments.length,a=Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];return d0(t.length,{[e](){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];let l=Error.stackTraceLimit;Error.stackTraceLimit=2;let u=Error();return Error.stackTraceLimit=l,d1({self:this,body:t,args:i,pipeables:a,spanName:e,spanOptions:s,errorDef:n,errorCall:u})}}[e])}},"fnUntraced",0,d2,"forEach",0,oQ,"forever",0,cT,"fork",0,uE,"forkAll",0,ev,"forkDaemon",0,ux,"forkIn",0,ek,"forkScoped",0,ew,"forkWithErrorHandler",0,uI,"fromFiber",0,eE,"fromFiberEffect",0,ex,"fromNullable",0,dZ,"functionWithSpan",0,dG,"gen",0,lu,"getFiberRefs",0,cO,"getRuntimeFlags",0,ds,"head",0,oY,"if",()=>ce,"ignore",0,l_,"ignoreLogged",0,lM,"inheritFiberRefs",0,c_,"interrupt",0,l$,"interruptWith",0,lV,"interruptible",0,lH,"interruptibleMask",0,lG,"intoDeferred",0,u7,"isEffect",0,oz,"isFailure",0,cj,"isSuccess",0,cW,"iterate",0,cC,"labelMetrics",0,dp,"labelMetricsScoped",0,df,"let",()=>u4,"liftPredicate",0,lQ,"linkSpanCurrent",0,dq,"linkSpans",0,dW,"locally",0,cM,"locallyScoped",0,cN,"locallyScopedWith",0,cz,"locallyWith",0,cD,"log",0,cH,"logAnnotations",0,c2,"logDebug",0,cK,"logError",0,cQ,"logFatal",0,cY,"logInfo",0,cJ,"logTrace",0,cG,"logWarning",0,cZ,"logWithLevel",0,function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return G.logWithLevel(e)(...r)},"loop",0,cR,"makeLatch",0,ed,"makeSemaphore",0,el,"makeSpan",0,dB,"makeSpanScoped",0,d$,"map",0,l5,"mapAccum",0,l4,"mapBoth",0,l8,"mapError",0,l6,"mapErrorCause",0,l9,"mapInputContext",0,uV,"match",0,cq,"matchCause",0,cB,"matchCauseEffect",0,c$,"matchEffect",0,cV,"merge",0,l7,"mergeAll",0,oX,"metricLabels",0,dm,"negate",0,ue,"never",0,lc,"none",0,ld,"onError",0,us,"onExit",0,uo,"onInterrupt",0,lK,"once",0,oL,"option",0,u8,"optionFromOptional",0,dQ,"orDie",0,c4,"orDieWith",0,c8,"orElse",0,c6,"orElseFail",0,c9,"orElseSucceed",0,c7,"parallelErrors",0,lD,"parallelFinalizers",0,ul,"partition",0,o0,"patchFiberRefs",0,cP,"patchRuntimeFlags",0,dl,"promise",0,lp,"provide",0,rU,"provideService",0,uH,"provideServiceEffect",0,uG,"race",0,cg,"raceAll",0,cy,"raceFirst",0,eR,"raceWith",0,cb,"random",0,dt,"randomWith",0,dr,"reduce",0,o1,"reduceEffect",0,o5,"reduceRight",0,o3,"reduceWhile",0,o2,"repeat",0,ss,"repeatN",0,cF,"repeatOrElse",0,so,"replicate",0,o4,"replicateEffect",0,o8,"request",0,dC,"retry",0,sc,"retryOrElse",0,sp,"runCallback",0,tx,"runFork",0,tI,"runPromise",0,tT,"runPromiseExit",0,tC,"runRequestBlock",0,dI,"runSync",0,tR,"runSyncExit",0,tF,"runtime",0,th,"sandbox",0,lN,"schedule",0,sf,"scheduleForked",0,sw,"scheduleFrom",0,sm,"scope",0,ud,"scopeWith",0,up,"scoped",0,uf,"scopedWith",0,uh,"sequentialFinalizers",0,uu,"serviceConstants",0,uQ,"serviceFunction",0,uK,"serviceFunctionEffect",0,uJ,"serviceFunctions",0,uZ,"serviceMembers",0,uY,"serviceOption",0,uX,"serviceOptional",0,u0,"setFiberRefs",0,cL,"sleep",0,uz,"spanAnnotations",0,dU,"spanLinks",0,dj,"step",0,dT,"succeed",0,lh,"succeedNone",0,lf,"succeedSome",0,lm,"summarized",0,cS,"supervised",0,eF,"suspend",0,lg,"sync",0,ly,"tagMetrics",0,dd,"tagMetricsScoped",0,dh,"takeUntil",0,o$,"takeWhile",0,oV,"tap",0,cv,"tapBoth",0,ck,"tapDefect",0,cw,"tapError",0,cE,"tapErrorCause",0,cI,"tapErrorTag",0,cx,"timed",0,uP,"timedWith",0,uL,"timeout",0,eA,"timeoutFail",0,eO,"timeoutFailCause",0,e_,"timeoutOption",0,eM,"timeoutTo",0,eD,"tracer",0,dF,"tracerWith",0,dA,"transplant",0,uT,"transposeMapOption",0,dY,"transposeOption",0,e=>sI.isNone(e)?lf:l5(e.value,sI.some),"try",()=>lz,"tryMap",0,lP,"tryMapPromise",0,lL,"tryPromise",0,lU,"uninterruptible",0,lJ,"uninterruptibleMask",0,lZ,"unless",0,co,"unlessEffect",0,cl,"unsafeMakeLatch",0,ec,"unsafeMakeSemaphore",0,eo,"unsandbox",0,lj,"updateFiberRefs",0,cU,"updateService",0,u1,"useSpan",0,dV,"using",0,um,"validate",0,dy,"validateAll",0,o6,"validateFirst",0,o9,"validateWith",0,db,"void",()=>lb,"when",0,cu,"whenEffect",0,cc,"whenFiberRef",0,cd,"whenLogLevel",0,c5,"whenRef",0,cp,"whileLoop",0,cA,"withClock",0,uD,"withClockScoped",0,uM,"withConcurrency",0,uC,"withConfigProvider",0,uj,"withConfigProviderScoped",0,uW,"withConsole",0,rW,"withConsoleScoped",0,e=>o.fiberRefLocallyScopedWith(n.currentServices,a.add(s.consoleTag,e)),"withEarlyRelease",0,ug,"withExecutionPlan",0,sE,"withFiberRuntime",0,lt,"withLogSpan",0,cX,"withMaxOpsBeforeYield",0,uA,"withMetric",0,dg,"withParentSpan",0,dJ,"withRandom",0,da,"withRandomFixed",0,di,"withRandomScoped",0,dn,"withRequestBatching",0,dR,"withRequestCache",0,ob,"withRequestCaching",0,oy,"withRuntimeFlagsPatch",0,du,"withRuntimeFlagsPatchScoped",0,dc,"withScheduler",0,uR,"withSchedulingPriority",0,uF,"withSpan",0,dH,"withSpanScoped",0,dK,"withTracer",0,dO,"withTracerEnabled",0,dM,"withTracerScoped",0,d_,"withTracerTiming",0,dD,"withUnhandledErrorLogLevel",0,c3,"yieldNow",0,lS,"zip",0,dS,"zipLeft",0,dv,"zipRight",0,dk,"zipWith",0,dw],3322401)},5310088,e=>{"use strict";var t=e.i(210165);let r=t.unsafeFork;t.unsafeRunSyncExit;let a=t.unsafeRunSync,i=t.unsafeRunCallback;t.unsafeRunPromise;let n=t.unsafeRunPromiseExit,s=t.defaultRuntime;t.defaultRuntimeFlags;let o=t.make;t.FiberFailureCauseId,t.isAsyncFiberException,t.isFiberFailure,t.fiberFailure,t.updateRuntimeFlags,t.enableRuntimeFlag,t.disableRuntimeFlag;let l=t.updateContext;t.provideService,t.updateFiberRefs,t.setFiberRef,t.deleteFiberRef,e.s(["defaultRuntime",0,s,"make",0,o,"runCallback",0,i,"runFork",0,r,"runPromiseExit",0,n,"runSync",0,a,"updateContext",0,l])},1661171,e=>{"use strict";let t;var r=e.i(5450905),a=e.i(578549),i=e.i(3322401),n=e.i(7836076),s=e.i(6028004),o=e.i(1150852),l=e.i(3683485),u=e.i(9390854),c=e.i(2873450);e.i(8815901);var d=e.i(9960543),p=e.i(4935619),h=e.i(5310088);let f=Symbol.for("effect/FiberHandle"),m={[f]:f,toString(){return c.format(this.toJSON())},toJSON(){return{_id:"FiberHandle",state:this.state}},[c.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,d.pipeArguments)(this,arguments)}},g=o.make(-1,0),y=r.reduceWithContext(void 0,{emptyCase:l.constFalse,failCase:l.constFalse,dieCase:l.constFalse,interruptCase:(e,t)=>u.has(o.ids(t),-1),sequentialCase:(e,t,r)=>t||r,parallelCase:(e,t,r)=>t||r}),b=(0,l.dual)(e=>{let t;return t=e[0],p.hasProperty(t,f)},(e,t,i)=>{if("Closed"===e.state._tag)return void t.unsafeInterruptAsFork(o.combine(i?.interruptAs??o.none,g));if(void 0!==e.state.fiber){if(i?.onlyIfMissing===!0)return void t.unsafeInterruptAsFork(o.combine(i?.interruptAs??o.none,g));if(e.state.fiber===t)return;e.state.fiber.unsafeInterruptAsFork(o.combine(i?.interruptAs??o.none,g)),e.state.fiber=void 0}e.state.fiber=t,t.addObserver(s=>{"Open"===e.state._tag&&t===e.state.fiber&&(e.state.fiber=void 0),!n.isFailure(s)||(i?.propagateInterruption===!0?y(s.cause):r.isInterruptedOnly(s.cause))||a.unsafeDone(e.deferred,s)})}),S=()=>(void 0===t&&(t=i.runFork(i.interrupt)),t);e.s(["makeRuntime",0,()=>i.flatMap(i.acquireRelease(i.map(a.make(),e=>{let t;return(t=Object.create(m)).state={_tag:"Open",fiber:void 0},t.deferred=e,t}),e=>i.withFiberRuntime(t=>{let r=e.state;return"Closed"===r._tag?i.void:(e.state={_tag:"Closed"},r.fiber?i.intoDeferred(i.asVoid(s.interruptAs(r.fiber,o.combine(t.id(),g))),e.deferred):a.done(e.deferred,n.void))})),e=>{let t;return(t=e,()=>i.map(i.runtime(),e=>{let r=h.runFork(e);return(e,a)=>{if("Closed"===t.state._tag||void 0!==t.state.fiber&&a?.onlyIfMissing===!0)return S();let i=r(e,a);return b(t,i,a),i}}))()})])},9227260,e=>{"use strict";var t=e.i(5972454),r=e.i(3683485),a=e.i(7948698),i=e.i(7548658),n=e.i(7294722),s=e.i(1658800),o=e.i(2067266),l=e.i(9390854),u=e.i(1191948);e.i(3603490),e.i(5663534);var c=e.i(3427637);u.CooperativeYielding,u.Interruption,u.OpSupervision,u.RuntimeMetrics,u.WindDown,u.CooperativeYielding,u.Interruption,u.OpSupervision,u.RuntimeMetrics,u.WindDown;var d=e.i(6902776),p=e.i(5525866),h=e.i(2916763);let f=o.LayerTypeId,m=o.MemoMapTypeId,g=o.CurrentMemoMap,y=o.isLayer,b=o.isFresh,S=o.annotateLogs,v=o.annotateSpans,k=o.build,w=o.buildWithScope,E=o.catchAll,x=o.catchAllCause,I=o.context,T=o.die,C=o.dieSync,R=o.discard,F=o.fromEffect,A=o.fromEffectDiscard,O=o.fromEffectContext,_=o.empty,M=o.extendScope,D=o.fail,N=o.failSync,z=o.failCause,P=o.failCauseSync,L=o.flatMap,U=o.flatten,j=o.fresh,W=o.mock,q=o.fromFunction,B=o.launch,$=o.map,V=o.mapError,H=o.match,G=o.matchCause,K=o.memoize,J=o.merge,Z=o.mergeAll,Q=o.orDie,Y=o.orElse,X=o.passthrough,ee=o.project,et=o.locallyEffect,er=o.fiberRefLocally,ea=o.fiberRefLocallyWith,ei=o.fiberRefLocallyScoped,en=o.fiberRefLocallyScopedWith,es=o.retry,eo=o.scope,el=o.scoped,eu=o.scopedDiscard,ec=o.scopedContext,ed=o.service,ep=o.succeed,eh=o.succeedContext,ef=o.suspend,em=o.sync,eg=o.syncContext,ey=o.tap,eb=o.tapError,eS=o.tapErrorCause,ev=o.toRuntime,ek=o.toRuntimeWithMemoMap,ew=o.provide,eE=o.provideMerge,ex=o.zipWith,eI=o.unwrapEffect,eT=o.unwrapScoped,eC=o.withSpan,eR=o.withParentSpan,eF=o.makeMemoMap,eA=o.buildWithMemoMap,eO=(0,r.dual)(3,(e,r,a)=>ew(e,$(I(),e=>t.add(e,r,a(t.unsafeGet(e,r))))));e.s(["CurrentMemoMap",0,g,"LayerTypeId",0,f,"MemoMapTypeId",0,m,"annotateLogs",0,S,"annotateSpans",0,v,"build",0,k,"buildWithMemoMap",0,eA,"buildWithScope",0,w,"catchAll",0,E,"catchAllCause",0,x,"context",0,I,"die",0,T,"dieSync",0,C,"discard",0,R,"effect",0,F,"effectContext",0,O,"effectDiscard",0,A,"empty",0,_,"extendScope",0,M,"fail",0,D,"failCause",0,z,"failCauseSync",0,P,"failSync",0,N,"fiberRefLocallyScopedWith",0,en,"flatMap",0,L,"flatten",0,U,"fresh",0,j,"function",()=>q,"isFresh",0,b,"isLayer",0,y,"launch",0,B,"locally",0,er,"locallyEffect",0,et,"locallyScoped",0,ei,"locallyWith",0,ea,"makeMemoMap",0,eF,"map",0,$,"mapError",0,V,"match",0,H,"matchCause",0,G,"memoize",0,K,"merge",0,J,"mergeAll",0,Z,"mock",0,W,"orDie",0,Q,"orElse",0,Y,"parentSpan",0,e=>o.succeedContext(t.make(c.spanTag,e)),"passthrough",0,X,"project",0,ee,"provide",0,ew,"provideMerge",0,eE,"retry",0,es,"scope",0,eo,"scoped",0,el,"scopedContext",0,ec,"scopedDiscard",0,eu,"service",0,ed,"setClock",0,e=>eu(s.fiberRefLocallyScopedWith(n.currentServices,t.add(a.clockTag,e))),"setConfigProvider",0,e=>o.scopedDiscard(s.withConfigProviderScoped(e)),"setRandom",0,e=>eu(s.fiberRefLocallyScopedWith(n.currentServices,t.add(p.randomTag,e))),"setRequestBatching",0,e=>eu(s.fiberRefLocallyScoped(i.currentRequestBatching,e)),"setRequestCache",0,e=>eu(i.isEffect(e)?i.flatMap(e,e=>s.fiberRefLocallyScoped(d.currentCache,e)):s.fiberRefLocallyScoped(d.currentCache,e)),"setRequestCaching",0,e=>eu(s.fiberRefLocallyScoped(d.currentCacheEnabled,e)),"setScheduler",0,e=>eu(s.fiberRefLocallyScoped(h.currentScheduler,e)),"setTracer",0,e=>o.scopedDiscard(s.withTracerScoped(e)),"setTracerEnabled",0,e=>eu(s.fiberRefLocallyScoped(i.currentTracerEnabled,e)),"setTracerTiming",0,e=>eu(s.fiberRefLocallyScoped(i.currentTracerTimingEnabled,e)),"setUnhandledErrorLogLevel",0,e=>eu(s.fiberRefLocallyScoped(i.currentUnhandledErrorLogLevel,e)),"setVersionMismatchErrorLogLevel",0,e=>eu(s.fiberRefLocallyScoped(i.currentVersionMismatchErrorLogLevel,e)),"span",0,(e,t)=>(t=c.addSpanStackTrace(t),o.scoped(c.spanTag,t?.onEnd?i.tap(s.makeSpanScoped(e,t),e=>s.addFinalizer(r=>t.onEnd(e,r))):s.makeSpanScoped(e,t))),"succeed",0,ep,"succeedContext",0,eh,"suspend",0,ef,"sync",0,em,"syncContext",0,eg,"tap",0,ey,"tapError",0,eb,"tapErrorCause",0,eS,"toRuntime",0,ev,"toRuntimeWithMemoMap",0,ek,"unwrapEffect",0,eI,"unwrapScoped",0,eT,"updateService",0,eO,"withParentSpan",0,eR,"withSpan",0,eC,"zipWith",0,ex],9227260)},6098979,e=>{"use strict";var t=e.i(7548658),r=e.i(1658800),a=e.i(6902776),i=e.i(2916763);t.FiberRefTypeId,r.fiberRefMake,r.fiberRefMakeWith,r.fiberRefMakeContext,r.fiberRefMakeRuntimeFlags;let n=t.fiberRefUnsafeMake;t.fiberRefUnsafeMakeHashSet,t.fiberRefUnsafeMakeContext,r.fiberRefUnsafeMakeSupervisor,t.fiberRefUnsafeMakePatch;let s=t.fiberRefGet;t.fiberRefGetAndSet,t.fiberRefGetAndUpdate,t.fiberRefGetAndUpdateSome;let o=t.fiberRefGetWith;t.fiberRefSet,t.fiberRefDelete,t.fiberRefReset,t.fiberRefModify,t.fiberRefModifySome,t.fiberRefUpdate,t.fiberRefUpdateSome,t.fiberRefUpdateAndGet,t.fiberRefUpdateSomeAndGet,t.currentConcurrency,t.currentRequestBatching,a.currentCache,a.currentCacheEnabled;let l=t.currentContext,u=t.currentSchedulingPriority;t.currentMaxOpsBeforeYield,t.currentUnhandledErrorLogLevel,t.currentVersionMismatchErrorLogLevel,t.currentLogAnnotations,r.currentLoggers,t.currentLogLevel,r.currentMinimumLogLevel,t.currentLogSpan,r.currentRuntimeFlags;let c=i.currentScheduler;r.currentSupervisor,t.currentMetricLabels;let d=t.currentTracerEnabled,p=t.currentTracerTimingEnabled;t.currentTracerSpanAnnotations,t.currentTracerSpanLinks,t.currentInterruptedCause,e.s(["currentContext",0,l,"currentScheduler",0,c,"currentSchedulingPriority",0,u,"currentTracerEnabled",0,d,"currentTracerTimingEnabled",0,p,"get",0,s,"getWith",0,o,"unsafeMake",0,n])},8398712,e=>{"use strict";var t=e.i(5283034),r=e.i(7862555),a=e.i(7525378),i=e.i(3683485),n=e.i(217551),s=e.i(432214),o=e.i(8815901),l=e.i(9960543),u=e.i(4935619),c=e.i(7548658),d=e.i(1658800);let p=Symbol.for("effect/QueueEnqueue"),h=Symbol.for("effect/QueueDequeue"),f=Symbol.for("effect/QueueStrategy"),m=Symbol.for("effect/BackingQueue"),g={_A:e=>e},y={_A:e=>e},b={_In:e=>e},S={_Out:e=>e};class v extends a.Class{queue;takers;shutdownHook;shutdownFlag;strategy;[p]=b;[h]=S;constructor(e,t,r,a,i){super(),this.queue=e,this.takers=t,this.shutdownHook=r,this.shutdownFlag=a,this.strategy=i}pipe(){return(0,l.pipeArguments)(this,arguments)}commit(){return this.take}capacity(){return this.queue.capacity()}get size(){return c.suspend(()=>c.catchAll(this.unsafeSize(),()=>c.interrupt))}unsafeSize(){return s.get(this.shutdownFlag)?o.none():o.some(this.queue.length()-n.length(this.takers)+this.strategy.surplusSize())}get isEmpty(){return c.map(this.size,e=>e<=0)}get isFull(){return c.map(this.size,e=>e>=this.capacity())}get shutdown(){return c.uninterruptible(c.withFiberRuntime(e=>((0,i.pipe)(this.shutdownFlag,s.set(!0)),(0,i.pipe)(d.forEachConcurrentDiscard(q(this.takers),t=>c.deferredInterruptWith(t,e.id()),!1,!1),c.zipRight(this.strategy.shutdown),c.whenEffect(c.deferredSucceed(this.shutdownHook,void 0)),c.asVoid))))}get isShutdown(){return c.sync(()=>s.get(this.shutdownFlag))}get awaitShutdown(){return c.deferredAwait(this.shutdownHook)}isActive(){return!s.get(this.shutdownFlag)}unsafeOffer(e){let t;if(s.get(this.shutdownFlag))return!1;if(0===this.queue.length()){let r=(0,i.pipe)(this.takers,n.poll(n.EmptyMutableQueue));r!==n.EmptyMutableQueue?(j(r,e),t=!0):t=!1}else t=!1;if(t)return!0;let r=this.queue.offer(e);return V(this.strategy,this.queue,this.takers),r}offer(e){return c.suspend(()=>{let t;if(s.get(this.shutdownFlag))return c.interrupt;if(0===this.queue.length()){let r=(0,i.pipe)(this.takers,n.poll(n.EmptyMutableQueue));r!==n.EmptyMutableQueue?(j(r,e),t=!0):t=!1}else t=!1;if(t)return c.succeed(!0);let r=this.queue.offer(e);return V(this.strategy,this.queue,this.takers),r?c.succeed(!0):this.strategy.handleSurplus([e],this.queue,this.takers,this.shutdownFlag)})}offerAll(e){return c.suspend(()=>{if(s.get(this.shutdownFlag))return c.interrupt;let a=t.fromIterable(e),n=0===this.queue.length()?t.fromIterable(B(this.takers,a.length)):t.empty,[o,l]=(0,i.pipe)(a,t.splitAt(n.length));for(let e=0;e<n.length;e++)j(n[e],o[e]);if(0===l.length)return c.succeed(!0);let u=this.queue.offerAll(l);return V(this.strategy,this.queue,this.takers),r.isEmpty(u)?c.succeed(!0):this.strategy.handleSurplus(u,this.queue,this.takers,this.shutdownFlag)})}get take(){return c.withFiberRuntime(e=>{if(s.get(this.shutdownFlag))return c.interrupt;let t=this.queue.poll(n.EmptyMutableQueue);if(t!==n.EmptyMutableQueue)return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),c.succeed(t);{let t=c.deferredUnsafeMake(e.id());return(0,i.pipe)(c.suspend(()=>((0,i.pipe)(this.takers,n.offer(t)),V(this.strategy,this.queue,this.takers),s.get(this.shutdownFlag)?c.interrupt:c.deferredAwait(t))),c.onInterrupt(()=>c.sync(()=>$(this.takers,t))))}})}get takeAll(){return c.suspend(()=>s.get(this.shutdownFlag)?c.interrupt:c.sync(()=>{let e=this.queue.pollUpTo(1/0);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),r.fromIterable(e)}))}takeUpTo(e){return c.suspend(()=>s.get(this.shutdownFlag)?c.interrupt:c.sync(()=>{let t=this.queue.pollUpTo(e);return this.strategy.unsafeOnQueueEmptySpace(this.queue,this.takers),r.fromIterable(t)}))}takeBetween(e,t){return c.suspend(()=>k(this,e,t,r.empty()))}}let k=(e,t,a,n)=>a<t?c.succeed(n):(0,i.pipe)(O(e,a),c.flatMap(s=>{let o=t-s.length;return 1===o?(0,i.pipe)(A(e),c.map(e=>(0,i.pipe)(n,r.appendAll(s),r.append(e)))):o>1?(0,i.pipe)(A(e),c.flatMap(t=>k(e,o-1,a-s.length-1,(0,i.pipe)(n,r.appendAll(s),r.append(t))))):c.succeed((0,i.pipe)(n,r.appendAll(s)))})),w=e=>(0,u.hasProperty)(e,p),E=e=>(0,u.hasProperty)(e,h),x=(e,t)=>(0,i.pipe)(c.deferredMake(),c.map(r=>{let a;return a=n.unbounded(),new v(e,a,r,s.make(!1),t)}));class I{mutable;[m]=y;constructor(e){this.mutable=e}poll(e){return n.poll(this.mutable,e)}pollUpTo(e){return n.pollUpTo(this.mutable,e)}offerAll(e){return n.offerAll(this.mutable,e)}offer(e){return n.offer(this.mutable,e)}capacity(){return n.capacity(this.mutable)}length(){return n.length(this.mutable)}}let T=e=>new I(e),C=(0,i.dual)(2,(e,t)=>e.offer(t)),R=(0,i.dual)(2,(e,t)=>e.unsafeOffer(t)),F=(0,i.dual)(2,(e,t)=>e.offerAll(t)),A=e=>e.take,O=(0,i.dual)(2,(e,t)=>e.takeUpTo(t)),_=(0,i.dual)(3,(e,t,r)=>e.takeBetween(t,r)),M=(0,i.dual)(2,(e,t)=>e.takeBetween(t,t)),D=()=>new P,N=()=>new L,z=()=>new U;class P{[f]=g;putters=n.unbounded();surplusSize(){return n.length(this.putters)}onCompleteTakersWithEmptyQueue(e){for(;!n.isEmpty(this.putters)&&!n.isEmpty(e);){let t=n.poll(e,void 0),r=n.poll(this.putters,void 0);r[2]&&j(r[1],!0),j(t,r[0])}}get shutdown(){return(0,i.pipe)(c.fiberId,c.flatMap(e=>(0,i.pipe)(c.sync(()=>q(this.putters)),c.flatMap(t=>d.forEachConcurrentDiscard(t,t=>{let[r,a,n]=t;return n?(0,i.pipe)(c.deferredInterruptWith(a,e),c.asVoid):c.void},!1,!1)))))}handleSurplus(e,t,r,a){return c.withFiberRuntime(n=>{let o=c.deferredUnsafeMake(n.id());return(0,i.pipe)(c.suspend(()=>(this.unsafeOffer(e,o),this.unsafeOnQueueEmptySpace(t,r),V(this,t,r),s.get(a)?c.interrupt:c.deferredAwait(o))),c.onInterrupt(()=>c.sync(()=>this.unsafeRemove(o))))})}unsafeOnQueueEmptySpace(e,t){let a=!0;for(;a&&(e.capacity()===1/0||e.length()<e.capacity());){let s=(0,i.pipe)(this.putters,n.poll(n.EmptyMutableQueue));if(s===n.EmptyMutableQueue)a=!1;else{let a=e.offer(s[0]);a&&s[2]?j(s[1],!0):a||W(this.putters,(0,i.pipe)(q(this.putters),r.prepend(s))),V(this,e,t)}}}unsafeOffer(e,r){let a=t.fromIterable(e);for(let e=0;e<a.length;e++){let t=a[e];e===a.length-1?(0,i.pipe)(this.putters,n.offer([t,r,!0])):(0,i.pipe)(this.putters,n.offer([t,r,!1]))}}unsafeRemove(e){W(this.putters,(0,i.pipe)(q(this.putters),r.filter(t=>{let[,r]=t;return r!==e})))}}class L{[f]=g;surplusSize(){return 0}get shutdown(){return c.void}onCompleteTakersWithEmptyQueue(){}handleSurplus(e,t,r,a){return c.succeed(!1)}unsafeOnQueueEmptySpace(e,t){}}class U{[f]=g;surplusSize(){return 0}get shutdown(){return c.void}onCompleteTakersWithEmptyQueue(){}handleSurplus(e,t,r,a){return c.sync(()=>(this.unsafeOffer(t,e),V(this,t,r),!0))}unsafeOnQueueEmptySpace(e,t){}unsafeOffer(e,t){let r,a=t[Symbol.iterator](),i=!0;for(;!(r=a.next()).done&&i;){if(0===e.capacity())return;e.poll(n.EmptyMutableQueue),i=e.offer(r.value)}}}let j=(e,t)=>c.deferredUnsafeDone(e,c.succeed(t)),W=(e,t)=>(0,i.pipe)(e,n.offerAll(t)),q=e=>(0,i.pipe)(e,n.pollUpTo(1/0)),B=(e,t)=>(0,i.pipe)(e,n.pollUpTo(t)),$=(e,t)=>{W(e,(0,i.pipe)(q(e),r.filter(e=>t!==e)))},V=(e,t,a)=>{let s=!0;for(;s&&0!==t.length();){let o=(0,i.pipe)(a,n.poll(n.EmptyMutableQueue));if(o!==n.EmptyMutableQueue){let l=t.poll(n.EmptyMutableQueue);l!==n.EmptyMutableQueue?(j(o,l),e.unsafeOnQueueEmptySpace(t,a)):W(a,(0,i.pipe)(q(a),r.prepend(o))),s=!0}else s=!1}s&&0===t.length()&&!n.isEmpty(a)&&e.onCompleteTakersWithEmptyQueue(a)};e.s(["BackingQueueTypeId",0,m,"DequeueTypeId",0,h,"EnqueueTypeId",0,p,"QueueStrategyTypeId",0,f,"awaitShutdown",0,e=>e.awaitShutdown,"backPressureStrategy",0,D,"bounded",0,e=>(0,i.pipe)(c.sync(()=>n.bounded(e)),c.flatMap(e=>x(T(e),D()))),"capacity",0,e=>e.capacity(),"dequeueVariance",0,S,"dropping",0,e=>(0,i.pipe)(c.sync(()=>n.bounded(e)),c.flatMap(e=>x(T(e),N()))),"droppingStrategy",0,N,"enqueueVariance",0,b,"isDequeue",0,E,"isEmpty",0,e=>e.isEmpty,"isEnqueue",0,w,"isFull",0,e=>e.isFull,"isQueue",0,e=>w(e)&&E(e),"isShutdown",0,e=>e.isShutdown,"make",0,x,"offer",0,C,"offerAll",0,F,"poll",0,e=>c.map(e.takeUpTo(1),r.head),"shutdown",0,e=>e.shutdown,"size",0,e=>e.size,"sliding",0,e=>(0,i.pipe)(c.sync(()=>n.bounded(e)),c.flatMap(e=>x(T(e),z()))),"slidingStrategy",0,z,"take",0,A,"takeAll",0,e=>e.takeAll,"takeBetween",0,_,"takeN",0,M,"takeUpTo",0,O,"unbounded",0,()=>(0,i.pipe)(c.sync(()=>n.unbounded()),c.flatMap(e=>x(T(e),N()))),"unsafeOffer",0,R])},1299557,e=>{"use strict";var t=e.i(7862555),r=e.i(7525378),a=e.i(3683485),i=e.i(217551),n=e.i(432214),s=e.i(5921732),o=e.i(8815901),l=e.i(9960543),u=e.i(7548658),c=e.i(592224),d=e.i(1658800),p=e.i(8398712);let h=Symbol.for("effect/PubSub/AbsentValue"),f=(e,t)=>r=>{r.has(e)||r.set(e,new Set),r.get(e).add(t)},m=(e,t)=>r=>{if(!r.has(e))return;let a=r.get(e);a.delete(t),0===a.size&&r.delete(e)},g=(0,a.dual)(2,(e,t)=>e.publish(t)),y=e=>{let t="number"==typeof e?{capacity:e}:e;O(t.capacity);let r=t.replay&&t.replay>0?new $(Math.ceil(t.replay)):void 0;return 1===t.capacity?new w(r):(0,s.nextPow2)(t.capacity)===t.capacity?new v(t.capacity,r):new b(t.capacity,r)};class b{capacity;replayBuffer;array;publisherIndex=0;subscribers;subscriberCount=0;subscribersIndex=0;constructor(e,t){this.capacity=e,this.replayBuffer=t,this.array=Array.from({length:e}),this.subscribers=Array.from({length:e})}replayWindow(){return this.replayBuffer?new V(this.replayBuffer):H}isEmpty(){return this.publisherIndex===this.subscribersIndex}isFull(){return this.publisherIndex===this.subscribersIndex+this.capacity}size(){return this.publisherIndex-this.subscribersIndex}publish(e){if(this.isFull())return!1;if(0!==this.subscriberCount){let t=this.publisherIndex%this.capacity;this.array[t]=e,this.subscribers[t]=this.subscriberCount,this.publisherIndex+=1}return this.replayBuffer&&this.replayBuffer.offer(e),!0}publishAll(e){if(0===this.subscriberCount)return this.replayBuffer&&this.replayBuffer.offerAll(e),t.empty();let r=t.fromIterable(e),a=r.length,i=this.publisherIndex-this.subscribersIndex,n=Math.min(a,this.capacity-i);if(0===n)return r;let s=0,o=this.publisherIndex+n;for(;this.publisherIndex!==o;){let e=t.unsafeGet(r,s++),a=this.publisherIndex%this.capacity;this.array[a]=e,this.subscribers[a]=this.subscriberCount,this.publisherIndex+=1,this.replayBuffer&&this.replayBuffer.offer(e)}return t.drop(r,s)}slide(){if(this.subscribersIndex!==this.publisherIndex){let e=this.subscribersIndex%this.capacity;this.array[e]=h,this.subscribers[e]=0,this.subscribersIndex+=1}this.replayBuffer&&this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new S(this,this.publisherIndex,!1)}}class S{self;subscriberIndex;unsubscribed;constructor(e,t,r){this.self=e,this.subscriberIndex=t,this.unsubscribed=r}isEmpty(){return this.unsubscribed||this.self.publisherIndex===this.subscriberIndex||this.self.publisherIndex===this.self.subscribersIndex}size(){return this.unsubscribed?0:this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(e){if(this.unsubscribed)return e;if(this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex),this.subscriberIndex!==this.self.publisherIndex){let e=this.subscriberIndex%this.self.capacity,t=this.self.array[e];return this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=h,this.self.subscribersIndex+=1),this.subscriberIndex+=1,t}return e}pollUpTo(e){if(this.unsubscribed)return t.empty();this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);let r=Math.min(e,this.self.publisherIndex-this.subscriberIndex);if(r<=0)return t.empty();let a=[],i=this.subscriberIndex+r;for(;this.subscriberIndex!==i;){let e=this.subscriberIndex%this.self.capacity,t=this.self.array[e];this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=h,this.self.subscribersIndex+=1),a.push(t),this.subscriberIndex+=1}return t.fromIterable(a)}unsubscribe(){if(!this.unsubscribed)for(this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);this.subscriberIndex!==this.self.publisherIndex;){let e=this.subscriberIndex%this.self.capacity;this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=h,this.self.subscribersIndex+=1),this.subscriberIndex+=1}}}class v{capacity;replayBuffer;array;mask;publisherIndex=0;subscribers;subscriberCount=0;subscribersIndex=0;constructor(e,t){this.capacity=e,this.replayBuffer=t,this.array=Array.from({length:e}),this.mask=e-1,this.subscribers=Array.from({length:e})}replayWindow(){return this.replayBuffer?new V(this.replayBuffer):H}isEmpty(){return this.publisherIndex===this.subscribersIndex}isFull(){return this.publisherIndex===this.subscribersIndex+this.capacity}size(){return this.publisherIndex-this.subscribersIndex}publish(e){if(this.isFull())return!1;if(0!==this.subscriberCount){let t=this.publisherIndex&this.mask;this.array[t]=e,this.subscribers[t]=this.subscriberCount,this.publisherIndex+=1}return this.replayBuffer&&this.replayBuffer.offer(e),!0}publishAll(e){if(0===this.subscriberCount)return this.replayBuffer&&this.replayBuffer.offerAll(e),t.empty();let r=t.fromIterable(e),a=r.length,i=this.publisherIndex-this.subscribersIndex,n=Math.min(a,this.capacity-i);if(0===n)return r;let s=0,o=this.publisherIndex+n;for(;this.publisherIndex!==o;){let e=t.unsafeGet(r,s++),a=this.publisherIndex&this.mask;this.array[a]=e,this.subscribers[a]=this.subscriberCount,this.publisherIndex+=1,this.replayBuffer&&this.replayBuffer.offer(e)}return t.drop(r,s)}slide(){if(this.subscribersIndex!==this.publisherIndex){let e=this.subscribersIndex&this.mask;this.array[e]=h,this.subscribers[e]=0,this.subscribersIndex+=1}this.replayBuffer&&this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new k(this,this.publisherIndex,!1)}}class k{self;subscriberIndex;unsubscribed;constructor(e,t,r){this.self=e,this.subscriberIndex=t,this.unsubscribed=r}isEmpty(){return this.unsubscribed||this.self.publisherIndex===this.subscriberIndex||this.self.publisherIndex===this.self.subscribersIndex}size(){return this.unsubscribed?0:this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(e){if(this.unsubscribed)return e;if(this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex),this.subscriberIndex!==this.self.publisherIndex){let e=this.subscriberIndex&this.self.mask,t=this.self.array[e];return this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=h,this.self.subscribersIndex+=1),this.subscriberIndex+=1,t}return e}pollUpTo(e){if(this.unsubscribed)return t.empty();this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);let r=Math.min(e,this.self.publisherIndex-this.subscriberIndex);if(r<=0)return t.empty();let a=[],i=this.subscriberIndex+r;for(;this.subscriberIndex!==i;){let e=this.subscriberIndex&this.self.mask,t=this.self.array[e];this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=h,this.self.subscribersIndex+=1),a.push(t),this.subscriberIndex+=1}return t.fromIterable(a)}unsubscribe(){if(!this.unsubscribed)for(this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex=Math.max(this.subscriberIndex,this.self.subscribersIndex);this.subscriberIndex!==this.self.publisherIndex;){let e=this.subscriberIndex&this.self.mask;this.self.subscribers[e]-=1,0===this.self.subscribers[e]&&(this.self.array[e]=h,this.self.subscribersIndex+=1),this.subscriberIndex+=1}}}class w{replayBuffer;publisherIndex=0;subscriberCount=0;subscribers=0;value=h;capacity=1;constructor(e){this.replayBuffer=e}replayWindow(){return this.replayBuffer?new V(this.replayBuffer):H}pipe(){return(0,l.pipeArguments)(this,arguments)}isEmpty(){return 0===this.subscribers}isFull(){return!this.isEmpty()}size(){return+!this.isEmpty()}publish(e){return!this.isFull()&&(0!==this.subscriberCount&&(this.value=e,this.subscribers=this.subscriberCount,this.publisherIndex+=1),this.replayBuffer&&this.replayBuffer.offer(e),!0)}publishAll(e){if(0===this.subscriberCount)return this.replayBuffer&&this.replayBuffer.offerAll(e),t.empty();let r=t.fromIterable(e);return t.isEmpty(r)?r:this.publish(t.unsafeHead(r))?t.drop(r,1):r}slide(){this.isFull()&&(this.subscribers=0,this.value=h),this.replayBuffer&&this.replayBuffer.slide()}subscribe(){return this.subscriberCount+=1,new E(this,this.publisherIndex,!1)}}class E{self;subscriberIndex;unsubscribed;constructor(e,t,r){this.self=e,this.subscriberIndex=t,this.unsubscribed=r}isEmpty(){return this.unsubscribed||0===this.self.subscribers||this.subscriberIndex===this.self.publisherIndex}size(){return+!this.isEmpty()}poll(e){if(this.isEmpty())return e;let t=this.self.value;return this.self.subscribers-=1,0===this.self.subscribers&&(this.self.value=h),this.subscriberIndex+=1,t}pollUpTo(e){if(this.isEmpty()||e<1)return t.empty();let r=this.self.value;return this.self.subscribers-=1,0===this.self.subscribers&&(this.self.value=h),this.subscriberIndex+=1,t.of(r)}unsubscribe(){this.unsubscribed||(this.unsubscribed=!0,this.self.subscriberCount-=1,this.subscriberIndex!==this.self.publisherIndex&&(this.self.subscribers-=1,0===this.self.subscribers&&(this.self.value=h)))}}class x{replayBuffer;publisherHead={value:h,subscribers:0,next:null};publisherTail=this.publisherHead;publisherIndex=0;subscribersIndex=0;capacity=Number.MAX_SAFE_INTEGER;constructor(e){this.replayBuffer=e}replayWindow(){return this.replayBuffer?new V(this.replayBuffer):H}isEmpty(){return this.publisherHead===this.publisherTail}isFull(){return!1}size(){return this.publisherIndex-this.subscribersIndex}publish(e){let t=this.publisherTail.subscribers;return 0!==t&&(this.publisherTail.next={value:e,subscribers:t,next:null},this.publisherTail=this.publisherTail.next,this.publisherIndex+=1),this.replayBuffer&&this.replayBuffer.offer(e),!0}publishAll(e){if(0!==this.publisherTail.subscribers)for(let t of e)this.publish(t);else this.replayBuffer&&this.replayBuffer.offerAll(e);return t.empty()}slide(){this.publisherHead!==this.publisherTail&&(this.publisherHead=this.publisherHead.next,this.publisherHead.value=h,this.subscribersIndex+=1),this.replayBuffer&&this.replayBuffer.slide()}subscribe(){return this.publisherTail.subscribers+=1,new I(this,this.publisherTail,this.publisherIndex,!1)}}class I{self;subscriberHead;subscriberIndex;unsubscribed;constructor(e,t,r,a){this.self=e,this.subscriberHead=t,this.subscriberIndex=r,this.unsubscribed=a}isEmpty(){if(this.unsubscribed)return!0;let e=!0,t=!0;for(;t;)this.subscriberHead===this.self.publisherTail?t=!1:this.subscriberHead.next.value!==h?(e=!1,t=!1):(this.subscriberHead=this.subscriberHead.next,this.subscriberIndex+=1);return e}size(){return this.unsubscribed?0:this.self.publisherIndex-Math.max(this.subscriberIndex,this.self.subscribersIndex)}poll(e){if(this.unsubscribed)return e;let t=!0,r=e;for(;t;)if(this.subscriberHead===this.self.publisherTail)t=!1;else{let e=this.subscriberHead.next.value;e!==h&&(r=e,this.subscriberHead.subscribers-=1,0===this.subscriberHead.subscribers&&(this.self.publisherHead=this.self.publisherHead.next,this.self.publisherHead.value=h,this.self.subscribersIndex+=1),t=!1),this.subscriberHead=this.subscriberHead.next,this.subscriberIndex+=1}return r}pollUpTo(e){let r=[],a=0;for(;a!==e;){let t=this.poll(h);t===h?a=e:(r.push(t),a+=1)}return t.fromIterable(r)}unsubscribe(){if(!this.unsubscribed)for(this.unsubscribed=!0,this.self.publisherTail.subscribers-=1;this.subscriberHead!==this.self.publisherTail;)this.subscriberHead.next.value!==h&&(this.subscriberHead.subscribers-=1,0===this.subscriberHead.subscribers&&(this.self.publisherHead=this.self.publisherHead.next,this.self.publisherHead.value=h,this.self.subscribersIndex+=1)),this.subscriberHead=this.subscriberHead.next}}class T extends r.Class{pubsub;subscribers;subscription;pollers;shutdownHook;shutdownFlag;strategy;replayWindow;[p.DequeueTypeId]=p.dequeueVariance;constructor(e,t,r,a,i,n,s,o){super(),this.pubsub=e,this.subscribers=t,this.subscription=r,this.pollers=a,this.shutdownHook=i,this.shutdownFlag=n,this.strategy=s,this.replayWindow=o}commit(){return this.take}pipe(){return(0,l.pipeArguments)(this,arguments)}capacity(){return this.pubsub.capacity}isActive(){return!n.get(this.shutdownFlag)}get size(){return u.suspend(()=>n.get(this.shutdownFlag)?u.interrupt:u.succeed(this.subscription.size()+this.replayWindow.remaining))}unsafeSize(){return n.get(this.shutdownFlag)?o.none():o.some(this.subscription.size()+this.replayWindow.remaining)}get isFull(){return u.suspend(()=>n.get(this.shutdownFlag)?u.interrupt:u.succeed(this.subscription.size()===this.capacity()))}get isEmpty(){return u.map(this.size,e=>0===e)}get shutdown(){return u.uninterruptible(u.withFiberRuntime(e=>(n.set(this.shutdownFlag,!0),(0,a.pipe)(d.forEachParUnbounded(D(this.pollers),t=>u.deferredInterruptWith(t,e.id()),!1),u.zipRight(u.sync(()=>{this.subscribers.delete(this.subscription),this.subscription.unsubscribe(),this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers)})),u.whenEffect(u.deferredSucceed(this.shutdownHook,void 0)),u.asVoid))))}get isShutdown(){return u.sync(()=>n.get(this.shutdownFlag))}get awaitShutdown(){return u.deferredAwait(this.shutdownHook)}get take(){return u.withFiberRuntime(e=>{if(n.get(this.shutdownFlag))return u.interrupt;if(this.replayWindow.remaining>0){let e=this.replayWindow.take();return u.succeed(e)}let t=i.isEmpty(this.pollers)?this.subscription.poll(i.EmptyMutableQueue):i.EmptyMutableQueue;if(t!==i.EmptyMutableQueue)return this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),u.succeed(t);{let t=u.deferredUnsafeMake(e.id());return(0,a.pipe)(u.suspend(()=>((0,a.pipe)(this.pollers,i.offer(t)),(0,a.pipe)(this.subscribers,f(this.subscription,this.pollers)),this.strategy.unsafeCompletePollers(this.pubsub,this.subscribers,this.subscription,this.pollers),n.get(this.shutdownFlag)?u.interrupt:u.deferredAwait(t))),u.onInterrupt(()=>u.sync(()=>L(this.pollers,t))))}})}get takeAll(){return u.suspend(()=>{if(n.get(this.shutdownFlag))return u.interrupt;let e=i.isEmpty(this.pollers)?N(this.subscription):t.empty();return(this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),this.replayWindow.remaining>0)?u.succeed(t.appendAll(this.replayWindow.takeAll(),e)):u.succeed(e)})}takeUpTo(e){return u.suspend(()=>{let r;if(n.get(this.shutdownFlag))return u.interrupt;if(this.replayWindow.remaining>=e){let t=this.replayWindow.takeN(e);return u.succeed(t)}this.replayWindow.remaining>0&&(r=this.replayWindow.takeAll(),e-=r.length);let a=i.isEmpty(this.pollers)?z(this.subscription,e):t.empty();return this.strategy.unsafeOnPubSubEmptySpace(this.pubsub,this.subscribers),r?u.succeed(t.appendAll(r,a)):u.succeed(a)})}takeBetween(e,r){return u.suspend(()=>C(this,e,r,t.empty()))}}let C=(e,r,i,n)=>i<r?u.succeed(n):(0,a.pipe)(e.takeUpTo(i),u.flatMap(s=>{let o=r-s.length;return 1===o?(0,a.pipe)(e.take,u.map(e=>(0,a.pipe)(n,t.appendAll(s),t.append(e)))):o>1?(0,a.pipe)(e.take,u.flatMap(r=>C(e,o-1,i-s.length-1,(0,a.pipe)(n,t.appendAll(s),t.append(r))))):u.succeed((0,a.pipe)(n,t.appendAll(s)))}));class R{pubsub;subscribers;scope;shutdownHook;shutdownFlag;strategy;[p.EnqueueTypeId]=p.enqueueVariance;[p.DequeueTypeId]=p.dequeueVariance;constructor(e,t,r,a,i,n){this.pubsub=e,this.subscribers=t,this.scope=r,this.shutdownHook=a,this.shutdownFlag=i,this.strategy=n}capacity(){return this.pubsub.capacity}get size(){return u.suspend(()=>n.get(this.shutdownFlag)?u.interrupt:u.sync(()=>this.pubsub.size()))}unsafeSize(){return n.get(this.shutdownFlag)?o.none():o.some(this.pubsub.size())}get isFull(){return u.map(this.size,e=>e===this.capacity())}get isEmpty(){return u.map(this.size,e=>0===e)}get awaitShutdown(){return u.deferredAwait(this.shutdownHook)}get isShutdown(){return u.sync(()=>n.get(this.shutdownFlag))}get shutdown(){return u.uninterruptible(u.withFiberRuntime(e=>((0,a.pipe)(this.shutdownFlag,n.set(!0)),(0,a.pipe)(this.scope.close(u.exitInterrupt(e.id())),u.zipRight(this.strategy.shutdown),u.whenEffect(u.deferredSucceed(this.shutdownHook,void 0)),u.asVoid))))}publish(e){return u.suspend(()=>n.get(this.shutdownFlag)?u.interrupt:this.pubsub.publish(e)?(this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),u.succeed(!0)):this.strategy.handleSurplus(this.pubsub,this.subscribers,t.of(e),this.shutdownFlag))}isActive(){return!n.get(this.shutdownFlag)}unsafeOffer(e){return!n.get(this.shutdownFlag)&&!!this.pubsub.publish(e)&&(this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),!0)}publishAll(e){return u.suspend(()=>{if(n.get(this.shutdownFlag))return u.interrupt;let r=P(this.pubsub,e);return(this.strategy.unsafeCompleteSubscribers(this.pubsub,this.subscribers),t.isEmpty(r))?u.succeed(!0):this.strategy.handleSurplus(this.pubsub,this.subscribers,r,this.shutdownFlag)})}get subscribe(){let e,t,r,a=u.tap(d.all([this.scope.fork(c.sequential),(e=this.pubsub,t=this.subscribers,r=this.strategy,u.map(u.deferredMake(),a=>{let s,o,l,u,c,d;return s=e,o=t,l=e.subscribe(),u=i.unbounded(),c=a,d=n.make(!1),new T(s,o,l,u,c,d,r,s.replayWindow())}))]),e=>e[0].addFinalizer(()=>e[1].shutdown));return u.map(d.acquireRelease(a,(e,t)=>e[0].close(t)),e=>e[1])}offer(e){return this.publish(e)}offerAll(e){return this.publishAll(e)}pipe(){return(0,l.pipeArguments)(this,arguments)}}let F=(e,t)=>u.flatMap(d.scopeMake(),r=>u.map(u.deferredMake(),a=>A(e,new Map,r,a,n.make(!1),t))),A=(e,t,r,a,i,n)=>new R(e,t,r,a,i,n),O=e=>{if(e<=0)throw new u.InvalidPubSubCapacityException(`Cannot construct PubSub with capacity of ${e}`)},_=(e,t)=>{u.deferredUnsafeDone(e,u.succeed(t))},M=(e,t)=>(0,a.pipe)(e,i.offerAll(t)),D=e=>(0,a.pipe)(e,i.pollUpTo(1/0)),N=e=>e.pollUpTo(1/0),z=(e,t)=>e.pollUpTo(t),P=(e,t)=>e.publishAll(t),L=(e,r)=>{M(e,(0,a.pipe)(D(e),t.filter(e=>e!==r)))};class U{publishers=i.unbounded();get shutdown(){return u.flatMap(u.fiberId,e=>u.flatMap(u.sync(()=>D(this.publishers)),t=>d.forEachConcurrentDiscard(t,t=>{let[r,i,n]=t;return n?(0,a.pipe)(u.deferredInterruptWith(i,e),u.asVoid):u.void},!1,!1)))}handleSurplus(e,t,r,i){return u.withFiberRuntime(s=>{let o=u.deferredUnsafeMake(s.id());return(0,a.pipe)(u.suspend(()=>(this.unsafeOffer(r,o),this.unsafeOnPubSubEmptySpace(e,t),this.unsafeCompleteSubscribers(e,t),n.get(i)?u.interrupt:u.deferredAwait(o))),u.onInterrupt(()=>u.sync(()=>this.unsafeRemove(o))))})}unsafeOnPubSubEmptySpace(e,r){let n=!0;for(;n&&!e.isFull();){let s=(0,a.pipe)(this.publishers,i.poll(i.EmptyMutableQueue));if(s===i.EmptyMutableQueue)n=!1;else{let i=e.publish(s[0]);i&&s[2]?_(s[1],!0):i||M(this.publishers,(0,a.pipe)(D(this.publishers),t.prepend(s))),this.unsafeCompleteSubscribers(e,r)}}}unsafeCompletePollers(e,t,r,a){return q(this,e,t,r,a)}unsafeCompleteSubscribers(e,t){return B(this,e,t)}unsafeOffer(e,t){let r=e[Symbol.iterator](),n=r.next();if(!n.done)for(;;){let e=n.value;if((n=r.next()).done){(0,a.pipe)(this.publishers,i.offer([e,t,!0]));break}(0,a.pipe)(this.publishers,i.offer([e,t,!1]))}}unsafeRemove(e){M(this.publishers,(0,a.pipe)(D(this.publishers),t.filter(t=>{let[r,a]=t;return a!==e})))}}class j{get shutdown(){return u.void}handleSurplus(e,t,r,a){return u.succeed(!1)}unsafeOnPubSubEmptySpace(e,t){}unsafeCompletePollers(e,t,r,a){return q(this,e,t,r,a)}unsafeCompleteSubscribers(e,t){return B(this,e,t)}}class W{get shutdown(){return u.void}handleSurplus(e,t,r,a){return u.sync(()=>(this.unsafeSlidingPublish(e,r),this.unsafeCompleteSubscribers(e,t),!0))}unsafeOnPubSubEmptySpace(e,t){}unsafeCompletePollers(e,t,r,a){return q(this,e,t,r,a)}unsafeCompleteSubscribers(e,t){return B(this,e,t)}unsafeSlidingPublish(e,t){let r=t[Symbol.iterator](),a=r.next();if(!a.done&&e.capacity>0){let t=a.value,i=!0;for(;i;){e.slide();let n=e.publish(t);n&&(a=r.next())&&!a.done?t=a.value:n&&(i=!1)}}}}let q=(e,r,n,s,o)=>{let l=!0;for(;l&&!s.isEmpty();){let u=(0,a.pipe)(o,i.poll(i.EmptyMutableQueue));if(u===i.EmptyMutableQueue)(0,a.pipe)(n,m(s,o)),i.isEmpty(o)?l=!1:(0,a.pipe)(n,f(s,o));else{let l=s.poll(i.EmptyMutableQueue);l===i.EmptyMutableQueue?M(o,(0,a.pipe)(D(o),t.prepend(u))):(_(u,l),e.unsafeOnPubSubEmptySpace(r,n))}}},B=(e,t,r)=>{for(let[a,i]of r)for(let n of i)e.unsafeCompletePollers(t,r,a,n)};class ${capacity;constructor(e){this.capacity=e}head={value:h,next:null};tail=this.head;size=0;index=0;slide(){this.index++}offer(e){this.tail.value=e,this.tail.next={value:h,next:null},this.tail=this.tail.next,this.size===this.capacity?this.head=this.head.next:this.size+=1}offerAll(e){for(let t of e)this.offer(t)}}class V{buffer;head;index;remaining;constructor(e){this.buffer=e,this.index=e.index,this.remaining=e.size,this.head=e.head}fastForward(){for(;this.index<this.buffer.index;)this.head=this.head.next,this.index++}take(){if(0===this.remaining)return;this.index<this.buffer.index&&this.fastForward(),this.remaining--;let e=this.head.value;return this.head=this.head.next,e}takeN(e){if(0===this.remaining)return t.empty();this.index<this.buffer.index&&this.fastForward();let r=Math.min(e,this.remaining),a=Array(r);for(let e=0;e<r;e++){let t=this.head.value;this.head=this.head.next,a[e]=t}return this.remaining-=r,t.unsafeFromArray(a)}takeAll(){return this.takeN(this.remaining)}}let H={remaining:0,take:()=>void 0,takeN:()=>t.empty(),takeAll:()=>t.empty()};e.s(["bounded",0,e=>u.suspend(()=>F(y(e),new U)),"dropping",0,e=>u.suspend(()=>F(y(e),new j)),"publish",0,g,"shutdown",0,e=>e.shutdown,"sliding",0,e=>u.suspend(()=>F(y(e),new W)),"subscribe",0,e=>e.subscribe,"unbounded",0,e=>u.suspend(()=>{let t;return F((t=e,new x(t?.replay?new $(t.replay):void 0)),new j)})],1299557)},1072215,e=>{"use strict";var t=e.i(8398712);t.EnqueueTypeId;let r=t.DequeueTypeId;t.QueueStrategyTypeId,t.BackingQueueTypeId,t.isQueue,t.isDequeue,t.isEnqueue,t.backPressureStrategy,t.droppingStrategy,t.slidingStrategy,t.make;let a=t.bounded,i=t.dropping,n=t.sliding,s=t.unbounded,o=t.capacity,l=t.size,u=t.isEmpty,c=t.isFull,d=t.isShutdown,p=t.awaitShutdown,h=t.shutdown,f=t.offer,m=t.unsafeOffer,g=t.offerAll,y=t.poll,b=t.take,S=t.takeAll,v=t.takeUpTo,k=t.takeBetween,w=t.takeN;e.s(["DequeueTypeId",0,r,"awaitShutdown",0,p,"bounded",0,a,"capacity",0,o,"dropping",0,i,"isEmpty",0,u,"isFull",0,c,"isShutdown",0,d,"offer",0,f,"offerAll",0,g,"poll",0,y,"shutdown",0,h,"size",0,l,"sliding",0,n,"take",0,b,"takeAll",0,S,"takeBetween",0,k,"takeN",0,w,"takeUpTo",0,v,"unbounded",0,s,"unsafeOffer",0,m])},6091153,8884753,6379322,1200369,7237733,7534251,9292764,e=>{"use strict";var t=e.i(5450905),r=e.i(7862555),a=e.i(5972454),i=e.i(578549),n=e.i(3322401),s=e.i(1331084),o=e.i(3628392),l=e.i(7836076),u=e.i(6028004),c=e.i(6098979),d=e.i(3683485),p=e.i(9227260),h=e.i(8815901),f=e.i(4935619),m=e.i(1299557),g=e.i(1072215),y=e.i(6532885),b=e.i(5160412),S=e.i(1177850),v=e.i(1150852),k=e.i(9390854),w=e.i(9960543);let E="Continue",x=Symbol.for("effect/ChannelChildExecutorDecision"),I={[x]:x},T=e=>{let t=Object.create(I);return t._tag=E,t},C="ContinuationK",R=Symbol.for("effect/ChannelContinuation"),F={_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutDone:e=>e,_OutErr2:e=>e,_OutElem:e=>e,_OutDone2:e=>e};class A{onSuccess;onHalt;_tag=C;[R]=F;constructor(e,t){this.onSuccess=e,this.onHalt=t}onExit(e){return l.isFailure(e)?this.onHalt(e.cause):this.onSuccess(e.value)}}class O{finalizer;_tag="ContinuationFinalizer";[R]=F;constructor(e){this.finalizer=e}}let _="PullAfterNext",M={[Symbol.for("effect/ChannelUpstreamPullStrategy")]:{_A:e=>e}},D=e=>{let t=Object.create(M);return t._tag=_,t.emitSeparator=e,t},N="BracketOut",z="Bridge",P="ConcatAll",L="Emit",U="Ensuring",j="Fail",W="Fold",q="FromEffect",B="PipeTo",$="Provide",V="Read",H="Succeed",G="SucceedNow",K="Suspend",J=Symbol.for("effect/Channel"),Z={[J]:{_Env:e=>e,_InErr:e=>e,_InElem:e=>e,_InDone:e=>e,_OutErr:e=>e,_OutElem:e=>e,_OutDone:e=>e},pipe(){return(0,w.pipeArguments)(this,arguments)}},Q=e=>(0,f.hasProperty)(e,J)||n.isEffect(e),Y=(0,d.dual)(2,(e,t)=>{let r=Object.create(Z);return r._tag=N,r.acquire=()=>e,r.finalizer=t,r}),X=(0,d.dual)(2,(e,t)=>{let r=Object.create(Z);return r._tag=W,r.channel=e,r.k=new A(eS,t),r}),ee=e=>ek(()=>{let t=[];return ed(ef(e,et(t)),e=>ew(()=>[r.fromIterable(t),e]))}),et=e=>ey({onInput:t=>ed(ew(()=>{e.push(t)}),()=>et(e)),onFailure:el,onDone:ev}),er=e=>ea(e,d.constVoid,d.constVoid),ea=(e,t,r)=>{let a=Object.create(Z);return a._tag=P,a.combineInners=t,a.combineAll=r,a.onPull=()=>D(h.none()),a.onEmit=()=>T,a.value=()=>e,a.k=d.identity,a},ei=(0,d.dual)(4,(e,t,r,a)=>{let i=Object.create(Z);return i._tag=P,i.combineInners=r,i.combineAll=a,i.onPull=()=>D(h.none()),i.onEmit=()=>T,i.value=()=>e,i.k=t,i}),en=(0,d.dual)(6,(e,t,r,a,i,n)=>{let s=Object.create(Z);return s._tag=P,s.combineInners=r,s.combineAll=a,s.onPull=i,s.onEmit=n,s.value=()=>e,s.k=t,s}),es=(0,d.dual)(2,(e,t)=>{let r=Object.create(Z);return r._tag=z,r.input=t,r.channel=e,r}),eo=(0,d.dual)(2,(e,t)=>{let r=Object.create(Z);return r._tag=U,r.channel=e,r.finalizer=t,r}),el=e=>eu(t.fail(e)),eu=e=>ec(()=>e),ec=e=>{let t=Object.create(Z);return t._tag=j,t.error=e,t},ed=(0,d.dual)(2,(e,t)=>{let r=Object.create(Z);return r._tag=W,r.channel=e,r.k=new A(t,eu),r}),ep=(0,d.dual)(2,(e,t)=>{let r=Object.create(Z);return r._tag=W,r.channel=e,r.k=new A(t.onSuccess,t.onFailure),r}),eh=e=>{let t=Object.create(Z);return t._tag=q,t.effect=()=>e,t},ef=(0,d.dual)(2,(e,t)=>{let r=Object.create(Z);return r._tag=B,r.left=()=>e,r.right=()=>t,r}),em=(0,d.dual)(2,(e,t)=>{let r=Object.create(Z);return r._tag=$,r.context=()=>t,r.inner=e,r}),eg=e=>{let t=Object.create(Z);return t._tag=V,t.more=eS,t.done=new A(()=>el(e),()=>el(e)),t},ey=e=>eb({onInput:e.onInput,onFailure:r=>s.match(t.failureOrCause(r),{onLeft:e.onFailure,onRight:eu}),onDone:e.onDone}),eb=e=>{let t=Object.create(Z);return t._tag=V,t.more=e.onInput,t.done=new A(e.onDone,e.onFailure),t},eS=e=>ew(()=>e),ev=e=>{let t=Object.create(Z);return t._tag=G,t.terminal=e,t},ek=e=>{let t=Object.create(Z);return t._tag=K,t.channel=e,t},ew=e=>{let t=Object.create(Z);return t._tag=H,t.evaluate=e,t},eE=ev(void 0),ex=e=>{let t=Object.create(Z);return t._tag=L,t.out=e,t};e.s(["ChannelTypeId",0,J,"acquireReleaseOut",0,Y,"catchAllCause",0,X,"collectElements",0,ee,"concatAll",0,er,"concatAllWith",0,ea,"concatMapWith",0,ei,"concatMapWithCustom",0,en,"embedInput",0,es,"ensuringWith",0,eo,"fail",0,el,"failCause",0,eu,"failCauseSync",0,ec,"failSync",0,e=>ec(()=>t.fail(e())),"flatMap",0,ed,"foldCauseChannel",0,ep,"fromEffect",0,eh,"isChannel",0,Q,"pipeTo",0,ef,"provideContext",0,em,"readOrFail",0,eg,"readWith",0,ey,"readWithCause",0,eb,"succeed",0,eS,"succeedNow",0,ev,"suspend",0,ek,"sync",0,ew,"void",()=>eE,"write",0,ex],8884753);let eI="Done",eT="Emit",eC="FromEffect",eR="Read",eF={[Symbol.for("effect/ChannelState")]:{_E:e=>e,_R:e=>e}},eA=()=>{let e=Object.create(eF);return e._tag=eI,e},eO=()=>{let e=Object.create(eF);return e._tag=eT,e},e_=e=>{let t=Object.create(eF);return t._tag=eC,t.effect=e,t},eM=(e,t,r,a)=>{let i=Object.create(eF);return i._tag=eR,i.upstream=e,i.onEffect=t,i.onEmit=r,i.onDone=a,i},eD=e=>e._tag===eC,eN=e=>eD(e)?n.ignore(e.effect):void 0,ez="PullFromChild",eP="PullFromUpstream",eL="DrainChildExecutors",eU="Emit";class ej{childExecutor;parentSubexecutor;onEmit;_tag=ez;constructor(e,t,r){this.childExecutor=e,this.parentSubexecutor=t,this.onEmit=r}close(e){let t=this.childExecutor.close(e),r=this.parentSubexecutor.close(e);return void 0!==t&&void 0!==r?n.zipWith(n.exit(t),n.exit(r),(e,t)=>(0,d.pipe)(e,l.zipRight(t))):void 0!==t?t:void 0!==r?r:void 0}enqueuePullFromChild(e){return this}}class eW{upstreamExecutor;createChild;lastDone;activeChildExecutors;combineChildResults;combineWithChildResult;onPull;onEmit;_tag=eP;constructor(e,t,r,a,i,n,s,o){this.upstreamExecutor=e,this.createChild=t,this.lastDone=r,this.activeChildExecutors=a,this.combineChildResults=i,this.combineWithChildResult=n,this.onPull=s,this.onEmit=o}close(e){let t=this.upstreamExecutor.close(e);return[...this.activeChildExecutors.map(t=>void 0!==t?t.childExecutor.close(e):void 0),t].reduce((e,t)=>void 0!==e&&void 0!==t?n.zipWith(e,n.exit(t),(e,t)=>l.zipRight(e,t)):void 0!==e?e:void 0!==t?n.exit(t):void 0,void 0)}enqueuePullFromChild(e){return new eW(this.upstreamExecutor,this.createChild,this.lastDone,[...this.activeChildExecutors,e],this.combineChildResults,this.combineWithChildResult,this.onPull,this.onEmit)}}class eq{upstreamExecutor;lastDone;activeChildExecutors;upstreamDone;combineChildResults;combineWithChildResult;onPull;_tag=eL;constructor(e,t,r,a,i,n,s){this.upstreamExecutor=e,this.lastDone=t,this.activeChildExecutors=r,this.upstreamDone=a,this.combineChildResults=i,this.combineWithChildResult=n,this.onPull=s}close(e){let t=this.upstreamExecutor.close(e);return[...this.activeChildExecutors.map(t=>void 0!==t?t.childExecutor.close(e):void 0),t].reduce((e,t)=>void 0!==e&&void 0!==t?n.zipWith(e,n.exit(t),(e,t)=>l.zipRight(e,t)):void 0!==e?e:void 0!==t?n.exit(t):void 0,void 0)}enqueuePullFromChild(e){return new eq(this.upstreamExecutor,this.lastDone,[...this.activeChildExecutors,e],this.upstreamDone,this.combineChildResults,this.combineWithChildResult,this.onPull)}}class eB{value;next;_tag=eU;constructor(e,t){this.value=e,this.next=t}close(e){return this.next.close(e)}enqueuePullFromChild(e){return this}}let e$={[Symbol.for("effect/ChannelUpstreamPullRequest")]:{_A:e=>e}},eV=e=>{let t=Object.create(e$);return t._tag="Pulled",t.value=e,t};class eH{_activeSubexecutor=void 0;_cancelled=void 0;_closeLastSubstream=void 0;_currentChannel;_done=void 0;_doneStack=[];_emitted=void 0;_executeCloseLastSubstream;_input=void 0;_inProgressFinalizer=void 0;_providedEnv;constructor(e,t,r){this._currentChannel=e,this._executeCloseLastSubstream=r,this._providedEnv=t}run(){let e;for(;void 0===e;)if(void 0!==this._cancelled)e=this.processCancellation();else if(void 0!==this._activeSubexecutor)e=this.runSubexecutor();else try{if(void 0===this._currentChannel)e=eA();else switch(n.isEffect(this._currentChannel)&&(this._currentChannel=eh(this._currentChannel)),this._currentChannel._tag){case N:e=this.runBracketOut(this._currentChannel);break;case z:{let t=this._currentChannel.input;if(this._currentChannel=this._currentChannel.channel,void 0!==this._input){let r=this._input;this._input=void 0;let a=()=>n.flatMap(t.awaitRead(),()=>n.suspend(()=>{let e=r.run();switch(e._tag){case eI:return l.match(r.getDone(),{onFailure:e=>t.error(e),onSuccess:e=>t.done(e)});case eT:return n.flatMap(t.emit(r.getEmit()),()=>a());case eC:return n.matchCauseEffect(e.effect,{onFailure:e=>t.error(e),onSuccess:()=>a()});case eR:return eJ(e,()=>a(),e=>t.error(e))}}));e=e_(n.flatMap(n.forkDaemon(n.interruptible(a())),e=>n.sync(()=>this.addFinalizer(t=>n.flatMap(u.interrupt(e),()=>n.suspend(()=>{let e=this.restorePipe(t,r);return void 0!==e?e:n.void}))))))}break}case P:{let e=new eH(this._currentChannel.value(),this._providedEnv,e=>n.sync(()=>{let t=void 0===this._closeLastSubstream?n.void:this._closeLastSubstream;this._closeLastSubstream=(0,d.pipe)(t,n.zipRight(e))}));e._input=this._input;let t=this._currentChannel;this._activeSubexecutor=new eW(e,e=>t.k(e),void 0,[],(e,r)=>t.combineInners(e,r),(e,r)=>t.combineAll(e,r),e=>t.onPull(e),e=>t.onEmit(e)),this._closeLastSubstream=void 0,this._currentChannel=void 0;break}case L:this._emitted=this._currentChannel.out,this._currentChannel=void 0!==this._activeSubexecutor?void 0:eE,e=eO();break;case U:this.runEnsuring(this._currentChannel);break;case j:e=this.doneHalt(this._currentChannel.error());break;case W:this._doneStack.push(this._currentChannel.k),this._currentChannel=this._currentChannel.channel;break;case q:{let t=void 0===this._providedEnv?this._currentChannel.effect():(0,d.pipe)(this._currentChannel.effect(),n.provide(this._providedEnv));e=e_(n.matchCauseEffect(t,{onFailure:e=>{let t=this.doneHalt(e);return void 0!==t&&eD(t)?t.effect:n.void},onSuccess:e=>{let t=this.doneSucceed(e);return void 0!==t&&eD(t)?t.effect:n.void}}));break}case B:{let e=this._input,t=new eH(this._currentChannel.left(),this._providedEnv,e=>this._executeCloseLastSubstream(e));t._input=e,this._input=t,this.addFinalizer(t=>{let r=this.restorePipe(t,e);return void 0!==r?r:n.void}),this._currentChannel=this._currentChannel.right();break}case $:{let e=this._providedEnv;this._providedEnv=this._currentChannel.context(),this._currentChannel=this._currentChannel.inner,this.addFinalizer(()=>n.sync(()=>{this._providedEnv=e}));break}case V:{let t=this._currentChannel;e=eM(this._input,d.identity,e=>{try{this._currentChannel=t.more(e)}catch(e){this._currentChannel=t.done.onExit(l.die(e))}},e=>{let r=e=>t.done.onExit(e);this._currentChannel=r(e)});break}case H:e=this.doneSucceed(this._currentChannel.evaluate());break;case G:e=this.doneSucceed(this._currentChannel.terminal);break;case K:this._currentChannel=this._currentChannel.channel()}}catch(e){this._currentChannel=eu(t.die(e))}return e}getDone(){return this._done}getEmit(){return this._emitted}cancelWith(e){this._cancelled=e}clearInProgressFinalizer(){this._inProgressFinalizer=void 0}storeInProgressFinalizer(e){this._inProgressFinalizer=e}popAllFinalizers(e){let t=[],r=this._doneStack.pop();for(;r;)"ContinuationFinalizer"===r._tag&&t.push(r.finalizer),r=this._doneStack.pop();let a=0===t.length?n.void:eK(t,e);return this.storeInProgressFinalizer(a),a}popNextFinalizers(){let e=[];for(;0!==this._doneStack.length;){let t=this._doneStack[this._doneStack.length-1];if(t._tag===C)break;e.push(t),this._doneStack.pop()}return e}restorePipe(e,t){let r=this._input;return(this._input=t,void 0!==r)?r.close(e):n.void}close(e){let t,r,a=this._inProgressFinalizer;void 0!==a&&(t=(0,d.pipe)(a,n.ensuring(n.sync(()=>this.clearInProgressFinalizer()))));let i=this.popAllFinalizers(e);void 0!==i&&(r=(0,d.pipe)(i,n.ensuring(n.sync(()=>this.clearInProgressFinalizer()))));let s=void 0===this._activeSubexecutor?void 0:this._activeSubexecutor.close(e);if(void 0!==s||void 0!==t||void 0!==r)return(0,d.pipe)(n.exit(eG(s)),n.zip(n.exit(eG(t))),n.zip(n.exit(eG(r))),n.map(e=>{let[[t,r],a]=e;return(0,d.pipe)(t,l.zipRight(r),l.zipRight(a))}),n.uninterruptible,n.flatMap(e=>n.suspend(()=>e)))}doneSucceed(e){if(0===this._doneStack.length)return this._done=l.succeed(e),this._currentChannel=void 0,eA();let t=this._doneStack[this._doneStack.length-1];if(t._tag===C){this._doneStack.pop(),this._currentChannel=t.onSuccess(e);return}let r=this.popNextFinalizers();if(0===this._doneStack.length)return this._doneStack=r.reverse(),this._done=l.succeed(e),this._currentChannel=void 0,eA();let a=eK(r.map(e=>e.finalizer),l.succeed(e));return this.storeInProgressFinalizer(a),e_((0,d.pipe)(a,n.ensuring(n.sync(()=>this.clearInProgressFinalizer())),n.uninterruptible,n.flatMap(()=>n.sync(()=>this.doneSucceed(e)))))}doneHalt(e){if(0===this._doneStack.length)return this._done=l.failCause(e),this._currentChannel=void 0,eA();let r=this._doneStack[this._doneStack.length-1];if(r._tag===C){this._doneStack.pop();try{this._currentChannel=r.onHalt(e)}catch(e){this._currentChannel=eu(t.die(e))}return}let a=this.popNextFinalizers();if(0===this._doneStack.length)return this._doneStack=a.reverse(),this._done=l.failCause(e),this._currentChannel=void 0,eA();let i=eK(a.map(e=>e.finalizer),l.failCause(e));return this.storeInProgressFinalizer(i),e_((0,d.pipe)(i,n.ensuring(n.sync(()=>this.clearInProgressFinalizer())),n.uninterruptible,n.flatMap(()=>n.sync(()=>this.doneHalt(e)))))}processCancellation(){return this._currentChannel=void 0,this._done=this._cancelled,this._cancelled=void 0,eA()}runBracketOut(e){return e_(n.uninterruptible(n.matchCauseEffect(this.provide(e.acquire()),{onFailure:e=>n.sync(()=>{this._currentChannel=eu(e)}),onSuccess:t=>n.sync(()=>{this.addFinalizer(r=>this.provide(e.finalizer(t,r))),this._currentChannel=ex(t)})})))}provide(e){return void 0===this._providedEnv?e:(0,d.pipe)(e,n.provide(this._providedEnv))}runEnsuring(e){this.addFinalizer(e.finalizer),this._currentChannel=e.channel}addFinalizer(e){this._doneStack.push(new O(e))}runSubexecutor(){let e=this._activeSubexecutor;switch(e._tag){case ez:return this.pullFromChild(e.childExecutor,e.parentSubexecutor,e.onEmit,e);case eP:return this.pullFromUpstream(e);case eL:return this.drainChildExecutors(e);case eU:return this._emitted=e.value,this._activeSubexecutor=e.next,eO()}}replaceSubexecutor(e){this._currentChannel=void 0,this._activeSubexecutor=e}finishWithExit(e){let t=l.match(e,{onFailure:e=>this.doneHalt(e),onSuccess:e=>this.doneSucceed(e)});return this._activeSubexecutor=void 0,void 0===t?n.void:eD(t)?t.effect:n.void}finishSubexecutorWithCloseEffect(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.addFinalizer(()=>(0,d.pipe)(r,n.forEach(t=>(0,d.pipe)(n.sync(()=>t(e)),n.flatMap(e=>void 0!==e?e:n.void)),{discard:!0})));let i=(0,d.pipe)(e,l.match({onFailure:e=>this.doneHalt(e),onSuccess:e=>this.doneSucceed(e)}));return this._activeSubexecutor=void 0,i}applyUpstreamPullStrategy(e,t,r){switch(r._tag){case _:{let a=!e||t.some(e=>void 0!==e);return[r.emitSeparator,a?[void 0,...t]:t]}case"PullAfterAllEnqueued":{let a=!e||t.some(e=>void 0!==e);return[r.emitSeparator,a?[...t,void 0]:t]}}}pullFromChild(e,t,r,a){return eM(e,d.identity,i=>{let n=r(i);switch(n._tag){case E:break;case"Close":this.finishWithDoneValue(e,t,n.value);break;case"Yield":{let e=t.enqueuePullFromChild(a);this.replaceSubexecutor(e)}}this._activeSubexecutor=new eB(i,this._activeSubexecutor)},l.match({onFailure:r=>{let a=this.handleSubexecutorFailure(e,t,r);return void 0===a?void 0:eN(a)},onSuccess:r=>{this.finishWithDoneValue(e,t,r)}}))}finishWithDoneValue(e,t,r){switch(t._tag){case eP:{let a=new eW(t.upstreamExecutor,t.createChild,void 0!==t.lastDone?t.combineChildResults(t.lastDone,r):r,t.activeChildExecutors,t.combineChildResults,t.combineWithChildResult,t.onPull,t.onEmit);this._closeLastSubstream=e.close(l.succeed(r)),this.replaceSubexecutor(a);break}case eL:{let a=new eq(t.upstreamExecutor,void 0!==t.lastDone?t.combineChildResults(t.lastDone,r):r,t.activeChildExecutors,t.upstreamDone,t.combineChildResults,t.combineWithChildResult,t.onPull);this._closeLastSubstream=e.close(l.succeed(r)),this.replaceSubexecutor(a)}}}handleSubexecutorFailure(e,t,r){return this.finishSubexecutorWithCloseEffect(l.failCause(r),e=>t.close(e),t=>e.close(t))}pullFromUpstream(e){if(0===e.activeChildExecutors.length)return this.performPullFromUpstream(e);let t=e.activeChildExecutors[0],r=new eW(e.upstreamExecutor,e.createChild,e.lastDone,e.activeChildExecutors.slice(1),e.combineChildResults,e.combineWithChildResult,e.onPull,e.onEmit);if(void 0===t)return this.performPullFromUpstream(r);this.replaceSubexecutor(new ej(t.childExecutor,r,t.onEmit))}performPullFromUpstream(e){return eM(e.upstreamExecutor,e=>{let t=void 0===this._closeLastSubstream?n.void:this._closeLastSubstream;return this._closeLastSubstream=void 0,(0,d.pipe)(this._executeCloseLastSubstream(t),n.zipRight(e))},t=>{if(void 0!==this._closeLastSubstream){let r=this._closeLastSubstream;return this._closeLastSubstream=void 0,(0,d.pipe)(this._executeCloseLastSubstream(r),n.map(()=>{let r=new eH(e.createChild(t),this._providedEnv,this._executeCloseLastSubstream);r._input=this._input;let[a,i]=this.applyUpstreamPullStrategy(!1,e.activeChildExecutors,e.onPull(eV(t)));this._activeSubexecutor=new ej(r,new eW(e.upstreamExecutor,e.createChild,e.lastDone,i,e.combineChildResults,e.combineWithChildResult,e.onPull,e.onEmit),e.onEmit),h.isSome(a)&&(this._activeSubexecutor=new eB(a.value,this._activeSubexecutor))}))}let r=new eH(e.createChild(t),this._providedEnv,this._executeCloseLastSubstream);r._input=this._input;let[a,i]=this.applyUpstreamPullStrategy(!1,e.activeChildExecutors,e.onPull(eV(t)));this._activeSubexecutor=new ej(r,new eW(e.upstreamExecutor,e.createChild,e.lastDone,i,e.combineChildResults,e.combineWithChildResult,e.onPull,e.onEmit),e.onEmit),h.isSome(a)&&(this._activeSubexecutor=new eB(a.value,this._activeSubexecutor))},t=>{if(e.activeChildExecutors.some(e=>void 0!==e)){let t=new eq(e.upstreamExecutor,e.lastDone,[void 0,...e.activeChildExecutors],e.upstreamExecutor.getDone(),e.combineChildResults,e.combineWithChildResult,e.onPull);if(void 0!==this._closeLastSubstream){let e=this._closeLastSubstream;return this._closeLastSubstream=void 0,(0,d.pipe)(this._executeCloseLastSubstream(e),n.map(()=>this.replaceSubexecutor(t)))}return void this.replaceSubexecutor(t)}let r=this._closeLastSubstream,a=this.finishSubexecutorWithCloseEffect((0,d.pipe)(t,l.map(t=>e.combineWithChildResult(e.lastDone,t))),()=>r,t=>e.upstreamExecutor.close(t));return void 0===a?void 0:eN(a)})}drainChildExecutors(e){if(0===e.activeChildExecutors.length){let t=this._closeLastSubstream;return void 0!==t&&this.addFinalizer(()=>n.succeed(t)),this.finishSubexecutorWithCloseEffect(e.upstreamDone,()=>t,t=>e.upstreamExecutor.close(t))}let t=e.activeChildExecutors[0],r=e.activeChildExecutors.slice(1);if(void 0===t){var a;let t,[i,n]=this.applyUpstreamPullStrategy(!0,r,e.onPull((a=r.reduce((e,t)=>void 0!==t?e+1:e,0),(t=Object.create(e$))._tag="NoUpstream",t.activeDownstreamCount=a,t)));return(this.replaceSubexecutor(new eq(e.upstreamExecutor,e.lastDone,n,e.upstreamDone,e.combineChildResults,e.combineWithChildResult,e.onPull)),h.isSome(i))?(this._emitted=i.value,eO()):void 0}let i=new eq(e.upstreamExecutor,e.lastDone,r,e.upstreamDone,e.combineChildResults,e.combineWithChildResult,e.onPull);this.replaceSubexecutor(new ej(t.childExecutor,i,t.onEmit))}}let eG=e=>void 0!==e?e:n.void,eK=(e,t)=>(0,d.pipe)(n.forEach(e,e=>n.exit(e(t))),n.map(e=>(0,d.pipe)(l.all(e),h.getOrElse(()=>l.void))),n.flatMap(e=>n.suspend(()=>e))),eJ=(e,t,r)=>{let a=[e],i=()=>{let e=a.pop();if(void 0===e||void 0===e.upstream)return n.dieMessage("Unexpected end of input for channel execution");let s=e.upstream.run();switch(s._tag){case eT:{let s=e.onEmit(e.upstream.getEmit());if(0===a.length){if(void 0===s)return n.suspend(t);return(0,d.pipe)(s,n.matchCauseEffect({onFailure:r,onSuccess:t}))}if(void 0===s)return n.suspend(()=>i());return(0,d.pipe)(s,n.matchCauseEffect({onFailure:r,onSuccess:()=>i()}))}case eI:{let s=e.onDone(e.upstream.getDone());if(0===a.length){if(void 0===s)return n.suspend(t);return(0,d.pipe)(s,n.matchCauseEffect({onFailure:r,onSuccess:t}))}if(void 0===s)return n.suspend(()=>i());return(0,d.pipe)(s,n.matchCauseEffect({onFailure:r,onSuccess:()=>i()}))}case eC:return a.push(e),(0,d.pipe)(e.onEffect(s.effect),n.catchAllCause(t=>n.suspend(()=>{let r=e.onDone(l.failCause(t));return void 0===r?n.void:r})),n.matchCauseEffect({onFailure:r,onSuccess:()=>i()}));case eR:return a.push(e),a.push(s),n.suspend(()=>i())}};return i()},eZ=(0,d.dual)(2,(e,r)=>n.uninterruptibleMask(a=>n.all([b.fork(r,S.sequential),i.make(),i.make()]).pipe(n.flatMap(s=>{let[o,c,p]=s;return a(n.acquireUseRelease(n.sync(()=>new eH(e,void 0,d.identity)),e=>n.suspend(()=>eQ(e.run(),e).pipe(n.intoDeferred(c),n.zipRight(i.await(c)),n.zipLeft(i.await(p)))),(e,t)=>{let r=e.close(t);return void 0===r?n.void:n.tapErrorCause(r,e=>b.addFinalizer(o,n.failCause(e)))})).pipe(n.forkIn(r),n.flatMap(e=>r.addFinalizer(r=>{let a=l.isFailure(r)?t.interruptors(r.cause):void 0;return i.isDone(c).pipe(n.flatMap(t=>t?i.succeed(p,void 0).pipe(n.zipRight(u.await(e)),n.zipRight(u.inheritAll(e))):i.succeed(p,void 0).pipe(n.zipRight(a&&k.size(a)>0?u.interruptAs(e,v.combineAll(a)):u.interrupt(e)),n.zipRight(u.inheritAll(e)))))}).pipe(n.zipRight(a(i.await(c))))))})))),eQ=(e,t)=>{switch(e._tag){case eC:return(0,d.pipe)(e.effect,n.flatMap(()=>eQ(t.run(),t)));case eT:return eQ(t.run(),t);case eI:return n.suspend(()=>t.getDone());case eR:return eJ(e,()=>eQ(t.run(),t),n.failCause)}};e.s(["ChannelExecutor",()=>eH,"readUpstream",0,eJ,"runIn",0,eZ],6379322);let eY="Done",eX="Await",e0=Symbol.for("effect/ChannelMergeDecision"),e1={[e0]:{_R:e=>e,_E0:e=>e,_Z0:e=>e,_E:e=>e,_Z:e=>e}},e2=e=>{let t=Object.create(e1);return t._tag=eY,t.effect=e,t},e3=e=>{let t=Object.create(e1);return t._tag=eX,t.f=e,t},e5=(0,d.dual)(2,(e,t)=>{let{onAwait:r,onDone:a}=t;switch(e._tag){case eY:return a(e.effect);case eX:return r(e.f)}});e.s(["Await",0,e3,"AwaitConst",0,e=>e3(()=>e),"Done",0,e2,"MergeDecisionTypeId",0,e0,"isMergeDecision",0,e=>(0,f.hasProperty)(e,e0),"match",0,e5],1200369);let e4="BothRunning",e8="LeftDone",e6="RightDone",e9=Symbol.for("effect/ChannelMergeState"),e7={[e9]:e9},te=(e,t)=>{let r=Object.create(e7);return r._tag=e4,r.left=e,r.right=t,r},tt=e=>{let t=Object.create(e7);return t._tag=e8,t.f=e,t},tr=e=>{let t=Object.create(e7);return t._tag=e6,t.f=e,t},ta="BackPressure",ti="BufferSliding",tn=Symbol.for("effect/ChannelMergeStrategy"),ts={[tn]:tn},to=e=>{let t=Object.create(ts);return t._tag=ta,t},tl=(0,d.dual)(2,(e,t)=>{let{onBackPressure:r,onBufferSliding:a}=t;switch(e._tag){case ta:return r();case ti:return a()}});e.s(["BackPressure",0,to,"BufferSliding",0,e=>{let t=Object.create(ts);return t._tag=ti,t},"match",0,tl],7237733);let tu="Empty",tc="Emit",td="Error",tp="Done",th=e=>({_tag:tu,notifyProducer:e}),tf=e=>({_tag:tc,notifyConsumers:e});class tm{ref;constructor(e){this.ref=e}awaitRead(){return n.flatten(y.modify(this.ref,e=>e._tag===tu?[i.await(e.notifyProducer),e]:[n.void,e]))}get close(){return n.fiberIdWith(e=>this.error(t.interrupt(e)))}done(e){return n.flatten(y.modify(this.ref,t=>{switch(t._tag){case tu:return[i.await(t.notifyProducer),t];case tc:return[n.forEach(t.notifyConsumers,t=>i.succeed(t,s.left(e)),{discard:!0}),{_tag:tp,done:e}];case td:case tp:return[n.interrupt,t]}}))}emit(e){return n.flatMap(i.make(),t=>n.flatten(y.modify(this.ref,r=>{switch(r._tag){case tu:return[i.await(r.notifyProducer),r];case tc:{let a=r.notifyConsumers[0],n=r.notifyConsumers.slice(1);if(void 0!==a)return[i.succeed(a,s.right(e)),0===n.length?th(t):tf(n)];throw Error("Bug: Channel.SingleProducerAsyncInput.emit - Queue was empty! please report an issue at https://github.com/Effect-TS/effect/issues")}case td:case tp:return[n.interrupt,r]}})))}error(e){return n.flatten(y.modify(this.ref,t=>{switch(t._tag){case tu:return[i.await(t.notifyProducer),t];case tc:return[n.forEach(t.notifyConsumers,t=>i.failCause(t,e),{discard:!0}),{_tag:td,cause:e}];case td:case tp:return[n.interrupt,t]}}))}get take(){return this.takeWith(e=>l.failCause(t.map(e,s.left)),e=>l.succeed(e),e=>l.fail(s.right(e)))}takeWith(e,t,r){return n.flatMap(i.make(),a=>n.flatten(y.modify(this.ref,o=>{switch(o._tag){case tu:return[n.zipRight(i.succeed(o.notifyProducer,void 0),n.matchCause(i.await(a),{onFailure:e,onSuccess:s.match({onLeft:r,onRight:t})})),tf([a])];case tc:return[n.matchCause(i.await(a),{onFailure:e,onSuccess:s.match({onLeft:r,onRight:t})}),tf([...o.notifyConsumers,a])];case td:return[n.succeed(e(o.cause)),o];case tp:return[n.succeed(r(o.done)),o]}})))}}let tg=()=>(0,d.pipe)(i.make(),n.flatMap(e=>y.make(th(e))),n.map(e=>new tm(e)));var ty=e.i(4039787),tb=e.i(3427637);let tS=(e,t,r)=>ed(eh(y.make(()=>n.void)),a=>(0,d.pipe)(eh(n.uninterruptible(n.tap(e,e=>y.set(a,t=>r(e,t))))),ed(t),eo(e=>n.flatMap(y.get(a),t=>t(e))))),tv=(0,d.dual)(2,(e,t)=>tV(e,()=>t)),tk=e=>ek(()=>{let t=(e,r,a)=>rd(y.modify(a,i=>r(i)?[ey({onInput:i=>ed(ex(i),()=>t(e,r,a)),onFailure:e=>el(e),onDone:e=>ev(e)}),i]:[ed(ex(i),()=>t(e,r,a)),e]));return t(e.empty,e.isEmpty,e.ref)}),tw=(0,d.dual)(2,(e,r)=>X(e,e=>s.match(t.failureOrCause(e),{onLeft:r,onRight:eu}))),tE=(0,d.dual)(2,(e,t)=>ei(e,t,()=>void 0,()=>void 0)),tx=(0,d.dual)(2,(e,t)=>{let r=ey({onInput:e=>h.match(t(e),{onNone:()=>r,onSome:e=>ed(ex(e),()=>r)}),onFailure:el,onDone:ev});return ef(e,r)}),tI=(0,d.dual)(2,(e,t)=>{let r=ey({onInput:e=>ed(ex(e),()=>r),onFailure:el,onDone:e=>ev(t(e))});return ef(r,e)}),tT=(0,d.dual)(2,(e,t)=>{let r=ey({onInput:e=>ed(ex(e),()=>r),onFailure:el,onDone:e=>eh(t(e))});return ef(r,e)}),tC=(0,d.dual)(2,(e,t)=>{let r=ey({onInput:e=>ed(ex(e),()=>r),onFailure:e=>el(t(e)),onDone:ev});return ef(r,e)}),tR=(0,d.dual)(2,(e,t)=>{let r=ey({onInput:e=>ed(ex(e),()=>r),onFailure:e=>eh(t(e)),onDone:ev});return ef(r,e)}),tF=(0,d.dual)(2,(e,t)=>{let r=ey({onInput:e=>ed(ex(t(e)),()=>r),onFailure:el,onDone:ev});return ef(r,e)}),tA=(0,d.dual)(2,(e,t)=>{let r=ey({onInput:e=>ed(ed(eh(t(e)),ex),()=>r),onFailure:el,onDone:ev});return ef(r,e)}),tO=e=>ek(()=>{let t=[];return(0,d.pipe)(ef(e,t_(t)),ed(e=>eS([r.unsafeFromArray(t),e])))}),t_=e=>ey({onInput:t=>ed(ew(()=>{e.push(t)}),()=>t_(e)),onFailure:el,onDone:eS}),tM=e=>{let t=eb({onInput:()=>t,onFailure:eu,onDone:eS});return ef(e,t)},tD=(0,d.dual)(2,(e,t)=>eo(e,()=>t)),tN=()=>eh(n.context()),tz=e=>ed(tN(),e),tP=e=>ed(e,d.identity),tL=(0,d.dual)(2,(e,r)=>ep(e,{onFailure:e=>{let a=t.failureOrCause(e);switch(a._tag){case"Left":return r.onFailure(a.left);case"Right":return eu(a.right)}},onSuccess:r.onSuccess})),tU=e=>rd(e.takeWith(eu,t=>ed(ex(t),()=>tU(e)),eS)),tj=e=>ek(()=>tW(e)),tW=e=>(0,d.pipe)(eh(g.take(e)),ed(s.match({onLeft:l.match({onFailure:eu,onSuccess:ev}),onRight:t=>ed(ex(t),()=>tW(e))}))),tq=()=>ey({onInput:e=>ed(ex(e),()=>tq()),onFailure:el,onDone:ev}),tB=(0,d.dual)(2,(e,t)=>t3(e,{other:eh(t),onSelfDone:e=>e2(n.suspend(()=>e)),onOtherDone:e=>e2(n.suspend(()=>e))})),t$=(0,d.dual)(2,(e,t)=>tB(e,i.await(t))),tV=(0,d.dual)(2,(e,t)=>ed(e,e=>ew(()=>t(e)))),tH=(0,d.dual)(2,(e,t)=>ed(e,e=>eh(t(e)))),tG=(0,d.dual)(2,(e,r)=>tK(e,t.map(r))),tK=(0,d.dual)(2,(e,t)=>X(e,e=>eu(t(e)))),tJ=(0,d.dual)(2,(e,t)=>{let r=ey({onInput:e=>ed(ex(t(e)),()=>r),onFailure:el,onDone:ev});return ef(e,r)}),tZ=(0,d.dual)(2,(e,t)=>{let r=eb({onInput:e=>(0,d.pipe)(eh(t(e)),ed(ex),ed(()=>r)),onFailure:eu,onDone:ev});return ef(e,r)}),tQ=(0,d.dual)(3,(e,t,r)=>rh(a=>n.gen(function*(){let o=yield*tg(),l=tU(o),u=yield*g.bounded(r);yield*b.addFinalizer(a,g.shutdown(u));let c=yield*i.make(),p=r===1/0?e=>d.identity:(yield*n.makeSemaphore(r)).withPermits,h=yield*l.pipe(ef(e),ro(a));yield*h.pipe(n.matchCauseEffect({onFailure:e=>g.offer(u,n.failCause(e)),onSuccess:s.match({onLeft:e=>n.zipRight(n.interruptible(p(r)(n.void)),n.asVoid(g.offer(u,n.succeed(s.left(e))))),onRight:e=>n.gen(function*(){let r=yield*i.make(),o=yield*i.make();yield*g.offer(u,n.map(i.await(r),s.right)),yield*i.succeed(o,void 0).pipe(n.zipRight(n.uninterruptibleMask(r=>n.exit(r(i.await(c))).pipe(n.raceFirst(n.exit(r(t(e)))),n.flatMap(d.identity))).pipe(n.tapErrorCause(e=>i.failCause(c,e)),n.intoDeferred(r))),p(1),n.forkIn(a)),yield*i.await(o)})})}),n.forever,n.interruptible,n.forkIn(a));let f=rd(n.matchCause(n.flatten(g.take(u)),{onFailure:eu,onSuccess:s.match({onLeft:ev,onRight:e=>ed(ex(e),()=>f)})}));return es(f,o)}))),tY=e=>t=>tX(e)(t,d.constVoid),tX=e=>{let{bufferSize:r=16,concurrency:a,mergeStrategy:o=to()}=e;return(e,l)=>rh(c=>n.gen(function*(){let p="unbounded"===a?Number.MAX_SAFE_INTEGER:a,f=yield*tg(),m=tU(f),S=yield*g.bounded(r);yield*b.addFinalizer(c,g.shutdown(S));let v=yield*g.unbounded();yield*b.addFinalizer(c,g.shutdown(v));let k=yield*y.make(h.none()),w=yield*i.make(),E=(yield*n.makeSemaphore(p)).withPermits,x=yield*ro(ef(m,e),c);function I(e){return e.pipe(n.flatMap(s.match({onLeft:e=>n.succeed(h.some(e)),onRight:e=>n.as(g.offer(S,n.succeed(s.right(e))),h.none())})),n.repeat({until:e=>h.isSome(e)}),n.flatMap(e=>y.update(k,h.match({onNone:()=>h.some(e.value),onSome:t=>h.some(l(t,e.value))}))),n.catchAllCause(e=>t.isInterrupted(e)?n.failCause(e):g.offer(S,n.failCause(e)).pipe(n.zipRight(i.succeed(w,void 0)),n.asVoid)))}yield*x.pipe(n.matchCauseEffect({onFailure:e=>g.offer(S,n.failCause(e)).pipe(n.zipRight(n.succeed(!1))),onSuccess:s.match({onLeft:e=>n.raceWith(n.interruptible(i.await(w)),n.interruptible(E(p)(n.void)),{onSelfDone:(e,t)=>n.as(u.interrupt(t),!1),onOtherDone:(t,r)=>n.zipRight(u.interrupt(r),y.get(k).pipe(n.flatMap(h.match({onNone:()=>g.offer(S,n.succeed(s.left(e))),onSome:t=>g.offer(S,n.succeed(s.left(l(t,e))))})),n.as(!1)))}),onRight:e=>tl(o,{onBackPressure:()=>n.gen(function*(){let t=yield*i.make(),r=n.scopedWith(t=>ro(ef(m,e),t).pipe(n.flatMap(e=>n.race(n.exit(I(e)),n.exit(n.interruptible(i.await(w))))),n.flatMap(d.identity)));return yield*i.succeed(t,void 0).pipe(n.zipRight(r),E(1),n.forkIn(c)),yield*i.await(t),!(yield*i.isDone(w))}),onBufferSliding:()=>n.gen(function*(){let t=yield*i.make(),r=yield*i.make(),a=yield*g.size(v);yield*g.take(v).pipe(n.flatMap(e=>i.succeed(e,void 0)),n.when(()=>a>=p)),yield*g.offer(v,t);let s=n.scopedWith(r=>ro(ef(m,e),r).pipe(n.flatMap(e=>n.exit(I(e)).pipe(n.race(n.exit(n.interruptible(i.await(w)))),n.race(n.exit(n.interruptible(i.await(t)))))),n.flatMap(d.identity)));return yield*i.succeed(r,void 0).pipe(n.zipRight(s),E(1),n.forkIn(c)),yield*i.await(r),!(yield*i.isDone(w))})})})}),n.repeat({while:e=>e}),n.forkIn(c));let T=(0,d.pipe)(g.take(S),n.flatten,n.matchCause({onFailure:eu,onSuccess:s.match({onLeft:ev,onRight:e=>ed(ex(e),()=>T)})}),rd);return es(T,f)}))},t0=(0,d.dual)(3,(e,t,r)=>tY(r)(tJ(e,t))),t1=(0,d.dual)(2,(e,t)=>tY({concurrency:t})(tJ(e,d.identity))),t2=(0,d.dual)(3,(e,t,r)=>tX({concurrency:t})(tJ(e,d.identity),r)),t3=(0,d.dual)(2,(e,t)=>rh(function(r){return n.gen(function*(){let a=yield*tg(),i=tU(a),o=yield*ro(ef(i,e),r),c=yield*ro(ef(i,t.other),r);function d(e,t,a){return(i,o,c)=>{function d(e){return e._tag===eY?n.succeed(eh(n.zipRight(u.interrupt(t),e.effect))):n.map(u.await(t),l.match({onFailure:t=>eh(e.f(l.failCause(t))),onSuccess:s.match({onLeft:t=>eh(e.f(l.succeed(t))),onRight:t=>rS(ex(t),p(c(e.f)))})}))}return l.match(e,{onFailure:e=>d(i(l.failCause(e))),onSuccess:s.match({onLeft:e=>d(i(l.succeed(e))),onRight:e=>n.succeed(ed(ex(e),()=>ed(eh(n.forkIn(n.interruptible(a),r)),e=>p(o(e,t)))))})})}}function p(e){switch(e._tag){case e4:{let r=n.interruptible(u.join(e.left)),a=n.interruptible(u.join(e.right));return rd(n.raceWith(r,a,{onSelfDone:(r,a)=>n.zipRight(u.interrupt(a),d(r,e.right,o)(t.onSelfDone,te,e=>tt(e))),onOtherDone:(r,a)=>n.zipRight(u.interrupt(a),d(r,e.left,c)(t.onOtherDone,(e,t)=>te(t,e),e=>tr(e)))}))}case e8:return rd(n.map(n.exit(c),l.match({onFailure:t=>eh(e.f(l.failCause(t))),onSuccess:s.match({onLeft:t=>eh(e.f(l.succeed(t))),onRight:t=>ed(ex(t),()=>p(tt(e.f)))})})));case e6:return rd(n.map(n.exit(o),l.match({onFailure:t=>eh(e.f(l.failCause(t))),onSuccess:s.match({onLeft:t=>eh(e.f(l.succeed(t))),onRight:t=>ed(ex(t),()=>p(tr(e.f)))})})))}}return eh(n.withFiberRuntime(e=>{let t=n.withFiberRuntime(t=>(t.transferChildren(e.scope()),n.void)),a=n.interruptible(o).pipe(n.ensuring(t),n.forkIn(r)),i=n.interruptible(c).pipe(n.ensuring(t),n.forkIn(r));return n.zipWith(a,i,(e,t)=>te(e,t))})).pipe(ed(p),es(a))})})),t5=eh(n.never),t4=(0,d.dual)(2,(e,t)=>t8(e,t)),t8=(0,d.dual)(2,(e,r)=>tw(e,e=>ec(()=>t.die(r(e))))),t6=(0,d.dual)(2,(e,t)=>tw(e,t)),t9=(0,d.dual)(2,(e,r)=>ek(()=>{let a,i=ey({onInput:e=>ed(ex(e),()=>i),onFailure:e=>(a=rk(e),eu(t.die(a))),onDone:ev}),n=eb({onInput:e=>(0,d.pipe)(ex(e),ed(()=>n)),onFailure:e=>t.isDieType(e)&&rw(e.defect)&&o.equals(e.defect,a)?el(e.defect.error):eu(e),onDone:ev});return ef(ef(ef(e,i),r),n)})),t7=(0,d.dual)(3,(e,t,r)=>ed(tN(),i=>em(e,a.add(i,t,r)))),re=(0,d.dual)(2,(e,t)=>rh(r=>n.map(p.buildWithScope(t,r),t=>em(e,t)))),rt=(0,d.dual)(2,(e,t)=>tz(r=>em(e,t(r)))),rr=(0,d.dual)(2,(e,t)=>re(e,p.merge(p.context(),t))),ra=e=>ed(e,()=>ra(e)),ri=e=>n.scopedWith(t=>eZ(e,t)),rn=e=>rd(n.uninterruptibleMask(t=>n.map(b.make(),r=>Y(n.tapErrorCause(t(b.extend(e,r)),e=>b.close(r,l.failCause(e))),(e,t)=>b.close(r,t))))),rs=e=>rp(n.map(n.scope,t=>ed(eh(e(t)),ex))),ro=(0,d.dual)(2,(e,t)=>n.zip(n.sync(()=>new eH(e,void 0,d.identity)),n.runtime()).pipe(n.tap(e=>{let[r,a]=e;return b.addFinalizerExit(t,e=>{let t=r.close(e);return void 0!==t?n.provide(t,a):n.void})}),n.uninterruptible,n.map(e=>{let[t]=e;return n.suspend(()=>rl(t.run(),t))}))),rl=(e,t)=>{switch(e._tag){case eI:return l.match(t.getDone(),{onFailure:n.failCause,onSuccess:e=>n.succeed(s.left(e))});case eT:return n.succeed(s.right(t.getEmit()));case eC:return(0,d.pipe)(e.effect,n.flatMap(()=>rl(t.run(),t)));case eR:return eJ(e,()=>rl(t.run(),t),e=>n.failCause(e))}},ru=e=>ek(()=>rc(e)),rc=e=>eb({onInput:t=>ed(eh(g.offer(e,s.right(t))),()=>rc(e)),onFailure:t=>eh(g.offer(e,s.left(l.failCause(t)))),onDone:t=>eh(g.offer(e,s.left(l.succeed(t))))}),rd=e=>tP(eh(e)),rp=e=>ea(rn(e),(e,t)=>e,(e,t)=>e),rh=e=>ea(rs(e),(e,t)=>e,(e,t)=>e),rf=(0,d.dual)(3,(e,t,r)=>rt(e,e=>a.merge(e,a.make(t,r(a.unsafeGet(e,t)))))),rm=e=>rg(0,e.length,e),rg=(e,t,a)=>e===t?eE:(0,d.pipe)(ex((0,d.pipe)(a,r.unsafeGet(e))),ed(()=>rg(e+1,t,a))),ry=(0,d.dual)(e=>Q(e[1]),(e,t,r)=>r?.concurrent?t3(e,{other:t,onSelfDone:e=>e3(t=>n.suspend(()=>l.zip(e,t))),onOtherDone:e=>e3(t=>n.suspend(()=>l.zip(t,e)))}):ed(e,e=>tV(t,t=>[e,t]))),rb=(0,d.dual)(e=>Q(e[1]),(e,t,r)=>r?.concurrent?tV(ry(e,t,{concurrent:!0}),e=>e[0]):ed(e,e=>tv(t,e))),rS=(0,d.dual)(e=>Q(e[1]),(e,t,r)=>r?.concurrent?tV(ry(e,t,{concurrent:!0}),e=>e[1]):ed(e,()=>t)),rv=Symbol.for("effect/Channel/ChannelException"),rk=e=>({_tag:"ChannelException",[rv]:rv,error:e}),rw=e=>(0,f.hasProperty)(e,rv);e.s(["ChannelException",0,rk,"ChannelExceptionTypeId",0,rv,"acquireUseRelease",0,tS,"as",0,tv,"asVoid",0,e=>tV(e,d.constVoid),"buffer",0,tk,"bufferChunk",0,e=>tk({empty:r.empty(),isEmpty:r.isEmpty,ref:e}),"catchAll",0,tw,"collect",0,tx,"concatMap",0,tE,"concatOut",0,e=>er(e),"context",0,tN,"contextWith",0,e=>tV(tN(),e),"contextWithChannel",0,tz,"contextWithEffect",0,e=>tH(tN(),e),"doneCollect",0,tO,"drain",0,tM,"emitCollect",0,e=>ed(tO(e),ex),"ensuring",0,tD,"flatten",0,tP,"foldChannel",0,tL,"fromEither",0,e=>ek(()=>s.match(e,{onLeft:el,onRight:eS})),"fromInput",0,tU,"fromOption",0,e=>ek(()=>h.match(e,{onNone:()=>el(h.none()),onSome:eS})),"fromPubSub",0,e=>rp(n.map(m.subscribe(e),tj)),"fromPubSubScoped",0,e=>n.map(m.subscribe(e),tj),"fromQueue",0,tj,"identityChannel",0,tq,"interruptWhen",0,tB,"interruptWhenDeferred",0,t$,"isChannelException",0,rw,"map",0,tV,"mapEffect",0,tH,"mapError",0,tG,"mapErrorCause",0,tK,"mapInput",0,tI,"mapInputContext",0,rt,"mapInputEffect",0,tT,"mapInputError",0,tC,"mapInputErrorEffect",0,tR,"mapInputIn",0,tF,"mapInputInEffect",0,tA,"mapOut",0,tJ,"mapOutEffect",0,tZ,"mapOutEffectPar",0,tQ,"mergeAll",0,tY,"mergeAllUnbounded",0,e=>tX({concurrency:"unbounded"})(e,d.constVoid),"mergeAllUnboundedWith",0,(e,t)=>tX({concurrency:"unbounded"})(e,t),"mergeAllWith",0,tX,"mergeMap",0,t0,"mergeOut",0,t1,"mergeOutWith",0,t2,"mergeWith",0,t3,"never",0,t5,"orDie",0,t4,"orDieWith",0,t8,"orElse",0,t6,"pipeToOrFail",0,t9,"provideLayer",0,re,"provideService",0,t7,"provideSomeLayer",0,rr,"read",0,()=>eg(h.none()),"repeated",0,ra,"run",0,ri,"runCollect",0,e=>ri(ee(e)),"runDrain",0,e=>ri(tM(e)),"runScoped",0,e=>n.scopeWith(t=>eZ(e,t)),"scoped",0,rn,"scopedWith",0,rs,"splitLines",0,()=>ek(()=>{let e="",t=!1,a=eb({onInput:i=>{let n,s=(n=[],r.map(i,r=>{if(0!==r.length){let a=0,i=r.indexOf("\r"),s=r.indexOf("\n");for(t&&(0===s?(n.push(e),e="",a=1,s=r.indexOf("\n",a)):e+="\r",t=!1);-1!==i||-1!==s;)-1===i||-1!==s&&s<i?(0===e.length?n.push(r.substring(a,s)):(n.push(e+r.substring(a,s)),e=""),a=s+1,s=r.indexOf("\n",a)):r.length===i+1?(t=!0,i=-1):s===i+1?(0===e.length?n.push(r.substring(a,i)):(e+=r.substring(a,i),n.push(e),e=""),a=i+2,i=r.indexOf("\r",a),s=r.indexOf("\n",a)):i=r.indexOf("\r",i+1);t?e+=r.substring(a,r.length-1):e+=r.substring(a,r.length)}}),r.unsafeFromArray(n));return r.isEmpty(s)?a:ed(ex(s),()=>a)},onFailure:t=>0===e.length?eu(t):ed(ex(r.of(e)),()=>eu(t)),onDone:t=>0===e.length?eS(t):ed(ex(r.of(e)),()=>eS(t))});return a}),"toPubSub",0,e=>ru(e),"toPull",0,e=>n.flatMap(n.scope,t=>ro(e,t)),"toPullIn",0,ro,"toQueue",0,ru,"unwrap",0,rd,"unwrapScoped",0,rp,"unwrapScopedWith",0,rh,"updateService",0,rf,"withSpan",0,function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=tb.addSpanStackTrace(e?arguments[2]:arguments[1]),i=n.all([n.makeSpan(t,r),n.context(),n.clock,c.get(c.currentTracerTimingEnabled)]);if(e){let e=arguments[0];return tS(i,t=>{let[r,i]=t;return em(e,a.add(i,tb.spanTag,r))},(e,t)=>{let[r,,a,i]=e;return ty.endSpan(r,t,a,i)})}return e=>tS(i,t=>{let[r,i]=t;return em(e,a.add(i,tb.spanTag,r))},(e,t)=>{let[r,,a,i]=e;return ty.endSpan(r,t,a,i)})},"writeAll",0,function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return rm(r.fromIterable(t))},"writeChunk",0,rm,"zip",0,ry,"zipLeft",0,rb,"zipRight",0,rS],6091153),e.s(["Await",0,e3,"Done",0,e2],7534251);var rE=e.i(8973103),rx=e.i(7525378),rI=e.i(5369340),rT=e.i(7548658),rC=e.i(4026828),rR=e.i(1658800);let rF=Symbol.for("effect/RcRef"),rA={_tag:"Empty"},rO={_tag:"Closed"},r_={_A:d.identity,_E:d.identity};class rM extends rx.Class{acquire;context;scope;idleTimeToLive;[rF]=r_;[rI.TypeId]=rI.TypeId;state=rA;semaphore=rC.unsafeMakeSemaphore(1);constructor(e,t,r,a){super(),this.acquire=e,this.context=t,this.scope=r,this.idleTimeToLive=a,this.get=rD(this)}get;commit(){return this.get}}let rD=e=>rT.uninterruptibleMask(t=>rT.suspend(()=>{switch(e.state._tag){case"Closed":return rT.interrupt;case"Acquired":return e.state.refCount++,e.state.fiber?rT.as(rT.interruptFiber(e.state.fiber),e.state):rT.succeed(e.state);case"Empty":return rR.scopeMake().pipe(ty.bindTo("scope"),ty.bind("value",r=>{let{scope:i}=r;return t(rT.fiberRefLocally(e.acquire,rT.currentContext,a.add(e.context,rR.scopeTag,i)))}),rT.map(t=>{let{scope:r,value:a}=t,i={_tag:"Acquired",value:a,scope:r,fiber:void 0,refCount:1};return e.state=i,i}))}})).pipe(e.semaphore.withPermits(1),ty.bindTo("state"),ty.bind("scope",()=>rR.scopeTag),rT.tap(t=>{let{scope:r,state:a}=t;return r.addFinalizer(()=>rT.suspend(()=>(a.refCount--,a.refCount>0)?rT.void:void 0===e.idleTimeToLive?(e.state=rA,rT.scopeClose(a.scope,rT.exitVoid)):ty.sleep(e.idleTimeToLive).pipe(rT.interruptible,rT.zipRight(rT.suspend(()=>"Acquired"===e.state._tag&&0===e.state.refCount?(e.state=rA,rT.scopeClose(a.scope,rT.exitVoid)):rT.void)),rR.ensuring(rT.sync(()=>{a.fiber=void 0})),rC.forkIn(e.scope),rT.tap(e=>{a.fiber=e}),e.semaphore.withPermits(1))))}),rT.map(e=>{let{state:t}=e;return t.value}));e.s(["get",0,rD,"make",0,e=>rT.withFiberRuntime(t=>{let r=t.getFiberRef(rT.currentContext),i=a.get(r,rR.scopeTag),n=new rM(e.acquire,r,i,e.idleTimeToLive?rE.decode(e.idleTimeToLive):void 0);return rT.as(i.addFinalizer(()=>n.semaphore.withPermits(1)(rT.suspend(()=>{let e="Acquired"===n.state._tag?rT.scopeClose(n.state.scope,rT.exitVoid):rT.void;return n.state=rO,e}))),n)})],9292764)},469137,7703391,7365553,5806407,e=>{"use strict";var t=e.i(5450905),r=e.i(7862555),a=e.i(219787),i=e.i(5972454),n=e.i(578549),s=e.i(8973103),o=e.i(3322401),l=e.i(1331084),u=e.i(3628392),c=e.i(7836076),d=e.i(6028004),p=e.i(6098979),h=e.i(3683485),f=e.i(1650035),m=e.i(9227260),g=e.i(7534251),y=e.i(8815901),b=e.i(9960543),S=e.i(4935619),v=e.i(1299557),k=e.i(1072215),w=e.i(9292764),E=e.i(6532885),x=e.i(5310088),I=e.i(9992093);let T=I.ScheduleTypeId,C=I.ScheduleDriverTypeId,R=I.makeWithState,F=I.isSchedule,A=I.addDelay,O=I.addDelayEffect,_=I.andThen,M=I.andThenEither,D=I.as,N=I.asVoid,z=I.bothInOut,P=I.check,L=I.checkEffect,U=I.collectAllInputs,j=I.collectAllOutputs,W=I.collectUntil,q=I.collectUntilEffect,B=I.collectWhile,$=I.collectWhileEffect,V=I.compose,H=I.mapInput,G=I.mapInputEffect,K=I.mapInputContext,J=I.count,Z=I.cron,Q=I.secondOfMinute,Y=I.minuteOfHour,X=I.hourOfDay,ee=I.dayOfMonth,et=I.dayOfWeek,er=I.delayed,ea=I.delayedEffect,ei=I.delayedSchedule,en=I.delays,es=I.mapBoth,eo=I.mapBothEffect,el=I.driver,eu=I.duration,ec=I.either,ed=I.eitherWith,ep=I.elapsed,eh=I.ensuring,ef=I.exponential,em=I.fibonacci,eg=I.fixed,ey=I.forever,eb=I.fromDelay,eS=I.fromDelays,ev=I.fromFunction,ek=I.identity,ew=I.passthrough,eE=I.intersect,ex=I.intersectWith,eI=I.jittered,eT=I.jitteredWith,eC=I.linear,eR=I.map,eF=I.mapEffect,eA=I.modifyDelay,eO=I.modifyDelayEffect,e_=I.onDecision,eM=I.once,eD=I.provideContext,eN=I.provideService,ez=I.recurUntil,eP=I.recurUntilEffect,eL=I.recurUntilOption,eU=I.recurUpTo,ej=I.recurWhile,eW=I.recurWhileEffect,eq=I.recurs,eB=I.reduce,e$=I.reduceEffect,eV=I.forever,eH=I.repetitions,eG=I.resetAfter,eK=I.resetWhen,eJ=I.run,eZ=I.spaced,eQ=I.stop,eY=I.succeed,eX=I.sync,e0=I.tapInput,e1=I.tapOutput,e2=I.unfold,e3=I.union,e5=I.unionWith,e4=I.untilInput,e8=I.untilInputEffect,e6=I.untilOutput,e9=I.untilOutputEffect,e7=I.upTo,te=I.whileInput,tt=I.whileInputEffect,tr=I.whileOutput,ta=I.whileOutputEffect,ti=I.windowed,tn=I.zipLeft,ts=I.zipRight,to=I.zipWith,tl=I.CurrentIterationMetadata;e.s(["CurrentIterationMetadata",0,tl,"ScheduleDriverTypeId",0,C,"ScheduleTypeId",0,T,"addDelay",0,A,"addDelayEffect",0,O,"andThen",0,_,"andThenEither",0,M,"as",0,D,"asVoid",0,N,"bothInOut",0,z,"check",0,P,"checkEffect",0,L,"collectAllInputs",0,U,"collectAllOutputs",0,j,"collectUntil",0,W,"collectUntilEffect",0,q,"collectWhile",0,B,"collectWhileEffect",0,$,"compose",0,V,"count",0,J,"cron",0,Z,"dayOfMonth",0,ee,"dayOfWeek",0,et,"delayed",0,er,"delayedEffect",0,ea,"delayedSchedule",0,ei,"delays",0,en,"driver",0,el,"duration",0,eu,"either",0,ec,"eitherWith",0,ed,"elapsed",0,ep,"ensuring",0,eh,"exponential",0,ef,"fibonacci",0,em,"fixed",0,eg,"forever",0,ey,"fromDelay",0,eb,"fromDelays",0,eS,"fromFunction",0,ev,"hourOfDay",0,X,"identity",0,ek,"intersect",0,eE,"intersectWith",0,ex,"isSchedule",0,F,"jittered",0,eI,"jitteredWith",0,eT,"linear",0,eC,"makeWithState",0,R,"map",0,eR,"mapBoth",0,es,"mapBothEffect",0,eo,"mapEffect",0,eF,"mapInput",0,H,"mapInputContext",0,K,"mapInputEffect",0,G,"minuteOfHour",0,Y,"modifyDelay",0,eA,"modifyDelayEffect",0,eO,"onDecision",0,e_,"once",0,eM,"passthrough",0,ew,"provideContext",0,eD,"provideService",0,eN,"recurUntil",0,ez,"recurUntilEffect",0,eP,"recurUntilOption",0,eL,"recurUpTo",0,eU,"recurWhile",0,ej,"recurWhileEffect",0,eW,"recurs",0,eq,"reduce",0,eB,"reduceEffect",0,e$,"repeatForever",0,eV,"repetitions",0,eH,"resetAfter",0,eG,"resetWhen",0,eK,"run",0,eJ,"secondOfMinute",0,Q,"spaced",0,eZ,"stop",0,eQ,"succeed",0,eY,"sync",0,eX,"tapInput",0,e0,"tapOutput",0,e1,"unfold",0,e2,"union",0,e3,"unionWith",0,e5,"untilInput",0,e4,"untilInputEffect",0,e8,"untilOutput",0,e6,"untilOutputEffect",0,e9,"upTo",0,e7,"whileInput",0,te,"whileInputEffect",0,tt,"whileOutput",0,tr,"whileOutputEffect",0,ta,"windowed",0,ti,"zipLeft",0,tn,"zipRight",0,ts,"zipWith",0,to],7703391);let tu={_tag:"Left"},tc={_tag:"Right"},td={_tag:"Both"},tp={_tag:"Either"};var th=e.i(5283034),tf=e.i(9390854),tm=e.i(2090854),tg=e.i(4138091),ty=e.i(8884753),tb=e.i(7548658),tS=e.i(5242335),tv=e.i(6187448),tk=e.i(4807844),tw=e.i(5015632),tE=e.i(5160412),tx=e.i(6091153),tI=e.i(1200369);let tT=Symbol.for("effect/Sink"),tC={_A:e=>e,_In:e=>e,_L:e=>e,_E:e=>e,_R:e=>e};class tR{channel;[tT]=tC;constructor(e){this.channel=e}pipe(){return(0,b.pipeArguments)(this,arguments)}}let tF=e=>(0,S.hasProperty)(e,tT),tA=e=>new tR(ty.suspend(()=>rJ(e()))),tO=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,r_(()=>t))),t_=()=>new tR(tM(r.empty())),tM=e=>ty.readWithCause({onInput:t=>tM((0,h.pipe)(e,r.appendAll(t))),onFailure:ty.failCause,onDone:()=>ty.succeed(e)}),tD=e=>tA(()=>rI(tN(e,r.empty()))),tN=(e,t)=>ty.readWithCause({onInput:a=>{let[i,n]=r.splitAt(a,e);return i.length<e?tN(e-i.length,r.appendAll(t,i)):r.isEmpty(n)?ty.succeed(r.appendAll(t,i)):ty.flatMap(ty.write(n),()=>ty.succeed(r.appendAll(t,i)))},onFailure:ty.failCause,onDone:()=>ty.succeed(t)}),tz=(e,t)=>ty.readWith({onInput:a=>{let[i,n]=(0,h.pipe)(r.toReadonlyArray(a),th.span(e));return 0===n.length?tz(e,(0,h.pipe)(t,r.appendAll(r.unsafeFromArray(i)))):(0,h.pipe)(ty.write(r.unsafeFromArray(n)),tx.zipRight(ty.succeed((0,h.pipe)(t,r.appendAll(r.unsafeFromArray(i))))))},onFailure:ty.fail,onDone:()=>ty.succeed(t)}),tP=(e,t)=>ty.readWith({onInput:a=>(0,h.pipe)(ty.fromEffect((0,h.pipe)(a,o.takeWhile(e),o.map(r.unsafeFromArray))),ty.flatMap(i=>{let n=(0,h.pipe)(a,r.drop(i.length));return r.isEmpty(n)?tP(e,(0,h.pipe)(t,r.appendAll(i))):(0,h.pipe)(ty.write(n),tx.zipRight(ty.succeed((0,h.pipe)(t,r.appendAll(i)))))})),onFailure:ty.fail,onDone:()=>ty.succeed(t)}),tL=(0,h.dual)(2,(e,t)=>{let a=(0,h.pipe)(E.make(r.empty()),o.zip(E.make(!1)));return new tR((0,h.pipe)(ty.fromEffect(a),ty.flatMap(r=>{let[a,i]=r,n=ty.readWith({onInput:e=>(0,h.pipe)(ty.write(e),ty.flatMap(()=>n)),onFailure:ty.fail,onDone:e=>(0,h.pipe)(ty.fromEffect(E.set(i,!0)),tx.as(e))});return(0,h.pipe)(n,ty.pipeTo(tx.bufferChunk(a)),ty.pipeTo(tU(e,a,i,t.initial,t.while,t.body)))})))}),tU=(e,t,a,i,n,s)=>(0,h.pipe)(rJ(e),tx.doneCollect,tx.foldChannel({onFailure:ty.fail,onSuccess:o=>{let[l,u]=o;return n(u)?(0,h.pipe)(ty.fromEffect(E.set(t,r.flatten(l))),ty.flatMap(()=>(0,h.pipe)(ty.fromEffect(E.get(a)),ty.flatMap(o=>{let c=s(i,u);return o?(0,h.pipe)(ty.write(r.flatten(l)),tx.as(c)):tU(e,t,a,c,n,s)})))):(0,h.pipe)(ty.write(r.flatten(l)),tx.as(i))}})),tj=e=>new tR((0,h.pipe)(ty.collectElements(rJ(e)),tx.map(e=>{let[t,a]=e;return[a,r.flatten(t)]}))),tW=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,tB(r.map(t)))),tq=(0,h.dual)(2,(e,t)=>t$(e,e=>o.map(o.forEach(e,e=>t(e)),r.unsafeFromArray))),tB=(0,h.dual)(2,(e,t)=>{let r=ty.readWith({onInput:e=>(0,h.pipe)(ty.write(t(e)),ty.flatMap(()=>r)),onFailure:ty.fail,onDone:ty.succeed});return new tR((0,h.pipe)(r,ty.pipeTo(rJ(e))))}),t$=(0,h.dual)(2,(e,t)=>{let r=ty.readWith({onInput:e=>(0,h.pipe)(ty.fromEffect(t(e)),ty.flatMap(ty.write),ty.flatMap(()=>r)),onFailure:ty.fail,onDone:ty.succeed});return new tR((0,h.pipe)(r,tx.pipeToOrFail(rJ(e))))}),tV=(0,h.dual)(2,(e,t)=>r_(tW(e,t.onInput),t.onDone)),tH=(0,h.dual)(2,(e,t)=>rM(tq(e,t.onInput),t.onDone)),tG=(0,h.dual)(2,(e,t)=>r_(tB(e,t.onInput),t.onDone)),tK=(0,h.dual)(2,(e,t)=>rM(t$(e,t.onInput),t.onDone)),tJ=new tR(tx.drain(tx.identityChannel())),tZ=e=>tA(()=>new tR(tQ(e))),tQ=e=>ty.readWith({onInput:t=>{let a=(0,h.pipe)(t,r.drop(e)),i=Math.max(e-t.length,0);return r.isEmpty(t)||i>0?tQ(i):(0,h.pipe)(ty.write(a),tx.zipRight(tx.identityChannel()))},onFailure:ty.fail,onDone:()=>ty.void}),tY=e=>ty.readWith({onInput:t=>(0,h.pipe)(t,o.dropUntil(e),o.map(t=>0===t.length?tY(e):(0,h.pipe)(ty.write(r.unsafeFromArray(t)),tx.zipRight(tx.identityChannel()))),tx.unwrap),onFailure:ty.fail,onDone:()=>ty.void}),tX=e=>new tR(t0(e)),t0=e=>ty.readWith({onInput:t=>{let a=(0,h.pipe)(t,r.dropWhile(e));return r.isEmpty(a)?t0(e):(0,h.pipe)(ty.write(a),tx.zipRight(tx.identityChannel()))},onFailure:ty.fail,onDone:ty.succeedNow}),t1=e=>ty.readWith({onInput:t=>(0,h.pipe)(t,o.dropWhile(e),o.map(t=>0===t.length?t1(e):(0,h.pipe)(ty.write(r.unsafeFromArray(t)),tx.zipRight(tx.identityChannel()))),tx.unwrap),onFailure:ty.fail,onDone:()=>ty.void}),t2=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(e,rJ,tx.ensuring(t)))),t3=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(e,rJ,ty.ensuringWith(t)))),t5=()=>rT(o.context()),t4=e=>new tR(ty.fail(e)),t8=e=>new tR(ty.failCause(e)),t6=e=>new tR(ty.failCauseSync(e)),t9=(0,h.dual)(2,(e,t)=>t$(e,e=>o.map(o.filter(e,t),r.unsafeFromArray))),t7=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(ty.fromEffect((0,h.pipe)(E.make(r.empty()),o.zip(E.make(!1)))),ty.flatMap(a=>{let[i,n]=a,s=ty.readWith({onInput:e=>(0,h.pipe)(ty.write(e),ty.flatMap(()=>s)),onFailure:ty.fail,onDone:e=>(0,h.pipe)(ty.fromEffect(E.set(n,!0)),tx.as(e))}),o=tx.foldChannel(ty.collectElements(rJ(e)),{onFailure:ty.fail,onSuccess:e=>{let[a,s]=e;return(0,h.pipe)(ty.fromEffect(t(s)),ty.flatMap(e=>(0,h.pipe)(ty.fromEffect(E.set(i,r.flatten(a))),tx.zipRight((0,h.pipe)(ty.fromEffect(E.get(n)),ty.flatMap(t=>e?(0,h.pipe)(ty.write(r.flatten(a)),tx.as(y.some(s))):t?(0,h.pipe)(ty.write(r.flatten(a)),tx.as(y.none())):o))))))}});return(0,h.pipe)(s,ty.pipeTo(tx.bufferChunk(i)),ty.pipeTo(o))})))),re=(e,t,r)=>tA(()=>new tR(rt(e,t,r))),rt=(e,t,a)=>t(e)?ty.readWith({onInput:i=>{let[n,s]=rr(e,i,t,a,0,i.length);return r.isNonEmpty(s)?(0,h.pipe)(ty.write(s),tx.as(n)):rt(n,t,a)},onFailure:ty.fail,onDone:()=>ty.succeedNow(e)}):ty.succeedNow(e),rr=(e,t,a,i,n,s)=>{if(n===s)return[e,r.empty()];let o=i(e,(0,h.pipe)(t,r.unsafeGet(n)));return a(o)?rr(o,t,a,i,n+1,s):[o,(0,h.pipe)(t,r.drop(n+1))]},ra=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(rJ(e),ty.collectElements,tx.foldChannel({onFailure:e=>rJ(t.onFailure(e)),onSuccess:e=>{let[a,i]=e;return ty.suspend(()=>{let e={ref:(0,h.pipe)(a,r.filter(r.isNonEmpty))},n=(0,h.pipe)(ty.sync(()=>{let t=e.ref;return e.ref=r.empty(),t}),ty.flatMap(e=>tx.writeChunk(e))),s=tx.identityChannel(),o=(0,h.pipe)(n,tx.zipRight(s),ty.pipeTo(rJ(t.onSuccess(i))));return ty.flatMap(ty.collectElements(o),t=>{let[r,a]=t;return(0,h.pipe)(ty.succeed(e.ref),ty.flatMap(tx.writeChunk),tx.zipRight(tx.writeChunk(r)),tx.as(a))})})}})))),ri=(e,t,r)=>tA(()=>new tR(rn(e,t,r))),rn=(e,t,r)=>t(e)?ty.readWith({onInput:a=>rn(r(e,a),t,r),onFailure:ty.fail,onDone:()=>ty.succeedNow(e)}):ty.succeedNow(e),rs=(e,t,r)=>tA(()=>new tR(ro(e,t,r))),ro=(e,t,r)=>t(e)?ty.readWith({onInput:a=>(0,h.pipe)(ty.fromEffect(r(e,a)),ty.flatMap(e=>ro(e,t,r))),onFailure:ty.fail,onDone:()=>ty.succeedNow(e)}):ty.succeedNow(e),rl=(e,t,r)=>tA(()=>new tR(ru(e,t,r))),ru=(e,t,r)=>t(e)?ty.readWith({onInput:a=>(0,h.pipe)(ty.fromEffect(rc(e,a,t,r)),ty.flatMap(e=>{let[a,i]=e;return(0,h.pipe)(i,y.match({onNone:()=>ru(a,t,r),onSome:e=>(0,h.pipe)(ty.write(e),tx.as(a))}))})),onFailure:ty.fail,onDone:()=>ty.succeedNow(e)}):ty.succeedNow(e),rc=(e,t,r,a)=>rd(e,t,0,t.length,r,a),rd=(e,t,a,i,n,s)=>a===i?o.succeed([e,y.none()]):(0,h.pipe)(s(e,(0,h.pipe)(t,r.unsafeGet(a))),o.flatMap(e=>n(e)?rd(e,t,a+1,i,n,s):o.succeed([e,y.some((0,h.pipe)(t,r.drop(a+1)))]))),rp=(e,t)=>ri(e,h.constTrue,t),rh=e=>rf({...e,decompose:r.of}),rf=e=>tA(()=>new tR(rm(e.initial,0,!1,e.maxCost,e.cost,e.decompose,e.body))),rm=(e,t,a,i,n,s,o)=>ty.readWith({onInput:l=>{let[u,c,d,p]=rg(l,e,t,a,i,n,s,o);return r.isNonEmpty(p)?(0,h.pipe)(ty.write(p),tx.zipRight(ty.succeedNow(u))):t>i?ty.succeedNow(u):rm(u,c,d,i,n,s,o)},onFailure:ty.fail,onDone:()=>ty.succeedNow(e)}),rg=(e,t,a,i,n,s,o,l)=>{for(let u=0;u<e.length;u++){let c=r.unsafeGet(e,u),d=a;if((a+=s(t,c))<=n){t=l(t,c),i=!0;continue}let p=o(c);if(p.length<=1&&!i)return[l(t,c),a,!0,r.drop(e,u+1)];if(p.length<=1&&i)return[t,d,i,r.drop(e,u)];e=r.appendAll(p,r.drop(e,u+1)),a=d,u=-1}return[t,a,i,r.empty()]},ry=e=>tA(()=>new tR(rb(e.initial,e.maxCost,e.cost,e.decompose,e.body,0,!1))),rb=(e,t,a,i,n,s,o)=>ty.readWith({onInput:l=>(0,h.pipe)(ty.fromEffect(rS(e,t,a,i,n,l,o,s,0)),ty.flatMap(e=>{let[o,l,u,c]=e;return r.isNonEmpty(c)?(0,h.pipe)(ty.write(c),tx.zipRight(ty.succeedNow(o))):s>t?ty.succeedNow(o):rb(o,t,a,i,n,l,u)})),onFailure:ty.fail,onDone:()=>ty.succeedNow(e)}),rS=(e,t,a,i,n,s,l,u,c)=>{if(c===s.length)return o.succeed([e,u,l,r.empty()]);let d=(0,h.pipe)(s,r.unsafeGet(c));return(0,h.pipe)(a(e,d),o.map(e=>u+e),o.flatMap(p=>p<=t?(0,h.pipe)(n(e,d),o.flatMap(e=>rS(e,t,a,i,n,s,!0,p,c+1))):(0,h.pipe)(i(d),o.flatMap(f=>f.length<=1&&!l?(0,h.pipe)(n(e,d),o.map(e=>[e,p,!0,(0,h.pipe)(s,r.drop(c+1))])):f.length<=1&&l?o.succeed([e,u,l,(0,h.pipe)(s,r.drop(c))]):rS(e,t,a,i,n,(0,h.pipe)(f,r.appendAll((0,h.pipe)(s,r.drop(c+1)))),l,u,0)))))},rv=(0,h.dual)(2,(e,t)=>ra(e,{onFailure:t4,onSuccess:t})),rk=e=>{let t=ty.readWithCause({onInput:r=>(0,h.pipe)(ty.fromEffect(o.forEach(r,t=>e(t),{discard:!0})),ty.flatMap(()=>t)),onFailure:ty.failCause,onDone:()=>ty.void});return new tR(t)},rw=e=>{let t=ty.readWithCause({onInput:r=>(0,h.pipe)(ty.fromEffect(e(r)),ty.flatMap(()=>t)),onFailure:ty.failCause,onDone:()=>ty.void});return new tR(t)},rE=e=>{let t=ty.readWithCause({onInput:r=>rx(e,r,0,r.length,t),onFailure:ty.failCause,onDone:()=>ty.void});return new tR(t)},rx=(e,t,a,i,n)=>a===i?n:(0,h.pipe)(ty.fromEffect(e((0,h.pipe)(t,r.unsafeGet(a)))),ty.flatMap(s=>s?rx(e,t,a+1,i,n):ty.write((0,h.pipe)(t,r.drop(a)))),tx.catchAll(e=>(0,h.pipe)(ty.write((0,h.pipe)(t,r.drop(a))),tx.zipRight(ty.fail(e))))),rI=e=>new tR(e),rT=e=>new tR(ty.fromEffect(e)),rC=e=>ty.readWith({onInput:t=>tx.foldChannel(ty.fromEffect(e(y.some(t))),{onFailure:e=>{let[t,r]=e;return l.match(t,{onLeft:e=>(0,h.pipe)(ty.write(r),tx.zipRight(ty.fail(e))),onRight:e=>(0,h.pipe)(ty.write(r),tx.zipRight(ty.succeedNow(e)))})},onSuccess:()=>rC(e)}),onFailure:ty.fail,onDone:()=>tx.foldChannel(ty.fromEffect(e(y.none())),{onFailure:e=>{let[t,r]=e;return l.match(t,{onLeft:e=>(0,h.pipe)(ty.write(r),tx.zipRight(ty.fail(e))),onRight:e=>(0,h.pipe)(ty.write(r),tx.zipRight(ty.succeedNow(e)))})},onSuccess:()=>ty.fromEffect(o.dieMessage("BUG: Sink.fromPush - please report an issue at https://github.com/Effect-TS/effect/issues"))})}),rR=(e,t)=>t?.shutdown?rZ(o.map(o.acquireRelease(o.succeed(e),k.shutdown),rR)):rw(t=>k.offerAll(e,t)),rF=()=>re(y.none(),y.isNone,(e,t)=>y.match(e,{onNone:()=>y.some(t),onSome:()=>e})),rA=e=>new tR(tx.drain(rJ(e))),rO=()=>rp(y.none(),(e,t)=>y.orElse(r.last(t),()=>e)),r_=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(rJ(e),tx.map(t)))),rM=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(rJ(e),tx.mapEffect(t)))),rD=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(rJ(e),tx.mapError(t)))),rN=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(rJ(e),tx.mapOut(r.map(t))))),rz=rT(o.never),rP=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(rJ(e),tx.orElse(()=>rJ(t()))))),rL=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(rJ(e),ty.provideContext(t)))),rU=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,rj(t),r_(l.merge))),rj=(0,h.dual)(e=>tF(e[1]),(e,t,r)=>rW(e,{other:t,onSelfDone:e=>tI.Done(o.map(e,l.left)),onOtherDone:e=>tI.Done(o.map(e,l.right)),capacity:r?.capacity??16})),rW=(0,h.dual)(2,(e,t)=>rQ(function(r){return o.gen(function*(){let a=yield*v.bounded(t?.capacity??16),i=yield*tE.extend(v.subscribe(a),r),n=yield*tE.extend(v.subscribe(a),r),s=tx.toPubSub(a),o=tx.fromQueue(i).pipe(ty.pipeTo(rJ(e)),tx.zipLeft(ty.fromEffect(k.shutdown(i))),tx.mergeWith({other:tx.fromQueue(n).pipe(ty.pipeTo(rJ(t.other)),tx.zipLeft(ty.fromEffect(k.shutdown(n)))),onSelfDone:t.onSelfDone,onOtherDone:t.onOtherDone}));return new tR(tx.mergeWith(s,{other:o,onSelfDone:()=>tI.Await(h.identity),onOtherDone:e=>tI.Done(e)}))})})),rq=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,rB(t,h.identity))),rB=(0,h.dual)(3,(e,r,a)=>new tR((0,h.pipe)(e,rJ,tx.catchAll(e=>y.match(r(e),{onNone:()=>ty.failCauseSync(()=>t.die(a(e))),onSome:ty.fail}))))),r$=(0,h.dual)(2,(e,t)=>new tR((0,h.pipe)(ty.fromEffect(E.make(r.empty())),ty.flatMap(a=>(0,h.pipe)(rV(!1,a,t),tx.pipeToOrFail(rJ(e)),ty.collectElements,ty.flatMap(e=>{let[t,i]=e;return(0,h.pipe)(ty.fromEffect(E.get(a)),ty.flatMap(e=>(0,h.pipe)(ty.write((0,h.pipe)(e,r.appendAll(r.flatten(t)))),tx.zipRight(ty.succeed(i)))))})))))),rV=(e,t,a)=>ty.readWithCause({onInput:i=>{if(r.isEmpty(i))return rV(e,t,a);if(e){let e=rH(i,a);if(-1===e)return tx.zipRight(ty.write(i),rV(!0,t,a));let[n,s]=r.splitAt(i,e);return tx.zipRight(ty.write(n),ty.fromEffect(E.set(t,s)))}let n=rH(i,a,1);if(-1===n)return tx.zipRight(ty.write(i),rV(!0,t,a));let[s,o]=(0,h.pipe)(i,r.splitAt(Math.max(n,1)));return tx.zipRight(ty.write(s),ty.fromEffect(E.set(t,o)))},onFailure:ty.failCause,onDone:ty.succeed}),rH=function(e,t){let r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e[Symbol.iterator](),n=0,s=-1;for(;s<0&&(r=i.next())&&!r.done;){let e=r.value;n>=a&&t(e)&&(s=n),n+=1}return s},rG=rp(0,(e,t)=>e+r.reduce(t,0,(e,t)=>e+t)),rK=(0,h.dual)(3,(e,t,r)=>new tR((0,h.pipe)(ty.fromEffect(t),ty.flatMap(a=>(0,h.pipe)(e,rJ,ty.flatMap(e=>(0,h.pipe)(ty.fromEffect(t),tx.map(t=>[e,r(a,t)])))))))),rJ=e=>o.isEffect(e)?rJ(rT(e)):e.channel,rZ=e=>new tR(tx.unwrapScoped(e.pipe(o.map(e=>rJ(e))))),rQ=e=>new tR(tx.unwrapScopedWith(t=>e(t).pipe(o.map(e=>rJ(e))))),rY=e=>(0,h.pipe)(e,rK(a.currentTimeMillis,(e,t)=>s.millis(t-e))),rX=(0,h.dual)(e=>tF(e[1]),(e,t,r)=>r2(e,t,(e,t)=>[e,t],r)),r0=(0,h.dual)(e=>tF(e[1]),(e,t,r)=>r2(e,t,(e,t)=>e,r)),r1=(0,h.dual)(e=>tF(e[1]),(e,t,r)=>r2(e,t,(e,t)=>t,r)),r2=(0,h.dual)(e=>tF(e[1]),(e,t,r,a)=>a?.concurrent?rW(e,{other:t,onSelfDone:c.match({onFailure:e=>tI.Done(o.failCause(e)),onSuccess:e=>tI.Await(c.match({onFailure:o.failCause,onSuccess:t=>o.succeed(r(e,t))}))}),onOtherDone:c.match({onFailure:e=>tI.Done(o.failCause(e)),onSuccess:e=>tI.Await(c.match({onFailure:o.failCause,onSuccess:t=>o.succeed(r(t,e))}))})}):rv(e,e=>r_(t,t=>r(e,t)))),r3=rp(0,(e,t)=>e+t.length),r5=tA(()=>{let e=[];return(0,h.pipe)(rp(void 0,(t,a)=>r.map(a,t=>{e.push(String(t))})),r_(()=>e.join("")))}),r4=(0,h.pipe)(rY(tJ),r_(e=>e[1]));e.s(["SinkTypeId",0,tT,"as",0,tO,"channelToSink",0,e=>new tR(e),"collectAll",0,t_,"collectAllFrom",0,e=>tL(e,{initial:r.empty(),while:h.constTrue,body:(e,t)=>(0,h.pipe)(e,r.append(t))}),"collectAllN",0,tD,"collectAllToMap",0,(e,t)=>rp(tw.empty(),(a,i)=>(0,h.pipe)(i,r.reduce(a,(r,a)=>{let i=e(a),n=(0,h.pipe)(r,tw.has(i))?t((0,h.pipe)(r,tw.unsafeGet(i)),a):a;return(0,h.pipe)(r,tw.set(i,n))}))),"collectAllToMapN",0,(e,t,r)=>rh({initial:tw.empty(),maxCost:e,cost:(e,r)=>+!(0,h.pipe)(e,tw.has(t(r))),body:(e,a)=>{let i=t(a),n=(0,h.pipe)(e,tw.has(i))?r((0,h.pipe)(e,tw.unsafeGet(i)),a):a;return(0,h.pipe)(e,tw.set(i,n))}}),"collectAllToSet",0,()=>rp(tf.empty(),(e,t)=>(0,h.pipe)(t,r.reduce(e,(e,t)=>(0,h.pipe)(e,tf.add(t))))),"collectAllToSetN",0,e=>rh({initial:tf.empty(),maxCost:e,cost:(e,t)=>+!tf.has(e,t),body:(e,t)=>tf.add(e,t)}),"collectAllUntil",0,e=>(0,h.pipe)(re([r.empty(),!0],e=>e[1],(t,a)=>{let[i,n]=t;return[(0,h.pipe)(i,r.append(a)),!e(a)]}),r_(e=>e[0])),"collectAllUntilEffect",0,e=>(0,h.pipe)(rl([r.empty(),!0],e=>e[1],(t,a)=>{let[i,n]=t;return(0,h.pipe)(e(a),o.map(e=>[(0,h.pipe)(i,r.append(a)),!e]))}),r_(e=>e[0])),"collectAllWhile",0,e=>rI(tz(e,r.empty())),"collectAllWhileEffect",0,e=>rI(tP(e,r.empty())),"collectAllWhileWith",0,tL,"collectLeftover",0,tj,"context",0,t5,"contextWith",0,e=>(0,h.pipe)(t5(),r_(e)),"contextWithEffect",0,e=>(0,h.pipe)(t5(),rM(e)),"contextWithSink",0,e=>new tR(tx.unwrap(o.contextWith(t=>rJ(e(t))))),"count",0,r3,"die",0,e=>t8(t.die(e)),"dieMessage",0,e=>t8(t.die(new t.RuntimeException(e))),"dieSync",0,e=>t6(()=>t.die(e())),"dimap",0,tV,"dimapChunks",0,tG,"dimapChunksEffect",0,tK,"dimapEffect",0,tH,"drain",0,tJ,"drop",0,tZ,"dropUntil",0,e=>new tR((0,h.pipe)(rJ(tX(t=>!e(t))),tx.pipeToOrFail(rJ(tZ(1))))),"dropUntilEffect",0,e=>tA(()=>new tR(tY(e))),"dropWhile",0,tX,"dropWhileEffect",0,e=>tA(()=>new tR(t1(e))),"ensuring",0,t2,"ensuringWith",0,t3,"every",0,e=>re(!0,h.identity,(t,r)=>t&&e(r)),"fail",0,t4,"failCause",0,t8,"failCauseSync",0,t6,"failSync",0,e=>new tR(ty.failSync(e)),"filterInput",0,e=>t=>(0,h.pipe)(t,tB(r.filter(e))),"filterInputEffect",0,t9,"findEffect",0,t7,"flatMap",0,rv,"fold",0,re,"foldChunks",0,ri,"foldChunksEffect",0,rs,"foldEffect",0,rl,"foldLeft",0,(e,t)=>rA(re(e,h.constTrue,t)),"foldLeftChunks",0,rp,"foldLeftChunksEffect",0,(e,t)=>rA(rs(e,h.constTrue,t)),"foldLeftEffect",0,(e,t)=>rl(e,h.constTrue,t),"foldSink",0,ra,"foldUntil",0,(e,t,r)=>(0,h.pipe)(re([e,0],e=>e[1]<t,(e,t)=>{let[a,i]=e;return[r(a,t),i+1]}),r_(e=>e[0])),"foldUntilEffect",0,(e,t,r)=>(0,h.pipe)(rl([e,0],e=>e[1]<t,(e,t)=>{let[a,i]=e;return(0,h.pipe)(r(a,t),o.map(e=>[e,i+1]))}),r_(e=>e[0])),"foldWeighted",0,rh,"foldWeightedDecompose",0,rf,"foldWeightedDecomposeEffect",0,ry,"foldWeightedEffect",0,e=>ry({...e,decompose:e=>o.succeed(r.of(e))}),"forEach",0,rk,"forEachChunk",0,rw,"forEachChunkWhile",0,e=>{let t=ty.readWith({onInput:r=>(0,h.pipe)(ty.fromEffect(e(r)),ty.flatMap(e=>e?t:ty.void)),onFailure:ty.fail,onDone:()=>ty.void});return new tR(t)},"forEachWhile",0,rE,"fromChannel",0,rI,"fromEffect",0,rT,"fromPubSub",0,(e,t)=>rR(e,t),"fromPush",0,e=>new tR(tx.unwrapScoped((0,h.pipe)(e,o.map(rC)))),"fromQueue",0,rR,"head",0,rF,"ignoreLeftover",0,rA,"last",0,rO,"leftover",0,e=>new tR(ty.suspend(()=>ty.write(e))),"map",0,r_,"mapEffect",0,rM,"mapError",0,rD,"mapInput",0,tW,"mapInputChunks",0,tB,"mapInputChunksEffect",0,t$,"mapInputEffect",0,tq,"mapLeftover",0,rN,"mkString",0,r5,"never",0,rz,"orElse",0,rP,"provideContext",0,rL,"race",0,rU,"raceBoth",0,rj,"raceWith",0,rW,"refineOrDie",0,rq,"refineOrDieWith",0,rB,"some",0,e=>re(!1,e=>!e,(t,r)=>t||e(r)),"splitWhere",0,r$,"succeed",0,e=>new tR(ty.succeed(e)),"sum",0,rG,"summarized",0,rK,"suspend",0,tA,"sync",0,e=>new tR(ty.sync(e)),"take",0,e=>(0,h.pipe)(ri(r.empty(),t=>t.length<e,(e,t)=>(0,h.pipe)(e,r.appendAll(t))),rv(t=>{let[a,i]=(0,h.pipe)(t,r.splitAt(e));return new tR((0,h.pipe)(ty.write(i),tx.zipRight(ty.succeedNow(a))))})),"timed",0,r4,"toChannel",0,rJ,"unwrap",0,e=>new tR(tx.unwrap((0,h.pipe)(e,o.map(e=>rJ(e))))),"unwrapScoped",0,rZ,"unwrapScopedWith",0,rQ,"withDuration",0,rY,"zip",0,rX,"zipLeft",0,r0,"zipRight",0,r1,"zipWith",0,r2],7365553);class r8{value;constructor(e){this.value=e}}let r6=(e,t)=>({ref:e,isNew:t,isChanged:!1,expected:e.versioned,newValue:e.versioned.value}),r9=(e,t)=>{e.isChanged=!0,e.newValue=t},r7=e=>{e.ref.versioned=new r8(e.newValue)},ae=e=>({ref:e.ref,isNew:e.isNew,isChanged:e.isChanged,expected:e.expected,newValue:e.newValue}),at=e=>e.ref.versioned!==e.expected,ar=e=>e.isChanged,aa="Invalid",ai="ReadWrite",an=e=>{for(let t of e)r7(t[1])},as=e=>{let t="ReadOnly";for(let[,r]of e)if((t=at(r)?aa:ar(r)?ai:t)===aa)break;return t},ao="WithSTMRuntime",al="OnFailure",au="OnRetry",ac="OnSuccess",ad="Provide",ap="Sync",ah="Succeed",af="Retry",am="Fail",ag="Interrupt",ay="Fail",ab="Interrupt",aS="Succeed",av="Retry",ak="Done",aw="Suspend",aE="Done",ax="Interrupted",aI="Running",aT="effect/STM/State",aC=Symbol.for(aT),aR=e=>(0,S.hasProperty)(e,aC),aF=e=>({[aC]:aC,_tag:aE,exit:e,[tm.symbol](){return(0,h.pipe)(tm.hash(aT),tm.combine(tm.hash(aE)),tm.combine(tm.hash(e)),tm.cached(this))},[u.symbol]:t=>aR(t)&&t._tag===aE&&u.equals(e,t.exit)}),aA=(0,h.pipe)(tm.hash(aT),tm.combine(tm.hash(ax)),tm.combine(tm.hash("interrupted"))),aO={[aC]:aC,_tag:ax,[tm.symbol]:()=>aA,[u.symbol]:e=>aR(e)&&e._tag===ax},a_=(0,h.pipe)(tm.hash(aT),tm.combine(tm.hash(aI)),tm.combine(tm.hash("running"))),aM={[aC]:aC,_tag:aI,[tm.symbol]:()=>a_,[u.symbol]:e=>aR(e)&&e._tag===aI},aD=e=>{switch(e._tag){case ay:return aF(c.fail(e.error));case"Die":return aF(c.die(e.defect));case ab:return aF(c.interrupt(e.fiberId));case aS:return aF(c.succeed(e.value));case av:throw Error("BUG: STM.STMState.fromTExit - please report an issue at https://github.com/Effect-TS/effect/issues")}},aN="effect/TExit",az=Symbol.for(aN),aP={_A:e=>e,_E:e=>e},aL=e=>(0,S.hasProperty)(e,az),aU=e=>({[az]:aP,_tag:ay,error:e,[tm.symbol](){return(0,h.pipe)(tm.hash(aN),tm.combine(tm.hash(ay)),tm.combine(tm.hash(e)),tm.cached(this))},[u.symbol]:t=>aL(t)&&t._tag===ay&&u.equals(e,t.error)}),aj=e=>({[az]:aP,_tag:"Die",defect:e,[tm.symbol](){return(0,h.pipe)(tm.hash(aN),tm.combine(tm.hash("Die")),tm.combine(tm.hash(e)),tm.cached(this))},[u.symbol]:t=>aL(t)&&"Die"===t._tag&&u.equals(e,t.defect)}),aW=e=>({[az]:aP,_tag:ab,fiberId:e,[tm.symbol](){return(0,h.pipe)(tm.hash(aN),tm.combine(tm.hash(ab)),tm.combine(tm.hash(e)),tm.cached(this))},[u.symbol]:t=>aL(t)&&t._tag===ab&&u.equals(e,t.fiberId)}),aq=e=>({[az]:aP,_tag:aS,value:e,[tm.symbol](){return(0,h.pipe)(tm.hash(aN),tm.combine(tm.hash(aS)),tm.combine(tm.hash(e)),tm.cached(this))},[u.symbol]:t=>aL(t)&&t._tag===aS&&u.equals(e,t.value)}),aB=(0,h.pipe)(tm.hash(aN),tm.combine(tm.hash(av)),tm.combine(tm.hash("retry"))),a$={[az]:aP,_tag:av,[tm.symbol]:()=>aB,[u.symbol]:e=>aL(e)&&e._tag===av},aV=e=>({_tag:aw,journal:e}),aH={ref:0},aG=Symbol.for("effect/STM"),aK={_R:e=>e,_E:e=>e,_A:e=>e};class aJ{effect_instruction_i0;_op=tv.OP_COMMIT;effect_instruction_i1=void 0;effect_instruction_i2=void 0;[o.EffectTypeId];[tS.StreamTypeId];[tT];[ty.ChannelTypeId];get[aG](){return aK}constructor(e){this.effect_instruction_i0=e,this[o.EffectTypeId]=tS.effectVariance,this[tS.StreamTypeId]=aK,this[tT]=aK,this[ty.ChannelTypeId]=aK}[u.symbol](e){return this===e}[tm.symbol](){return tm.cached(this,tm.random(this))}[Symbol.iterator](){return new tk.SingleShotGen(new tg.YieldWrap(this))}commit(){return aZ(this,h.constVoid,h.constVoid)}pipe(){return(0,b.pipeArguments)(this,arguments)}}let aZ=(e,t,r)=>(0,tb.withFiberRuntime)(a=>{let i=a.id(),n=a.getFiberRef(p.currentContext),s=a.getFiberRef(p.currentScheduler),l=a.getFiberRef(p.currentSchedulingPriority),u=aQ(i,e,n,s,l);switch(u._tag){case ak:return t(u.exit),u.exit;case aw:{let a,u=(a=aH.ref+1,aH.ref=a,a),c={value:aM},d=o.async(t=>aY(i,e,u,c,n,s,l,t));return o.uninterruptibleMask(e=>(0,h.pipe)(e(d),o.catchAllCause(e=>{let a=c.value;return a._tag===aI&&(c.value=aO),(a=c.value)._tag===aE?(t(a.exit),a.exit):(r(),o.failCause(e))})))}}}),aQ=(e,r,a,i,n)=>{let s=new Map,o=new a1(r,s,e,a).run(),l=as(s);if(l===ai&&o._tag===aS)an(s);else if(l===aa)throw Error("BUG: STM.TryCommit.tryCommitSync - please report an issue at https://github.com/Effect-TS/effect/issues");switch(o._tag){case aS:return aX(c.succeed(o.value),s,i,n);case ay:{let e=t.fail(o.error);return aX(c.failCause(e),s,i,n)}case"Die":{let e=t.die(o.defect);return aX(c.failCause(e),s,i,n)}case ab:{let r=t.interrupt(e);return aX(c.failCause(r),s,i,n)}case av:return aV(s)}},aY=(e,r,a,i,n,s,o,l)=>{if(i.value._tag===aI){let u=((e,r,a,i,n,s)=>{let o=new Map,l=new a1(r,o,e,i).run(),u=as(o);if(u===ai)an(o);else if(u===aa)throw Error("BUG: STM.TryCommit.tryCommit - please report an issue at https://github.com/Effect-TS/effect/issues");switch(l._tag){case aS:return a.value=aD(l),aX(c.succeed(l.value),o,n,s);case ay:{a.value=aD(l);let e=t.fail(l.error);return aX(c.failCause(e),o,n,s)}case"Die":{a.value=aD(l);let e=t.die(l.defect);return aX(c.failCause(e),o,n,s)}case ab:{a.value=aD(l);let r=t.interrupt(e);return aX(c.failCause(r),o,n,s)}case av:return aV(o)}})(e,r,i,n,s,o);switch(u._tag){case ak:a0(u.exit,l);break;case aw:((e,t,r)=>{for(let[,a]of t)a.ref.todos.has(e)||a.ref.todos.set(e,r)})(a,u.journal,()=>aY(e,r,a,i,n,s,o,l))}}},aX=(e,t,r,a)=>{let i=(e=>{let t=new Map;for(let[,r]of e){for(let e of r.ref.todos)t.set(e[0],e[1]);r.ref.todos=new Map}return t})(t);return i.size>0&&r.scheduleTask(()=>(e=>{for(let[t,r]of Array.from(e.entries()).sort((e,t)=>e[0]-t[0]))r()})(i),a),{_tag:ak,exit:e}},a0=(e,t)=>{t(e)};class a1{self;journal;fiberId;contStack=[];env;constructor(e,t,r,a){this.self=e,this.journal=t,this.fiberId=r,this.env=a}getEnv(){return this.env}pushStack(e){this.contStack.push(e)}popStack(){return this.contStack.pop()}nextSuccess(){let e=this.popStack();for(;void 0!==e&&e.effect_instruction_i0!==ac;)e=this.popStack();return e}nextFailure(){let e=this.popStack();for(;void 0!==e&&e.effect_instruction_i0!==al;)e=this.popStack();return e}nextRetry(){let e=this.popStack();for(;void 0!==e&&e.effect_instruction_i0!==au;)e=this.popStack();return e}run(){let e,r=this.self;for(;void 0===e&&void 0!==r;)try{let a=r;if(a)switch(a._op){case"Tag":r=a8((e,t,r)=>i.unsafeGet(r,a));break;case"Left":r=a9(a.left);break;case"None":r=a9(new t.NoSuchElementException);break;case"Right":r=il(a.right);break;case"Some":r=il(a.value);break;case"Commit":switch(a.effect_instruction_i0){case"Die":e=aj((0,tg.internalCall)(()=>a.effect_instruction_i1()));break;case am:{let t=this.nextFailure();void 0===t?e=aU((0,tg.internalCall)(()=>a.effect_instruction_i1())):r=(0,tg.internalCall)(()=>t.effect_instruction_i2((0,tg.internalCall)(()=>a.effect_instruction_i1())));break}case af:{let t=this.nextRetry();void 0===t?e=a$:r=(0,tg.internalCall)(()=>t.effect_instruction_i2());break}case ag:e=aW(this.fiberId);break;case ao:r=(0,tg.internalCall)(()=>a.effect_instruction_i1(this));break;case ac:case al:case au:this.pushStack(a),r=a.effect_instruction_i1;break;case ad:{let e=this.env;this.env=(0,tg.internalCall)(()=>a.effect_instruction_i2(e)),r=(0,h.pipe)(a.effect_instruction_i1,a6(iu(()=>this.env=e)));break}case ah:{let t=a.effect_instruction_i1,i=this.nextSuccess();void 0===i?e=aq(t):r=(0,tg.internalCall)(()=>i.effect_instruction_i2(t));break}case ap:{let t=(0,tg.internalCall)(()=>a.effect_instruction_i1()),i=this.nextSuccess();void 0===i?e=aq(t):r=(0,tg.internalCall)(()=>i.effect_instruction_i2(t))}}}}catch(e){r=a5(e)}return e}}let a2=(0,h.dual)(2,(e,t)=>{let r=new aJ(al);return r.effect_instruction_i1=e,r.effect_instruction_i2=t,r}),a3=(0,h.dual)(2,(e,t)=>{let r=new aJ(ad);return r.effect_instruction_i1=e,r.effect_instruction_i2=t,r}),a5=e=>a4(()=>e),a4=e=>{let t=new aJ("Die");return t.effect_instruction_i1=e,t},a8=e=>ir(t=>il(e(t.journal,t.fiberId,t.getEnv()))),a6=(0,h.dual)(2,(e,t)=>it(e,{onFailure:e=>ic(t,a9(e)),onSuccess:e=>ic(t,il(e))})),a9=e=>a7(()=>e),a7=e=>{let t=new aJ(am);return t.effect_instruction_i1=e,t},ie=(0,h.dual)(2,(e,t)=>{let r=new aJ(ac);return r.effect_instruction_i1=e,r.effect_instruction_i2=t,r}),it=(0,h.dual)(2,(e,t)=>{let{onFailure:r,onSuccess:a}=t;return(0,h.pipe)(e,ii(l.right),a2(e=>(0,h.pipe)(r(e),ii(l.left))),ie(e=>{switch(e._tag){case"Left":return il(e.left);case"Right":return a(e.right)}}))}),ir=e=>{let t=new aJ(ao);return t.effect_instruction_i1=e,t},ia=e=>{let t=new aJ(ag);return t.effect_instruction_i1=e,t},ii=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ie(e=>iu(()=>t(e))))),is=(0,h.dual)(2,(e,t)=>{let r=new aJ(au);return r.effect_instruction_i1=e,r.effect_instruction_i2=t,r}),io=new aJ(af),il=e=>{let t=new aJ(ah);return t.effect_instruction_i1=e,t},iu=e=>{let t=new aJ(ap);return t.effect_instruction_i1=e,t},ic=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ie(()=>t))),id=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,ie(e=>(0,h.pipe)(t,ii(t=>r(e,t)))))),ip=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ii(()=>t))),ih=((e,t)=>it(e,{onFailure:a9,onSuccess:e=>{let r=t(e);return y.isSome(r)?r.value:io}}),(0,h.dual)(2,(e,t)=>{let{onFailure:r,onSuccess:a}=t;return it(e,{onFailure:e=>il(r(e)),onSuccess:e=>il(a(e))})})),im=(0,h.dual)(e=>S.isIterable(e[0]),(e,t,r)=>r?.discard?(0,h.pipe)(iu(()=>e[Symbol.iterator]()),ie(e=>{let r=iy(()=>{let a=e.next();return a.done?iS:(0,h.pipe)(t(a.value),ie(()=>r))});return r})):iy(()=>th.fromIterable(e).reduce((e,r)=>id(e,t(r),(e,t)=>(e.push(t),e)),il([])))),ig=((e,t)=>it(e,{onFailure:e=>a9(t(e)),onSuccess:il}),(0,h.dual)(2,(e,t)=>a3(e,e=>t))),iy=((e,t,r)=>{let a;return a=a=>ie(r,r=>ig(e,i.add(a,t,r))),ie(a8((e,t,r)=>r),a)},e=>ie(iu(e),h.identity)),ib=(0,h.dual)(2,(e,t)=>ie(e,e=>ip(t(e),e))),iS=il(void 0),iv=Symbol.for("effect/TRef"),ik={_A:e=>e};class iw{[iv]=ik;todos;versioned;constructor(e){this.versioned=new r8(e),this.todos=new Map}modify(e){return a8(t=>{let r=iI(this,t),[a,i]=e(r.newValue);return r9(r,i),a})}pipe(){return(0,b.pipeArguments)(this,arguments)}}let iE=e=>e.modify(e=>[e,e]),ix=(0,h.dual)(2,(e,t)=>e.modify(()=>[void 0,t])),iI=(e,t)=>{if(t.has(e))return t.get(e);let r=r6(e,!1);return t.set(e,r),r},iT=(0,h.dual)(2,(e,t)=>iI(e,t).newValue),iC=(0,h.dual)(3,(e,t,r)=>{r9(iI(e,r),t)}),iR=Symbol.for("effect/TQueue/TDequeue"),iF={_Out:e=>e},iA=((e,t,a)=>iy(()=>{let i=(t,a,n)=>a<t?il(n):(0,h.pipe)(e.takeUpTo(a),ie(s=>{let o=t-s.length;return 1===o?(0,h.pipe)(e.take,ii(e=>(0,h.pipe)(n,r.appendAll(r.unsafeFromArray(s)),r.append(e)))):o>1?(0,h.pipe)(e.take,ie(e=>i(o-1,a-s.length-1,(0,h.pipe)(n,r.appendAll(r.unsafeFromArray(s)),r.append(e))))):il((0,h.pipe)(n,r.appendAll(r.unsafeFromArray(s))))}));return ii(i(t,a,r.empty()),e=>Array.from(e))}),Symbol.for("effect/TPubSub")),iO=Symbol.for("effect/TPubSub/AbsentValue"),i_=(e,t,r)=>({head:e,subscribers:t,tail:r});class iM{pubsubSize;publisherHead;requestedCapacity;subscriberHead;subscriberCount;subscribers;[iA]=iA;[iR]=iF;constructor(e,t,r,a,i,n){this.pubsubSize=e,this.publisherHead=t,this.requestedCapacity=r,this.subscriberHead=a,this.subscriberCount=i,this.subscribers=n}isShutdown=a8(e=>void 0===iT(this.subscriberHead,e));awaitShutdown=ie(this.isShutdown,e=>e?iS:io);capacity(){return this.requestedCapacity}size=ir(e=>{let t=iT(this.subscriberHead,e.journal);if(void 0===t)return ia(e.fiberId);let r=!0,a=0;for(;r;){let i=iT(t,e.journal);void 0===i?r=!1:(i.head!==iO&&(a+=1)>=Number.MAX_SAFE_INTEGER&&(r=!1),t=i.tail)}return il(a)});isEmpty=ii(this.size,e=>0===e);isFull=ii(this.size,e=>e===this.capacity());peek=ir(e=>{let t=iT(this.subscriberHead,e.journal);if(void 0===t)return ia(e.fiberId);let r=iO,a=!0;for(;a;){let i=iT(t,e.journal);if(void 0===i)return io;let n=i.head,s=i.tail;n!==iO?(r=n,a=!1):t=s}return il(r)});peekOption=ir(e=>{let t=iT(this.subscriberHead,e.journal);if(void 0===t)return ia(e.fiberId);let r=y.none(),a=!0;for(;a;){let i=iT(t,e.journal);if(void 0===i)r=y.none(),a=!1;else{let e=i.head,n=i.tail;e!==iO?(r=y.some(e),a=!1):t=n}}return il(r)});shutdown=a8(e=>{let t=iT(this.subscriberHead,e);if(void 0!==t){iC(this.subscriberHead,void 0,e);let r=!0;for(;r;){let a=iT(t,e);if(void 0===a)r=!1;else{let r=a.head,i=a.tail;if(r!==iO){let n=a.subscribers;if(1===n){let r=iT(this.pubsubSize,e);iC(t,i_(iO,0,i),e),iC(this.publisherHead,i,e),iC(this.pubsubSize,r-1,e)}else iC(t,i_(r,n-1,i),e)}t=i}}let a=iT(this.subscriberCount,e);iC(this.subscriberCount,a-1,e),iC(this.subscribers,tf.remove(iT(this.subscribers,e),this.subscriberHead),e)}});take=ir(e=>{let t=iT(this.subscriberHead,e.journal);if(void 0===t)return ia(e.fiberId);let r=iO,a=!0;for(;a;){let i=iT(t,e.journal);if(void 0===i)return io;let n=i.head,s=i.tail;if(n!==iO){let o=i.subscribers;if(1===o){let r=iT(this.pubsubSize,e.journal);iC(t,i_(iO,0,s),e.journal),iC(this.publisherHead,s,e.journal),iC(this.pubsubSize,r-1,e.journal)}else iC(t,i_(n,o-1,s),e.journal);iC(this.subscriberHead,s,e.journal),r=n,a=!1}else t=s}return il(r)});takeAll=this.takeUpTo(1/0);takeUpTo(e){return ir(t=>{let r=iT(this.subscriberHead,t.journal);if(void 0===r)return ia(t.fiberId);let a=[],i=0;for(;i!==e;){let n=iT(r,t.journal);if(void 0===n)i=e;else{let e=n.head,s=n.tail;if(e!==iO){let o=n.subscribers;if(1===o){let e=iT(this.pubsubSize,t.journal);iC(r,i_(iO,0,s),t.journal),iC(this.publisherHead,s,t.journal),iC(this.pubsubSize,e-1,t.journal)}else iC(r,i_(e,o-1,s),t.journal);a.push(e),i+=1}r=s}}return iC(this.subscriberHead,r,t.journal),il(a)})}}var iD=e.i(9966047),iN=e.i(6379322),iz=e.i(7237733),iP=e.i(5246317);class iL{capacity;array;size=0;current=0;constructor(e){this.capacity=e,this.array=Array.from({length:e},h.constUndefined)}head(){return y.fromNullable(this.array[this.current])}lastOrNull(){if(0===this.size)return;let e=0===this.current?this.array.length-1:this.current-1;return this.array[e]??void 0}put(e){this.array[this.current]=e,this.increment()}dropLast(){this.size>0&&(this.decrement(),this.array[this.current]=void 0)}toChunk(){let e=this.current-this.size,t=e<0?[...this.array.slice(this.capacity+e,this.capacity),...this.array.slice(0,this.current)]:this.array.slice(e,this.current);return r.fromIterable(t)}increment(){this.size<this.capacity&&(this.size+=1),this.current=(this.current+1)%this.capacity}decrement(){this.size-=1,this.current>0?this.current-=1:this.current=this.capacity-1}}let iU="NotStarted",ij="Previous",iW="Current",iq={_tag:iU},iB=e=>Object.assign(e,{chunk(e){return this(o.succeed(e))},die(e){return this(o.die(e))},dieMessage(e){return this(o.dieMessage(e))},done(e){return this(o.suspend(()=>c.mapBoth(e,{onFailure:y.some,onSuccess:r.of})))},end(){return this(o.fail(y.none()))},fail(e){return this(o.fail(y.some(e)))},fromEffect(e){return this(o.mapBoth(e,{onFailure:y.some,onSuccess:r.of}))},fromEffectChunk(e){return this((0,h.pipe)(e,o.mapError(y.some)))},halt(e){return this(o.failCause((0,h.pipe)(e,t.map(y.some))))},single(e){return this(o.succeed(r.of(e)))}}),i$=Symbol.for("effect/Stream/Handoff"),iV="Empty",iH="Full",iG=e=>({_tag:iV,notifyConsumer:e}),iK=(e,t)=>r=>{switch(r._tag){case iV:return e(r.notifyConsumer);case iH:return t(r.value,r.notifyProducer)}},iJ={_A:e=>e},iZ=()=>(0,h.pipe)(n.make(),o.flatMap(e=>E.make(iG(e))),o.map(e=>({[i$]:iJ,ref:e}))),iQ=(0,h.dual)(2,(e,t)=>o.flatMap(n.make(),r=>o.flatten(E.modify(e.ref,a=>(0,h.pipe)(a,iK(e=>[o.zipRight(n.succeed(e,void 0),n.await(r)),{_tag:iH,value:t,notifyProducer:r}],(r,i)=>[o.flatMap(n.await(i),()=>(0,h.pipe)(e,iQ(t))),a])))))),iY=e=>o.flatMap(n.make(),t=>o.flatten(E.modify(e.ref,r=>(0,h.pipe)(r,iK(t=>[o.flatMap(n.await(t),()=>iY(e)),r],(e,r)=>[o.as(n.succeed(r,void 0),e),iG(t)]))))),iX="Emit",i0="Halt",i1=e=>({_tag:iX,elements:e}),i2=e=>({_tag:i0,cause:e}),i3=e=>({_tag:"End",reason:e}),i5=Symbol.for("effect/Take"),i4={_A:e=>e,_E:e=>e};class i8{exit;[i5]=i4;constructor(e){this.exit=e}pipe(){return(0,b.pipeArguments)(this,arguments)}}let i6=e=>new i8(c.succeed(e)),i9=e=>o.suspend(()=>e.exit),i7=new i8(c.fail(y.none())),ne=e=>new i8(c.failCause((0,h.pipe)(e,t.map(y.some)))),nt=e=>o.matchCause(e,{onFailure:e=>y.match(t.flipCauseOption(e),{onNone:()=>i7,onSome:ne}),onSuccess:i6}),nr=(0,h.dual)(2,(e,r)=>{let{onEnd:a,onFailure:i,onSuccess:n}=r;return c.match(e.exit,{onFailure:e=>y.match(t.flipCauseOption(e),{onNone:a,onSome:i}),onSuccess:n})}),na=e=>new i8(c.succeed(r.of(e)));e.s(["TakeImpl",()=>i8,"chunk",0,i6,"done",0,i9,"end",0,i7,"failCause",0,ne,"fromPull",0,nt,"match",0,nr,"of",0,na],5806407);let ni=()=>o.fail(y.none()),nn=e=>o.mapError(o.failCause(e),y.some),ns="ScheduleEnd",no="UpstreamEnd",nl={_tag:ns},nu={_tag:no},nc="DrainLeft",nd="DrainRight",np="PullBoth",nh="PullLeft",nf="PullRight",nm={_tag:nc},ng={_tag:nd},ny={_tag:np},nb=e=>({_tag:nh,rightChunk:e}),nS=e=>({_tag:nf,leftChunk:e}),nv="PullBoth",nk="PullLet",nw="PullRight",nE={_tag:nv},nx=e=>({_tag:nk,rightChunk:e}),nI=e=>({_tag:nw,leftChunk:e});var nT=e.i(3427637);let nC=Symbol.for("effect/Stream"),nR={_R:e=>e,_E:e=>e,_A:e=>e};class nF{channel;[nC]=nR;constructor(e){this.channel=e}pipe(){return(0,b.pipeArguments)(this,arguments)}}let nA=e=>(0,S.hasProperty)(e,nC)||o.isEffect(e),nO=e=>{let t=e=>ty.readWith({onInput:a=>{let i=r.appendAll(e,a);return ty.flatMap(ty.write(i),()=>t(i))},onFailure:ty.fail,onDone:()=>ty.void});return new nF(ty.pipeTo(sJ(e),t(r.empty())))},n_=(e,t)=>lV(o.acquireRelease(e,t)),nM=(0,h.dual)(2,(e,t)=>nD(e,t,ey)),nD=(0,h.dual)(3,(e,t,r)=>sM(nN(e,t,r),e=>l.match(e,{onLeft:y.none,onRight:y.some}))),nN=(0,h.dual)(3,(e,a,i)=>sY(o.all([iZ(),E.make(nl),E.make(r.empty()),el(i),E.make(!1),E.make(!1)])).pipe(sU(i=>{let[n,s,u,c,p,f]=i,m=ty.readWithCause({onInput:e=>ty.flatMap(ty.fromEffect((0,h.pipe)(n,iQ(i1(e)),o.when(()=>r.isNonEmpty(e)))),()=>m),onFailure:e=>ty.fromEffect(iQ(n,i2(e))),onDone:()=>ty.fromEffect(iQ(n,i3(nu)))}),g=(0,h.pipe)(E.getAndSet(u,r.empty()),o.flatMap(e=>r.isNonEmpty(e)?(0,h.pipe)(E.set(p,!0),o.zipRight(o.succeed((0,h.pipe)(ty.write(e),ty.flatMap(()=>g))))):(0,h.pipe)(iY(n),o.map(e=>{switch(e._tag){case iX:return(0,h.pipe)(ty.fromEffect(E.set(p,!0)),tx.zipRight(ty.write(e.elements)),tx.zipRight(ty.fromEffect(E.get(f))),ty.flatMap(e=>e?ty.void:g));case i0:return ty.failCause(e.cause);case"End":if(e.reason._tag===ns)return(0,h.pipe)(E.get(p),o.map(e=>e?ty.fromEffect((0,h.pipe)(E.set(s,nl),o.zipRight(E.set(f,!0)))):(0,h.pipe)(ty.fromEffect((0,h.pipe)(E.set(s,nl),o.zipRight(E.set(f,!0)))),ty.flatMap(()=>g))),tx.unwrap);return(0,h.pipe)(E.set(s,e.reason),o.zipRight(E.set(f,!0)),ty.fromEffect)}}))),tx.unwrap),b=(e,i,m)=>{let S=(0,h.pipe)(E.set(p,!1),o.zipRight(E.set(f,!1)),o.zipRight((0,h.pipe)(g,tx.pipeToOrFail(rJ(a)),ty.collectElements,tx.run,o.forkIn(m)))),v=(e,t,a)=>(0,h.pipe)(E.set(u,r.flatten(e)),o.zipRight(o.map(E.get(s),e=>{switch(e._tag){case ns:let i;return(0,h.pipe)(o.all([E.get(p),S,(0,h.pipe)((i=y.some(t),c.next(i)),o.forkIn(m))]),o.map(e=>{let[i,n,s]=e,o=(0,h.pipe)(a,y.match({onNone:()=>r.of(l.right(t)),onSome:e=>r.make(l.right(t),l.left(e))}));return i?(0,h.pipe)(ty.write(o),ty.flatMap(()=>b(n,s,m))):b(n,s,m)}),tx.unwrap);case no:return(0,h.pipe)(E.get(p),o.map(e=>e?ty.write(r.of(l.right(t))):ty.void),tx.unwrap)}})),tx.unwrap);return tx.unwrap(o.raceWith(d.join(e),d.join(i),{onSelfDone:(e,t)=>(0,h.pipe)(d.interrupt(i),o.zipRight((0,h.pipe)(o.suspend(()=>e),o.map(e=>{let[t,r]=e;return v(t,r,y.none())})))),onOtherDone:(r,a)=>o.matchCauseEffect(o.suspend(()=>r),{onFailure:r=>l.match(t.failureOrCause(r),{onLeft:()=>(0,h.pipe)(n,iQ(i3(nl)),o.forkDaemon,o.zipRight((0,h.pipe)(d.join(e),o.map(e=>{let[t,r]=e;return v(t,r,y.none())})))),onRight:t=>(0,h.pipe)(n,iQ(i2(t)),o.forkDaemon,o.zipRight((0,h.pipe)(d.join(e),o.map(e=>{let[t,r]=e;return v(t,r,y.none())}))))}),onSuccess:t=>(0,h.pipe)(n,iQ(i3(nl)),o.forkDaemon,o.zipRight((0,h.pipe)(d.join(e),o.map(e=>{let[r,a]=e;return v(r,a,y.some(t))}))))})}))};return uC(t=>ty.pipeTo(sJ(e),m).pipe(tx.run,o.forkIn(t),o.zipRight(tx.pipeToOrFail(g,rJ(a)).pipe(ty.collectElements,tx.run,o.forkIn(t),o.flatMap(e=>{let r;return(r=y.none(),c.next(r)).pipe(o.forkIn(t),o.map(r=>new nF(b(e,r,t))))})))))}))),nz=(0,h.dual)(2,(e,t)=>op(e,()=>t)),nP=e=>{if("unbounded"===e)return k.unbounded();if("number"==typeof e||void 0===e)return k.bounded(e??16);switch(e.strategy){case"dropping":return k.dropping(e.bufferSize??16);case"sliding":return k.sliding(e.bufferSize??16);default:return k.bounded(e.bufferSize??16)}},nL=(e,t)=>o.acquireRelease(t?.bufferSize==="unbounded"||t?.bufferSize===void 0&&t?.strategy===void 0?k.unbounded():t?.strategy==="sliding"?k.sliding(t.bufferSize??16):k.dropping(t?.bufferSize??16),k.shutdown).pipe(o.tap(t=>p.getWith(p.currentScheduler,a=>e(((e,t)=>{let a=!1,i=[],n=!1;function s(e){if(a)return!1;if(e.length<=5e4)i.push.apply(i,e);else for(let t=0;t<e.length;t++)i.push(e[0]);return n||(n=!0,t.scheduleTask(o,0)),!0}function o(){n=!1,i.length>0&&(e.unsafeOffer(i),i=[])}function l(t){a||(a=!0,"Success"===t._tag&&i.push(t.value),o(),e.unsafeOffer("Success"===t._tag?c.void:t))}return{single:e=>!a&&(i.push(e),n||(n=!0,t.scheduleTask(o,0)),!0),array:s,chunk:e=>s(r.toReadonlyArray(e)),done:l,end(){a||(a=!0,o(),e.unsafeOffer(c.void))},halt:e=>l(c.failCause(e)),fail:e=>l(c.fail(e)),die:e=>l(c.die(e)),dieMessage:e=>l(c.die(Error(e)))}})(t,a)))),o.map(e=>{let t=ty.flatMap(k.take(e),e=>c.isExit(e)?c.isSuccess(e)?ty.void:ty.failCause(e.cause):tx.zipRight(ty.write(r.unsafeFromArray(e)),t));return t}),tx.unwrapScoped,sK),nU=(0,h.dual)(3,(e,t,a)=>l1(()=>{let i=e=>ty.readWith({onInput:a=>{if(e.length+a.length>=t){let[i,s]=(0,h.pipe)(a,r.splitAt(t-e.length));return n((0,h.pipe)(e,r.appendAll(i)),s)}return i((0,h.pipe)(e,r.appendAll(a)))},onFailure:ty.fail,onDone:()=>n(e,r.empty())}),n=(e,t)=>ty.pipeTo(tx.zipRight(ty.write(t),tx.identityChannel()),sJ(a(e)));return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(i(r.empty()))))})),nj=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,nB(t,r),o.map(e=>e.map(e=>sH(s5(e,{shutdown:!0})))))),nW=(0,h.dual)(2,(e,t)=>o.map(ud(e,t),e=>sH(s0(e)))),nq=(0,h.dual)(2,(e,t)=>o.map(w.make({acquire:nW(e,t),idleTimeToLive:t.idleTimeToLive}),e=>uT(w.get(e)))),nB=(0,h.dual)(3,(e,t,r)=>o.flatMap(uc(r),r=>(0,h.pipe)(o.all(Array.from({length:t},()=>v.subscribe(r))),o.tap(()=>o.forkScoped(lD(e,r)))))),n$=(0,h.dual)(2,(e,t)=>o.map(ud(e,t),v.subscribe)),nV=(0,h.dual)(2,(e,a)=>{if("unbounded"===a.capacity)return nQ(e);if("dropping"===a.strategy)return nJ(e,a.capacity);if("sliding"===a.strategy)return nZ(e,a.capacity);let i=uf(e,a);return new nF(tx.unwrapScoped(o.map(i,e=>{let a=(0,h.pipe)(ty.fromEffect(k.take(e)),ty.flatMap(c.match({onFailure:e=>(0,h.pipe)(t.flipCauseOption(e),y.match({onNone:()=>ty.void,onSome:ty.failCause})),onSuccess:e=>ty.flatMap(ty.write(r.of(e)),()=>a)})));return a})))}),nH=(0,h.dual)(2,(e,t)=>{if("dropping"===t.strategy)return nG(e,t.capacity);if("sliding"===t.strategy)return nK(e,t.capacity);let r=uh(e,t);return new nF(tx.unwrapScoped(o.map(r,e=>{let t=(0,h.pipe)(ty.fromEffect(k.take(e)),ty.flatMap(nr({onEnd:()=>ty.void,onFailure:ty.failCause,onSuccess:e=>(0,h.pipe)(ty.write(e),ty.flatMap(()=>t))})));return t})))}),nG=(0,h.dual)(2,(e,t)=>new nF(nY(o.acquireRelease(k.dropping(t),e=>k.shutdown(e)),sJ(e)))),nK=(0,h.dual)(2,(e,t)=>new nF(nY(o.acquireRelease(k.sliding(t),e=>k.shutdown(e)),sJ(e)))),nJ=(0,h.dual)(2,(e,t)=>new nF(nY(o.acquireRelease(k.dropping(t),e=>k.shutdown(e)),sJ(lr(1)(e))))),nZ=(0,h.dual)(2,(e,t)=>new nF(nY(o.acquireRelease(k.sliding(t),e=>k.shutdown(e)),sJ((0,h.pipe)(e,lr(1)))))),nQ=e=>{let t=uh(e,{strategy:"unbounded"});return new nF(tx.unwrapScoped(o.map(t,e=>{let t=(0,h.pipe)(ty.fromEffect(k.take(e)),ty.flatMap(nr({onEnd:()=>ty.void,onFailure:ty.failCause,onSuccess:e=>ty.flatMap(ty.write(e),()=>t)})));return t})))},nY=(e,t)=>{let r=(e,t)=>{let a=r=>(0,h.pipe)(E.get(t),o.tap(n.await),o.zipRight(n.make()),o.flatMap(a=>(0,h.pipe)(k.offer(e,[r,a]),o.zipRight(E.set(t,a)),o.zipRight(n.await(a)))),o.asVoid,ty.fromEffect);return ty.readWithCause({onInput:a=>(0,h.pipe)(n.make(),o.flatMap(r=>(0,h.pipe)(k.offer(e,[i6(a),r]),o.flatMap(e=>(0,h.pipe)(E.set(t,r),o.when(()=>e))))),o.asVoid,ty.fromEffect,ty.flatMap(()=>r(e,t))),onFailure:e=>a(ne(e)),onDone:()=>a(i7)})};return tx.unwrapScoped((0,h.pipe)(e,o.flatMap(e=>(0,h.pipe)(n.make(),o.tap(e=>n.succeed(e,void 0)),o.flatMap(a=>{let i;return(0,h.pipe)(E.make(a),o.flatMap(a=>(0,h.pipe)(t,ty.pipeTo(r(e,a)),tx.runScoped,o.forkScoped)),o.as(i=(0,h.pipe)(ty.fromEffect(k.take(e)),ty.flatMap(e=>{let[t,r]=e;return tx.zipRight(ty.fromEffect(n.succeed(r,void 0)),nr(t,{onEnd:()=>ty.void,onFailure:ty.failCause,onSuccess:e=>(0,h.pipe)(ty.write(e),ty.flatMap(()=>i))}))}))))})))))},nX=(0,h.dual)(2,(e,r)=>n0(e,e=>l.match(t.failureOrCause(e),{onLeft:r,onRight:sA}))),n0=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),ty.catchAllCause(e=>sJ(t(e)))))),n1=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,nX(e=>(0,h.pipe)(t(e),y.getOrElse(()=>sR(e)))))),n2=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,n0(e=>(0,h.pipe)(t(e),y.getOrElse(()=>sA(e)))))),n3=(0,h.dual)(3,(e,t,r)=>nX(e,e=>"_tag"in e&&e._tag===t?r(e):sR(e))),n5=(0,h.dual)(2,(e,t)=>nX(e,e=>{let r=Object.keys(t);return"_tag"in e&&r.includes(e._tag)?t[e._tag](e):sR(e)})),n4=(0,h.dual)(2,(e,t)=>{let a=e=>ty.readWithCause({onInput:i=>{let[n,s]=r.reduce(i,[e,r.empty()],(e,a)=>{let[i,n]=e;return y.isSome(i)&&t(i.value,a)?[y.some(a),n]:[y.some(a),(0,h.pipe)(n,r.append(a))]});return ty.flatMap(ty.write(s),()=>a(n))},onFailure:ty.failCause,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a(y.none()))))}),n8=(0,h.dual)(2,(e,t)=>{let a=e=>ty.readWithCause({onInput:i=>(0,h.pipe)(i,o.reduce([e,r.empty()],(e,a)=>{let[i,n]=e;return y.isSome(i)?(0,h.pipe)(t(i.value,a),o.map(e=>e?[y.some(a),n]:[y.some(a),(0,h.pipe)(n,r.append(a))])):o.succeed([y.some(a),(0,h.pipe)(n,r.append(a))])}),ty.fromEffect,ty.flatMap(e=>{let[t,r]=e;return(0,h.pipe)(ty.write(r),ty.flatMap(()=>a(t)))})),onFailure:ty.failCause,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a(y.none()))))}),n6=e=>(0,h.pipe)(e,og(r.of)),n9=(0,h.dual)(2,(e,t)=>sB(t(n6(e)))),n7=e=>o.catchAll(o.asSome(e),e=>"None"===e._tag?o.succeedNone:o.fail(e.value)),se=(0,h.dual)(4,(e,r,a,i)=>{function n(e,r){return ty.fromEffect(iY(r)).pipe(tx.zipRight(ty.readWithCause({onInput:t=>ty.flatMap(ty.fromEffect(iQ(e,c.succeed(t))),()=>n(e,r)),onFailure:r=>ty.fromEffect(iQ(e,c.failCause((0,h.pipe)(r,t.map(y.some))))),onDone:()=>ty.flatMap(ty.fromEffect(iQ(e,c.fail(y.none()))),()=>n(e,r))})))}return new nF(tx.unwrapScopedWith(t=>o.all([iZ(),iZ(),iZ(),iZ()]).pipe(o.tap(r=>{let[a,i,s]=r;return sJ(e).pipe(tx.concatMap(tx.writeChunk),ty.pipeTo(n(a,s)),iN.runIn(t),o.forkIn(t))}),o.tap(e=>{let[,a,i,s]=e;return sJ(r).pipe(tx.concatMap(tx.writeChunk),ty.pipeTo(n(a,s)),iN.runIn(t),o.forkIn(t))}),o.map(e=>{let[t,r,n,s]=e,l=iQ(n,void 0).pipe(o.zipRight(iY(t).pipe(o.flatMap(h.identity)))),u=iQ(s,void 0).pipe(o.zipRight(iY(r).pipe(o.flatMap(h.identity))));return sJ(uE(a,e=>o.flatMap(i(e,l,u),n7)))}))))}),st=(0,h.dual)(4,(e,t,r,a)=>{let i=(e,t)=>tx.zipRight(ty.fromEffect(iY(t)),ty.readWithCause({onInput:r=>ty.flatMap(ty.fromEffect((0,h.pipe)(e,iQ(i6(r)))),()=>i(e,t)),onFailure:t=>ty.fromEffect(iQ(e,ne(t))),onDone:()=>ty.fromEffect(iQ(e,i7))}));return new nF(tx.unwrapScopedWith(n=>o.all([iZ(),iZ(),iZ(),iZ()]).pipe(o.tap(t=>{let[r,a,s]=t;return ty.pipeTo(sJ(e),i(r,s)).pipe(iN.runIn(n),o.forkIn(n))}),o.tap(e=>{let[r,a,s,l]=e;return ty.pipeTo(sJ(t),i(a,l)).pipe(iN.runIn(n),o.forkIn(n))}),o.map(e=>{let[t,i,n,s]=e,l=iQ(n,void 0).pipe(o.zipRight(iY(t).pipe(o.flatMap(i9)))),u=iQ(s,void 0).pipe(o.zipRight(iY(i).pipe(o.flatMap(i9))));return sJ(uw(r,e=>o.flatMap(a(e,l,u),n7)))}))))}),sr=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.zipRight(sJ(t))))),sa=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ss(t,(e,t)=>[e,t]))),si=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ss(t,(e,t)=>e))),sn=(0,h.dual)(2,(e,t)=>sU(e,()=>t)),ss=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,sU(e=>(0,h.pipe)(t,op(t=>r(e,t)))))),so=(0,h.dual)(2,(e,t)=>uC(i=>o.gen(function*(){let n=yield*iZ();function s(e){return a.sleep(t).pipe(o.as(e),o.forkIn(i),o.map(e=>u({_tag:ij,fiber:e})))}let l=ty.readWithCause({onInput:e=>y.match(r.last(e),{onNone:()=>l,onSome:e=>ty.fromEffect(iQ(n,i1(r.of(e)))).pipe(ty.flatMap(()=>l))}),onFailure:e=>ty.fromEffect(iQ(n,i2(e))),onDone:()=>ty.fromEffect(iQ(n,i3(nu)))});function u(e){switch(e._tag){case iU:return tx.unwrap(iY(n).pipe(o.map(e=>{switch(e._tag){case iX:return tx.unwrap(s(e.elements));case i0:return ty.failCause(e.cause);case"End":return ty.void}})));case ij:return tx.unwrap(iY(n).pipe(o.forkIn(i),o.flatMap(t=>o.raceWith(d.join(e.fiber),d.join(t),{onSelfDone:(e,r)=>c.match(e,{onFailure:e=>d.interrupt(r).pipe(o.as(ty.failCause(e))),onSuccess:e=>d.interrupt(r).pipe(o.zipRight(o.succeed(ty.write(e).pipe(ty.flatMap(()=>u({_tag:iW,fiber:t}))))))}),onOtherDone:(e,t)=>c.match(e,{onFailure:e=>d.interrupt(t).pipe(o.as(ty.failCause(e))),onSuccess:e=>{switch(e._tag){case iX:return d.interrupt(t).pipe(o.zipRight(s(e.elements)));case i0:return d.interrupt(t).pipe(o.as(ty.failCause(e.cause)));case"End":return d.join(t).pipe(o.map(e=>ty.write(e).pipe(tx.zipRight(ty.void))))}}})}))));case iW:return tx.unwrap(d.join(e.fiber).pipe(o.map(e=>{switch(e._tag){case iX:return tx.unwrap(s(e.elements));case i0:return ty.failCause(e.cause);case"End":return ty.void}})))}}return lH(t=>ty.pipeTo(sJ(e),l).pipe(iN.runIn(t),o.forkIn(t))).pipe(sn(new nF(u(iq))))}))),sl=e=>sY(o.die(e)),su=(0,h.dual)(2,(e,t)=>(0,h.pipe)(n.make(),o.flatMap(a=>(0,h.pipe)(e,sp({maximumLag:t.maximumLag,decide:e=>o.flatMap(n.await(a),t=>t(e))}),o.flatMap(e=>(0,h.pipe)(o.all(r.map(r.range(0,t.size-1),t=>o.map(e,e=>{let[r,a]=e;return[[r,t],a]}))),o.map(r.unsafeFromArray),o.flatMap(e=>{let[i,s]=r.reduceRight(e,[new Map,r.empty()],(e,t)=>{let[a,i]=e,[n,s]=t;return[a.set(n[0],n[1]),(0,h.pipe)(i,r.prepend(s))]});return(0,h.pipe)(n.succeed(a,e=>o.map(t.decide(e),e=>t=>e(i.get(t)))),o.as(Array.from(s)))}))))))),sc={ref:0},sd=()=>{let e=sc.ref;return sc.ref=e+1,e},sp=(0,h.dual)(2,(e,t)=>sh(e,t.maximumLag,t.decide,()=>o.void)),sh=(0,h.dual)(4,(e,a,i,n)=>(0,h.pipe)(o.acquireRelease(E.make(new Map),(e,t)=>(0,h.pipe)(E.get(e),o.flatMap(e=>(0,h.pipe)(e.values(),o.forEach(k.shutdown))))),o.flatMap(s=>o.gen(function*(){let l=yield*o.makeSemaphore(1),u=yield*E.make((0,h.pipe)(k.bounded(a),o.flatMap(e=>{let t=sd();return(0,h.pipe)(E.update(s,r=>r.set(t,e)),o.as([t,e]))}))),d=e=>l.withPermits(1)((0,h.pipe)(E.set(u,(0,h.pipe)(k.bounded(1),o.tap(t=>k.offer(t,e)),o.flatMap(e=>{let t=sd();return(0,h.pipe)(E.update(s,r=>r.set(t,e)),o.as(iD.make(t,e)))}))),o.zipRight((0,h.pipe)(E.get(s),o.flatMap(a=>(0,h.pipe)(r.fromIterable(a.values()),o.forEach(r=>(0,h.pipe)(k.offer(r,e),o.catchSomeCause(e=>t.isInterrupted(e)?y.some(o.void):y.none()))))))),o.zipRight(n(e)),o.asVoid));return yield*(0,h.pipe)(e,lA(e=>(0,h.pipe)(i(e),o.flatMap(a=>(0,h.pipe)(E.get(s),o.flatMap(i=>(0,h.pipe)(i.entries(),o.reduce(r.empty(),(i,n)=>{let[s,l]=n;return a(s)?(0,h.pipe)(k.offer(l,c.succeed(e)),o.matchCauseEffect({onFailure:e=>t.isInterrupted(e)?o.succeed((0,h.pipe)(i,r.prepend(s))):o.failCause(e),onSuccess:()=>o.succeed(i)})):o.succeed(i)}),o.flatMap(e=>r.isNonEmpty(e)?E.update(s,t=>{for(let r of e)t.delete(r);return t}):o.void))))),o.asVoid)),o.matchCauseEffect({onFailure:e=>d(c.failCause((0,h.pipe)(e,t.map(y.some)))),onSuccess:()=>d(c.fail(y.none()))}),o.forkScoped),l.withPermits(1)(o.flatten(E.get(u)))})))),sf=e=>new nF(tx.drain(sJ(e))),sm=(0,h.dual)(2,(e,t)=>sY(n.make()).pipe(sU(r=>lH(e=>sJ(t).pipe(tx.drain,iN.runIn(e),o.catchAllCause(e=>n.failCause(r,e)),o.forkIn(e))).pipe(sn(oc(e,r)))))),sg=(0,h.dual)(2,(e,t)=>{let a=e=>ty.readWith({onInput:t=>{let i=(0,h.pipe)(t,r.drop(e)),n=Math.max(0,e-t.length);return r.isEmpty(t)||n>0?a(n):(0,h.pipe)(ty.write(i),tx.zipRight(tx.identityChannel()))},onFailure:ty.fail,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(a(t))))}),sy=(0,h.dual)(2,(e,t)=>t<=0?oa():l1(()=>{let a=new iL(t),i=ty.readWith({onInput:e=>{let t=(0,h.pipe)(e,r.filterMap(e=>{let t=a.head();return a.put(e),t}));return(0,h.pipe)(ty.write(t),ty.flatMap(()=>i))},onFailure:ty.fail,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(i)))})),sb=(0,h.dual)(2,(e,t)=>sg(sv(e,e=>!t(e)),1)),sS=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>(0,h.pipe)(o.dropUntil(e,t),o.map(r.unsafeFromArray),o.map(e=>r.isEmpty(e)?ty.suspend(()=>a):(0,h.pipe)(ty.write(e),tx.zipRight(tx.identityChannel()))),tx.unwrap),onFailure:ty.fail,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(a)))}),sv=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>{let i=r.dropWhile(e,t);return r.isEmpty(i)?ty.suspend(()=>a):tx.zipRight(ty.write(i),tx.identityChannel())},onFailure:ty.fail,onDone:ty.succeedNow});return new nF(tx.pipeToOrFail(sJ(e),a))}),sk=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>(0,h.pipe)(o.dropWhile(e,t),o.map(r.unsafeFromArray),o.map(e=>r.isEmpty(e)?ty.suspend(()=>a):tx.zipRight(ty.write(e),tx.identityChannel())),tx.unwrap),onFailure:ty.fail,onDone:()=>ty.void});return new nF(tx.pipeToOrFail(sJ(e),a))}),sw=new nF(ty.void),sE=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.ensuring(t)))),sx=(0,h.dual)(2,(e,t)=>new nF(ty.ensuringWith(sJ(e),t))),sI=()=>sY(o.context()),sT=e=>(0,h.pipe)(sI(),sU(e)),sC=e=>sf(sY(e)),sR=e=>sX(o.fail(y.some(e))),sF=e=>sX(o.failSync(()=>y.some(e()))),sA=e=>sY(o.failCause(e)),sO=(0,h.dual)(2,(e,t)=>og(e,r.filter(t))),s_=(0,h.dual)(2,(e,t)=>{let a=e=>{let i=e.next();return i.done?ty.readWithCause({onInput:e=>a(e[Symbol.iterator]()),onFailure:ty.failCause,onDone:ty.succeed}):(0,h.pipe)(t(i.value),o.map(t=>t?(0,h.pipe)(ty.write(r.of(i.value)),ty.flatMap(()=>a(e))):a(e)),tx.unwrap)};return new nF(ty.suspend(()=>(0,h.pipe)(sJ(e),ty.pipeTo(a(r.empty()[Symbol.iterator]())))))}),sM=(0,h.dual)(2,(e,t)=>og(e,r.filterMap(t))),sD=(0,h.dual)(2,(e,t)=>l1(()=>{let a=e=>{let i=e.next();return i.done?ty.readWithCause({onInput:e=>a(e[Symbol.iterator]()),onFailure:ty.failCause,onDone:ty.succeed}):(0,h.pipe)(t(i.value),y.match({onNone:()=>o.sync(()=>a(e)),onSome:o.map(t=>ty.flatMap(ty.write(r.of(t)),()=>a(e)))}),tx.unwrap)};return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a(r.empty()[Symbol.iterator]()))))})),sN=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>{let i=r.filterMapWhile(e,t);return i.length===e.length?(0,h.pipe)(ty.write(i),ty.flatMap(()=>a)):ty.write(i)},onFailure:ty.fail,onDone:ty.succeed});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(a)))}),sz=(0,h.dual)(2,(e,t)=>l1(()=>{let a=e=>{let i=e.next();return i.done?ty.readWithCause({onInput:e=>a(e[Symbol.iterator]()),onFailure:ty.failCause,onDone:ty.succeed}):tx.unwrap(y.match(t(i.value),{onNone:()=>o.succeed(ty.void),onSome:o.map(t=>ty.flatMap(ty.write(r.of(t)),()=>a(e)))}))};return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(a(r.empty()[Symbol.iterator]()))))})),sP=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>y.match(r.findFirst(e,t),{onNone:()=>a,onSome:e=>ty.write(r.of(e))}),onFailure:ty.fail,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a)))}),sL=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>(0,h.pipe)(o.findFirst(e,t),o.map(y.match({onNone:()=>a,onSome:e=>ty.write(r.of(e))})),tx.unwrap),onFailure:ty.fail,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a)))}),sU=(0,h.dual)(e=>nA(e[0]),(e,t,a)=>{let i=a?.bufferSize??16;return a?.switch?sj(a?.concurrency,()=>sW(e,1,i,t),r=>sW(e,r,i,t)):sj(a?.concurrency,()=>new nF(tx.concatMap(sJ(e),e=>(0,h.pipe)(e,r.map(e=>sJ(t(e))),r.reduce(ty.void,(e,t)=>(0,h.pipe)(e,tx.zipRight(t)))))),r=>new nF((0,h.pipe)(sJ(e),tx.concatMap(tx.writeChunk),tx.mergeMap(e=>sJ(t(e)),a))))}),sj=(e,t,r)=>{switch(e){case void 0:return t();case"unbounded":return r(Number.MAX_SAFE_INTEGER);default:return e>1?r(e):t()}},sW=(0,h.dual)(4,(e,t,r,a)=>new nF((0,h.pipe)(sJ(e),tx.concatMap(tx.writeChunk),tx.mergeMap(e=>sJ(a(e)),{concurrency:t,mergeStrategy:iz.BufferSliding(),bufferSize:r})))),sq=(0,h.dual)(e=>nA(e[0]),(e,t)=>sU(e,h.identity,t)),sB=e=>{let t=ty.readWithCause({onInput:e=>ty.flatMap(tx.writeChunk(e),()=>t),onFailure:ty.failCause,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(t)))},s$=(0,h.dual)(e=>nA(e[0]),(e,t)=>t?.unordered?sU(e,e=>sY(e),{concurrency:t.concurrency}):sj(t?.concurrency,()=>ow(e,h.identity),t=>new nF((0,h.pipe)(sJ(e),tx.concatMap(tx.writeChunk),tx.mapOutEffectPar(h.identity,t),tx.mapOut(r.of))))),sV=e=>{let a=ty.readWithCause({onInput:e=>((e,a)=>{let[i,n]=(0,h.pipe)(e,r.splitWhere(e=>!c.isSuccess(e))),s=(0,h.pipe)(r.head(n),y.match({onNone:()=>a,onSome:c.match({onFailure:e=>y.match(t.flipCauseOption(e),{onNone:()=>ty.void,onSome:ty.failCause}),onSuccess:()=>ty.void})}));return(0,h.pipe)(ty.write((0,h.pipe)(i,r.filterMap(e=>c.isSuccess(e)?y.some(e.value):y.none()))),ty.flatMap(()=>s))})(e,a),onFailure:e=>ty.failCause(e),onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a)))},sH=e=>sB(sV((0,h.pipe)(e,op(e=>e.exit)))),sG=e=>new nF(tx.repeated(sJ(e))),sK=e=>new nF(e),sJ=e=>{if("channel"in e)return e.channel;if(o.isEffect(e))return sJ(sY(e));throw TypeError("Expected a Stream.")},sZ=e=>new nF(r.isEmpty(e)?ty.void:ty.write(e)),sQ=(e,r)=>(0,h.pipe)(k.take(e),o.catchAllCause(r=>(0,h.pipe)(k.isShutdown(e),o.flatMap(e=>e&&t.isInterrupted(r)?ni():nn(r)))),ll,r?.shutdown?sE(k.shutdown(e)):h.identity),sY=e=>(0,h.pipe)(e,o.mapError(y.some),sX),sX=e=>new nF(tx.unwrap(o.match(e,{onFailure:y.match({onNone:()=>ty.void,onSome:ty.fail}),onSuccess:e=>ty.write(r.of(e))}))),s0=(e,t)=>{let r=t?.maxChunkSize??4096;if(t?.scoped){let a=o.map(v.subscribe(e),e=>s5(e,{maxChunkSize:r,shutdown:!0}));return t.shutdown?o.map(a,sE(v.shutdown(e))):a}let a=sU(lV(v.subscribe(e)),e=>s5(e,{maxChunkSize:r}));return t?.shutdown?sE(a,v.shutdown(e)):a},s1=e=>l1(()=>r.isChunk(e)?sZ(e):s2(e[Symbol.iterator]())),s2=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;return(0,h.pipe)(o.sync(()=>{let a=[],i=e=>(0,h.pipe)(o.sync(()=>{let n=e.next();if(1===t)return n.done?ty.void:(0,h.pipe)(ty.write(r.of(n.value)),ty.flatMap(()=>i(e)));a=[];let s=0;for(;!1===n.done&&(a.push(n.value),!((s+=1)>=t));)n=e.next();return s>0?(0,h.pipe)(ty.write(r.unsafeFromArray(a)),ty.flatMap(()=>i(e))):ty.void}),tx.unwrap);return new nF(i(e))}),uI)},s3=e=>(0,h.pipe)(e,o.map(ll),uT),s5=(e,r)=>(0,h.pipe)(k.takeBetween(e,1,r?.maxChunkSize??4096),o.catchAllCause(r=>(0,h.pipe)(k.isShutdown(e),o.flatMap(e=>e&&t.isInterrupted(r)?ni():nn(r)))),ll,r?.shutdown?sE(k.shutdown(e)):h.identity),s4=e=>(0,h.pipe)(e.take,o.map(r.of),o.catchAllCause(r=>(0,h.pipe)(e.isShutdown,o.flatMap(e=>e&&t.isInterrupted(r)?ni():nn(r)))),ll),s8=Symbol.for("effect/Stream/EOF"),s6=(0,h.dual)(2,(e,t)=>{let a=e=>ty.readWithCause({onInput:i=>{let[n,s]=((e,a)=>{let i;if(r.isEmpty(a))return[e,r.empty()];let n=[],s=0,o=0,l=r.empty();switch(e._tag){case"Some":{let c=e.value;i=c[0];let d=!0;for(;d&&o<a.length;){let e=t(r.unsafeGet(a,o));if(!u.equals(i,e)){let t=c[1],l=r.unsafeFromArray(Array.from(a).slice(s,o)),u=r.appendAll(t,l);n.push([i,u]),i=e,s=o,d=!1}o+=1}d&&(l=c[1]);break}case"None":i=t(r.unsafeGet(a,o)),o+=1}for(;o<a.length;){let e=t(r.unsafeGet(a,o));u.equals(i,e)||(n.push([i,r.unsafeFromArray(Array.from(a).slice(s,o))]),i=e,s=o),o+=1}let c=r.appendAll(l,r.unsafeFromArray(Array.from(a).slice(s,o))),d=r.unsafeFromArray(n);return[y.some([i,c]),d]})(e,i);return r.isEmpty(s)?a(n):ty.flatMap(ty.write(s),()=>a(n))},onFailure:t=>y.match(e,{onNone:()=>ty.failCause(t),onSome:e=>ty.flatMap(ty.write(r.of(e)),()=>ty.failCause(t))}),onDone:t=>y.match(e,{onNone:()=>ty.succeedNow(t),onSome:e=>ty.flatMap(ty.write(r.of(e)),()=>ty.succeedNow(t))})});return new nF(tx.pipeToOrFail(sJ(e),a(y.none())))}),s9=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,lr(t),n6)),s7=(0,h.dual)(3,(e,t,r)=>nD(e,tD(t),eZ(r))),oe=(0,h.dual)(2,(e,t)=>{let r=e=>(0,h.pipe)(d.poll(e),o.map(y.match({onNone:()=>ty.readWith({onInput:t=>ty.flatMap(ty.write(t),()=>r(e)),onFailure:ty.fail,onDone:()=>ty.void}),onSome:c.match({onFailure:ty.failCause,onSuccess:()=>ty.void})})),tx.unwrap);return new nF(tx.unwrapScopedWith(a=>t.pipe(o.forkIn(a),o.map(t=>sJ(e).pipe(ty.pipeTo(r(t)))))))}),ot=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,oe(a.sleep(t)))),or=(0,h.dual)(2,(e,t)=>{let r=(0,h.pipe)(n.poll(t),o.map(y.match({onNone:()=>ty.readWith({onInput:e=>(0,h.pipe)(ty.write(e),ty.flatMap(()=>r)),onFailure:ty.fail,onDone:()=>ty.void}),onSome:e=>tx.unwrap(o.match(e,{onFailure:ty.fail,onSuccess:()=>ty.void}))})),tx.unwrap);return new nF((0,h.pipe)(sJ(e),ty.pipeTo(r)))}),oa=()=>new nF(tx.identityChannel()),oi=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,on(t,sG(od(!0,!1))))),on=(0,h.dual)(3,(e,t,r)=>{let a=e=>ty.readWithCause({onInput:t=>ty.flatMap(ty.fromEffect(iQ(e,na(t))),()=>a(e)),onFailure:t=>ty.fromEffect(iQ(e,ne(t))),onDone:()=>ty.fromEffect(iQ(e,i7))});return new nF(tx.unwrapScopedWith(i=>(0,h.pipe)(iZ(),o.zip(iZ()),o.tap(t=>{let[r]=t;return sJ(e).pipe(tx.concatMap(tx.writeChunk),ty.pipeTo(a(r)),iN.runIn(i),o.forkIn(i))}),o.tap(e=>{let[r,n]=e;return sJ(t).pipe(tx.concatMap(tx.writeChunk),ty.pipeTo(a(n)),iN.runIn(i),o.forkIn(i))}),o.map(e=>{let[t,a]=e,i=(e,r)=>ty.readWithCause({onInput:n=>n&&!e?(0,h.pipe)(ty.fromEffect(iY(t)),ty.flatMap(nr({onEnd:()=>r?ty.void:i(!0,r),onFailure:ty.failCause,onSuccess:t=>(0,h.pipe)(ty.write(t),ty.flatMap(()=>i(e,r)))}))):n||r?i(e,r):(0,h.pipe)(ty.fromEffect(iY(a)),ty.flatMap(nr({onEnd:()=>e?ty.void:i(e,!0),onFailure:ty.failCause,onSuccess:t=>(0,h.pipe)(ty.write(t),ty.flatMap(()=>i(e,r)))}))),onFailure:ty.failCause,onDone:()=>ty.void});return(0,h.pipe)(sJ(r),tx.concatMap(tx.writeChunk),ty.pipeTo(i(!1,!1)))}))))}),os=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(ty.suspend(()=>{let e=a=>ty.readWithCause({onInput:i=>{let n=[],s=a;for(let e of i)s?s=!1:n.push(t),n.push(e);return(0,h.pipe)(ty.write(r.unsafeFromArray(n)),ty.flatMap(()=>e(s)))},onFailure:ty.failCause,onDone:()=>ty.void});return e(!0)}))))),oo=(0,h.dual)(2,(e,t)=>{let{end:r,middle:a,start:i}=t;return(0,h.pipe)(od(i),sr((0,h.pipe)(e,os(a))),sr(od(r)))}),ol=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ou(a.sleep(t)))),ou=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.interruptWhen(t)))),oc=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.interruptWhenDeferred(t)))),od=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return s1(t)},op=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.mapOut(r.map(t))))),oh=(0,h.dual)(3,(e,t,a)=>{let i=e=>ty.readWith({onInput:t=>{let[n,s]=r.mapAccum(t,e,a);return ty.flatMap(ty.write(s),()=>i(n))},onFailure:ty.fail,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(i(t))))}),of=(0,h.dual)(3,(e,t,a)=>l1(()=>{let i=e=>ty.readWith({onInput:t=>(0,h.pipe)(o.suspend(()=>{let n=[];return(0,h.pipe)(t,o.reduce(e,(e,t)=>(0,h.pipe)(a(e,t),o.flatMap(e=>{let[t,r]=e;return(0,h.pipe)(o.sync(()=>{n.push(r)}),o.as(t))}))),o.match({onFailure:e=>0!==n.length?tx.zipRight(ty.write(r.unsafeFromArray(n)),ty.fail(e)):ty.fail(e),onSuccess:e=>ty.flatMap(ty.write(r.unsafeFromArray(n)),()=>i(e))}))}),tx.unwrap),onFailure:ty.fail,onDone:()=>ty.void});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(i(t))))})),om=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ox(t.onFailure),op(t.onSuccess))),og=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.mapOut(t)))),oy=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.mapOutEffect(t)))),ob=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,oS(e=>r.fromIterable(t(e))))),oS=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,og(r.flatMap(t)))),ov=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ow(t),oS(h.identity))),ok=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ow(e=>(0,h.pipe)(t(e),o.map(r.fromIterable))),oS(h.identity))),ow=(0,h.dual)(2,(e,t)=>{let a=e=>{let i=e.next();if(i.done)return ty.readWithCause({onInput:e=>a(e[Symbol.iterator]()),onFailure:ty.failCause,onDone:ty.succeed});{let n=i.value;return tx.unwrap(o.map(t(n),t=>ty.flatMap(ty.write(r.of(t)),()=>a(e))))}};return new nF((0,h.pipe)(sJ(e),ty.pipeTo(ty.suspend(()=>a(r.empty()[Symbol.iterator]())))))}),oE=(0,h.dual)(3,(e,t,a)=>new nF((0,h.pipe)(sJ(e),tx.concatMap(tx.writeChunk),tx.mapOutEffectPar(a,t),tx.mapOut(r.of)))),ox=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.mapError(t)))),oI=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.mapErrorCause(t)))),oT=(0,h.dual)(e=>nA(e[1]),(e,t,r)=>o_(e,t,{onSelf:h.identity,onOther:h.identity,haltStrategy:r?.haltStrategy})),oC=(0,h.dual)(e=>Symbol.iterator in e[0],(e,t)=>sq(s1(e),t)),oR=(0,h.dual)(2,(e,t)=>oC(Object.keys(e).map(t=>e[t].pipe(op(e=>({_tag:t,value:e})))),t)),oF=(0,h.dual)(2,(e,t)=>o_(e,t,{onSelf:l.left,onOther:l.right})),oA=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,oT(sf(t)))),oO=(0,h.dual)(2,(e,t)=>(0,h.pipe)(sf(e),oT(t))),o_=(0,h.dual)(3,(e,t,r)=>{let a=r.haltStrategy?(e=>{switch(e){case"left":return tu;case"right":return tc;case"both":return td;case"either":return tp;default:return e}})(r.haltStrategy):td,i=e=>t=>e||!c.isSuccess(t)?g.Done(o.suspend(()=>t)):g.Await(e=>o.suspend(()=>e));return new nF(tx.mergeWith(sJ(op(e,r.onSelf)),{other:sJ(op(t,r.onOther)),onSelfDone:i("Either"===a._tag||"Left"===a._tag),onOtherDone:i("Either"===a._tag||"Right"===a._tag)}))}),oM=sY(o.never),oD=(0,h.dual)(2,(e,t)=>sr(e,sf(sY(t)))),oN=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,n0(e=>sY((0,h.pipe)(t(e),o.zipRight(o.failCause(e))))))),oz=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),ty.ensuringWith(e=>c.isSuccess(e)?t():o.void)))),oP=(0,h.dual)(2,(e,t)=>uI(o.as(t,e))),oL=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.orDieWith(t)))),oU=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.orElse(()=>sJ(t()))))),oj=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,op(l.left),oU(()=>(0,h.pipe)(t(),op(l.right))))),oW=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,oU(()=>sF(t)))),oq=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,oB(()=>r.of(t())))),oB=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,o$(()=>new nF(ty.write(t()))))),o$=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>r.isEmpty(e)?ty.suspend(()=>a):(0,h.pipe)(ty.write(e),tx.zipRight(tx.identityChannel())),onFailure:ty.fail,onDone:()=>ty.suspend(()=>sJ(t()))});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a)))}),oV=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,oU(()=>l0(t)))),oH=(e,t)=>{let r=e=>{let a=t(e);return y.match(a[1],{onNone:()=>tx.zipRight(ty.write(a[0]),ty.void),onSome:e=>ty.flatMap(ty.write(a[0]),()=>r(e))})};return new nF(ty.suspend(()=>r(e)))},oG=(e,t)=>{let r=e=>tx.unwrap(o.map(t(e),e=>{let[t,a]=e;return y.match(a,{onNone:()=>tx.zipRight(ty.write(t),ty.void),onSome:e=>ty.flatMap(ty.write(t),()=>r(e))})}));return new nF(ty.suspend(()=>r(e)))},oK=(e,t)=>oG(e,e=>(0,h.pipe)(t(e),o.map(e=>{let[t,a]=e;return[r.of(t),a]}))),oJ=(0,h.dual)(2,(e,t)=>{let r="Emit",a="Halt";return(0,h.pipe)(n.make(),o.flatMap(i=>(0,h.pipe)(iZ(),o.map(s=>{let l=ra(tj(t),{onFailure:e=>r1(rT(n.fail(i,e)),t4(e)),onSuccess:e=>{let[t,o]=e,l=ty.readWithCause({onInput:e=>ty.flatMap(ty.fromEffect(iQ(s,{_tag:r,elements:e})),()=>l),onFailure:e=>tx.zipRight(ty.fromEffect(iQ(s,{_tag:a,cause:e})),ty.failCause(e)),onDone:e=>tx.zipRight(ty.fromEffect(iQ(s,{_tag:"End"})),ty.void)});return rI((0,h.pipe)(ty.fromEffect(n.succeed(i,t)),tx.zipRight(ty.fromEffect((0,h.pipe)(s,iQ({_tag:r,elements:o})))),tx.zipRight(l)))}}),u=(0,h.pipe)(iY(s),o.map(e=>{switch(e._tag){case r:return(0,h.pipe)(ty.write(e.elements),ty.flatMap(()=>u));case a:return ty.failCause(e.cause);case"End":return ty.void}}),tx.unwrap);return(0,h.pipe)(e,ue(e=>n.failCause(i,e)),lb(l),o.forkScoped,o.zipRight(n.await(i)),o.map(e=>[e,new nF(u)]))}))),o.flatten)}),oZ=(0,h.dual)(e=>"function"==typeof e[1],(e,t,r)=>oQ(e,e=>o.succeed(t(e)?l.right(e):l.left(e)),r)),oQ=(0,h.dual)(e=>"function"==typeof e[1],(e,t,r)=>(0,h.pipe)(ow(e,t),su({size:2,maximumLag:r?.bufferSize??16,decide:l.match({onLeft:()=>o.succeed(e=>0===e),onRight:()=>o.succeed(e=>1===e)})}),o.flatMap(e=>{let[t,r]=e;return o.succeed([sM(sV(s5(t,{shutdown:!0})),e=>l.match(e,{onLeft:y.some,onRight:y.none})),sM(sV(s5(r,{shutdown:!0})),e=>l.match(e,{onLeft:y.none,onRight:y.some}))])}))),oY=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(rJ(t))))),oX=(0,h.dual)(2,(e,t)=>new nF(ty.pipeTo(sJ(e),t))),o0=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(t)))),o1=(0,h.dual)(2,(e,t)=>new nF(tx.zipRight(ty.write(t),sJ(e)))),o2=(0,h.dual)(2,(e,t)=>new nF((0,h.pipe)(sJ(e),ty.provideContext(t)))),o3=(0,h.dual)(2,(e,t)=>o9(e,i.merge(t))),o5=(0,h.dual)(2,(e,t)=>new nF(tx.unwrapScopedWith(r=>m.buildWithScope(t,r).pipe(o.map(t=>(0,h.pipe)(sJ(e),ty.provideContext(t))))))),o4=(0,h.dual)(3,(e,t,r)=>o8(e,t,o.succeed(r))),o8=(0,h.dual)(3,(e,t,r)=>o6(e,t,sY(r))),o6=(0,h.dual)(3,(e,t,r)=>sT(a=>sU(r,r=>(0,h.pipe)(e,o2(i.add(a,t,r)))))),o9=(0,h.dual)(2,(e,t)=>sT(r=>(0,h.pipe)(e,o2(t(r))))),o7=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,o5((0,h.pipe)(m.context(),m.merge(t))))),le=(0,h.dual)(2,(e,t)=>lt(e,t)),lt=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.make().pipe(o.map(e=>{let r=null;return oC(t.map((t,a)=>t.pipe(l8(()=>null===r?(r=a,n.unsafeDone(e,c.void),!0):r===a),ou(n.await(e).pipe(o.flatMap(()=>r===a?o.never:o.void))))),{concurrency:t.length})}),uI)},lr=(0,h.dual)(2,(e,t)=>l1(()=>{let r=Math.max(t,1),a=la(new li(r),r);return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a)))})),la=(e,t)=>ty.readWithCause({onInput:a=>{if(a.length===t&&e.isEmpty())return ty.flatMap(ty.write(a),()=>la(e,t));if(a.length>0){let i,n=[],s=0;for(;s<a.length;){for(;s<a.length&&void 0===i;)i=e.write((0,h.pipe)(a,r.unsafeGet(s))),s+=1;void 0!==i&&(n.push(i),i=void 0)}return ty.flatMap(tx.writeAll(...n),()=>la(e,t))}return ty.suspend(()=>la(e,t))},onFailure:t=>tx.zipRight(e.emitIfNotEmpty(),ty.failCause(t)),onDone:()=>e.emitIfNotEmpty()});class li{n;builder=[];pos=0;constructor(e){this.n=e}isEmpty(){return 0===this.pos}write(e){if(this.builder.push(e),this.pos+=1,this.pos===this.n){let e=r.unsafeFromArray(this.builder);return this.builder=[],this.pos=0,e}}emitIfNotEmpty(){return 0!==this.pos?ty.write(r.unsafeFromArray(this.builder)):ty.void}}let ln=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,ls(t,h.identity))),ls=(0,h.dual)(3,(e,r,a)=>new nF(tx.catchAll(sJ(e),e=>y.match(r(e),{onNone:()=>ty.failCause(t.die(a(e))),onSome:ty.fail})))),lo=(0,h.dual)(2,(e,t)=>sM(lc(e,t),e=>l.match(e,{onLeft:y.none,onRight:y.some}))),ll=e=>uw(e,e=>(0,h.pipe)(o.map(e,t=>y.some([t,e])),o.catchAll(y.match({onNone:()=>o.succeed(y.none()),onSome:o.fail})))),lu=e=>ll((0,h.pipe)(e,o.map(r.of))),lc=(0,h.dual)(2,(e,t)=>lh(e,t,{onElement:e=>l.right(e),onSchedule:l.left})),ld=(0,h.dual)(2,(e,t)=>sM(lp(e,t,{onElement:e=>y.some(e),onSchedule:y.none}),h.identity)),lp=(0,h.dual)(3,(e,t,a)=>{let i=(0,h.pipe)(el(t),o.map(e=>{let t=e=>y.match(r.head(e),{onNone:()=>n,onSome:t=>tx.zipRight(ty.write(r.of(a.onElement(t))),i((0,h.pipe)(e,r.drop(1)),t))}),i=(n,s)=>{let l=(0,h.pipe)(e.next(s),o.as((0,h.pipe)(ty.write(r.of(a.onElement(s))),ty.flatMap(()=>i(n,s))))),u=(0,h.pipe)(e.last,o.orDie,o.flatMap(i=>(0,h.pipe)(e.reset,o.map(()=>(0,h.pipe)(ty.write(r.of(a.onSchedule(i))),tx.zipRight(t(n)))))));return(0,h.pipe)(l,o.orElse(()=>u),tx.unwrap)},n=ty.readWith({onInput:t,onFailure:ty.fail,onDone:()=>ty.void});return n}),tx.unwrap);return new nF((0,h.pipe)(sJ(e),ty.pipeTo(i)))}),lh=(0,h.dual)(3,(e,t,a)=>(0,h.pipe)(el(t),o.map(t=>{let i=o8(tl,E.get(t.iterationMeta)),n=(0,h.pipe)(e,i,op(a.onElement),sJ),s=tx.unwrap(o.match(t.next(void 0),{onFailure:()=>ty.void,onSuccess:e=>ty.flatMap(n,()=>tx.zipRight(ty.write(r.of(a.onSchedule(e))),s))}));return new nF(tx.zipRight(n,s))}),uI)),lf=(e,t)=>sU(sY(o.zip(e,el(t))),t=>{let[r,a]=t,i=o.provideServiceEffect(tl,E.get(a.iterationMeta));return sr(lX(r),uE(r,t=>o.matchEffect(a.next(t),{onFailure:o.succeed,onSuccess:()=>o.map(i(e),e=>y.some([e,e]))})))}),lm=(0,h.dual)(2,(e,t)=>el(t).pipe(o.map(t=>{let r=sJ(o8(tl,E.get(t.iterationMeta))(e)).pipe(tx.mapOutEffect(e=>o.as(t.reset,e)),tx.catchAll(e=>t.next(e).pipe(o.match({onFailure:()=>ty.fail(e),onSuccess:()=>r}),tx.unwrap)));return r}),tx.unwrap,sK)),lg=(0,h.dual)(e=>nA(e[0]),(e,t,r)=>l1(()=>{let a=r?.preventFallbackOnPartialStream??!1,n=0,s=y.none(),o=l1(()=>{let r=t.steps[n++];if(!r)return sR(y.getOrThrow(s));let l=i.isContext(r.provide)?o3(e,r.provide):o7(e,r.provide),u=!1;if(y.isSome(s)){let e=s.value,t=!1,a=l;l=ly(lm(l=l1(()=>t?a:(t=!0,sR(e))),f.scheduleFromStep(r,!1)))}else{let e=f.scheduleFromStep(r,!0);l=e?ly(lm(l,e)):l}return nX(a?og(l,e=>(u=!0,e)):l,e=>a&&u?sR(e):(s=y.some(e),o))});return o})),ly=e=>n0(e,e=>sA(I.scheduleDefectRefailCause(e))),lb=(0,h.dual)(2,(e,t)=>sJ(e).pipe(tx.pipeToOrFail(rJ(t)),tx.runDrain)),lS=(0,h.dual)(3,(e,t,r)=>lE(e,t,h.constTrue,r)),lv=(0,h.dual)(3,(e,t,r)=>lx(e,t,h.constTrue,r)),lk=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,lI(t,h.constTrue,r))),lw=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,lT(t,h.constTrue,r))),lE=(0,h.dual)(4,(e,t,r,a)=>lb(e,re(t,r,a))),lx=(0,h.dual)(4,(e,t,r,a)=>lb(e,rl(t,r,a))),lI=(0,h.dual)(4,(e,t,r,a)=>(0,h.pipe)(e,lL(re(t,r,a)))),lT=(0,h.dual)(4,(e,t,r,a)=>(0,h.pipe)(e,lL(rl(t,r,a)))),lC=(0,h.dual)(2,(e,t)=>lb(e,rk(t))),lR=(0,h.dual)(2,(e,t)=>lb(e,rw(t))),lF=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,lL(rw(t)))),lA=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,lL(rk(t)))),lO=(0,h.dual)(2,(e,t)=>lb(e,rE(t))),l_=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,lL(rE(t)))),lM=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,lN(t))),lD=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,lP(t))),lN=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,lP(t),o.scoped)),lz=(0,h.dual)(2,(e,a)=>{let i=ty.readWithCause({onInput:e=>ty.flatMap(ty.fromEffect(k.offerAll(a,r.map(e,c.succeed))),()=>i),onFailure:e=>ty.fromEffect(k.offer(a,c.failCause(t.map(e,y.some)))),onDone:()=>ty.fromEffect(k.offer(a,c.fail(y.none())))});return(0,h.pipe)(ty.pipeTo(sJ(e),i),tx.drain,tx.runScoped,o.asVoid)}),lP=(0,h.dual)(2,(e,t)=>{let r=ty.readWithCause({onInput:e=>ty.flatMap(ty.write(i6(e)),()=>r),onFailure:e=>ty.write(ne(e)),onDone:()=>ty.write(i7)});return(0,h.pipe)(ty.pipeTo(sJ(e),r),tx.mapOutEffect(e=>k.offer(t,e)),tx.drain,tx.runScoped,o.asVoid)}),lL=(0,h.dual)(2,(e,t)=>(0,h.pipe)(sJ(e),tx.pipeToOrFail(rJ(t)),tx.drain,tx.runScoped)),lU=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,l$(t,(e,t)=>o.succeed(r(e,t))))),lj=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,lW((e,r)=>o.succeed(t(e,r))))),lW=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,of(y.none(),(e,r)=>{switch(e._tag){case"None":return o.succeed([y.some(r),r]);case"Some":return(0,h.pipe)(t(e.value,r),o.map(e=>[y.some(e),e]))}}))),lq=(0,h.dual)(2,(e,t)=>sM(lB(e,t,{onElement:y.some,onSchedule:y.none}),h.identity)),lB=(0,h.dual)(3,(e,t,a)=>{let i=(e,t)=>{let n=t.next();return n.done?ty.readWithCause({onInput:t=>i(e,t[Symbol.iterator]()),onFailure:ty.failCause,onDone:ty.succeedNow}):tx.unwrap(o.matchEffect(e.next(n.value),{onFailure:()=>(0,h.pipe)(e.last,o.orDie,o.map(s=>(0,h.pipe)(ty.write(r.make(a.onElement(n.value),a.onSchedule(s))),ty.flatMap(()=>i(e,t)))),o.zipLeft(e.reset)),onSuccess:()=>o.succeed((0,h.pipe)(ty.write(r.of(a.onElement(n.value))),ty.flatMap(()=>i(e,t))))}))};return new nF((0,h.pipe)(ty.fromEffect(el(t)),ty.flatMap(t=>(0,h.pipe)(sJ(e),ty.pipeTo(i(t,r.empty()[Symbol.iterator]()))))))}),l$=(0,h.dual)(3,(e,t,a)=>new nF((0,h.pipe)(ty.write(r.of(t)),ty.flatMap(()=>sJ((0,h.pipe)(e,of(t,(e,t)=>(0,h.pipe)(a(e,t),o.map(e=>[e,e]))))))))),lV=e=>new nF(tx.ensuring(tx.scoped((0,h.pipe)(e,o.map(r.of))),o.void)),lH=e=>new nF(tx.scopedWith(t=>e(t).pipe(o.map(r.of)))),lG=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,op(y.getOrElse(t)))),lK=(0,h.dual)(2,(e,t)=>ow(e,y.match({onNone:()=>o.failSync(t),onSome:o.succeed}))),lJ=(0,h.dual)(2,(e,t)=>lZ(e,t,1)),lZ=(0,h.dual)(3,(e,a,i)=>a<=0||i<=0?sl(new t.IllegalArgumentException("Invalid bounds - `chunkSize` and `stepSize` must be greater than zero")):new nF(ty.suspend(()=>{let t=new iL(a),n=(e,n)=>{if(e<a){let e=t.toChunk(),a=r.isEmpty(e)?r.empty():r.of(e);return(0,h.pipe)(ty.write(a),ty.flatMap(()=>n))}let s=e-(e-a)%i;if(s===e)return n;let o=(0,h.pipe)(t.toChunk(),r.takeRight(e-(s-a+i))),l=r.isEmpty(o)?r.empty():r.of(o);return(0,h.pipe)(ty.write(l),ty.flatMap(()=>n))},s=e=>ty.readWithCause({onInput:n=>ty.flatMap(ty.write(r.filterMap(n,(r,n)=>{t.put(r);let s=e+n+1;return s<a||(s-a)%i>0?y.none():y.some(t.toChunk())})),()=>s(e+n.length)),onFailure:t=>n(e,ty.failCause(t)),onDone:()=>n(e,ty.void)});return(0,h.pipe)(sJ(e),ty.pipeTo(s(0)))}))),lQ=(0,h.dual)(2,(e,t)=>{let a=(e,n)=>{let[s,o]=(0,h.pipe)(e,r.appendAll(n),r.splitWhere(t));return r.isEmpty(s)||r.isEmpty(o)?i((0,h.pipe)(s,r.appendAll((0,h.pipe)(o,r.drop(1))))):(0,h.pipe)(ty.write(r.of(s)),ty.flatMap(()=>a(r.empty(),(0,h.pipe)(o,r.drop(1)))))},i=e=>ty.readWith({onInput:t=>a(e,t),onFailure:ty.fail,onDone:()=>r.isEmpty(e)?ty.void:y.isNone((0,h.pipe)(e,r.findFirst(t)))?tx.zipRight(ty.write(r.of(e)),ty.void):tx.zipRight(a(r.empty(),e),ty.void)});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(i(r.empty()))))}),lY=(0,h.dual)(2,(e,t)=>{let a=(e,i)=>ty.readWithCause({onInput:n=>{let s,[o,l]=(0,h.pipe)(n,r.reduce([(0,h.pipe)(e,y.getOrElse(()=>r.empty())),i],(e,a)=>{let[i,n]=e,o=(0,h.pipe)(i,r.append(a));return n<t.length&&u.equals(a,(0,h.pipe)(t,r.unsafeGet(n)))?n+1===t.length?(void 0===s&&(s=[]),s.push((0,h.pipe)(o,r.take(o.length-t.length))),[r.empty(),0]):[o,n+1]:[o,+!!u.equals(a,(0,h.pipe)(t,r.unsafeGet(0)))]})),c=void 0===s?r.empty():r.unsafeFromArray(s);return ty.flatMap(ty.write(c),()=>a(r.isNonEmpty(o)?y.some(o):y.none(),l))},onFailure:t=>y.match(e,{onNone:()=>ty.failCause(t),onSome:e=>tx.zipRight(ty.write(r.of(e)),ty.failCause(t))}),onDone:t=>y.match(e,{onNone:()=>ty.succeed(t),onSome:e=>tx.zipRight(ty.write(r.of(e)),ty.succeed(t))})});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a(y.none(),0))))}),lX=e=>sZ(r.of(e)),l0=e=>l1(()=>sZ(r.of(e()))),l1=e=>new nF(ty.suspend(()=>sJ(e()))),l2=(0,h.dual)(2,(e,a)=>{if(!Number.isInteger(a))return sl(new t.IllegalArgumentException(`${a} must be an integer`));let i=e=>ty.readWith({onInput:t=>{let a=(0,h.pipe)(t,r.take(Math.min(e,1/0))),n=Math.max(0,e-a.length);return n>0?(0,h.pipe)(ty.write(a),ty.flatMap(()=>i(n))):ty.write(a)},onFailure:ty.fail,onDone:ty.succeed});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(0<a?i(a):ty.void)))}),l3=(0,h.dual)(2,(e,t)=>t<=0?sw:new nF((0,h.pipe)(o.succeed(new iL(t)),o.map(t=>{let r=ty.readWith({onInput:e=>{for(let r of e)t.put(r);return r},onFailure:ty.fail,onDone:()=>(0,h.pipe)(ty.write(t.toChunk()),tx.zipRight(ty.void))});return(0,h.pipe)(sJ(e),ty.pipeTo(r))}),tx.unwrap))),l5=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>{let i=(0,h.pipe)(e,r.takeWhile(e=>!t(e))),n=(0,h.pipe)(e,r.drop(i.length),r.take(1));return r.isEmpty(n)?(0,h.pipe)(ty.write(i),ty.flatMap(()=>a)):ty.write((0,h.pipe)(i,r.appendAll(n)))},onFailure:ty.fail,onDone:ty.succeed});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(a)))}),l4=(0,h.dual)(2,(e,t)=>{let a=e=>{let i=e.next();return i.done?ty.readWithCause({onInput:e=>a(e[Symbol.iterator]()),onFailure:ty.failCause,onDone:ty.succeed}):(0,h.pipe)(t(i.value),o.map(t=>t?ty.write(r.of(i.value)):(0,h.pipe)(ty.write(r.of(i.value)),ty.flatMap(()=>a(e)))),tx.unwrap)};return new nF((0,h.pipe)(sJ(e),ty.pipeTo(a(r.empty()[Symbol.iterator]()))))}),l8=(0,h.dual)(2,(e,t)=>{let a=ty.readWith({onInput:e=>{let i=(0,h.pipe)(e,r.takeWhile(t));return i.length===e.length?(0,h.pipe)(ty.write(i),ty.flatMap(()=>a)):ty.write(i)},onFailure:ty.fail,onDone:ty.succeed});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(a)))}),l6=(0,h.dual)(2,(e,t)=>ow(e,e=>o.as(t(e),e))),l9=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,l7(t.onFailure),l6(t.onSuccess))),l7=(0,h.dual)(2,(e,t)=>nX(e,e=>sY(o.zipRight(t(e),o.fail(e))))),ue=(0,h.dual)(2,(e,t)=>{let r=ty.readWithCause({onInput:e=>ty.flatMap(ty.write(e),()=>r),onFailure:e=>ty.fromEffect(o.zipRight(t(e),o.failCause(e))),onDone:ty.succeedNow});return new nF((0,h.pipe)(sJ(e),ty.pipeTo(r)))}),ut=(0,h.dual)(2,(e,t)=>(0,h.pipe)(sY(o.all([k.bounded(1),n.make()])),sU(r=>{let[a,i]=r,s=sH(s5(a,{maxChunkSize:1})),l=ty.readWithCause({onInput:e=>(0,h.pipe)(ty.fromEffect(k.offer(a,i6(e))),ty.foldCauseChannel({onFailure:()=>ty.flatMap(ty.write(e),()=>tx.identityChannel()),onSuccess:()=>ty.flatMap(ty.write(e),()=>l)})),onFailure:e=>(0,h.pipe)(ty.fromEffect(k.offer(a,ne(e))),ty.foldCauseChannel({onFailure:()=>ty.failCause(e),onSuccess:()=>ty.failCause(e)})),onDone:()=>(0,h.pipe)(ty.fromEffect(k.offer(a,i7)),ty.foldCauseChannel({onFailure:()=>ty.void,onSuccess:()=>ty.void}))});return(0,h.pipe)(new nF((0,h.pipe)(ty.pipeTo(sJ(e),l),tx.ensuring(o.zipRight(o.forkDaemon(k.offer(a,i7)),n.await(i))))),oT(sC((0,h.pipe)(lb(s,t),o.ensuring(o.zipRight(k.shutdown(a),n.succeed(i,void 0)))))))}))),ur=(0,h.dual)(2,(e,t)=>ua(e,{...t,cost:e=>o.succeed(t.cost(e))})),ua=(0,h.dual)(2,(e,t)=>"enforce"===t.strategy?ui(e,t.cost,t.units,t.duration,t.burst??0):un(e,t.cost,t.units,t.duration,t.burst??0)),ui=(e,t,r,i,n)=>{let l=(e,u)=>ty.readWithCause({onInput:c=>(0,h.pipe)(t(c),o.zip(a.currentTimeMillis),o.map(t=>{let[a,o]=t,d=e+(o-u)/s.toMillis(i)*r,p=r+n<0?1/0:r+n,f=d<0?p:Math.min(d,p);return a<=f?(0,h.pipe)(ty.write(c),ty.flatMap(()=>l(f-a,o))):l(e,u)}),tx.unwrap),onFailure:ty.failCause,onDone:()=>ty.void}),u=(0,h.pipe)(a.currentTimeMillis,o.map(e=>l(r,e)),tx.unwrap);return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(u)))},un=(e,t,r,i,n)=>{let l=(e,u)=>ty.readWithCause({onInput:c=>(0,h.pipe)(t(c),o.zip(a.currentTimeMillis),o.map(t=>{let[o,d]=t,p=e+(d-u)/s.toMillis(i)*r,f=r+n<0?1/0:r+n,m=(p<0?f:Math.min(p,f))-o,g=m>=0?0:-m/r,y=s.millis(Math.max(0,g*s.toMillis(i)));return s.greaterThan(y,s.zero)?(0,h.pipe)(ty.fromEffect(a.sleep(y)),tx.zipRight(ty.write(c)),ty.flatMap(()=>l(m,d))):ty.flatMap(ty.write(c),()=>l(m,d))}),tx.unwrap),onFailure:ty.failCause,onDone:()=>ty.void}),u=(0,h.pipe)(a.currentTimeMillis,o.map(e=>l(r,e)),tx.unwrap);return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(u)))},us=(0,h.dual)(2,(e,t)=>(0,h.pipe)(up(e),o.map(o.timeoutFail({onTimeout:()=>y.none(),duration:t})),s3)),uo=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,uu(r,sF(t)))),ul=(0,h.dual)(3,(e,r,a)=>(0,h.pipe)(up(e),o.map(o.timeoutFailCause({onTimeout:()=>t.map(r(),y.some),duration:a})),s3)),uu=(0,h.dual)(3,(e,r,a)=>{let i=new t.RuntimeException("Stream Timeout");return(0,h.pipe)(e,ul(()=>t.die(i),r),n2(e=>t.isDieType(e)&&t.isRuntimeException(e.defect)&&void 0!==e.defect.message&&"Stream Timeout"===e.defect.message?y.some(a):y.none()))}),uc=e=>{if("number"==typeof e)return v.bounded(e);if("unbounded"===e.capacity)return v.unbounded({replay:e.replay});switch(e.strategy){case"dropping":return v.dropping(e);case"sliding":return v.sliding(e);default:return v.bounded(e)}},ud=(0,h.dual)(2,(e,t)=>(0,h.pipe)(o.acquireRelease(uc(t),e=>v.shutdown(e)),o.tap(t=>(0,h.pipe)(e,lD(t),o.forkScoped)))),up=e=>o.map(tx.toPull(sJ(e)),e=>(0,h.pipe)(e,o.mapError(y.some),o.flatMap(l.match({onLeft:()=>o.fail(y.none()),onRight:o.succeed})))),uh=(0,h.dual)(e=>nA(e[0]),(e,t)=>o.tap(o.acquireRelease(t?.strategy==="unbounded"?k.unbounded():t?.strategy==="dropping"?k.dropping(t.capacity??2):t?.strategy==="sliding"?k.sliding(t.capacity??2):k.bounded(t?.capacity??2),e=>k.shutdown(e)),t=>o.forkScoped(lP(e,t)))),uf=(0,h.dual)(e=>nA(e[0]),(e,t)=>o.tap(o.acquireRelease(k.bounded(t?.capacity??2),e=>k.shutdown(e)),t=>o.forkScoped(lz(e,t)))),um=(0,h.dual)(e=>nA(e[0]),(e,t)=>uy(e,x.defaultRuntime,t)),ug=(0,h.dual)(e=>nA(e[0]),(e,t)=>o.map(o.runtime(),r=>uy(e,r,t))),uy=(0,h.dual)(e=>nA(e[0]),(e,r,a)=>{let i,n,s=x.runFork(r),l=o.unsafeMakeLatch(!1);return new ReadableStream({start(r){(n=s(lR(e,e=>0===e.length?o.void:l.whenOpen(o.sync(()=>{for(let t of(l.unsafeClose(),e))r.enqueue(t);i(),i=void 0}))))).addObserver(e=>{try{"Failure"===e._tag?r.error(t.squash(e.cause)):r.close()}catch{}})},pull:()=>new Promise(e=>{i=e,o.runSync(l.open)}),cancel(){if(n)return o.runPromise(o.asVoid(d.interrupt(n)))}},a?.strategy)}),ub=(0,h.dual)(2,(e,t)=>new nF(ty.suspend(()=>{let a={ref:r.empty()},i={ref:!1},n=ty.suspend(()=>{let e=a.ref;return r.isEmpty(e)?ty.readWith({onInput:e=>(0,h.pipe)(ty.write(e),ty.flatMap(()=>n)),onFailure:ty.fail,onDone:ty.succeedNow}):(a.ref=r.empty(),(0,h.pipe)(tx.writeChunk(e),ty.flatMap(()=>n)))}),s=ty.readWith({onInput:e=>ty.flatMap(ty.write(e),()=>s),onFailure:ty.fail,onDone:e=>tx.zipRight(ty.sync(()=>{i.ref=!0}),ty.succeedNow(e))}),o=(0,h.pipe)(t,rJ,ty.collectElements,ty.flatMap(e=>{let t,n,[s,l]=e;return(0,h.pipe)(ty.succeed([i.ref,(t=a.ref,a.ref=n=r.appendAll(t,r.filter(s,e=>0!==e.length)),n)]),ty.flatMap(e=>{let[t,a]=e,i=t&&r.isEmpty(a)?ty.void:o;return(0,h.pipe)(ty.write(r.of(l)),ty.flatMap(()=>i))}))}));return(0,h.pipe)(sJ(e),ty.pipeTo(s),ty.pipeTo(n),tx.pipeToOrFail(o))}))),uS=(0,h.dual)(e=>nA(e[0]),(e,r)=>{let a=x.runFork(r);return{[Symbol.asyncIterator](){let r,i,n,s=o.unsafeMakeLatch(!1),l=!1;return{next:()=>(n||(n=a(lC(e,e=>s.whenOpen(o.sync(()=>{s.unsafeClose(),r({done:!1,value:e}),r=i=void 0}))))).addObserver(e=>{l||(n=o.runFork(s.whenOpen(o.sync(()=>{"Failure"===e._tag?i(t.squash(e.cause)):r({done:!0,value:void 0}),r=i=void 0}))))}),new Promise((e,t)=>{r=e,i=t,s.unsafeOpen()})),return:()=>(l=!0,n)?o.runPromise(o.as(d.interrupt(n),{done:!0,value:void 0})):Promise.resolve({done:!0,value:void 0})}}}}),uv=(e,t)=>uk(e,e=>(0,h.pipe)(t(e),y.map(e=>{let[t,a]=e;return[r.of(t),a]}))),uk=(e,t)=>{let r=e=>y.match(t(e),{onNone:()=>ty.void,onSome:e=>{let[t,a]=e;return ty.flatMap(ty.write(t),()=>r(a))}});return new nF(ty.suspend(()=>r(e)))},uw=(e,t)=>l1(()=>{let r=e=>tx.unwrap(o.map(t(e),y.match({onNone:()=>ty.void,onSome:e=>{let[t,a]=e;return ty.flatMap(ty.write(t),()=>r(a))}})));return new nF(r(e))}),uE=(e,t)=>uw(e,e=>(0,h.pipe)(t(e),o.map(y.map(e=>{let[t,a]=e;return[r.of(t),a]})))),ux=lX(void 0),uI=e=>sq(sY(e)),uT=e=>sq(lV(e)),uC=e=>sq(lH(t=>e(t))),uR=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,o9(e=>(0,h.pipe)(e,i.add(t,r((0,h.pipe)(e,i.unsafeGet(t)))))))),uF=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,uO(o.sync(t)))),uA=(0,h.dual)(2,(e,t)=>(0,h.pipe)(sY(e),sU(e=>(0,h.pipe)(t(e),y.getOrElse(()=>sw))))),uO=(0,h.dual)(2,(e,t)=>(0,h.pipe)(sY(t),sU(t=>t?e:sw))),u_=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,uG(t,(e,t)=>[e,t]))),uM=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,uG(t,(e,t)=>[...e,t]))),uD=(0,h.dual)(2,(e,t)=>uW(e,{other:t.other,onSelf:e=>[e,t.defaultOther],onOther:e=>[t.defaultSelf,e],onBoth:(e,t)=>[e,t]})),uN=(0,h.dual)(3,(e,t,r)=>uW(e,{other:t,onSelf:h.identity,onOther:()=>r,onBoth:e=>e})),uz=(0,h.dual)(3,(e,t,r)=>uW(e,{other:t,onSelf:()=>r,onOther:h.identity,onBoth:(e,t)=>t})),uP=(0,h.dual)(2,(e,t)=>uj(e,{other:t.other,onSelf:e=>[e,t.defaultOther],onOther:e=>[t.defaultSelf,e],onBoth:(e,t)=>[e,t],order:t.order})),uL=(0,h.dual)(2,(e,t)=>uj(e,{other:t.other,onSelf:h.identity,onOther:()=>t.defaultSelf,onBoth:e=>e,order:t.order})),uU=(0,h.dual)(2,(e,t)=>uj(e,{other:t.other,onSelf:()=>t.defaultOther,onOther:h.identity,onBoth:(e,t)=>t,order:t.order})),uj=(0,h.dual)(2,(e,t)=>{let a=(e,n,s)=>{switch(e._tag){case nc:return(0,h.pipe)(n,o.match({onFailure:c.fail,onSuccess:e=>c.succeed([r.map(e,e=>{let[r,a]=e;return[r,t.onSelf(a)]}),nm])}));case nd:return(0,h.pipe)(s,o.match({onFailure:c.fail,onSuccess:e=>c.succeed([r.map(e,e=>{let[r,a]=e;return[r,t.onOther(a)]}),ng])}));case np:return(0,h.pipe)(n7(n),o.zip(n7(s),{concurrent:!0}),o.matchEffect({onFailure:e=>o.succeed(c.fail(y.some(e))),onSuccess:e=>{let[l,u]=e;return y.isSome(l)&&y.isSome(u)?r.isEmpty(l.value)&&r.isEmpty(u.value)?a(ny,n,s):r.isEmpty(l.value)?a(nb(u.value),n,s):r.isEmpty(u.value)?a(nS(l.value),n,s):o.succeed(c.succeed(i(l.value,u.value))):y.isSome(l)&&y.isNone(u)?r.isEmpty(l.value)?a(nm,n,s):o.succeed(c.succeed([(0,h.pipe)(l.value,r.map(e=>{let[r,a]=e;return[r,t.onSelf(a)]})),nm])):y.isNone(l)&&y.isSome(u)?r.isEmpty(u.value)?a(ng,n,s):o.succeed(c.succeed([(0,h.pipe)(u.value,r.map(e=>{let[r,a]=e;return[r,t.onOther(a)]})),ng])):o.succeed(c.fail(y.none()))}}));case nh:return o.matchEffect(n,{onFailure:y.match({onNone:()=>o.succeed(c.succeed([(0,h.pipe)(e.rightChunk,r.map(e=>{let[r,a]=e;return[r,t.onOther(a)]})),ng])),onSome:e=>o.succeed(c.fail(y.some(e)))}),onSuccess:t=>r.isEmpty(t)?a(nb(e.rightChunk),n,s):o.succeed(c.succeed(i(t,e.rightChunk)))});case nf:return o.matchEffect(s,{onFailure:y.match({onNone:()=>o.succeed(c.succeed([r.map(e.leftChunk,e=>{let[r,a]=e;return[r,t.onSelf(a)]}),nm])),onSome:e=>o.succeed(c.fail(y.some(e)))}),onSuccess:t=>r.isEmpty(t)?a(nS(e.leftChunk),n,s):o.succeed(c.succeed(i(e.leftChunk,t)))})}},i=(e,a)=>{let i,n=(e,t)=>t<e.length-1,s=[],o=0,l=0,u=(0,h.pipe)(e,r.unsafeGet(o)),c=(0,h.pipe)(a,r.unsafeGet(l)),d=u[0],p=u[1],f=c[0],m=c[1],g=!0;for(;g;){let y=t.order(d,f);if(0===y)s.push([d,t.onBoth(p,m)]),n(e,o)&&n(a,l)?(o+=1,l+=1,u=(0,h.pipe)(e,r.unsafeGet(o)),c=(0,h.pipe)(a,r.unsafeGet(l)),d=u[0],p=u[1],f=c[0],m=c[1]):(i=n(e,o)?nS((0,h.pipe)(e,r.drop(o+1))):n(a,l)?nb((0,h.pipe)(a,r.drop(l+1))):ny,g=!1);else if(y<0)if(s.push([d,t.onSelf(p)]),n(e,o))o+=1,d=(u=(0,h.pipe)(e,r.unsafeGet(o)))[0],p=u[1];else{let e=[];for(e.push(c);n(a,l);)l+=1,c=(0,h.pipe)(a,r.unsafeGet(l)),e.push(c);i=nb(r.unsafeFromArray(e)),g=!1}else if(s.push([f,t.onOther(m)]),n(a,l))l+=1,f=(c=(0,h.pipe)(a,r.unsafeGet(l)))[0],m=c[1];else{let t=[];for(t.push(u);n(e,o);)o+=1,u=(0,h.pipe)(e,r.unsafeGet(o)),t.push(u);i=nS(r.unsafeFromArray(t)),g=!1}}return[r.unsafeFromArray(s),i]};return st(e,t.other,ny,a)}),uW=(0,h.dual)(2,(e,t)=>{let a=(e,n,s)=>{switch(e._tag){case nc:return o.matchEffect(n,{onFailure:e=>o.succeed(c.fail(e)),onSuccess:e=>o.succeed(c.succeed([r.map(e,t.onSelf),nm]))});case nd:return o.matchEffect(s,{onFailure:e=>o.succeed(c.fail(e)),onSuccess:e=>o.succeed(c.succeed([r.map(e,t.onOther),ng]))});case np:return(0,h.pipe)(n7(n),o.zip(n7(s),{concurrent:!0}),o.matchEffect({onFailure:e=>o.succeed(c.fail(y.some(e))),onSuccess:e=>{let[l,u]=e;return y.isSome(l)&&y.isSome(u)?r.isEmpty(l.value)&&r.isEmpty(u.value)?a(ny,n,s):r.isEmpty(l.value)?a(nb(u.value),n,s):r.isEmpty(u.value)?a(nS(l.value),n,s):o.succeed(c.succeed(i(l.value,u.value,t.onBoth))):y.isSome(l)&&y.isNone(u)?o.succeed(c.succeed([r.map(l.value,t.onSelf),nm])):y.isNone(l)&&y.isSome(u)?o.succeed(c.succeed([r.map(u.value,t.onOther),ng])):o.succeed(c.fail(y.none()))}}));case nh:return o.matchEffect(n,{onFailure:y.match({onNone:()=>o.succeed(c.succeed([r.map(e.rightChunk,t.onOther),ng])),onSome:e=>o.succeed(c.fail(y.some(e)))}),onSuccess:l=>r.isEmpty(l)?a(nb(e.rightChunk),n,s):r.isEmpty(e.rightChunk)?a(nS(l),n,s):o.succeed(c.succeed(i(l,e.rightChunk,t.onBoth)))});case nf:return o.matchEffect(s,{onFailure:y.match({onNone:()=>o.succeed(c.succeed([r.map(e.leftChunk,t.onSelf),nm])),onSome:e=>o.succeed(c.fail(y.some(e)))}),onSuccess:l=>r.isEmpty(l)?a(nS(e.leftChunk),n,s):r.isEmpty(e.leftChunk)?a(nb(l),n,s):o.succeed(c.succeed(i(e.leftChunk,l,t.onBoth)))})}},i=(e,t,a)=>{let[i,n]=uQ(e,t,a);switch(n._tag){case"Left":if(r.isEmpty(n.left))return[i,ny];return[i,nS(n.left)];case"Right":if(r.isEmpty(n.right))return[i,ny];return[i,nb(n.right)]}};return st(e,t.other,ny,a)}),uq=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,u$(t,(e,t)=>[e,t]))),uB=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return sw;if(1===t.length)return op(t[0],e=>[e]);let[a,...i]=t;return u$(a,uB(...i),(e,t)=>[e,...t])},u$=(0,h.dual)(3,(e,t,a)=>{let i=e=>(0,h.pipe)(e,o.flatMap(t=>r.isEmpty(t)?i(e):o.succeed(t)));return(0,h.pipe)(up(e),o.map(i),o.zip((0,h.pipe)(up(t),o.map(i))),o.flatMap(e=>{let[t,i]=e;return(0,h.pipe)(sX(o.raceWith(t,i,{onSelfDone:(e,t)=>(0,h.pipe)(o.suspend(()=>e),o.zipWith(d.join(t),(e,t)=>[e,t,!0])),onOtherDone:(e,t)=>(0,h.pipe)(o.suspend(()=>e),o.zipWith(d.join(t),(e,t)=>[t,e,!1]))})),sU(e=>{let[n,s,o]=e;return(0,h.pipe)(sY(E.make([r.unsafeLast(n),r.unsafeLast(s)])),sU(e=>(0,h.pipe)(sZ(o?(0,h.pipe)(s,r.map(e=>a(r.unsafeLast(n),e))):(0,h.pipe)(n,r.map(e=>a(e,r.unsafeLast(s))))),sr((0,h.pipe)(lu(t),oF(lu(i)),ow(l.match({onLeft:t=>E.modify(e,e=>{let[i,n]=e;return[(0,h.pipe)(t,r.map(e=>a(e,n))),[r.unsafeLast(t),n]]}),onRight:t=>E.modify(e,e=>{let[i,n]=e;return[(0,h.pipe)(t,r.map(e=>a(i,e))),[i,r.unsafeLast(t)]]})})),sU(sZ))))))}),up)}),s3)}),uV=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,uK(t,(e,t)=>e.length>t.length?[(0,h.pipe)(e,r.take(t.length)),l.left((0,h.pipe)(e,r.take(t.length)))]:[e,l.right((0,h.pipe)(t,r.drop(e.length)))]))),uH=(0,h.dual)(2,(e,t)=>(0,h.pipe)(e,uK(t,(e,t)=>e.length>t.length?[t,l.left((0,h.pipe)(e,r.take(t.length)))]:[(0,h.pipe)(t,r.take(e.length)),l.right((0,h.pipe)(t,r.drop(e.length)))]))),uG=(0,h.dual)(3,(e,t,r)=>(0,h.pipe)(e,uK(t,(e,t)=>uQ(e,t,r)))),uK=(0,h.dual)(3,(e,t,a)=>{let i=(e,t,a)=>{switch(e._tag){case nv:return(0,h.pipe)(n7(t),o.zip(n7(a),{concurrent:!0}),o.matchEffect({onFailure:e=>o.succeed(c.fail(y.some(e))),onSuccess:e=>{let[s,l]=e;return y.isSome(s)&&y.isSome(l)?r.isEmpty(s.value)&&r.isEmpty(l.value)?i(nE,t,a):r.isEmpty(s.value)?i(nx(l.value),t,a):r.isEmpty(l.value)?i(nI(s.value),t,a):o.succeed(c.succeed(n(s.value,l.value))):o.succeed(c.fail(y.none()))}}));case nk:return o.matchEffect(t,{onFailure:e=>o.succeed(c.fail(e)),onSuccess:s=>r.isEmpty(s)?i(nx(e.rightChunk),t,a):r.isEmpty(e.rightChunk)?i(nI(s),t,a):o.succeed(c.succeed(n(s,e.rightChunk)))});case nw:return o.matchEffect(a,{onFailure:e=>o.succeed(c.fail(e)),onSuccess:s=>r.isEmpty(s)?i(nI(e.leftChunk),t,a):r.isEmpty(e.leftChunk)?i(nx(s),t,a):o.succeed(c.succeed(n(e.leftChunk,s)))})}},n=(e,t)=>{let[i,n]=a(e,t);switch(n._tag){case"Left":if(r.isEmpty(n.left))return[i,nE];return[i,nI(n.left)];case"Right":if(r.isEmpty(n.right))return[i,nE];return[i,nx(n.right)]}};return(0,h.pipe)(e,st(t,nE,i))}),uJ=e=>{let t=e=>ty.readWithCause({onInput:a=>{let[i,n]=r.mapAccum(a,e,(e,t)=>[y.some(t),(0,h.pipe)(e,y.map(e=>[e,t]))]),s=r.filterMap(n,e=>y.isSome(e)?y.some([e.value[0],y.some(e.value[1])]):y.none());return ty.flatMap(ty.write(s),()=>t(i))},onFailure:ty.failCause,onDone:()=>y.match(e,{onNone:()=>ty.void,onSome:e=>tx.zipRight(ty.write(r.of([e,y.none()])),ty.void)})});return new nF((0,h.pipe)(sJ(e),tx.pipeToOrFail(t(y.none()))))},uZ=e=>(0,h.pipe)(e,oh(y.none(),(e,t)=>[y.some(t),[e,t]])),uQ=(e,t,a)=>e.length>t.length?[(0,h.pipe)(e,r.take(t.length),r.zipWith(t,a)),l.left((0,h.pipe)(e,r.drop(t.length)))]:[(0,h.pipe)(e,r.zipWith((0,h.pipe)(t,r.take(e.length)),a)),l.right((0,h.pipe)(t,r.drop(e.length)))],uY=lX({}),uX=(0,h.dual)(e=>"string"!=typeof e[0],(e,t,r,a)=>sU(e,e=>op(r(e),r=>({...e,[t]:r})),a)),u0=iP.bindTo(op),u1=iP.let_(op),u2=(0,h.dual)(e=>nA(e[0]),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return l1(()=>{let r=new TextDecoder(t);return op(e,e=>r.decode(e))})});e.s(["DefaultChunkSize",0,4096,"Do",0,uY,"StreamTypeId",0,nC,"_async",0,(e,r)=>o.acquireRelease(nP(r),e=>k.shutdown(e)).pipe(o.flatMap(r=>o.runtime().pipe(o.flatMap(a=>o.sync(()=>{let i=x.runPromiseExit(a);return e(iB(e=>nt(e).pipe(o.flatMap(e=>k.offer(r,e)),o.asVoid,i).then(e=>{if(c.isFailure(e)&&!t.isInterrupted(e.cause))throw t.squash(e.cause)})))})),o.map(e=>{let t=k.take(r).pipe(o.flatMap(e=>i9(e)),o.match({onFailure:e=>ty.fromEffect(k.shutdown(r)).pipe(tx.zipRight(y.match(e,{onNone:()=>ty.void,onSome:e=>ty.fail(e)}))),onSuccess:e=>ty.write(e).pipe(ty.flatMap(()=>t))}),tx.unwrap);return sK(t).pipe(sE(e??o.void))}))),uT),"accumulate",0,e=>n6(nO(e)),"accumulateChunks",0,nO,"acquireRelease",0,n_,"aggregate",0,nM,"aggregateWithin",0,nD,"aggregateWithinEither",0,nN,"as",0,nz,"asyncEffect",0,(e,r)=>(0,h.pipe)(o.acquireRelease(nP(r),e=>k.shutdown(e)),o.flatMap(r=>(0,h.pipe)(o.runtime(),o.flatMap(a=>(0,h.pipe)(e(iB(e=>(0,h.pipe)(nt(e),o.flatMap(e=>k.offer(r,e)),o.asVoid,x.runPromiseExit(a)).then(e=>{if(c.isFailure(e)&&!t.isInterrupted(e.cause))throw t.squash(e.cause)}))),o.map(()=>{let e=(0,h.pipe)(k.take(r),o.flatMap(i9),o.match({onFailure:e=>(0,h.pipe)(ty.fromEffect(k.shutdown(r)),tx.zipRight(y.match(e,{onNone:()=>ty.void,onSome:ty.fail}))),onSuccess:t=>(0,h.pipe)(ty.write(t),ty.flatMap(()=>e))}),tx.unwrap);return e}))))),tx.unwrapScoped,sK),"asyncPush",0,nL,"asyncScoped",0,(e,r)=>(0,h.pipe)(o.acquireRelease(nP(r),e=>k.shutdown(e)),o.flatMap(r=>(0,h.pipe)(o.runtime(),o.flatMap(a=>(0,h.pipe)(e(iB(e=>(0,h.pipe)(nt(e),o.flatMap(e=>k.offer(r,e)),o.asVoid,x.runPromiseExit(a)).then(e=>{if(c.isFailure(e)&&!t.isInterrupted(e.cause))throw t.squash(e.cause)}))),o.zipRight(E.make(!1)),o.flatMap(e=>(0,h.pipe)(E.get(e),o.map(t=>t?ni():(0,h.pipe)(k.take(r),o.flatMap(i9),o.onError(()=>(0,h.pipe)(E.set(e,!0),o.zipRight(k.shutdown(r)))))))))))),lV,sU(ll)),"bind",0,uX,"bindTo",0,u0,"branchAfter",0,nU,"broadcast",0,nj,"broadcastDynamic",0,nW,"broadcastedQueues",0,nB,"broadcastedQueuesDynamic",0,n$,"buffer",0,nV,"bufferChunks",0,nH,"catchAll",0,nX,"catchAllCause",0,n0,"catchSome",0,n1,"catchSomeCause",0,n2,"catchTag",0,n3,"catchTags",0,n5,"changes",0,e=>(0,h.pipe)(e,n4((e,t)=>u.equals(t)(e))),"changesWith",0,n4,"changesWithEffect",0,n8,"channelToStream",0,e=>new nF(e),"chunks",0,n6,"chunksWith",0,n9,"combine",0,se,"combineChunks",0,st,"concat",0,sr,"concatAll",0,e=>l1(()=>(0,h.pipe)(e,r.reduce(sw,(e,t)=>sr(t)(e)))),"context",0,sI,"contextWith",0,e=>(0,h.pipe)(sI(),op(e)),"contextWithEffect",0,e=>(0,h.pipe)(sI(),ow(e)),"contextWithStream",0,sT,"cross",0,sa,"crossLeft",0,si,"crossRight",0,sn,"crossWith",0,ss,"debounce",0,so,"decodeText",0,u2,"die",0,sl,"dieMessage",0,e=>sY(o.dieMessage(e)),"dieSync",0,e=>sY(o.dieSync(e)),"distributedWith",0,su,"distributedWithDynamic",0,sp,"distributedWithDynamicCallback",0,sh,"drain",0,sf,"drainFork",0,sm,"drop",0,sg,"dropRight",0,sy,"dropUntil",0,sb,"dropUntilEffect",0,sS,"dropWhile",0,sv,"dropWhileEffect",0,sk,"either",0,e=>(0,h.pipe)(e,op(l.right),nX(e=>od(l.left(e)))),"empty",0,sw,"encodeText",0,e=>l1(()=>{let t=new TextEncoder;return op(e,e=>t.encode(e))}),"ensuring",0,sE,"ensuringWith",0,sx,"execute",0,sC,"fail",0,sR,"failCause",0,sA,"failCauseSync",0,e=>sY(o.failCauseSync(e)),"failSync",0,sF,"filter",0,sO,"filterEffect",0,s_,"filterMap",0,sM,"filterMapEffect",0,sD,"filterMapWhile",0,sN,"filterMapWhileEffect",0,sz,"finalizer",0,e=>n_(o.void,()=>e),"find",0,sP,"findEffect",0,sL,"flatMap",0,sU,"flatten",0,sq,"flattenChunks",0,sB,"flattenEffect",0,s$,"flattenExitOption",0,sV,"flattenIterables",0,e=>(0,h.pipe)(e,op(r.fromIterable),sB),"flattenTake",0,sH,"forever",0,sG,"fromAsyncIterable",0,(e,t)=>(0,h.pipe)(o.acquireRelease(o.sync(()=>e[Symbol.asyncIterator]()),e=>e.return?o.promise(async()=>e.return()):o.void),o.map(e=>lu((0,h.pipe)(o.tryPromise({try:async()=>e.next(),catch:e=>y.some(t(e))}),o.flatMap(e=>e.done?o.fail(y.none()):o.succeed(e.value))))),uT),"fromChannel",0,sK,"fromChunk",0,sZ,"fromChunkPubSub",0,(e,t)=>{if(t?.scoped){let r=o.map(v.subscribe(e),sQ);return t.shutdown?o.map(r,sE(v.shutdown(e))):r}let r=sU(lV(v.subscribe(e)),sQ);return t?.shutdown?sE(r,v.shutdown(e)):r},"fromChunkQueue",0,sQ,"fromChunks",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,h.pipe)(s1(t),sU(sZ))},"fromEffect",0,sY,"fromEffectOption",0,sX,"fromEventListener",0,(e,t,r)=>nL(a=>o.acquireRelease(o.sync(()=>e.addEventListener(t,a.single,r)),()=>o.sync(()=>e.removeEventListener(t,a.single,r))),{bufferSize:"object"==typeof r?r.bufferSize:void 0}),"fromIterable",0,s1,"fromIterableEffect",0,e=>(0,h.pipe)(e,o.map(s1),uI),"fromIteratorSucceed",0,s2,"fromPubSub",0,s0,"fromPull",0,s3,"fromQueue",0,s5,"fromReadableStream",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=1===t.length?t[0].evaluate:t[0],i=1===t.length?t[0].onError:t[1],n=1===t.length&&!0===t[0].releaseLockOnEnd;return uT(o.map(o.acquireRelease(o.sync(()=>a().getReader()),e=>n?o.sync(()=>e.releaseLock()):o.promise(()=>e.cancel())),e=>lu(o.flatMap(o.tryPromise({try:()=>e.read(),catch:e=>y.some(i(e))}),e=>{let{done:t,value:r}=e;return t?o.fail(y.none()):o.succeed(r)}))))},"fromReadableStreamByob",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=1===t.length?t[0].evaluate:t[0],i=1===t.length?t[0].onError:t[1],n=(1===t.length?t[0].bufferSize:t[2])??4096,s=1===t.length&&!0===t[0].releaseLockOnEnd;return uT(o.map(o.acquireRelease(o.sync(()=>a().getReader({mode:"byob"})),e=>s?o.sync(()=>e.releaseLock()):o.promise(()=>e.cancel())),e=>{var t,r;let a;return nX(sG((t=e,r=i,a=new ArrayBuffer(n),oK(0,e=>o.flatMap(o.tryPromise({try:()=>t.read(new Uint8Array(a,e,a.byteLength-e)),catch:e=>r(e)}),t=>{let{done:r,value:i}=t;if(r)return o.fail(s8);let n=e+i.byteLength;return o.succeed([i,n>=a.byteLength?y.none():y.some(n)])})))),e=>e===s8?sw:sR(e))}))},"fromSchedule",0,e=>(0,h.pipe)(el(e),o.map(e=>lu(e.next(void 0))),uI),"fromTPubSub",0,e=>{let t,r,a,i,n,s;return uT(o.map(o.acquireRelease((t=e.pubsubSize,r=e.publisherHead,a=e.publisherTail,i=e.requestedCapacity,n=e.subscriberCount,s=e.subscribers,(0,h.pipe)(iE(a),ie(e=>{let a,o;return(0,h.pipe)(Symbol.iterator in(a=[a8(t=>{let r=new iw(e);return t.set(r,r6(r,!0)),r}),iE(n),iE(s)])?im(a,h.identity,o):o?.discard?im(Object.values(a),h.identity,o):ii(im(Object.entries(a),e=>{let[t,r]=e;return ii(r,e=>[t,e])}),e=>{let t={};for(let[r,a]of e)t[r]=a;return t}),ib(e=>{let[t,r]=e;return(0,h.pipe)(n,ix(r+1))}),ib(e=>{let[t,r,a]=e;return(0,h.pipe)(s,ix((0,h.pipe)(a,tf.add(t))))}),ii(e=>{let[a]=e;return new iM(t,r,i,a,n,s)}))}))),e=>e.shutdown),e=>s4(e)))},"fromTQueue",0,s4,"groupAdjacentBy",0,s6,"grouped",0,s9,"groupedWithin",0,s7,"haltAfter",0,ot,"haltWhen",0,oe,"haltWhenDeferred",0,or,"identityStream",0,oa,"interleave",0,oi,"interleaveWith",0,on,"interruptAfter",0,ol,"interruptWhen",0,ou,"interruptWhenDeferred",0,oc,"intersperse",0,os,"intersperseAffixes",0,oo,"isStream",0,nA,"iterate",0,(e,t)=>uv(e,e=>y.some([e,t(e)])),"let_",0,u1,"make",0,od,"map",0,op,"mapAccum",0,oh,"mapAccumEffect",0,of,"mapBoth",0,om,"mapChunks",0,og,"mapChunksEffect",0,oy,"mapConcat",0,ob,"mapConcatChunk",0,oS,"mapConcatChunkEffect",0,ov,"mapConcatEffect",0,ok,"mapEffectPar",0,oE,"mapEffectSequential",0,ow,"mapError",0,ox,"mapErrorCause",0,oI,"mapInputContext",0,o9,"matchConcurrency",0,sj,"merge",0,oT,"mergeAll",0,oC,"mergeEither",0,oF,"mergeLeft",0,oA,"mergeRight",0,oO,"mergeWith",0,o_,"mergeWithTag",0,oR,"mkString",0,e=>lb(e,r5),"never",0,oM,"onDone",0,oz,"onEnd",0,oD,"onError",0,oN,"onStart",0,oP,"orDie",0,e=>(0,h.pipe)(e,oL(h.identity)),"orDieWith",0,oL,"orElse",0,oU,"orElseEither",0,oj,"orElseFail",0,oW,"orElseIfEmpty",0,oq,"orElseIfEmptyChunk",0,oB,"orElseIfEmptyStream",0,o$,"orElseSucceed",0,oV,"paginate",0,(e,t)=>oH(e,e=>{let a=t(e);return[r.of(a[0]),a[1]]}),"paginateChunk",0,oH,"paginateChunkEffect",0,oG,"paginateEffect",0,oK,"partition",0,oZ,"partitionEither",0,oQ,"peel",0,oJ,"pipeThrough",0,oY,"pipeThroughChannel",0,oX,"pipeThroughChannelOrFail",0,o0,"prepend",0,o1,"provideContext",0,o2,"provideLayer",0,o5,"provideService",0,o4,"provideServiceEffect",0,o8,"provideServiceStream",0,o6,"provideSomeContext",0,o3,"provideSomeLayer",0,o7,"race",0,le,"raceAll",0,lt,"range",0,function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4096;return l1(()=>{if(e>t)return sw;let i=(e,t,a)=>{let n=t-e+1;return n>a?(0,h.pipe)(ty.write(r.range(e,e+a-1)),ty.flatMap(()=>i(e+a,t,a))):ty.write(r.range(e,e+n-1))};return new nF(i(e,t,a))})},"rechunk",0,lr,"refineOrDie",0,ln,"refineOrDieWith",0,ls,"repeat",0,lo,"repeatEffect",0,e=>lu((0,h.pipe)(e,o.mapError(y.some))),"repeatEffectChunk",0,e=>ll((0,h.pipe)(e,o.mapError(y.some))),"repeatEffectChunkOption",0,ll,"repeatEffectOption",0,lu,"repeatEffectWithSchedule",0,lf,"repeatEither",0,lc,"repeatElements",0,ld,"repeatElementsWith",0,lp,"repeatValue",0,e=>new nF(tx.repeated(ty.write(r.of(e)))),"repeatWith",0,lh,"retry",0,lm,"run",0,lb,"runCollect",0,e=>lb(e,t_()),"runCount",0,e=>lb(e,r3),"runDrain",0,e=>lb(e,tJ),"runFold",0,lS,"runFoldEffect",0,lv,"runFoldScoped",0,lk,"runFoldScopedEffect",0,lw,"runFoldWhile",0,lE,"runFoldWhileEffect",0,lx,"runFoldWhileScoped",0,lI,"runFoldWhileScopedEffect",0,lT,"runForEach",0,lC,"runForEachChunk",0,lR,"runForEachChunkScoped",0,lF,"runForEachScoped",0,lA,"runForEachWhile",0,lO,"runForEachWhileScoped",0,l_,"runHead",0,e=>lb(e,rF()),"runIntoPubSub",0,lM,"runIntoPubSubScoped",0,lD,"runIntoQueue",0,lN,"runIntoQueueElementsScoped",0,lz,"runIntoQueueScoped",0,lP,"runLast",0,e=>lb(e,rO()),"runScoped",0,lL,"runSum",0,e=>lb(e,rG),"scan",0,lU,"scanEffect",0,l$,"scanReduce",0,lj,"scanReduceEffect",0,lW,"schedule",0,lq,"scheduleWith",0,lB,"scoped",0,lV,"scopedWith",0,lH,"share",0,nq,"sliding",0,lJ,"slidingSize",0,lZ,"some",0,e=>(0,h.pipe)(e,ox(y.some),lK(()=>y.none())),"someOrElse",0,lG,"someOrFail",0,lK,"split",0,lQ,"splitLines",0,e=>oX(e,tx.splitLines()),"splitOnChunk",0,lY,"succeed",0,lX,"suspend",0,l1,"sync",0,l0,"take",0,l2,"takeRight",0,l3,"takeUntil",0,l5,"takeUntilEffect",0,l4,"takeWhile",0,l8,"tap",0,l6,"tapBoth",0,l9,"tapError",0,l7,"tapErrorCause",0,ue,"tapSink",0,ut,"throttle",0,ur,"throttleEffect",0,ua,"tick",0,e=>{let t,r;return t=void 0,r=eZ(e),lf(o.succeed(t),r)},"timeout",0,us,"timeoutFail",0,uo,"timeoutFailCause",0,ul,"timeoutTo",0,uu,"toAsyncIterable",0,e=>uS(e,x.defaultRuntime),"toAsyncIterableEffect",0,e=>o.map(o.runtime(),t=>uS(e,t)),"toAsyncIterableRuntime",0,uS,"toChannel",0,sJ,"toPubSub",0,ud,"toPull",0,up,"toQueue",0,uh,"toQueueOfElements",0,uf,"toReadableStream",0,um,"toReadableStreamEffect",0,ug,"toReadableStreamRuntime",0,uy,"transduce",0,ub,"unfold",0,uv,"unfoldChunk",0,uk,"unfoldChunkEffect",0,uw,"unfoldEffect",0,uE,"unwrap",0,uI,"unwrapScoped",0,uT,"unwrapScopedWith",0,uC,"updateService",0,uR,"void",()=>ux,"when",0,uF,"whenCase",0,(e,t)=>uA(t)(o.sync(e)),"whenCaseEffect",0,uA,"whenEffect",0,uO,"withExecutionPlan",0,lg,"withSpan",0,function(){let e="string"!=typeof arguments[0],t=e?arguments[1]:arguments[0],r=nT.addSpanStackTrace(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return new nF(tx.withSpan(sJ(e),t,r))}return e=>new nF(tx.withSpan(sJ(e),t,r))},"zip",0,u_,"zipAll",0,uD,"zipAllLeft",0,uN,"zipAllRight",0,uz,"zipAllSortedByKey",0,uP,"zipAllSortedByKeyLeft",0,uL,"zipAllSortedByKeyRight",0,uU,"zipAllSortedByKeyWith",0,uj,"zipAllWith",0,uW,"zipFlatten",0,uM,"zipLatest",0,uq,"zipLatestAll",0,uB,"zipLatestWith",0,u$,"zipLeft",0,uV,"zipRight",0,uH,"zipWith",0,uG,"zipWithChunks",0,uK,"zipWithIndex",0,e=>(0,h.pipe)(e,oh(0,(e,t)=>[e+1,[t,e]])),"zipWithNext",0,uJ,"zipWithPrevious",0,uZ,"zipWithPreviousAndNext",0,e=>(0,h.pipe)(uJ(uZ(e)),op(e=>{let[[t,r],a]=e;return[t,r,(0,h.pipe)(a,y.map(e=>e[1]))]}))],469137)},1737036,e=>{"use strict";var t=e.i(5283034),r=e.i(5450905),a=e.i(7862555),i=e.i(7525378),n=e.i(3683485),s=e.i(2873450),o=e.i(6816077),l=e.i(8815901),u=e.i(9960543),c=e.i(4935619),d=e.i(6091153),p=(e.i(6379322),e.i(8884753)),h=e.i(7548658),f=(e.i(4026828),e.i(1658800),e.i(469137));let m=Symbol.for("effect/Mailbox"),g=Symbol.for("effect/Mailbox/ReadonlyMailbox"),y=a.empty(),b=h.exitSucceed(y),S=h.exitSucceed(!1),v=h.exitSucceed(!0),k=[y,!0];class w extends i.Class{scheduler;capacity;strategy;[m]=m;[g]=g;state={_tag:"Open",takers:new Set,offers:new Set,awaiters:new Set};messages=[];messagesChunk=a.empty();constructor(e,t,r){super(),this.scheduler=e,this.capacity=t,this.strategy=r}offer(e){return h.suspend(()=>{if("Open"!==this.state._tag)return S;if(this.messages.length+this.messagesChunk.length>=this.capacity)switch(this.strategy){case"dropping":return S;case"suspend":if(this.capacity<=0&&this.state.takers.size>0)return this.messages.push(e),this.releaseTaker(),v;return this.offerRemainingSingle(e);case"sliding":return this.unsafeTake(),this.messages.push(e),v}return this.messages.push(e),this.scheduleReleaseTaker(),v})}unsafeOffer(e){return"Open"===this.state._tag&&(this.messages.length+this.messagesChunk.length>=this.capacity?"sliding"===this.strategy?(this.unsafeTake(),this.messages.push(e),!0):this.capacity<=0&&this.state.takers.size>0&&(this.messages.push(e),this.releaseTaker(),!0):(this.messages.push(e),this.scheduleReleaseTaker(),!0))}offerAll(e){return h.suspend(()=>{if("Open"!==this.state._tag)return h.succeed(a.fromIterable(e));let t=this.unsafeOfferAllArray(e);return 0===t.length?b:"dropping"===this.strategy?h.succeed(a.unsafeFromArray(t)):this.offerRemainingArray(t)})}unsafeOfferAll(e){return a.unsafeFromArray(this.unsafeOfferAllArray(e))}unsafeOfferAllArray(e){if("Open"!==this.state._tag)return t.fromIterable(e);if(this.capacity===1/0||"sliding"===this.strategy)return this.messages.length>0&&(this.messagesChunk=a.appendAll(this.messagesChunk,a.unsafeFromArray(this.messages))),"sliding"===this.strategy?this.messagesChunk=this.messagesChunk.pipe(a.appendAll(a.fromIterable(e)),a.takeRight(this.capacity)):a.isChunk(e)?this.messagesChunk=a.appendAll(this.messagesChunk,e):this.messages=t.fromIterable(e),this.scheduleReleaseTaker(),[];let r=this.capacity<=0?this.state.takers.size:this.capacity-this.messages.length-this.messagesChunk.length;if(0===r)return t.fromIterable(e);let i=[],n=0;for(let t of e)n<r?this.messages.push(t):i.push(t),n++;return this.scheduleReleaseTaker(),i}fail(e){return this.done(h.exitFail(e))}failCause(e){return this.done(h.exitFailCause(e))}unsafeDone(e){return"Open"===this.state._tag&&(0===this.state.offers.size&&0===this.messages.length&&0===this.messagesChunk.length?this.finalize(e):this.state={...this.state,_tag:"Closing",exit:e},!0)}shutdown=h.sync(()=>{if("Done"===this.state._tag)return!0;this.messages=[],this.messagesChunk=y;let e=this.state.offers;if(this.finalize("Open"===this.state._tag?h.exitVoid:this.state.exit),e.size>0){for(let t of e)"Single"===t._tag?t.resume(S):t.resume(h.exitSucceed(a.unsafeFromArray(t.remaining.slice(t.offset))));e.clear()}return!0});done(e){return h.sync(()=>this.unsafeDone(e))}end=this.done(h.exitVoid);clear=h.suspend(()=>{if("Done"===this.state._tag)return h.exitAs(this.state.exit,y);let e=this.unsafeTakeAll();return this.releaseCapacity(),h.succeed(e)});takeAll=h.suspend(()=>{if("Done"===this.state._tag)return h.exitAs(this.state.exit,k);let e=this.unsafeTakeAll();return 0===e.length?h.zipRight(this.awaitTake,this.takeAll):h.succeed([e,this.releaseCapacity()])});takeN(e){return h.suspend(()=>{let t;if("Done"===this.state._tag)return h.exitAs(this.state.exit,k);if(e<=0)return h.succeed([y,!1]);if((e=Math.min(e,this.capacity))<=this.messagesChunk.length)t=a.take(this.messagesChunk,e),this.messagesChunk=a.drop(this.messagesChunk,e);else{if(!(e<=this.messages.length+this.messagesChunk.length))return h.zipRight(this.awaitTake,this.takeN(e));this.messagesChunk=a.appendAll(this.messagesChunk,a.unsafeFromArray(this.messages)),this.messages=[],t=a.take(this.messagesChunk,e),this.messagesChunk=a.drop(this.messagesChunk,e)}return h.succeed([t,this.releaseCapacity()])})}unsafeTake(){let e;if("Done"===this.state._tag)return h.exitZipRight(this.state.exit,h.exitFail(new r.NoSuchElementException));if(this.messagesChunk.length>0)e=a.unsafeHead(this.messagesChunk),this.messagesChunk=a.drop(this.messagesChunk,1);else if(this.messages.length>0)e=this.messages[0],this.messagesChunk=a.drop(a.unsafeFromArray(this.messages),1),this.messages=[];else if(this.capacity<=0&&this.state.offers.size>0)return this.capacity=1,this.releaseCapacity(),this.capacity=0,this.messages.length>0?h.exitSucceed(this.messages.pop()):void 0;else return;return this.releaseCapacity(),h.exitSucceed(e)}take=h.suspend(()=>this.unsafeTake()??h.zipRight(this.awaitTake,this.take));await=h.asyncInterrupt(e=>"Done"===this.state._tag?e(this.state.exit):(this.state.awaiters.add(e),h.sync(()=>{"Done"!==this.state._tag&&this.state.awaiters.delete(e)})));unsafeSize(){let e=this.messages.length+this.messagesChunk.length;return"Done"===this.state._tag?l.none():l.some(e)}size=h.sync(()=>this.unsafeSize());commit(){return this.takeAll}pipe(){return(0,u.pipeArguments)(this,arguments)}toJSON(){return{_id:"effect/Mailbox",state:this.state._tag,size:this.unsafeSize().toJSON()}}toString(){return s.format(this)}[s.NodeInspectSymbol](){return s.format(this)}offerRemainingSingle(e){return h.asyncInterrupt(t=>{if("Open"!==this.state._tag)return t(S);let r={_tag:"Single",message:e,resume:t};return this.state.offers.add(r),h.sync(()=>{"Open"===this.state._tag&&this.state.offers.delete(r)})})}offerRemainingArray(e){return h.asyncInterrupt(t=>{if("Open"!==this.state._tag)return t(h.exitSucceed(a.unsafeFromArray(e)));let r={_tag:"Array",remaining:e,offset:0,resume:t};return this.state.offers.add(r),h.sync(()=>{"Open"===this.state._tag&&this.state.offers.delete(r)})})}releaseCapacity(){if("Done"===this.state._tag)return"Success"===this.state.exit._tag;if(0===this.state.offers.size)return"Closing"===this.state._tag&&0===this.messages.length&&0===this.messagesChunk.length&&(this.finalize(this.state.exit),"Success"===this.state.exit._tag);let e=this.capacity-this.messages.length-this.messagesChunk.length;for(let t of this.state.offers)if(0===e)break;else if("Single"===t._tag)this.messages.push(t.message),e--,t.resume(v),this.state.offers.delete(t);else{for(;t.offset<t.remaining.length;t.offset++){if(0===e)return!1;this.messages.push(t.remaining[t.offset]),e--}t.resume(b),this.state.offers.delete(t)}return!1}awaitTake=h.asyncInterrupt(e=>"Done"===this.state._tag?e(this.state.exit):(this.state.takers.add(e),h.sync(()=>{"Done"!==this.state._tag&&this.state.takers.delete(e)})));scheduleRunning=!1;scheduleReleaseTaker(){this.scheduleRunning||(this.scheduleRunning=!0,this.scheduler.scheduleTask(this.releaseTaker,0))}releaseTaker=()=>{if(this.scheduleRunning=!1,"Done"===this.state._tag||0===this.state.takers.size)return;let e=o.unsafeHead(this.state.takers);this.state.takers.delete(e),e(h.exitVoid)};unsafeTakeAll(){if(this.messagesChunk.length>0){let e=this.messages.length>0?a.appendAll(this.messagesChunk,a.unsafeFromArray(this.messages)):this.messagesChunk;return this.messagesChunk=y,this.messages=[],e}if(this.messages.length>0){let e=a.unsafeFromArray(this.messages);return this.messages=[],e}return"Done"!==this.state._tag&&this.state.offers.size>0?(this.capacity=1,this.releaseCapacity(),this.capacity=0,a.of(this.messages.pop())):y}finalize(e){if("Done"===this.state._tag)return;let t=this.state;for(let r of(this.state={_tag:"Done",exit:e},t.takers))r(e);for(let r of(t.takers.clear(),t.awaiters))r(e);t.awaiters.clear()}}let E=(0,n.dual)(2,(e,t)=>h.uninterruptibleMask(r=>h.matchCauseEffect(r(e),{onFailure:e=>t.failCause(e),onSuccess:e=>t.end}))),x=e=>{let t=p.flatMap(e.takeAll,e=>{let[r,a]=e;return a?0===r.length?p.void:p.write(r):d.zipRight(p.write(r),t)});return t};e.s(["into",0,E,"isMailbox",0,e=>(0,c.hasProperty)(e,m),"make",0,e=>h.withFiberRuntime(t=>h.succeed(new w(t.currentScheduler,"number"==typeof e?e:e?.capacity??1/0,"number"==typeof e?"suspend":e?.strategy??"suspend"))),"toChannel",0,x,"toStream",0,e=>f.fromChannel(x(e))],1737036)},8554418,e=>{"use strict";var t=e.i(5450905),r=e.i(7862555),a=e.i(578549),i=e.i(3322401),n=e.i(7525378),s=e.i(7836076),o=e.i(3683485),l=e.i(8815901),u=e.i(9960543),c=e.i(4935619),d=e.i(1072215),p=e.i(6532885),h=e.i(5160412),f=e.i(6091153),m=e.i(6379322),g=e.i(8884753),y=e.i(469137),b=e.i(5806407);let S=Symbol.for("effect/GroupBy"),v={_R:e=>e,_E:e=>e,_K:e=>e,_V:e=>e},k=(0,o.dual)(e=>{let t;return t=e[0],(0,c.hasProperty)(t,S)},(e,t,r)=>y.flatMap(e.grouped,e=>{let[r,a]=e;return t(r,y.flattenTake(y.fromQueue(a,{shutdown:!0})))},{concurrency:"unbounded",bufferSize:r?.bufferSize??16})),w=e=>({[S]:v,pipe(){return(0,u.pipeArguments)(this,arguments)},grouped:e}),E=(0,o.dual)(e=>y.isStream(e[0]),(e,t,n)=>w(y.unwrapScoped(i.gen(function*(){let u=yield*a.make(),c=yield*i.acquireRelease(d.bounded(n?.bufferSize??16),e=>d.shutdown(e)),h=yield*p.make(new Map),f=yield*(0,o.pipe)(y.mapEffectSequential(e,t),y.distributedWithDynamicCallback(n?.bufferSize??16,e=>{let[t,r]=e;return i.flatMap(a.await(u),e=>e(t,r))},e=>d.offer(c,e)));return yield*a.succeed(u,(e,t)=>(0,o.pipe)(p.get(h),i.map(t=>l.fromNullable(t.get(e))),i.flatMap(l.match({onNone:()=>i.flatMap(f,t=>{let[a,n]=t;return i.zipRight(p.update(h,t=>t.set(e,a)),(0,o.pipe)(d.offer(c,s.succeed([e,T(n,e=>new b.TakeImpl((0,o.pipe)(e,s.map(e=>r.of(e[1])))))])),i.as(e=>e===a)))}),onSome:e=>i.succeed(t=>t===e)})))),y.flattenExitOption(y.fromQueue(c,{shutdown:!0}))})))),x=(0,o.dual)(e=>"function"!=typeof e[0],(e,t,r)=>r?.key?k(R(e,r.key,{bufferSize:r.bufferSize}),(e,r)=>y.mapEffectSequential(r,t)):y.matchConcurrency(r?.concurrency,()=>y.mapEffectSequential(e,t),a=>r?.unordered?y.flatMap(e,e=>y.fromEffect(t(e)),{concurrency:a}):y.mapEffectPar(e,a,t))),I=(0,o.dual)(e=>"string"!=typeof e[0],(e,t,r,a)=>x(e,e=>i.map(r(e),r=>({...e,[t]:r})),a)),T=(e,t)=>new C(e,t);class C extends n.Class{dequeue;f;[d.DequeueTypeId]={_Out:e=>e};constructor(e,t){super(),this.dequeue=e,this.f=t}capacity(){return d.capacity(this.dequeue)}get size(){return d.size(this.dequeue)}unsafeSize(){return this.dequeue.unsafeSize()}get awaitShutdown(){return d.awaitShutdown(this.dequeue)}isActive(){return this.dequeue.isActive()}get isShutdown(){return d.isShutdown(this.dequeue)}get shutdown(){return d.shutdown(this.dequeue)}get isFull(){return d.isFull(this.dequeue)}get isEmpty(){return d.isEmpty(this.dequeue)}get take(){return(0,o.pipe)(d.take(this.dequeue),i.map(e=>this.f(e)))}get takeAll(){return(0,o.pipe)(d.takeAll(this.dequeue),i.map(r.map(e=>this.f(e))))}takeUpTo(e){return(0,o.pipe)(d.takeUpTo(this.dequeue,e),i.map(r.map(e=>this.f(e))))}takeBetween(e,t){return(0,o.pipe)(d.takeBetween(this.dequeue,e,t),i.map(r.map(e=>this.f(e))))}takeN(e){return(0,o.pipe)(d.takeN(this.dequeue,e),i.map(r.map(e=>this.f(e))))}poll(){return(0,o.pipe)(d.poll(this.dequeue),i.map(l.map(e=>this.f(e))))}pipe(){return(0,u.pipeArguments)(this,arguments)}commit(){return this.take}}let R=(0,o.dual)(e=>"function"!=typeof e[0],(e,r,a)=>{let n=(e,s)=>g.readWithCause({onInput:u=>g.flatMap(g.fromEffect(i.forEach(F(u,r),r=>{let[n,u]=r,c=e.get(n);return void 0===c?(0,o.pipe)(d.bounded(a?.bufferSize??16),i.flatMap(r=>(0,o.pipe)(i.sync(()=>{e.set(n,r)}),i.zipRight(d.offer(s,b.of([n,r]))),i.zipRight((0,o.pipe)(d.offer(r,b.chunk(u)),i.catchSomeCause(e=>t.isInterruptedOnly(e)?l.some(i.void):l.none())))))):i.catchSomeCause(d.offer(c,b.chunk(u)),e=>t.isInterruptedOnly(e)?l.some(i.void):l.none())},{discard:!0})),()=>n(e,s)),onFailure:e=>g.fromEffect(d.offer(s,b.failCause(e))),onDone:()=>g.fromEffect((0,o.pipe)(i.forEach(e.entries(),e=>{let[r,a]=e;return(0,o.pipe)(d.offer(a,b.end),i.catchSomeCause(e=>t.isInterruptedOnly(e)?l.some(i.void):l.none()))},{discard:!0}),i.zipRight(d.offer(s,b.end))))});return w(y.unwrapScopedWith(t=>i.gen(function*(){let r=new Map,a=yield*d.unbounded();return yield*h.addFinalizer(t,d.shutdown(a)),yield*y.toChannel(e).pipe(g.pipeTo(n(r,a)),f.drain,m.runIn(t),i.forkIn(t),i.as(y.flattenTake(y.fromQueue(a,{shutdown:!0}))))})))}),F=(0,o.dual)(2,(e,t)=>{let a,i=[],n=e[Symbol.iterator](),s=new Map;for(;(a=n.next())&&!a.done;){let e=a.value,r=t(e);if(s.has(r))s.get(r).push(e);else{let t=[e];i.push([r,t]),s.set(r,t)}}return r.unsafeFromArray(i.map(e=>[e[0],r.unsafeFromArray(e[1])]))}),A=y.StreamTypeId,O=y.DefaultChunkSize,_=y.accumulate,M=y.accumulateChunks,D=y.acquireRelease,N=y.aggregate,z=y.aggregateWithin,P=y.aggregateWithinEither,L=y.as,U=y._async,j=y.asyncEffect,W=y.asyncPush,q=y.asyncScoped,B=y.branchAfter,$=y.broadcast,V=y.share,H=y.broadcastDynamic,G=y.broadcastedQueues,K=y.broadcastedQueuesDynamic,J=y.buffer,Z=y.bufferChunks,Q=y.catchAll,Y=y.catchAllCause,X=y.catchSome,ee=y.catchTag,et=y.catchTags,er=y.catchSomeCause,ea=y.changes,ei=y.changesWith,en=y.changesWithEffect,es=y.chunks,eo=y.chunksWith,el=y.combine,eu=y.combineChunks,ec=y.concat,ed=y.concatAll,ep=y.cross,eh=y.crossLeft,ef=y.crossRight,em=y.crossWith,eg=y.debounce,ey=y.die,eb=y.dieSync,eS=y.dieMessage,ev=y.distributedWith,ek=y.distributedWithDynamic,ew=y.drain,eE=y.drainFork,ex=y.drop,eI=y.dropRight,eT=y.dropUntil,eC=y.dropUntilEffect,eR=y.dropWhile,eF=y.dropWhileEffect,eA=y.either,eO=y.empty,e_=y.ensuring,eM=y.ensuringWith,eD=y.context,eN=y.contextWith,ez=y.contextWithEffect,eP=y.contextWithStream,eL=y.execute,eU=y.fail,ej=y.failSync,eW=y.failCause,eq=y.failCauseSync,eB=y.filter,e$=y.filterEffect,eV=y.filterMap,eH=y.filterMapEffect,eG=y.filterMapWhile,eK=y.filterMapWhileEffect,eJ=y.finalizer,eZ=y.find,eQ=y.findEffect,eY=y.flatMap,eX=y.flatten,e0=y.flattenChunks,e1=y.flattenEffect,e2=y.flattenExitOption,e3=y.flattenIterables,e5=y.flattenTake,e4=y.forever,e8=y.fromAsyncIterable,e6=y.fromChannel,e9=y.toChannel,e7=y.fromChunk,te=y.fromChunkPubSub,tt=y.fromChunkQueue,tr=y.fromChunks,ta=y.fromEffect,ti=y.fromEffectOption,tn=y.fromPubSub,ts=y.fromTPubSub,to=y.fromIterable,tl=y.fromIterableEffect,tu=y.fromIteratorSucceed,tc=y.fromPull,td=y.fromQueue,tp=y.fromTQueue,th=y.fromReadableStream,tf=y.fromReadableStreamByob,tm=y.fromSchedule,tg=y.groupAdjacentBy,ty=y.grouped,tb=y.groupedWithin,tS=y.haltAfter,tv=y.haltWhen,tk=y.haltWhenDeferred,tw=y.identityStream,tE=y.interleave,tx=y.interleaveWith,tI=y.intersperse,tT=y.intersperseAffixes,tC=y.interruptAfter,tR=y.interruptWhen,tF=y.interruptWhenDeferred,tA=y.iterate,tO=y.make,t_=y.map,tM=y.mapAccum,tD=y.mapAccumEffect,tN=y.mapBoth,tz=y.mapChunks,tP=y.mapChunksEffect,tL=y.mapConcat,tU=y.mapConcatChunk,tj=y.mapConcatChunkEffect,tW=y.mapConcatEffect,tq=y.mapError,tB=y.mapErrorCause,t$=y.merge,tV=y.mergeAll,tH=y.mergeWithTag,tG=y.mergeWith,tK=y.mergeEither,tJ=y.mergeLeft,tZ=y.mergeRight,tQ=y.mkString,tY=y.never,tX=y.onEnd,t0=y.onError,t1=y.onDone,t2=y.onStart,t3=y.orDie,t5=y.orDieWith,t4=y.orElse,t8=y.orElseEither,t6=y.orElseFail,t9=y.orElseIfEmpty,t7=y.orElseIfEmptyChunk,re=y.orElseIfEmptyStream,rt=y.orElseSucceed,rr=y.paginate,ra=y.paginateChunk,ri=y.paginateChunkEffect,rn=y.paginateEffect,rs=y.partition,ro=y.partitionEither,rl=y.peel,ru=y.pipeThrough,rc=y.pipeThroughChannel,rd=y.pipeThroughChannelOrFail,rp=y.prepend,rh=y.provideContext,rf=y.provideSomeContext,rm=y.provideLayer,rg=y.provideService,ry=y.provideServiceEffect,rb=y.provideServiceStream,rS=y.mapInputContext,rv=y.provideSomeLayer,rk=y.race,rw=y.raceAll,rE=y.range,rx=y.rechunk,rI=y.refineOrDie,rT=y.refineOrDieWith,rC=y.repeat,rR=y.repeatEffect,rF=y.repeatEffectChunk,rA=y.repeatEffectChunkOption,rO=y.repeatEffectOption,r_=y.repeatEffectWithSchedule,rM=y.repeatEither,rD=y.repeatElements,rN=y.repeatElementsWith,rz=y.repeatValue,rP=y.repeatWith,rL=y.retry,rU=y.withExecutionPlan,rj=y.run,rW=y.runCollect,rq=y.runCount,rB=y.runDrain,r$=y.runFold,rV=y.runFoldEffect,rH=y.runFoldScoped,rG=y.runFoldScopedEffect,rK=y.runFoldWhile,rJ=y.runFoldWhileEffect,rZ=y.runFoldWhileScoped,rQ=y.runFoldWhileScopedEffect,rY=y.runForEach,rX=y.runForEachChunk,r0=y.runForEachChunkScoped,r1=y.runForEachScoped,r2=y.runForEachWhile,r3=y.runForEachWhileScoped,r5=y.runHead,r4=y.runIntoPubSub,r8=y.runIntoPubSubScoped,r6=y.runIntoQueue,r9=y.runIntoQueueElementsScoped,r7=y.runIntoQueueScoped,ae=y.runLast,at=y.runScoped,ar=y.runSum,aa=y.scan,ai=y.scanEffect,an=y.scanReduce,as=y.scanReduceEffect,ao=y.schedule,al=y.scheduleWith,au=y.scoped,ac=y.scopedWith,ad=y.sliding,ap=y.slidingSize,ah=y.some,af=y.someOrElse,am=y.someOrFail,ag=y.split,ay=y.splitOnChunk,ab=y.splitLines,aS=y.succeed,av=y.sync,ak=y.suspend,aw=y.take,aE=y.takeRight,ax=y.takeUntil,aI=y.takeUntilEffect,aT=y.takeWhile,aC=y.tap,aR=y.tapBoth,aF=y.tapError,aA=y.tapErrorCause,aO=y.tapSink,a_=y.throttle,aM=y.throttleEffect,aD=y.tick,aN=y.timeout,az=y.timeoutFail,aP=y.timeoutFailCause,aL=y.timeoutTo,aU=y.toPubSub,aj=y.toPull,aW=y.toQueue,aq=y.toQueueOfElements,aB=y.toReadableStream,a$=y.toReadableStreamEffect,aV=y.toReadableStreamRuntime,aH=y.toAsyncIterableRuntime,aG=y.toAsyncIterableEffect,aK=y.toAsyncIterable,aJ=y.transduce,aZ=y.unfold,aQ=y.unfoldChunk,aY=y.unfoldChunkEffect,aX=y.unfoldEffect,a0=y.void,a1=y.unwrap,a2=y.unwrapScoped,a3=y.unwrapScopedWith,a5=y.updateService,a4=y.when,a8=y.whenCase,a6=y.whenCaseEffect,a9=y.whenEffect,a7=y.withSpan,ie=y.zip,it=y.zipFlatten,ir=y.zipAll,ia=y.zipAllLeft,ii=y.zipAllRight,is=y.zipAllSortedByKey,io=y.zipAllSortedByKeyLeft,il=y.zipAllSortedByKeyRight,iu=y.zipAllSortedByKeyWith,ic=y.zipAllWith,id=y.zipLatest,ip=y.zipLatestAll,ih=y.zipLatestWith,im=y.zipLeft,ig=y.zipRight,iy=y.zipWith,ib=y.zipWithChunks,iS=y.zipWithNext,iv=y.zipWithPrevious,ik=y.zipWithPreviousAndNext,iw=y.zipWithIndex,iE=y.Do,ix=y.bind,iI=y.bindTo,iT=y.let_,iC=y.decodeText,iR=y.encodeText,iF=y.fromEventListener;e.s(["DefaultChunkSize",0,O,"Do",0,iE,"StreamTypeId",0,A,"accumulate",0,_,"accumulateChunks",0,M,"acquireRelease",0,D,"aggregate",0,N,"aggregateWithin",0,z,"aggregateWithinEither",0,P,"as",0,L,"async",()=>U,"asyncEffect",0,j,"asyncPush",0,W,"asyncScoped",0,q,"bind",0,ix,"bindEffect",0,I,"bindTo",0,iI,"branchAfter",0,B,"broadcast",0,$,"broadcastDynamic",0,H,"broadcastedQueues",0,G,"broadcastedQueuesDynamic",0,K,"buffer",0,J,"bufferChunks",0,Z,"catchAll",0,Q,"catchAllCause",0,Y,"catchSome",0,X,"catchSomeCause",0,er,"catchTag",0,ee,"catchTags",0,et,"changes",0,ea,"changesWith",0,ei,"changesWithEffect",0,en,"chunks",0,es,"chunksWith",0,eo,"combine",0,el,"combineChunks",0,eu,"concat",0,ec,"concatAll",0,ed,"context",0,eD,"contextWith",0,eN,"contextWithEffect",0,ez,"contextWithStream",0,eP,"cross",0,ep,"crossLeft",0,eh,"crossRight",0,ef,"crossWith",0,em,"debounce",0,eg,"decodeText",0,iC,"die",0,ey,"dieMessage",0,eS,"dieSync",0,eb,"distributedWith",0,ev,"distributedWithDynamic",0,ek,"drain",0,ew,"drainFork",0,eE,"drop",0,ex,"dropRight",0,eI,"dropUntil",0,eT,"dropUntilEffect",0,eC,"dropWhile",0,eR,"dropWhileEffect",0,eF,"either",0,eA,"empty",0,eO,"encodeText",0,iR,"ensuring",0,e_,"ensuringWith",0,eM,"execute",0,eL,"fail",0,eU,"failCause",0,eW,"failCauseSync",0,eq,"failSync",0,ej,"filter",0,eB,"filterEffect",0,e$,"filterMap",0,eV,"filterMapEffect",0,eH,"filterMapWhile",0,eG,"filterMapWhileEffect",0,eK,"finalizer",0,eJ,"find",0,eZ,"findEffect",0,eQ,"flatMap",0,eY,"flatten",0,eX,"flattenChunks",0,e0,"flattenEffect",0,e1,"flattenExitOption",0,e2,"flattenIterables",0,e3,"flattenTake",0,e5,"forever",0,e4,"fromAsyncIterable",0,e8,"fromChannel",0,e6,"fromChunk",0,e7,"fromChunkPubSub",0,te,"fromChunkQueue",0,tt,"fromChunks",0,tr,"fromEffect",0,ta,"fromEffectOption",0,ti,"fromEventListener",0,iF,"fromIterable",0,to,"fromIterableEffect",0,tl,"fromIteratorSucceed",0,tu,"fromPubSub",0,tn,"fromPull",0,tc,"fromQueue",0,td,"fromReadableStream",0,th,"fromReadableStreamByob",0,tf,"fromSchedule",0,tm,"fromTPubSub",0,ts,"fromTQueue",0,tp,"groupAdjacentBy",0,tg,"groupBy",0,E,"groupByKey",0,R,"grouped",0,ty,"groupedWithin",0,tb,"haltAfter",0,tS,"haltWhen",0,tv,"haltWhenDeferred",0,tk,"identity",0,tw,"interleave",0,tE,"interleaveWith",0,tx,"interruptAfter",0,tC,"interruptWhen",0,tR,"interruptWhenDeferred",0,tF,"intersperse",0,tI,"intersperseAffixes",0,tT,"iterate",0,tA,"let",()=>iT,"make",0,tO,"map",0,t_,"mapAccum",0,tM,"mapAccumEffect",0,tD,"mapBoth",0,tN,"mapChunks",0,tz,"mapChunksEffect",0,tP,"mapConcat",0,tL,"mapConcatChunk",0,tU,"mapConcatChunkEffect",0,tj,"mapConcatEffect",0,tW,"mapEffect",0,x,"mapError",0,tq,"mapErrorCause",0,tB,"mapInputContext",0,rS,"merge",0,t$,"mergeAll",0,tV,"mergeEither",0,tK,"mergeLeft",0,tJ,"mergeRight",0,tZ,"mergeWith",0,tG,"mergeWithTag",0,tH,"mkString",0,tQ,"never",0,tY,"onDone",0,t1,"onEnd",0,tX,"onError",0,t0,"onStart",0,t2,"orDie",0,t3,"orDieWith",0,t5,"orElse",0,t4,"orElseEither",0,t8,"orElseFail",0,t6,"orElseIfEmpty",0,t9,"orElseIfEmptyChunk",0,t7,"orElseIfEmptyStream",0,re,"orElseSucceed",0,rt,"paginate",0,rr,"paginateChunk",0,ra,"paginateChunkEffect",0,ri,"paginateEffect",0,rn,"partition",0,rs,"partitionEither",0,ro,"peel",0,rl,"pipeThrough",0,ru,"pipeThroughChannel",0,rc,"pipeThroughChannelOrFail",0,rd,"prepend",0,rp,"provideContext",0,rh,"provideLayer",0,rm,"provideService",0,rg,"provideServiceEffect",0,ry,"provideServiceStream",0,rb,"provideSomeContext",0,rf,"provideSomeLayer",0,rv,"race",0,rk,"raceAll",0,rw,"range",0,rE,"rechunk",0,rx,"refineOrDie",0,rI,"refineOrDieWith",0,rT,"repeat",0,rC,"repeatEffect",0,rR,"repeatEffectChunk",0,rF,"repeatEffectChunkOption",0,rA,"repeatEffectOption",0,rO,"repeatEffectWithSchedule",0,r_,"repeatEither",0,rM,"repeatElements",0,rD,"repeatElementsWith",0,rN,"repeatValue",0,rz,"repeatWith",0,rP,"retry",0,rL,"run",0,rj,"runCollect",0,rW,"runCount",0,rq,"runDrain",0,rB,"runFold",0,r$,"runFoldEffect",0,rV,"runFoldScoped",0,rH,"runFoldScopedEffect",0,rG,"runFoldWhile",0,rK,"runFoldWhileEffect",0,rJ,"runFoldWhileScoped",0,rZ,"runFoldWhileScopedEffect",0,rQ,"runForEach",0,rY,"runForEachChunk",0,rX,"runForEachChunkScoped",0,r0,"runForEachScoped",0,r1,"runForEachWhile",0,r2,"runForEachWhileScoped",0,r3,"runHead",0,r5,"runIntoPubSub",0,r4,"runIntoPubSubScoped",0,r8,"runIntoQueue",0,r6,"runIntoQueueElementsScoped",0,r9,"runIntoQueueScoped",0,r7,"runLast",0,ae,"runScoped",0,at,"runSum",0,ar,"scan",0,aa,"scanEffect",0,ai,"scanReduce",0,an,"scanReduceEffect",0,as,"schedule",0,ao,"scheduleWith",0,al,"scoped",0,au,"scopedWith",0,ac,"share",0,V,"sliding",0,ad,"slidingSize",0,ap,"some",0,ah,"someOrElse",0,af,"someOrFail",0,am,"split",0,ag,"splitLines",0,ab,"splitOnChunk",0,ay,"succeed",0,aS,"suspend",0,ak,"sync",0,av,"take",0,aw,"takeRight",0,aE,"takeUntil",0,ax,"takeUntilEffect",0,aI,"takeWhile",0,aT,"tap",0,aC,"tapBoth",0,aR,"tapError",0,aF,"tapErrorCause",0,aA,"tapSink",0,aO,"throttle",0,a_,"throttleEffect",0,aM,"tick",0,aD,"timeout",0,aN,"timeoutFail",0,az,"timeoutFailCause",0,aP,"timeoutTo",0,aL,"toAsyncIterable",0,aK,"toAsyncIterableEffect",0,aG,"toAsyncIterableRuntime",0,aH,"toChannel",0,e9,"toPubSub",0,aU,"toPull",0,aj,"toQueue",0,aW,"toQueueOfElements",0,aq,"toReadableStream",0,aB,"toReadableStreamEffect",0,a$,"toReadableStreamRuntime",0,aV,"transduce",0,aJ,"unfold",0,aZ,"unfoldChunk",0,aQ,"unfoldChunkEffect",0,aY,"unfoldEffect",0,aX,"unwrap",0,a1,"unwrapScoped",0,a2,"unwrapScopedWith",0,a3,"updateService",0,a5,"void",()=>a0,"when",0,a4,"whenCase",0,a8,"whenCaseEffect",0,a6,"whenEffect",0,a9,"withExecutionPlan",0,rU,"withSpan",0,a7,"zip",0,ie,"zipAll",0,ir,"zipAllLeft",0,ia,"zipAllRight",0,ii,"zipAllSortedByKey",0,is,"zipAllSortedByKeyLeft",0,io,"zipAllSortedByKeyRight",0,il,"zipAllSortedByKeyWith",0,iu,"zipAllWith",0,ic,"zipFlatten",0,it,"zipLatest",0,id,"zipLatestAll",0,ip,"zipLatestWith",0,ih,"zipLeft",0,im,"zipRight",0,ig,"zipWith",0,iy,"zipWithChunks",0,ib,"zipWithIndex",0,iw,"zipWithNext",0,iS,"zipWithPrevious",0,iv,"zipWithPreviousAndNext",0,ik],8554418)},889957,e=>{"use strict";var t=e.i(5972454),r=e.i(3322401),a=e.i(7836076),i=e.i(1661171),n=e.i(3683485),s=e.i(2090854),o=e.i(9227260),l=e.i(1737036),u=e.i(5160412),c=e.i(8554418);class d extends t.Tag("@effect/experimental/Reactivity")(){}let p=r.sync(()=>{let e=new Map,t=t=>{if(Array.isArray(t))for(let r=0;r<t.length;r++){let a=e.get(m(t[r]));if(void 0!==a)for(let e of a)e()}else for(let r in t){let a=g(r,t[r]);for(let t=0;t<a.length;t++){let r=e.get(a[t]);if(void 0!==r)for(let e of r)e()}let i=e.get(r);if(void 0!==i)for(let e of i)e()}},n=e=>r.sync(()=>t(e)),s=(t,r)=>{let a=Array.isArray(t)?t.map(m):y(t);for(let t=0;t<a.length;t++){let i=e.get(a[t]);void 0===i&&(i=new Set,e.set(a[t],i)),i.add(r)}return()=>{for(let t=0;t<a.length;t++){let i=e.get(a[t]);i.delete(r),0===i.size&&e.delete(a[t])}}},o=(e,t)=>r.gen(function*(){let n=yield*r.scope,o=yield*l.make(),c=yield*i.makeRuntime(),d=!1,p=!1,h=e=>{"Failure"===e._tag?o.unsafeDone(a.failCause(e.cause)):o.unsafeOffer(e.value),p?(p=!1,c(t).addObserver(h)):d=!1};function f(){if(d){p=!0;return}d=!0,c(t).addObserver(h)}let m=s(e,f);return yield*u.addFinalizer(n,r.sync(m)),f(),o});return d.of({mutation:(e,t)=>r.zipLeft(t,n(e)),query:o,stream:(e,t)=>o(e,t).pipe(r.map(l.toStream),c.unwrapScoped),unsafeInvalidate:t,invalidate:n,unsafeRegister:s})}),h=(0,n.dual)(2,(e,t)=>r.flatMap(d,r=>r.mutation(t,e))),f=o.scoped(d,p);function m(e){return"string"==typeof e?e:s.hash(e)}let g=(e,t)=>{let r=Array(t.length);for(let a=0;a<t.length;a++)r[a]=`${e}:${m(t[a])}`;return r},y=e=>{let t=[];for(let r in e)for(let a of(t.push(r),g(r,e[r])))t.push(a);return t};e.s(["Reactivity",()=>d,"invalidate",0,e=>r.flatMap(d,t=>t.invalidate(e)),"layer",0,f,"mutation",0,h])},8477203,e=>{"use strict";var t=e.i(1331084),r=e.i(4935619);let a=Symbol.for("effect/Encoding/errors/Decode"),i=(e,t)=>{let i={_tag:"DecodeException",[a]:a,input:e};return(0,r.isString)(t)&&(i.message=t),i},n=Symbol.for("effect/Encoding/errors/Encode"),s=new TextEncoder,o=new TextDecoder,l=e=>{let t,r=e.length,a="";for(t=2;t<r;t+=3)a+=p[e[t-2]>>2],a+=p[(3&e[t-2])<<4|e[t-1]>>4],a+=p[(15&e[t-1])<<2|e[t]>>6],a+=p[63&e[t]];return t===r+1&&(a+=p[e[t-2]>>2],a+=p[(3&e[t-2])<<4],a+="=="),t===r&&(a+=p[e[t-2]>>2],a+=p[(3&e[t-2])<<4|e[t-1]>>4],a+=p[(15&e[t-1])<<2],a+="="),a},u=e=>{let r=c(e),a=r.length;if(a%4!=0)return t.left(i(r,`Length must be a multiple of 4, but is ${a}`));let n=r.indexOf("=");if(-1!==n&&(n<a-2||n===a-2&&"="!==r[a-1]))return t.left(i(r,"Found a '=' character, but it is not at the end"));try{let e=r.endsWith("==")?2:+!!r.endsWith("="),i=new Uint8Array(a/4*3-e);for(let e=0,t=0;e<a;e+=4,t+=3){let a=d(r.charCodeAt(e))<<18|d(r.charCodeAt(e+1))<<12|d(r.charCodeAt(e+2))<<6|d(r.charCodeAt(e+3));i[t]=a>>16,i[t+1]=a>>8&255,i[t+2]=255&a}return t.right(i)}catch(e){return t.left(i(r,e instanceof Error?e.message:"Invalid input"))}},c=e=>e.replace(/[\n\r]/g,"");function d(e){if(e>=h.length)throw TypeError(`Invalid character ${String.fromCharCode(e)}`);let t=h[e];if(255===t)throw TypeError(`Invalid character ${String.fromCharCode(e)}`);return t}let p=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],h=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],f=e=>l(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),m=e=>{let t="";for(let r=0;r<e.length;++r)t+=g[e[r]];return t},g=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],y=e=>{if(48<=e&&e<=57)return e-48;if(97<=e&&e<=102)return e-97+10;if(65<=e&&e<=70)return e-65+10;throw TypeError("Invalid input")},b=e=>u(e),S=e=>(e=>{let r=c(e),a=r.length;if(a%4==1)return t.left(i(r,`Length should be a multiple of 4, but is ${a}`));if(!/^[-_A-Z0-9]*?={0,2}$/i.test(r))return t.left(i(r,"Invalid input"));let n=a%4==2?`${r}==`:a%4==3?`${r}=`:r;return u(n=n.replace(/-/g,"+").replace(/_/g,"/"))})(e),v=e=>(e=>{let r=new TextEncoder().encode(e);if(r.length%2!=0)return t.left(i(e,`Length must be a multiple of 2, but is ${r.length}`));try{let e=r.length/2,a=new Uint8Array(e);for(let t=0;t<e;t++){let e=y(r[2*t]),i=y(r[2*t+1]);a[t]=e<<4|i}return t.right(a)}catch(r){return t.left(i(e,r instanceof Error?r.message:"Invalid input"))}})(e);e.s(["decodeBase64",0,b,"decodeBase64String",0,e=>t.map(b(e),e=>o.decode(e)),"decodeBase64Url",0,S,"decodeBase64UrlString",0,e=>t.map(S(e),e=>o.decode(e)),"decodeHex",0,v,"decodeHexString",0,e=>t.map(v(e),e=>o.decode(e)),"decodeUriComponent",0,e=>t.try({try:()=>decodeURIComponent(e),catch:t=>i(e,t instanceof Error?t.message:"Invalid input")}),"encodeBase64",0,e=>"string"==typeof e?l(s.encode(e)):l(e),"encodeBase64Url",0,e=>"string"==typeof e?f(s.encode(e)):f(e),"encodeHex",0,e=>"string"==typeof e?m(s.encode(e)):m(e),"encodeUriComponent",0,e=>t.try({try:()=>encodeURIComponent(e),catch:t=>{var a,i;let s;return a=e,i=t instanceof Error?t.message:"Invalid input",s={_tag:"EncodeException",[n]:n,input:a},(0,r.isString)(i)&&(s.message=i),s}})],8477203)},5648992,3345355,e=>{"use strict";var t=e.i(3628392),r=e.i(138042),a=e.i(3683485),i=e.i(2090854),n=e.i(2873450),s=e.i(8815901),o=e.i(6712028),l=e.i(9960543),u=e.i(4935619);let c=/^[+-]?\d+$/,d=Symbol.for("effect/BigDecimal"),p={[d]:d,[i.symbol](){let e=v(this);return(0,a.pipe)(i.hash(e.value),i.combine(i.number(e.scale)),i.cached(this))},[t.symbol](e){return h(e)&&_(this,e)},toString(){return`BigDecimal(${D(this)})`},toJSON(){return{_id:"BigDecimal",value:String(this.value),scale:this.scale}},[n.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,l.pipeArguments)(this,arguments)}},h=e=>(0,u.hasProperty)(e,d),f=(e,t)=>{let r=Object.create(p);return r.value=e,r.scale=t,r},m=(e,t)=>{if(e!==g&&e%b===g)throw RangeError("Value must be normalized");let r=f(e,t);return r.normalized=r,r},g=BigInt(0),y=BigInt(1),b=BigInt(10),S=m(g,0),v=e=>{if(void 0===e.normalized)if(e.value===g)e.normalized=S;else{let t=`${e.value}`,r=0;for(let e=t.length-1;e>=0;e--)if("0"===t[e])r++;else break;0===r&&(e.normalized=e);let a=BigInt(t.substring(0,t.length-r)),i=e.scale-r;e.normalized=m(a,i)}return e.normalized},k=(0,a.dual)(2,(e,t)=>t>e.scale?f(e.value*b**BigInt(t-e.scale),t):t<e.scale?f(e.value/b**BigInt(e.scale-t),t):e),w=(0,a.dual)(2,(e,t)=>t.value===g?e:e.value===g?t:e.scale>t.scale?f(k(t,e.scale).value+e.value,e.scale):e.scale<t.scale?f(k(e,t.scale).value+t.value,t.scale):f(e.value+t.value,e.scale)),E=o.make((e,t)=>{let r=o.number(A(e),A(t));return 0!==r?r:e.scale>t.scale?o.bigint(e.value,k(t,e.scale).value):e.scale<t.scale?o.bigint(k(e,t.scale).value,t.value):o.bigint(e.value,t.value)}),x=o.lessThan(E),I=o.lessThanOrEqualTo(E),T=o.greaterThan(E),C=o.greaterThanOrEqualTo(E),R=o.between(E),F=o.clamp(E),A=e=>e.value===g?0:e.value<g?-1:1,O=r.make((e,t)=>e.scale>t.scale?k(t,e.scale).value===e.value:e.scale<t.scale?k(e,t.scale).value===t.value:e.value===t.value),_=(0,a.dual)(2,(e,t)=>O(e,t)),M=e=>{let t,r,a,i;if(""===e)return s.some(S);let n=e.search(/[eE]/);if(-1!==n){let a=e.slice(n+1);if(t=e.slice(0,n),r=Number(a),""===t||!Number.isSafeInteger(r)||!c.test(a))return s.none()}else t=e,r=0;let o=t.search(/\./);if(-1!==o){let e=t.slice(0,o),r=t.slice(o+1);a=`${e}${r}`,i=r.length}else a=t,i=0;if(!c.test(a))return s.none();let l=i-r;return Number.isSafeInteger(l)?s.some(f(BigInt(a),l)):s.none()},D=e=>{let t,r,a=v(e);if(Math.abs(a.scale)>=16)return N(a);let i=a.value<g,n=i?`${a.value}`.substring(1):`${a.value}`;if(a.scale>=n.length)t="0",r="0".repeat(a.scale-n.length)+n;else{let e=n.length-a.scale;if(e>n.length){let a=e-n.length;t=`${n}${"0".repeat(a)}`,r=""}else r=n.slice(e),t=n.slice(0,e)}let s=""===r?t:`${t}.${r}`;return i?`-${s}`:s},N=e=>{if(z(e))return"0e+0";let t=v(e),r=`${(t.value<g?f(-t.value,t.scale):t).value}`,a=r.slice(0,1),i=r.slice(1),n=`${P(t)?"-":""}${a}`;""!==i&&(n+=`.${i}`);let s=i.length-t.scale;return`${n}e${s>=0?"+":""}${s}`},z=e=>e.value===g,P=e=>e.value<g,L=e=>e.value>g,U=e=>h(e[0]),j=(0,a.dual)(U,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.scale<=t?e:f(e.value/10n**BigInt(e.scale-t),t)});(e,t)=>e.scale<t?0n:e.value/10n**BigInt(e.scale-t)%10n,e.s(["Equivalence",0,O,"between",0,R,"clamp",0,F,"format",0,D,"fromString",0,M,"greaterThan",0,T,"greaterThanOrEqualTo",0,C,"isBigDecimal",0,h,"isNegative",0,P,"isPositive",0,L,"lessThan",0,x,"lessThanOrEqualTo",0,I,"make",0,f,"normalize",0,v,"unsafeFromNumber",0,e=>s.getOrThrowWith((e=>{if(!Number.isFinite(e))return s.none();let t=`${e}`;if(t.includes("e"))return M(t);let[r,a=""]=t.split(".");return s.some(f(BigInt(`${r}${a}`),a.length))})(e),()=>RangeError(`Number must be finite, got ${e}`)),"unsafeToNumber",0,e=>Number(D(e))],5648992);let W=BigInt(0);u.isBigInt,r.bigint;let q=o.bigint,B=o.clamp(q);(e,t)=>{for(;t!==W;){let r=t;t=e%t,e=r}return e},e.s(["clamp",0,B,"fromNumber",0,e=>{if(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)return s.none();try{return s.some(BigInt(e))}catch{return s.none()}},"fromString",0,e=>{try{return""===e.trim()?s.none():s.some(BigInt(e))}catch{return s.none()}},"toNumber",0,e=>e>BigInt(Number.MAX_SAFE_INTEGER)||e<BigInt(Number.MIN_SAFE_INTEGER)?s.none():s.some(Number(e))],3345355)},4772691,e=>{"use strict";var t=e.i(194400);t.ConfigErrorTypeId,t.And,t.Or,t.MissingData;let r=t.InvalidData;t.SourceUnavailable,t.Unsupported,t.isConfigError,t.isAnd,t.isOr,t.isInvalidData,t.isMissingData;let a=t.isMissingDataOnly;t.isSourceUnavailable,t.isUnsupported,t.prefixed,t.reduceWithContext,e.s(["InvalidData",0,r,"isMissingDataOnly",0,a])},8295197,8611396,e=>{"use strict";e.i(7862555),e.i(4772691),e.i(8973103);var t=e.i(1331084),r=e.i(3683485);e.i(9390854),e.i(8815901);var a=e.i(4935619);e.i(194400),e.i(7548658);var i=e.i(7294722),n=e.i(5242335),s=e.i(5166253),o=e.i(3628392),l=e.i(9159985),u=e.i(2090854),c=e.i(2873450),d=e.i(9960543);let p="effect/Redacted",h=(0,l.globalValue)("effect/Redacted/redactedRegistry",()=>new WeakMap),f=Symbol.for(p),m={[f]:{_A:e=>e},pipe(){return(0,d.pipeArguments)(this,arguments)},toString:()=>"<redacted>",toJSON:()=>"<redacted>",[c.NodeInspectSymbol]:()=>"<redacted>",[u.symbol](){return(0,r.pipe)(u.hash(p),u.combine(u.hash(h.get(this))),u.cached(this))},[o.symbol](e){return g(e)&&o.equals(h.get(this),h.get(e))}},g=e=>(0,a.hasProperty)(e,f);e.s(["RedactedTypeId",0,f,"isRedacted",0,g,"make",0,e=>{let t=Object.create(m);return h.set(t,e),t},"proto",0,m,"redactedRegistry",0,h,"unsafeWipe",0,e=>h.delete(e),"value",0,e=>{if(h.has(e))return h.get(e);throw Error("Unable to get redacted value")}],8611396),e.i(5283034);let y=Symbol.for("effect/Secret");({...m,[y]:y});let b=Symbol.for("effect/Config"),S={...n.CommitPrototype,[b]:{_A:e=>e},commit(){return i.config(this)}},v=((e,r)=>v(e,e=>t.right(r(e))),(0,r.dual)(2,(e,t)=>{let r=Object.create(S);return r._tag=s.OP_MAP_OR_FAIL,r.original=e,r.mapOrFail=t,r})),k=(0,r.dual)(2,(e,t)=>{let r=Object.create(S);return r._tag=s.OP_NESTED,r.name=t,r.config=e,r}),w=((e,t)=>{let r=Object.create(S);return r._tag=s.OP_FALLBACK,r.first=e,r.second=w(t.orElse),r.condition=t.if,r},e=>{let t=Object.create(S);return t._tag=s.OP_LAZY,t.config=e,t});(e,t,r)=>{let a=Object.create(S);return a._tag=s.OP_ZIP_WITH,a.left=e,a.right=t,a.zip=r,a},e.s(["mapOrFail",0,v,"string",0,e=>{var r;let a,i=(r=t.right,(a=Object.create(S))._tag=s.OP_PRIMITIVE,a.description="a text property",a.parse=r,a);return void 0===e?i:k(i,e)}],8295197)},1939315,e=>{"use strict";var t=e.i(5972454);e.i(3322401),e.i(3683485);var r=e.i(5331375);e.i(9227260),r.TypeId,r.TimeZoneTypeId;let a=r.isDateTime;r.isTimeZone;let i=r.isTimeZoneOffset,n=r.isTimeZoneNamed,s=r.isUtc,o=r.isZoned,l=r.Equivalence;r.Order,r.clamp;let u=r.unsafeFromDate,c=r.unsafeMake,d=r.unsafeMakeZoned;r.makeZoned,r.make;let p=r.makeZonedFromString;r.now,r.nowAsDate,r.unsafeNow,r.toUtc,r.setZone,r.setZoneOffset;let h=r.zoneUnsafeMakeNamed,f=r.zoneMakeOffset;r.zoneMakeNamed,r.zoneMakeNamedEffect,r.zoneMakeLocal;let m=r.zoneFromString,g=r.zoneToString;r.setZoneNamed,r.unsafeSetZoneNamed,r.distance,r.distanceDurationEither,r.distanceDuration,r.min,r.max,r.greaterThan,r.greaterThanOrEqualTo,r.lessThan,r.lessThanOrEqualTo,r.between,r.isFuture,r.unsafeIsFuture,r.isPast,r.unsafeIsPast;let y=r.toDateUtc;r.toDate,r.zonedOffset,r.zonedOffsetIso;let b=r.toEpochMillis;r.removeTime,r.toParts,r.toPartsUtc,r.getPartUtc,r.getPart,r.setParts,r.setPartsUtc,r.mutate,r.mutateUtc,r.mapEpochMillis,r.withDate,r.withDateUtc,r.match,r.addDuration,r.subtractDuration,r.add,r.subtract,r.startOf,r.endOf,r.nearest,r.format,r.formatLocal,r.formatUtc,r.formatIntl;let S=r.formatIso;r.formatIsoDate,r.formatIsoDateUtc,r.formatIsoOffset;let v=r.formatIsoZoned;e.s(["Equivalence",0,l,"formatIso",0,S,"formatIsoZoned",0,v,"isDateTime",0,a,"isTimeZoneNamed",0,n,"isTimeZoneOffset",0,i,"isUtc",0,s,"isZoned",0,o,"makeZonedFromString",0,p,"toDateUtc",0,y,"toEpochMillis",0,b,"unsafeFromDate",0,u,"unsafeMake",0,c,"unsafeMakeZoned",0,d,"zoneFromString",0,m,"zoneMakeOffset",0,f,"zoneToString",0,g,"zoneUnsafeMakeNamed",0,h])},9973079,1932814,9552070,4434603,8558266,e=>{"use strict";var t,r,a,i,n,s,o=e.i(5283034),l=e.i(5648992),u=e.i(3345355),c=e.i(2725920),d=e.i(5450905),p=e.i(7862555),h=e.i(8295197),f=e.i(4772691),m=e.i(5305881),g=e.i(1939315),y=e.i(8973103),b=e.i(3322401),S=e.i(1331084),v=e.i(8477203),k=e.i(3628392),w=e.i(138042),E=e.i(7836076);class x extends Error{constructor(e=!1){super(),this.interruptExecution=e,this.footprint=x.SharedFootPrint}static isFailure(e){return null!=e&&e.footprint===x.SharedFootPrint}}x.SharedFootPrint=Symbol.for("fast-check/PreconditionFailure");class I{[Symbol.iterator](){return this}next(e){return{value:e,done:!0}}}I.nil=new I;let T=Symbol.iterator;class C{static nil(){return new C(I.nil)}static of(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new C(t[T]())}constructor(e){this.g=e}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(e){return new C(function*(e,t){for(let r of e)yield t(r)}(this.g,e))}flatMap(e){return new C(function*(e,t){for(let r of e)yield*t(r)}(this.g,e))}dropWhile(e){let t=!1;return this.flatMap(function*(r){(t||!e(r))&&(t=!0,yield r)})}drop(e){if(e<=0)return this;let t=0;return this.dropWhile(function(){return t++<e})}takeWhile(e){return new C(function*(e,t){let r=e.next();for(;!r.done&&t(r.value);)yield r.value,r=e.next()}(this.g,e))}take(e){return new C(function*(e,t){for(let r=0;r<t;++r){let t=e.next();if(t.done)break;yield t.value}}(this.g,e))}filter(e){return new C(function*(e,t){for(let r of e)t(r)&&(yield r)}(this.g,e))}every(e){for(let t of this.g)if(!e(t))return!1;return!0}has(e){for(let t of this.g)if(e(t))return[!0,t];return[!1,null]}join(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new C(function*(e,t){for(let t=e.next();!t.done;t=e.next())yield t.value;for(let e of t)for(let t=e.next();!t.done;t=e.next())yield t.value}(this.g,t))}getNthOrLast(e){let t=e,r=null;for(let e of this.g){if(0==t--)return e;r=e}return r}}let R=Symbol.for("fast-check/cloneMethod");function F(e){return null!==e&&("object"==typeof e||"function"==typeof e)&&R in e&&"function"==typeof e[R]}function A(e){return F(e)?e[R]():e}let O=Object.defineProperty;class _{constructor(e,t,r){this.value_=e,this.context=t,this.hasToBeCloned=void 0!==r||F(e),this.readOnce=!1,this.hasToBeCloned?O(this,"value",{get:void 0!==r?r:this.getValue}):this.value=e}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[R]():(this.readOnce=!0,this.value_):this.value_}}let M=Object.assign;class D{filter(e){return new P(this,e)}map(e,t){return new z(this,e,t)}chain(e){return new N(this,e)}noShrink(){return new L(this)}noBias(){return new U(this)}}class N extends D{constructor(e,t){super(),this.arb=e,this.chainer=t}generate(e,t){let r=e.clone(),a=this.arb.generate(e,t);return this.valueChainer(a,e,r,t)}canShrinkWithoutContext(e){return!1}shrink(e,t){return this.isSafeContext(t)?(!t.stoppedForOriginal?this.arb.shrink(t.originalValue,t.originalContext).map(e=>this.valueChainer(e,t.clonedMrng.clone(),t.clonedMrng,t.originalBias)):C.nil()).join(t.chainedArbitrary.shrink(e,t.chainedContext).map(e=>{let r=M(M({},t),{chainedContext:e.context,stoppedForOriginal:!0});return new _(e.value_,r)})):C.nil()}valueChainer(e,t,r,a){let i=this.chainer(e.value_),n=i.generate(t,a),s={originalBias:a,originalValue:e.value_,originalContext:e.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:n.context,clonedMrng:r};return new _(n.value_,s)}isSafeContext(e){return null!=e&&"object"==typeof e&&"originalBias"in e&&"originalValue"in e&&"originalContext"in e&&"stoppedForOriginal"in e&&"chainedArbitrary"in e&&"chainedContext"in e&&"clonedMrng"in e}}class z extends D{constructor(e,t,r){super(),this.arb=e,this.mapper=t,this.unmapper=r,this.bindValueMapper=e=>this.valueMapper(e)}generate(e,t){let r=this.arb.generate(e,t);return this.valueMapper(r)}canShrinkWithoutContext(e){if(void 0!==this.unmapper)try{let t=this.unmapper(e);return this.arb.canShrinkWithoutContext(t)}catch(e){}return!1}shrink(e,t){if(this.isSafeContext(t))return this.arb.shrink(t.originalValue,t.originalContext).map(this.bindValueMapper);if(void 0!==this.unmapper){let t=this.unmapper(e);return this.arb.shrink(t,void 0).map(this.bindValueMapper)}return C.nil()}mapperWithCloneIfNeeded(e){let t=e.value,r=this.mapper(t);return e.hasToBeCloned&&("object"==typeof r&&null!==r||"function"==typeof r)&&Object.isExtensible(r)&&!F(r)&&Object.defineProperty(r,R,{get:()=>()=>this.mapperWithCloneIfNeeded(e)[0]}),[r,t]}valueMapper(e){let[t,r]=this.mapperWithCloneIfNeeded(e);return new _(t,{originalValue:r,originalContext:e.context})}isSafeContext(e){return null!=e&&"object"==typeof e&&"originalValue"in e&&"originalContext"in e}}class P extends D{constructor(e,t){super(),this.arb=e,this.refinement=t,this.bindRefinementOnValue=e=>this.refinementOnValue(e)}generate(e,t){for(;;){let r=this.arb.generate(e,t);if(this.refinementOnValue(r))return r}}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)&&this.refinement(e)}shrink(e,t){return this.arb.shrink(e,t).filter(this.bindRefinementOnValue)}refinementOnValue(e){return this.refinement(e.value)}}class L extends D{constructor(e){super(),this.arb=e}generate(e,t){return this.arb.generate(e,t)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,t){return C.nil()}noShrink(){return this}}class U extends D{constructor(e){super(),this.arb=e}generate(e,t){return this.arb.generate(e,void 0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,t){return this.arb.shrink(e,t)}noBias(){return this}}let j=Function.prototype.apply,W=Symbol("apply");function q(e,t,r){let a;return function(e){try{return e.apply}catch(e){return}}(e)===j?e.apply(t,r):(e[W]=j,a=e[W](t,r),delete e[W],a)}let B="undefined"!=typeof Array?Array:void 0;"undefined"!=typeof BigInt64Array&&BigInt64Array,"undefined"!=typeof BigUint64Array&&BigUint64Array;let $="undefined"!=typeof Error?Error:void 0;"undefined"!=typeof Float32Array&&Float32Array,"undefined"!=typeof Float64Array&&Float64Array,"undefined"!=typeof Int8Array&&Int8Array,"undefined"!=typeof Int16Array&&Int16Array,"undefined"!=typeof Int32Array&&Int32Array;let V="undefined"!=typeof String?String:void 0;"undefined"!=typeof Uint8Array&&Uint8Array,"undefined"!=typeof Uint8ClampedArray&&Uint8ClampedArray,"undefined"!=typeof Uint16Array&&Uint16Array,"undefined"!=typeof Uint32Array&&Uint32Array;let H="undefined"!=typeof encodeURIComponent?encodeURIComponent:void 0,G=Symbol;Array.prototype.forEach;let K=Array.prototype.indexOf,J=Array.prototype.join,Z=Array.prototype.map,Q=Array.prototype.filter,Y=Array.prototype.push;Array.prototype.pop,Array.prototype.splice;let X=Array.prototype.slice;function ee(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return function(e){try{return e.indexOf}catch(e){return}}(e)===K?e.indexOf(...r):q(K,e,r)}function et(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return function(e){try{return e.join}catch(e){return}}(e)===J?e.join(...r):q(J,e,r)}function er(e,t){return function(e){try{return e.map}catch(e){return}}(e)===Z?e.map(t):q(Z,e,[t])}function ea(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return function(e){try{return e.push}catch(e){return}}(e)===Y?e.push(...r):q(Y,e,r)}function ei(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return function(e){try{return e.slice}catch(e){return}}(e)===X?e.slice(...r):q(X,e,r)}Array.prototype.sort,Array.prototype.every;let en=Date.prototype.getTime,es=Date.prototype.toISOString;Set.prototype.add,Set.prototype.has,WeakMap.prototype.set,WeakMap.prototype.get;let eo=Map.prototype.set,el=Map.prototype.get,eu=String.prototype.split;String.prototype.startsWith,String.prototype.endsWith,String.prototype.substring,String.prototype.toLowerCase,String.prototype.toUpperCase,String.prototype.padStart;let ec=String.prototype.charCodeAt;function ed(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return function(e){try{return e.split}catch(e){return}}(e)===eu?e.split(...r):q(eu,e,r)}function ep(e,t){return function(e){try{return e.charCodeAt}catch(e){return}}(e)===ec?e.charCodeAt(t):q(ec,e,[t])}String.prototype.normalize,String.prototype.replace;let eh=Number.prototype.toString;Object.prototype.hasOwnProperty;let ef=Object.prototype.toString;class em{constructor(e){this.producer=e}[Symbol.iterator](){return void 0===this.it&&(this.it=this.producer()),this.it}next(){return void 0===this.it&&(this.it=this.producer()),this.it.next()}}let eg=Math.log;function ey(e){return 2+~~(.4342944819032518*eg(e+1))}let eb={},eS=Symbol("UndefinedContextPlaceholder");function ev(e){return void 0!==e.context?e:e.hasToBeCloned?new _(e.value_,eS,()=>e.value):new _(e.value_,eS)}class ek{constructor(e,t){this.arb=e,this.predicate=t;const{asyncBeforeEach:r,asyncAfterEach:a,beforeEach:i,afterEach:n}=eb||{};if(void 0!==r&&void 0!==i)throw $('Global "asyncBeforeEach" and "beforeEach" parameters can\'t be set at the same time when running async properties');if(void 0!==a&&void 0!==n)throw $('Global "asyncAfterEach" and "afterEach" parameters can\'t be set at the same time when running async properties');this.beforeEachHook=r||i||ek.dummyHook,this.afterEachHook=a||n||ek.dummyHook}isAsync(){return!0}generate(e,t){return ev(this.arb.generate(e,null!=t?ey(t):void 0))}shrink(e){if(void 0===e.context&&!this.arb.canShrinkWithoutContext(e.value_))return C.nil();let t=e.context!==eS?e.context:void 0;return this.arb.shrink(e.value_,t).map(ev)}async runBeforeEach(){await this.beforeEachHook()}async runAfterEach(){await this.afterEachHook()}async run(e,t){t||await this.beforeEachHook();try{let t=await this.predicate(e);return null==t||!0===t?null:{error:new $("Property failed by returning false"),errorMessage:"Error: Property failed by returning false"}}catch(e){if(x.isFailure(e))return e;if(e instanceof $&&e.stack)return{error:e,errorMessage:e.stack};return{error:e,errorMessage:V(e)}}finally{t||await this.afterEachHook()}}beforeEach(e){let t=this.beforeEachHook;return this.beforeEachHook=()=>e(t),this}afterEach(e){let t=this.afterEachHook;return this.afterEachHook=()=>e(t),this}}ek.dummyHook=()=>{};class ew{constructor(e,t){this.arb=e,this.predicate=t;const{beforeEach:r=ew.dummyHook,afterEach:a=ew.dummyHook,asyncBeforeEach:i,asyncAfterEach:n}=eb||{};if(void 0!==i)throw $('"asyncBeforeEach" can\'t be set when running synchronous properties');if(void 0!==n)throw $('"asyncAfterEach" can\'t be set when running synchronous properties');this.beforeEachHook=r,this.afterEachHook=a}isAsync(){return!1}generate(e,t){return ev(this.arb.generate(e,null!=t?ey(t):void 0))}shrink(e){if(void 0===e.context&&!this.arb.canShrinkWithoutContext(e.value_))return C.nil();let t=e.context!==eS?e.context:void 0;return this.arb.shrink(e.value_,t).map(ev)}runBeforeEach(){this.beforeEachHook()}runAfterEach(){this.afterEachHook()}run(e,t){t||this.beforeEachHook();try{let t=this.predicate(e);return null==t||!0===t?null:{error:new $("Property failed by returning false"),errorMessage:"Error: Property failed by returning false"}}catch(e){if(x.isFailure(e))return e;if(e instanceof $&&e.stack)return{error:e,errorMessage:e.stack};return{error:e,errorMessage:V(e)}}finally{t||this.afterEachHook()}}beforeEach(e){let t=this.beforeEachHook;return this.beforeEachHook=()=>e(t),this}afterEach(e){let t=this.afterEachHook;return this.afterEachHook=()=>e(t),this}}function eE(e,t){for(var r=[],a=0;a!=t;++a)r.push(e.unsafeNext());return r}function ex(e,t){var r=e.clone();return[eE(r,t),r]}function eI(e,t){for(var r=0;r!=t;++r)e.unsafeNext()}function eT(e,t){var r=e.clone();return eI(r,t),r}ew.dummyHook=()=>{};var eC=-0x80000000-1,eR=function(e){return 214013*e+2531011|0},eF=function(e){return(e&eC)>>16},eA=function(){function e(e){this.seed=e}return e.prototype.clone=function(){return new e(this.seed)},e.prototype.next=function(){var t=new e(this.seed);return[t.unsafeNext(),t]},e.prototype.unsafeNext=function(){var e=eR(this.seed),t=eF(e),r=eR(e),a=eF(r);return this.seed=eR(r),0|eF(this.seed)+(a+(t<<15)<<15)},e.prototype.getState=function(){return[this.seed]},e}(),eO=Object.assign(function(e){return new eA(e)},{fromState:function(e){if(1!==e.length)throw Error("The state must have been produced by a congruential32 RandomGenerator");return new eA(e[0])}}),e_=function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,i,n=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(a=n.next()).done;)s.push(a.value)}catch(e){i={error:e}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(i)throw i.error}}return s},eM=function(e,t,r){if(r||2==arguments.length)for(var a,i=0,n=t.length;i<n;i++)!a&&i in t||(a||(a=Array.prototype.slice.call(t,0,i)),a[i]=t[i]);return e.concat(a||Array.prototype.slice.call(t))},eD=function(){function e(e,t){this.states=e,this.index=t}return e.twist=function(t){for(var r=t.slice(),a=0;a!==e.N-e.M;++a){var i=(r[a]&e.MASK_UPPER)+(r[a+1]&e.MASK_LOWER);r[a]=r[a+e.M]^i>>>1^-(1&i)&e.A}for(var a=e.N-e.M;a!==e.N-1;++a){var n=(r[a]&e.MASK_UPPER)+(r[a+1]&e.MASK_LOWER);r[a]=r[a+e.M-e.N]^n>>>1^-(1&n)&e.A}var s=(r[e.N-1]&e.MASK_UPPER)+(r[0]&e.MASK_LOWER);return r[e.N-1]=r[e.M-1]^s>>>1^-(1&s)&e.A,r},e.seeded=function(t){var r=Array(e.N);r[0]=t;for(var a=1;a!==e.N;++a){var i=r[a-1]^r[a-1]>>>30;r[a]=Math.imul(e.F,i)+a|0}return r},e.from=function(t){return new e(e.twist(e.seeded(t)),0)},e.prototype.clone=function(){return new e(this.states,this.index)},e.prototype.next=function(){var t=new e(this.states,this.index);return[t.unsafeNext(),t]},e.prototype.unsafeNext=function(){var t=this.states[this.index];return t^=this.states[this.index]>>>e.U,t^=t<<e.S&e.B,t^=t<<e.T&e.C,t^=t>>>e.L,++this.index>=e.N&&(this.states=e.twist(this.states),this.index=0),t},e.prototype.getState=function(){return eM([this.index],e_(this.states),!1)},e.fromState=function(t){if(!(t.length===e.N+1&&t[0]>=0&&t[0]<e.N))throw Error("The state must have been produced by a mersenne RandomGenerator");return new e(t.slice(1),t[0])},e.N=624,e.M=397,e.R=31,e.A=0x9908b0df,e.F=0x6c078965,e.U=11,e.S=7,e.B=0x9d2c5680,e.T=15,e.C=0xefc60000,e.L=18,e.MASK_LOWER=Math.pow(2,e.R)-1,e.MASK_UPPER=Math.pow(2,e.R),e}();let eN=Object.assign(function(e){return eD.from(e)},{fromState:function(e){return eD.fromState(e)}});var ez=function(){function e(e,t,r,a){this.s01=e,this.s00=t,this.s11=r,this.s10=a}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return[t.unsafeNext(),t]},e.prototype.unsafeNext=function(){var e=this.s00^this.s00<<23,t=this.s01^(this.s01<<23|this.s00>>>9),r=e^this.s10^(e>>>18|t<<14)^(this.s10>>>5|this.s11<<27),a=t^this.s11^t>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=a,this.s10=r,i},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var e=0,t=0,r=0,a=0,i=[0x635d2dff,0x8a5cd789,0x5c472f96,0x121fd215],n=0;4!==n;++n)for(var s=1;s;s<<=1)i[n]&s&&(e^=this.s01,t^=this.s00,r^=this.s11,a^=this.s10),this.unsafeNext();this.s01=e,this.s00=t,this.s11=r,this.s10=a},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e}(),eP=Object.assign(function(e){return new ez(-1,~e,0|e,0)},{fromState:function(e){if(4!==e.length)throw Error("The state must have been produced by a xorshift128plus RandomGenerator");return new ez(e[0],e[1],e[2],e[3])}}),eL=function(){function e(e,t,r,a){this.s01=e,this.s00=t,this.s11=r,this.s10=a}return e.prototype.clone=function(){return new e(this.s01,this.s00,this.s11,this.s10)},e.prototype.next=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return[t.unsafeNext(),t]},e.prototype.unsafeNext=function(){var e=this.s00+this.s10|0,t=this.s10^this.s00,r=this.s11^this.s01,a=this.s00,i=this.s01;return this.s00=a<<24^i>>>8^t^t<<16,this.s01=i<<24^a>>>8^r^(r<<16|t>>>16),this.s10=r<<5^t>>>27,this.s11=t<<5^r>>>27,e},e.prototype.jump=function(){var t=new e(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},e.prototype.unsafeJump=function(){for(var e=0,t=0,r=0,a=0,i=[0xd8f554a5,0xdf900294,0x4b3201fc,0x170865df],n=0;4!==n;++n)for(var s=1;s;s<<=1)i[n]&s&&(e^=this.s01,t^=this.s00,r^=this.s11,a^=this.s10),this.unsafeNext();this.s01=e,this.s00=t,this.s11=r,this.s10=a},e.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},e}(),eU=Object.assign(function(e){return new eL(-1,~e,0|e,0)},{fromState:function(e){if(4!==e.length)throw Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new eL(e[0],e[1],e[2],e[3])}});function ej(e,t){if(e.sign!==t.sign)return eW(e,{sign:-t.sign,data:t.data});for(var r=[],a=0,i=e.data,n=t.data,s=i.length-1,o=n.length-1;s>=0||o>=0;--s,--o){var l=(s>=0?i[s]:0)+(o>=0?n[o]:0)+a;r.push(l>>>0),a=~~(l/0x100000000)}return 0!==a&&r.push(a),{sign:e.sign,data:r.reverse()}}function eW(e,t){if(e.sign!==t.sign)return ej(e,{sign:-t.sign,data:t.data});var r=e.data,a=t.data;if(function(e,t){for(var r=Math.max(e.length,t.length),a=0;a<r;++a){var i=a+e.length-r,n=a+t.length-r,s=i>=0?e[i]:0,o=n>=0?t[n]:0;if(s<o)return!0;if(s>o)break}return!1}(r,a)){var i=eW(t,e);return i.sign=-i.sign,i}for(var n=[],s=0,o=r.length-1,l=a.length-1;o>=0||l>=0;--o,--l){var u=(o>=0?r[o]:0)-(l>=0?a[l]:0)-s;n.push(u>>>0),s=+(u<0)}return{sign:e.sign,data:n.reverse()}}function eq(e){for(var t=e.data,r=0;r!==t.length&&0===t[r];++r);return r===t.length?(e.sign=1,e.data=[0]):t.splice(0,r),e}function eB(e,t){if(t<0){var r=-t;e.sign=-1,e.data[0]=~~(r/0x100000000),e.data[1]=r>>>0}else e.sign=1,e.data[0]=~~(t/0x100000000),e.data[1]=t>>>0;return e}function e$(e,t){for(var r=e>2?~~(0x100000000/e)*e:0x100000000,a=t.unsafeNext()+0x80000000;a>=r;)a=t.unsafeNext()+0x80000000;return a%e}function eV(e,t,r){for(var a=t.length;;){for(var i=0;i!==a;++i){var n=e$(0===i?t[0]+1:0x100000000,r);e[i]=n}for(var i=0;i!==a;++i){var s=e[i],o=t[i];if(s<o)return e;if(s>o)break}}}function eH(e,t,r){var a=eq(function(e){e.sign=1;for(var t=e.data,r=t.length-1;r>=0;--r)if(0xffffffff!==t[r])return t[r]+=1,e;else t[r]=0;return t.unshift(1),e}(eW(t,e)));return eq(ej({sign:1,data:eV(a.data.slice(0),a.data,r)},e))}function eG(e,t,r){if(null!=r){var a=r.clone();return[eH(e,t,a),a]}return function(r){var a=r.clone();return[eH(e,t,a),a]}}var eK="undefined"!=typeof BigInt?BigInt:void 0;function eJ(e,t,r){for(var a=t-e+eK(1),i=eK(-0x80000000),n=eK(0x100000000),s=n,o=1;s<a;)s*=n,++o;for(var l=s-s%a;;){for(var u=eK(0),c=0;c!==o;++c)u=n*u+(eK(r.unsafeNext())-i);if(u<l)return u%a+e}}function eZ(e,t,r){if(null!=r){var a=r.clone();return[eJ(e,t,a),a]}return function(r){var a=r.clone();return[eJ(e,t,a),a]}}var eQ=Number.MAX_SAFE_INTEGER,eY={sign:1,data:[0,0]},eX={sign:1,data:[0,0]},e0={sign:1,data:[0,0]},e1=[0,0];function e2(e,t,r){var a,i=t-e;return i<=0xffffffff?e$(i+1,r)+e:(0xffffffff===(a=i<=eQ?eB(e0,i):function(e,t,r){var a=t.data[1],i=t.data[0],n=t.sign,s=r.data[1],o=r.data[0],l=r.sign;if(e.sign=1,1===n&&-1===l){var u=a+s;return e.data[0]=i+o+ +(u>0xffffffff)>>>0,e.data[1]=u>>>0,e}var c=a,d=i,p=s,h=o;-1===n&&(c=s,d=o,p=a,h=i);var f=0,m=c-p;return m<0&&(f=1,m>>>=0),e.data[0]=d-h-f,e.data[1]=m,e}(e0,eB(eY,t),eB(eX,e))).data[1]?(a.data[0]+=1,a.data[1]=0):a.data[1]+=1,eV(e1,a.data,r),0x100000000*e1[0]+e1[1]+e)}function e3(e,t,r){if(null!=r){var a=r.clone();return[e2(e,t,a),a]}return function(r){var a=r.clone();return[e2(e,t,a),a]}}var e5="module",e4="6.1.0",e8="a413dd2b721516be2ef29adffb515c5ae67bfbad";e.s(["__commitHash",()=>e8,"__type",()=>e5,"__version",()=>e4],8865016),e.i(8865016),e.s(["__commitHash",()=>e8,"__type",()=>e5,"__version",()=>e4,"congruential32",()=>eO,"generateN",()=>ex,"mersenne",0,eN,"skipN",()=>eT,"uniformArrayIntDistribution",()=>eG,"uniformBigIntDistribution",()=>eZ,"uniformIntDistribution",()=>e3,"unsafeGenerateN",()=>eE,"unsafeSkipN",()=>eI,"unsafeUniformArrayIntDistribution",()=>eH,"unsafeUniformBigIntDistribution",()=>eJ,"unsafeUniformIntDistribution",()=>e2,"xoroshiro128plus",()=>eU,"xorshift128plus",()=>eP],6346344);var e6=e.i(6346344);(t=i||(i={}))[t.None=0]="None",t[t.Verbose=1]="Verbose",t[t.VeryVerbose=2]="VeryVerbose";let e9=Date.now,e7=Math.min,te=Math.random;class tt{constructor(e){const t=e||{};this.seed=tt.readSeed(t),this.randomType=tt.readRandomType(t),this.numRuns=tt.readNumRuns(t),this.verbose=tt.readVerbose(t),this.maxSkipsPerRun=tt.readOrDefault(t,"maxSkipsPerRun",100),this.timeout=tt.safeTimeout(tt.readOrDefault(t,"timeout",null)),this.skipAllAfterTimeLimit=tt.safeTimeout(tt.readOrDefault(t,"skipAllAfterTimeLimit",null)),this.interruptAfterTimeLimit=tt.safeTimeout(tt.readOrDefault(t,"interruptAfterTimeLimit",null)),this.markInterruptAsFailure=tt.readBoolean(t,"markInterruptAsFailure"),this.skipEqualValues=tt.readBoolean(t,"skipEqualValues"),this.ignoreEqualValues=tt.readBoolean(t,"ignoreEqualValues"),this.logger=tt.readOrDefault(t,"logger",e=>{console.log(e)}),this.path=tt.readOrDefault(t,"path",""),this.unbiased=tt.readBoolean(t,"unbiased"),this.examples=tt.readOrDefault(t,"examples",[]),this.endOnFailure=tt.readBoolean(t,"endOnFailure"),this.reporter=tt.readOrDefault(t,"reporter",null),this.asyncReporter=tt.readOrDefault(t,"asyncReporter",null),this.errorWithCause=tt.readBoolean(t,"errorWithCause")}toParameters(){let e=e=>null!==e?e:void 0;return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:e(this.timeout),skipAllAfterTimeLimit:e(this.skipAllAfterTimeLimit),interruptAfterTimeLimit:e(this.interruptAfterTimeLimit),markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:e(this.reporter),asyncReporter:e(this.asyncReporter),errorWithCause:this.errorWithCause}}static read(e){return new tt(e)}}tt.createQualifiedRandomGenerator=e=>t=>{let r=e(t);return void 0===r.unsafeJump&&(r.unsafeJump=()=>eI(r,42)),r},tt.readSeed=e=>{if(null==e.seed)return e9()^0x100000000*te();let t=0|e.seed;if(e.seed===t)return t;let r=e.seed-t;return t^0x100000000*r},tt.readRandomType=e=>{if(null==e.randomType)return e6.xorshift128plus;if("string"==typeof e.randomType)switch(e.randomType){case"mersenne":return tt.createQualifiedRandomGenerator(e6.mersenne);case"congruential":case"congruential32":return tt.createQualifiedRandomGenerator(e6.congruential32);case"xorshift128plus":return e6.xorshift128plus;case"xoroshiro128plus":return e6.xoroshiro128plus;default:throw Error(`Invalid random specified: '${e.randomType}'`)}let t=e.randomType(0);if("min"in t&&-0x80000000!==t.min)throw Error(`Invalid random number generator: min must equal -0x80000000, got ${String(t.min)}`);if("max"in t&&0x7fffffff!==t.max)throw Error(`Invalid random number generator: max must equal 0x7fffffff, got ${String(t.max)}`);return"unsafeJump"in t?e.randomType:tt.createQualifiedRandomGenerator(e.randomType)},tt.readNumRuns=e=>null!=e.numRuns?e.numRuns:null!=e.num_runs?e.num_runs:100,tt.readVerbose=e=>null==e.verbose?i.None:"boolean"==typeof e.verbose?!0===e.verbose?i.Verbose:i.None:e.verbose<=i.None?i.None:e.verbose>=i.VeryVerbose?i.VeryVerbose:0|e.verbose,tt.readBoolean=(e,t)=>!0===e[t],tt.readOrDefault=(e,t,r)=>{let a=e[t];return null!=a?a:r},tt.safeTimeout=e=>null===e?null:e7(e,0x7fffffff);var tr=e.i(2174061);let ta=Array.from,ti=void 0!==tr.Buffer?tr.Buffer.isBuffer:void 0,tn=JSON.stringify,ts=Number.isNaN,to=Object.keys,tl=Object.getOwnPropertySymbols,tu=Object.getOwnPropertyDescriptor,tc=Object.getPrototypeOf,td=-1/0,tp=1/0,th=Symbol.for("fast-check/toStringMethod"),tf=Symbol.for("fast-check/asyncToStringMethod"),tm=/^Symbol\((.*)\)$/;function tg(e){switch(e){case 0:return 1/e===td?"-0":"0";case td:return"Number.NEGATIVE_INFINITY";case tp:return"Number.POSITIVE_INFINITY";default:return e==e?V(e):"Number.NaN"}}function ty(e){return function e(t,r,a){var i,n;let s=[...r,t];if("object"==typeof t&&-1!==ee(r,t))return"[cyclic]";if(null!==t&&("object"==typeof t||"function"==typeof t)&&tf in t&&"function"==typeof t[tf]){let e=a(t);if("fulfilled"===e.state)return e.value}if(null!==t&&("object"==typeof t||"function"==typeof t)&&th in t&&"function"==typeof t[th])try{return t[th]()}catch(e){}switch(q(ef,t,[])){case"[object Array]":{if(t.length>=50&&function(e){let t=-1;for(let r in e){let e=Number(r);if(e!==t+1)return!0;t=e}return t+1!==e.length}(t)){let r=[];for(let i in t)ts(Number(i))||ea(r,`${i}:${e(t[i],s,a)}`);return 0!==r.length?`Object.assign(Array(${t.length}),{${et(r,",")}})`:`Array(${t.length})`}let r=et(er(t,t=>e(t,s,a)),",");return 0===t.length||t.length-1 in t?`[${r}]`:`[${r},]`}case"[object BigInt]":return`${t}n`;case"[object Boolean]":{let e=!0==t?"true":"false";return"boolean"==typeof t?e:`new Boolean(${e})`}case"[object Date]":return ts(function(e){try{return e.getTime}catch(e){return}}(t)===en?t.getTime():q(en,t,[]))?"new Date(NaN)":`new Date(${tn(function(e){try{return e.toISOString}catch(e){return}}(t)===es?t.toISOString():q(es,t,[]))})`;case"[object Map]":return`new Map(${e(Array.from(t),s,a)})`;case"[object Null]":return"null";case"[object Number]":return"number"==typeof t?tg(t):`new Number(${tg(Number(t))})`;case"[object Object]":{try{let e=t.toString;if("function"==typeof e&&e!==Object.prototype.toString)return t.toString()}catch(e){return"[object Object]"}let r=r=>`${"__proto__"===r?'["__proto__"]':"symbol"==typeof r?`[${e(r,s,a)}]`:tn(r)}:${e(t[r],s,a)}`,o="{"+et([...er(to(t),r),...er((i=tl(t),n=e=>{let r=tu(t,e);return r&&r.enumerable},function(e){try{return e.filter}catch(e){return}}(i)===Q?i.filter(n):q(Q,i,[n])),r)],",")+"}";if(null===tc(t))return"{}"===o?"Object.create(null)":`Object.assign(Object.create(null),${o})`;return o}case"[object Set]":return`new Set(${e(Array.from(t),s,a)})`;case"[object String]":return"string"==typeof t?tn(t):`new String(${tn(t)})`;case"[object Symbol]":{if(void 0!==G.keyFor(t))return`Symbol.for(${tn(G.keyFor(t))})`;let e=function(e){if(void 0!==e.description)return e.description;let t=tm.exec(V(e));return t&&t[1].length?t[1]:null}(t);if(null===e)return"Symbol()";return t===(e.startsWith("Symbol.")&&G[e.substring(7)])?e:`Symbol(${tn(e)})`}case"[object Promise]":{let r=a(t);switch(r.state){case"fulfilled":return`Promise.resolve(${e(r.value,s,a)})`;case"rejected":return`Promise.reject(${e(r.value,s,a)})`;case"pending":return"new Promise(() => {/*pending*/})";default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(t instanceof Error)return`new Error(${e(t.message,s,a)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if("function"==typeof ti&&ti(t))return`Buffer.from(${e(ta(t.values()),s,a)})`;let r=tc(t),i=r&&r.constructor&&r.constructor.name;if("string"==typeof i){let r=t.values();return`${i}.from(${e(ta(r),s,a)})`}}}try{return t.toString()}catch(e){return q(ef,t,[])}}(e,[],()=>({state:"unknown",value:void 0}))}(r=n||(n={}))[r.Success=0]="Success",r[r.Skipped=-1]="Skipped",r[r.Failure=1]="Failure";class tb{constructor(e,t){this.verbosity=e,this.interruptedAsFailure=t,this.isSuccess=()=>null==this.pathToFailure,this.firstFailure=()=>this.pathToFailure?+ed(this.pathToFailure,":")[0]:-1,this.numShrinks=()=>this.pathToFailure?ed(this.pathToFailure,":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(e,t){let r={status:e,value:t,children:[]};return this.currentLevelExecutionTrees.push(r),r}fail(e,t,r){if(this.verbosity>=i.Verbose){let t=this.appendExecutionTree(n.Failure,e);this.currentLevelExecutionTrees=t.children}null==this.pathToFailure?this.pathToFailure=`${t}`:this.pathToFailure+=`:${t}`,this.value=e,this.failure=r}skip(e){this.verbosity>=i.VeryVerbose&&this.appendExecutionTree(n.Skipped,e),null==this.pathToFailure&&++this.numSkips}success(e){this.verbosity>=i.VeryVerbose&&this.appendExecutionTree(n.Success,e),null==this.pathToFailure&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];let e=[],t=this.rootExecutionTrees;for(;t.length>0&&t[t.length-1].status===n.Failure;){let r=t[t.length-1];e.push(r.value),t=r.children}return e}toRunDetails(e,t,r,a){if(!this.isSuccess())return{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:e,counterexample:this.value,counterexamplePath:tb.mergePaths(t,this.pathToFailure),error:this.failure.errorMessage,errorInstance:this.failure.error,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:a.toParameters()};let i=this.interruptedAsFailure||0===this.numSuccesses;return{failed:this.numSkips>r||this.interrupted&&i,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:e,counterexample:null,counterexamplePath:null,error:null,errorInstance:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:a.toParameters()}}}tb.mergePaths=(e,t)=>{if(0===e.length)return t;let r=e.split(":"),a=t.split(":"),i=+r[r.length-1]+ +a[0];return[...r.slice(0,r.length-1),`${i}`,...a.slice(1)].join(":")};class tS{constructor(e){this.internalRng=e.clone()}clone(){return new tS(this.internalRng)}next(e){return e2(0,(1<<e)-1,this.internalRng)}nextBoolean(){return 1==e2(0,1,this.internalRng)}nextInt(e,t){return e2(null==e?tS.MIN_INT:e,null==t?tS.MAX_INT:t,this.internalRng)}nextBigInt(e,t){return eJ(e,t,this.internalRng)}nextArrayInt(e,t){return eH(e,t,this.internalRng)}nextDouble(){let e=this.next(26),t=this.next(27);return(e*tS.DBL_FACTOR+t)*tS.DBL_DIVISOR}getState(){if("getState"in this.internalRng&&"function"==typeof this.internalRng.getState)return this.internalRng.getState()}}tS.MIN_INT=-0x80000000,tS.MAX_INT=0x7fffffff,tS.DBL_FACTOR=0x8000000,tS.DBL_DIVISOR=11102230246251565e-32;let tv=Math.floor,tk=Math.log;function tw(e){return tv(tk(e)/tk(2))}let tE=Math.ceil,tx=Math.floor;function tI(e,t,r){let a=e-t;return new C(a>0?function*(){let i=r?void 0:t,n=r?a:tx(a/2);for(let r=n;r>0;r=tx(r/2)){let n=r===a?t:e-r;yield new _(n,i),i=n}}():function*(){let i=r?void 0:t,n=r?a:tE(a/2);for(let r=n;r<0;r=tE(r/2)){let n=r===a?t:e-r;yield new _(n,i),i=n}}())}let tT=Math.sign,tC=Number.isInteger,tR=Object.is;class tF extends D{constructor(e,t){super(),this.min=e,this.max=t}generate(e,t){let r=this.computeGenerateRange(e,t);return new _(e.nextInt(r.min,r.max),void 0)}canShrinkWithoutContext(e){return"number"==typeof e&&tC(e)&&!tR(e,-0)&&this.min<=e&&e<=this.max}shrink(e,t){return tF.isValidContext(e,t)?this.isLastChanceTry(e,t)?C.of(new _(t,void 0)):tI(e,t,!1):tI(e,this.defaultTarget(),!0)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(e,t){if(void 0===t||1!==e.nextInt(1,t))return{min:this.min,max:this.max};let r=function(e,t,r){if(e===t)return[{min:e,max:t}];if(e<0&&t>0){let a=r(-e),i=r(t);return[{min:-a,max:i},{min:t-i,max:t},{min:e,max:e+a}]}let a=r(t-e),i={min:e,max:e+a},n={min:t-a,max:t};return e<0?[n,i]:[i,n]}(this.min,this.max,tw);if(1===r.length)return r[0];let a=e.nextInt(-2*(r.length-1),r.length-2);return a<0?r[0]:r[a+1]}isLastChanceTry(e,t){return e>0?e===t+1&&e>this.min:e<0&&e===t-1&&e<this.max}static isValidContext(e,t){if(void 0===t)return!1;if("number"!=typeof t)throw Error("Invalid context type passed to IntegerArbitrary (#1)");if(0!==t&&tT(e)!==tT(t))throw Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}let tA=Number.isInteger;function tO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={min:void 0!==e.min?e.min:-0x80000000,max:void 0!==e.max?e.max:0x7fffffff};if(t.min>t.max)throw Error("fc.integer maximum value should be equal or greater than the minimum one");if(!tA(t.min))throw Error("fc.integer minimum value should be an integer");if(!tA(t.max))throw Error("fc.integer maximum value should be an integer");return new tF(t.min,t.max)}let t_=new Map;class tM{constructor(e,t,r){this.arb=e,this.mrng=t,this.biasFactor=r}attemptExact(){}next(){return this.arb.generate(this.mrng,this.biasFactor)}}let tD=Math.min,tN=Math.max;class tz{constructor(e,t,r,a){this.arb=e,this.mrng=t,this.slices=r,this.biasFactor=a,this.activeSliceIndex=0,this.nextIndexInSlice=0,this.lastIndexInSlice=-1}attemptExact(e){if(0!==e&&1===this.mrng.nextInt(1,this.biasFactor)){let t=[];for(let r=0;r!==this.slices.length;++r)this.slices[r].length===e&&ea(t,r);0!==t.length&&(this.activeSliceIndex=t[this.mrng.nextInt(0,t.length-1)],this.nextIndexInSlice=0,this.lastIndexInSlice=e-1)}}next(){if(this.nextIndexInSlice<=this.lastIndexInSlice)return new _(this.slices[this.activeSliceIndex][this.nextIndexInSlice++],void 0);if(1!==this.mrng.nextInt(1,this.biasFactor))return this.arb.generate(this.mrng,this.biasFactor);this.activeSliceIndex=this.mrng.nextInt(0,this.slices.length-1);let e=this.slices[this.activeSliceIndex];if(1!==this.mrng.nextInt(1,this.biasFactor))return this.nextIndexInSlice=1,this.lastIndexInSlice=e.length-1,new _(e[0],void 0);let t=this.mrng.nextInt(0,e.length-1),r=this.mrng.nextInt(0,e.length-1);return this.nextIndexInSlice=tD(t,r),this.lastIndexInSlice=tN(t,r),new _(e[this.nextIndexInSlice++],void 0)}}function tP(e,t,r,a){return void 0===a||0===r.length||1!==t.nextInt(1,a)?new tM(e,t,a):new tz(e,t,r,a)}let tL=Math.floor,tU=Math.log,tj=Math.max,tW=Array.isArray;function tq(e,t){return e===t?e:e+tL(tU(t-e)/tU(2))}class tB extends D{constructor(e,t,r,a,i,n,s){super(),this.arb=e,this.minLength=t,this.maxGeneratedLength=r,this.maxLength=a,this.setBuilder=n,this.customSlices=s,this.lengthArb=tO({min:t,max:r}),this.depthContext=function(e){if(void 0===e)return{depth:0};if("string"!=typeof e)return e;let t=function(e){try{return e.get}catch(e){return}}(t_)===el?t_.get(e):q(el,t_,[e]);if(void 0!==t)return t;let r={depth:0};return function(e){try{return e.set}catch(e){return}}(t_)===eo?t_.set(e,r):q(eo,t_,[e,r]),r}(i)}preFilter(e){if(void 0===this.setBuilder)return e;let t=this.setBuilder();for(let r=0;r!==e.length;++r)t.tryAdd(e[r]);return t.getData()}static makeItCloneable(e,t){return e[R]=()=>{let e=[];for(let r=0;r!==t.length;++r)ea(e,t[r].value);return this.makeItCloneable(e,t),e},e}generateNItemsNoDuplicates(e,t,r,a){let i=0,n=e(),s=tP(this.arb,r,this.customSlices,a);for(;n.size()<t&&i<this.maxGeneratedLength;){let e=s.next();n.tryAdd(e)?i=0:i+=1}return n.getData()}safeGenerateNItemsNoDuplicates(e,t,r,a){let i=tj(0,t-tq(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=i;try{return this.generateNItemsNoDuplicates(e,t,r,a)}finally{this.depthContext.depth-=i}}generateNItems(e,t,r){let a=[],i=tP(this.arb,t,this.customSlices,r);i.attemptExact(e);for(let t=0;t!==e;++t)ea(a,i.next());return a}safeGenerateNItems(e,t,r){let a=tj(0,e-tq(this.minLength,this.maxGeneratedLength));this.depthContext.depth+=a;try{return this.generateNItems(e,t,r)}finally{this.depthContext.depth-=a}}wrapper(e,t,r,a){let i=t?this.preFilter(e):e,n=!1,s=[],o=[];for(let e=0;e!==i.length;++e){let t=i[e];n=n||t.hasToBeCloned,ea(s,t.value),ea(o,t.context)}return n&&tB.makeItCloneable(s,i),new _(s,{shrunkOnce:t,lengthContext:e.length===i.length&&void 0!==r?r:void 0,itemsContexts:o,startIndex:a})}generate(e,t){let r=this.applyBias(e,t),a=r.size,i=void 0!==this.setBuilder?this.safeGenerateNItemsNoDuplicates(this.setBuilder,a,e,r.biasFactorItems):this.safeGenerateNItems(a,e,r.biasFactorItems);return this.wrapper(i,!1,void 0,0)}applyBias(e,t){if(void 0===t)return{size:this.lengthArb.generate(e,void 0).value};if(this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:t};if(1!==e.nextInt(1,t))return{size:this.lengthArb.generate(e,void 0).value};if(1!==e.nextInt(1,t)||this.minLength===this.maxGeneratedLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:t};let r=tq(this.minLength,this.maxGeneratedLength);return{size:tO({min:this.minLength,max:r}).generate(e,void 0).value,biasFactorItems:t}}canShrinkWithoutContext(e){if(!tW(e)||this.minLength>e.length||e.length>this.maxLength)return!1;for(let t=0;t!==e.length;++t)if(!(t in e)||!this.arb.canShrinkWithoutContext(e[t]))return!1;return this.preFilter(er(e,e=>new _(e,void 0))).length===e.length}shrinkItemByItem(e,t,r){let a=[];for(let i=t.startIndex;i<r;++i)ea(a,new em(()=>this.arb.shrink(e[i],t.itemsContexts[i]).map(r=>[[...er(ei(e,0,i),(e,r)=>new _(A(e),t.itemsContexts[r])),r,...er(ei(e,i+1),(e,r)=>new _(A(e),t.itemsContexts[r+i+1]))],void 0,i])));return C.nil().join(...a)}shrinkImpl(e,t){if(0===e.length)return C.nil();let r=void 0!==t?t:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[],startIndex:0};return this.lengthArb.shrink(e.length,r.lengthContext).drop(r.shrunkOnce&&void 0===r.lengthContext&&e.length>this.minLength+1?1:0).map(t=>{let a=e.length-t.value;return[er(ei(e,a),(e,t)=>new _(A(e),r.itemsContexts[t+a])),t.context,0]}).join(new em(()=>e.length>this.minLength?this.shrinkItemByItem(e,r,1):this.shrinkItemByItem(e,r,e.length))).join(e.length>this.minLength?new em(()=>{let t={shrunkOnce:!1,lengthContext:void 0,itemsContexts:ei(r.itemsContexts,1),startIndex:0};return this.shrinkImpl(ei(e,1),t).filter(e=>this.minLength<=e[0].length+1).map(t=>[[new _(A(e[0]),r.itemsContexts[0]),...t[0]],void 0,0])}):C.nil())}shrink(e,t){return this.shrinkImpl(e,t).map(e=>this.wrapper(e[0],!0,e[1],e[2]))}}let t$=Math.floor,tV=Math.min,tH=["xsmall","small","medium","large","xlarge"],tG=["-4","-3","-2","-1","=","+1","+2","+3","+4"],tK=String.fromCodePoint;function tJ(e,t,r,a){return tO({min:e,max:t}).map(e=>tK(r(e)),e=>a(function(e){if("string"!=typeof e)throw Error("Cannot unmap non-string");if(0===e.length||e.length>2)throw Error("Cannot unmap string with more or less than one character");let t=ep(e,0);if(1===e.length)return t;let r=ep(e,1);if(t<55296||t>56319||r<56320||r>57343)throw Error("Cannot unmap invalid surrogate pairs");return e.codePointAt(0)}(e)))}function tZ(e){return e}class tQ{constructor(){this.receivedLogs=[]}log(e){this.receivedLogs.push(e)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[R](){return new tQ}}tJ(0,1112063,function(e){if(e<55296)return e<95?e+32:e<=126?e-95:e;return e+2048},function(e){if(e<55296)return e>=32&&e<=126?e-32:e>=0&&e<=31?e+95:e;return e<=57343?-1:e-2048}).map(function(e){let t=H(e);return e!==t?t:`%${function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return function(e){try{return e.toString}catch(e){return}}(e)===eh?e.toString(...r):q(eh,e,r)}(ep(e,0),16)}`},function(e){if("string"!=typeof e)throw Error("Unsupported");return decodeURIComponent(e)}),new WeakMap,Object.create(null),Symbol("adapted-value");let tY=new Float64Array(1);new Uint32Array(tY.buffer,tY.byteOffset);let tX=new Float32Array(1);new Uint32Array(tX.buffer,tX.byteOffset),B.isArray,Symbol("no-key");let t0={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F",16:"G",17:"H",18:"J",19:"K",20:"M",21:"N",22:"P",23:"Q",24:"R",25:"S",26:"T",27:"V",28:"W",29:"X",30:"Y",31:"Z"};function t1(e,t){let r="";for(;e.length+r.length<t;)r+="0";return r+e}function t2(e){let t="";for(let a=e;0!==a;){var r;let e=a>>5;t=((r=a-(e<<5))<10?V(r):t0[r])+t,a=e}return t}function t3(e){return function(t){return t1(t2(~~(t/0x40000000)),e-6)+t1(t2(0x3fffffff&t),6)}}t3(10),t3(8);class t5{constructor(e,t){this.commands=e,this.metadataForReplay=t}[Symbol.iterator](){return this.commands[Symbol.iterator]()}[R](){return new t5(this.commands.map(e=>e.clone()),this.metadataForReplay)}toString(){let e=this.commands.filter(e=>e.hasRan).map(e=>e.toString()).join(","),t=this.metadataForReplay();return 0!==t.length?`${e} /*${t}*/`:e}}let t4=e=>e();class t8{constructor(e,t){this.act=e,this.taskSelector=t,this.lastTaskId=0,this.sourceTaskSelector=t.clone(),this.scheduledTasks=[],this.triggeredTasks=[],this.scheduledWatchers=[]}static buildLog(e){return`[task\${${e.taskId}}] ${0!==e.label.length?`${e.schedulingType}::${e.label}`:e.schedulingType} ${e.status}${void 0!==e.outputValue?` with value ${e.outputValue.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}`:""}`}log(e,t,r,a,i,n){this.triggeredTasks.push({status:i,schedulingType:e,taskId:t,label:r,metadata:a,outputValue:void 0!==n?ty(n):void 0})}scheduleInternal(e,t,r,a,i,n){let s=null,o=++this.lastTaskId,l=new Promise((i,l)=>{s=()=>{(n?r.then(()=>n()):r).then(r=>(this.log(e,o,t,a,"resolved",r),i(r)),r=>(this.log(e,o,t,a,"rejected",r),l(r)))}});return this.scheduledTasks.push({original:r,scheduled:l,trigger:s,schedulingType:e,taskId:o,label:t,metadata:a,customAct:i}),0!==this.scheduledWatchers.length&&this.scheduledWatchers[0](),l}schedule(e,t,r,a){return this.scheduleInternal("promise",t||"",e,r,a||t4)}scheduleFunction(e,t){var r=this;return function(){for(var a=arguments.length,i=Array(a),n=0;n<a;n++)i[n]=arguments[n];return r.scheduleInternal("function",`${e.name}(${i.map(ty).join(",")})`,e(...i),void 0,t||t4)}}scheduleSequence(e,t){let r={done:!1,faulty:!1},a={then:e=>e()},i=()=>{},n=new Promise(e=>i=e);return e.reduce((e,n)=>{let[s,o,l]="function"==typeof n?[n,n.name,void 0]:[n.builder,n.label,n.metadata];return e.then(()=>{let e=this.scheduleInternal("sequence",o,a,l,t||t4,()=>s());return e.catch(()=>{r.faulty=!0,i()}),e})},a).then(()=>{r.done=!0,i()},()=>{}),Object.assign(r,{task:Promise.resolve(n).then(()=>({done:r.done,faulty:r.faulty}))})}count(){return this.scheduledTasks.length}internalWaitOne(){if(0===this.scheduledTasks.length)throw Error("No task scheduled");let e=this.taskSelector.nextTaskIndex(this.scheduledTasks),[t]=this.scheduledTasks.splice(e,1);return t.customAct(async()=>{t.trigger();try{await t.scheduled}catch(e){}})}async waitOne(e){let t=e||t4;await this.act(()=>t(async()=>await this.internalWaitOne()))}async waitAll(e){for(;this.scheduledTasks.length>0;)await this.waitOne(e)}async waitFor(e,t){let r=!1,a=null,i=async()=>{for(;!r&&this.scheduledTasks.length>0;)await this.waitOne(t);a=null},n=()=>{null===a&&(a=Promise.resolve().then(i))},s=()=>{let e=this.scheduledWatchers.indexOf(n);-1!==e&&this.scheduledWatchers.splice(e,1),0===e&&0!==this.scheduledWatchers.length&&this.scheduledWatchers[0]()},o=e.then(e=>(r=!0,null===a)?(s(),e):a.then(()=>(s(),e)),e=>{if(r=!0,null===a)throw s(),e;return a.then(()=>{throw s(),e})});return this.scheduledTasks.length>0&&0===this.scheduledWatchers.length&&n(),this.scheduledWatchers.push(n),o}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(e=>({status:"pending",schedulingType:e.schedulingType,taskId:e.taskId,label:e.label,metadata:e.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(t8.buildLog).map(e=>`-> ${e}`).join("\n")+"`"}[R](){return new t8(this.act,this.sourceTaskSelector)}}(a=s||(s={}))[a.Full=0]="Full",a[a.Character=1]="Character",[..."abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"],[..."0123456789"],[..." 	\r\n\v\f"],[..."\r\n",..."\x1e\x15"],tJ(32,126,tZ,tZ),e.s(["__commitHash",()=>"a4a600eaa08c833707067a877db144289a724b91","__type",()=>"module","__version",()=>"3.23.2"],8739447),e.i(8739447);var t6=e.i(1150852),t9=e.i(3683485),t7=e.i(9159985),re=e.i(5015632),rt=e.i(9390854),rr=e.i(4043929),ra=e.i(4935619);let ri=(e,t)=>{switch(t._tag){case"StringKeyword":case"TemplateLiteral":return Object.keys(e);case"SymbolKeyword":return Object.getOwnPropertySymbols(e);case"Refinement":return ri(e,t.from)}},rn=e=>{let t,r=!1;return()=>(r||(t=e(),r=!0),t)},rs=e=>{try{return e.toISOString()}catch{return String(e)}},ro="[Circular]";function rl(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new WeakSet,a=t?"number"==typeof t?" ".repeat(t):t:"",i=(e,t)=>{let r=e?.constructor;return r&&r!==Object.prototype.constructor&&r.name?`${r.name}(${t})`:t};return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(Array.isArray(t)){let i,s;if(r.has(t))return ro;if(r.add(t),!a||t.length<=1)return`[${t.map(t=>e(t,n)).join(",")}]`;let o=t.map(t=>e(t,n+1)).join(",\n"+(i=n+1,a.repeat(i)));return`[
${s=n+1,a.repeat(s)}${o}
${a.repeat(n)}]`}if(ra.isDate(t))return rs(t);if(ra.hasProperty(t,"toString")&&ra.isFunction(t.toString)&&t.toString!==Object.prototype.toString)try{let e=t.toString();return"string"==typeof e?e:String(e)}catch{return"[toString threw]"}if(ra.isString(t))return JSON.stringify(t);if(ra.isNumber(t)||null==t||ra.isBoolean(t)||ra.isSymbol(t))return String(t);if(ra.isBigInt(t))return String(t)+"n";if(t instanceof Set||t instanceof Map)return r.has(t)?ro:(r.add(t),`${t.constructor.name}(${e(Array.from(t),n)})`);if(ra.isObject(t)){if(r.has(t))return ro;r.add(t);let s=(e=>{try{return Reflect.ownKeys(e)}catch{return["[ownKeys threw]"]}})(t);if(!a||s.length<=1){let r=`{${s.map(r=>`${ru(r)}:${e(t[r],n)}`).join(",")}}`;return i(t,r)}let o=`{
${s.map(r=>{let i;return`${i=n+1,a.repeat(i)}${ru(r)}: ${e(t[r],n+1)}`}).join(",\n")}
${a.repeat(n)}}`;return i(t,o)}return String(t)}(e,0)}function ru(e){return ra.isString(e)?JSON.stringify(e):String(e)}let rc=e=>`[${ru(e)}]`,rd=e=>Array.isArray(e)?e.map(rc).join(""):rc(e),rp=(e,t,r,a)=>{let i=e;return r&&o.isNonEmptyReadonlyArray(r)&&(i+=`
at path: ${rd(r)}`),void 0!==t&&(i+=`
details: ${t}`),a&&(i+=`
schema (${a._tag}): ${a}`),i},rh=(e,t,r)=>rp("Unsupported schema or overlapping types",`cannot extend ${e} with ${t}`,r),rf=e=>rp("Unsupported schema",void 0,void 0,e),rm=e=>rp("Duplicate index signature",`${e} index signature`),rg=rp("Unsupported index signature parameter","An index signature parameter type must be `string`, `symbol`, a template literal type or a refinement of the previous types"),ry=rp("Invalid element","A required element cannot follow an optional element. ts(1257)"),rb=e=>rp("Duplicate property signature transformation",`Duplicate key ${rl(e)}`),rS=e=>rp("Duplicate property signature",`Duplicate key ${rl(e)}`),rv=Symbol.for("effect/SchemaId/DateFromSelf"),rk=Symbol.for("effect/SchemaId/GreaterThan"),rw=Symbol.for("effect/SchemaId/GreaterThanOrEqualTo"),rE=Symbol.for("effect/SchemaId/LessThan"),rx=Symbol.for("effect/SchemaId/LessThanOrEqualTo"),rI=Symbol.for("effect/SchemaId/Int"),rT=Symbol.for("effect/SchemaId/NonNaN"),rC=Symbol.for("effect/SchemaId/Finite"),rR=Symbol.for("effect/SchemaId/JsonNumber"),rF=Symbol.for("effect/SchemaId/Between"),rA=Symbol.for("effect/SchemaId/GreaterThanBigint"),rO=Symbol.for("effect/SchemaId/GreaterThanOrEqualToBigint"),r_=Symbol.for("effect/SchemaId/LessThanBigint"),rM=Symbol.for("effect/SchemaId/LessThanOrEqualToBigint"),rD=Symbol.for("effect/SchemaId/BetweenBigint"),rN=Symbol.for("effect/SchemaId/MinLength"),rz=Symbol.for("effect/SchemaId/MaxLength"),rP=Symbol.for("effect/SchemaId/Length"),rL=Symbol.for("effect/SchemaId/MinItems"),rU=Symbol.for("effect/SchemaId/MaxItems"),rj=Symbol.for("effect/SchemaId/ItemsCount");var rW=e.i(6774608),rq=e.i(5921732),rB=e.i(8815901),r$=m,rV=e.i(2873450),rH=e.i(2916763),rG=e.i(6712028),rK=e.i(408695);let rJ=Symbol.for("effect/annotation/Brand"),rZ=Symbol.for("effect/annotation/SchemaId"),rQ=Symbol.for("effect/annotation/Message"),rY=Symbol.for("effect/annotation/MissingMessage"),rX=Symbol.for("effect/annotation/Identifier"),r0=Symbol.for("effect/annotation/Title"),r1=Symbol.for("effect/annotation/AutoTitle"),r2=Symbol.for("effect/annotation/Description"),r3=Symbol.for("effect/annotation/Examples"),r5=Symbol.for("effect/annotation/Default"),r4=Symbol.for("effect/annotation/JSONSchema"),r8=Symbol.for("effect/annotation/Arbitrary"),r6=Symbol.for("effect/annotation/Pretty"),r9=Symbol.for("effect/annotation/Equivalence"),r7=Symbol.for("effect/annotation/Documentation"),ae=Symbol.for("effect/annotation/Concurrency"),at=Symbol.for("effect/annotation/Batching"),ar=Symbol.for("effect/annotation/ParseIssueTitle"),aa=Symbol.for("effect/annotation/ParseOptions"),ai=Symbol.for("effect/annotation/DecodingFallback"),an=Symbol.for("effect/annotation/Surrogate"),as=Symbol.for("effect/annotation/StableFilter"),ao=(0,t9.dual)(2,(e,t)=>Object.prototype.hasOwnProperty.call(e.annotations,t)?rB.some(e.annotations[t]):rB.none()),al=ao(rJ),au=ao(rQ),ac=ao(rY),ad=ao(r0),ap=ao(r1),ah=ao(rX),af=ao(r2),am=ao(ae),ag=ao(at),ay=ao(ar),ab=ao(aa),aS=ao(ai),av=ao(an),ak=ao(as),aw=e=>rB.exists(ak(e),e=>!0===e),aE=Symbol.for("effect/annotation/JSONIdentifier"),ax=ao(aE),aI=Symbol.for("effect/schema/ParseJson");class aT{typeParameters;decodeUnknown;encodeUnknown;annotations;_tag="Declaration";constructor(e,t,r,a={}){this.typeParameters=e,this.decodeUnknown=t,this.encodeUnknown=r,this.annotations=a}toString(){return rB.getOrElse(na(this),()=>"<declaration schema>")}toJSON(){return{_tag:this._tag,typeParameters:this.typeParameters.map(e=>e.toJSON()),annotations:i1(this.annotations)}}}let aC=e=>t=>t._tag===e;class aR{literal;annotations;_tag="Literal";constructor(e,t={}){this.literal=e,this.annotations=t}toString(){return rB.getOrElse(na(this),()=>rl(this.literal))}toJSON(){return{_tag:this._tag,literal:ra.isBigInt(this.literal)?String(this.literal):this.literal,annotations:i1(this.annotations)}}}let aF=aC("Literal"),aA=new aR(null);class aO{symbol;annotations;_tag="UniqueSymbol";constructor(e,t={}){this.symbol=e,this.annotations=t}toString(){return rB.getOrElse(na(this),()=>rl(this.symbol))}toJSON(){return{_tag:this._tag,symbol:String(this.symbol),annotations:i1(this.annotations)}}}let a_=aC("UniqueSymbol"),aM=new class{annotations;_tag="UndefinedKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"undefined"}),aD=new class{annotations;_tag="VoidKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"void"}),aN=new class{annotations;_tag="NeverKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"never"}),az=aC("NeverKeyword"),aP=new class{annotations;_tag="UnknownKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"unknown"}),aL=new class{annotations;_tag="AnyKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"any"}),aU=new class{annotations;_tag="StringKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"string",[r2]:"a string"}),aj=aC("StringKeyword"),aW=new class{annotations;_tag="NumberKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"number",[r2]:"a number"}),aq=aC("NumberKeyword"),aB=new class{annotations;_tag="BooleanKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"boolean",[r2]:"a boolean"}),a$=aC("BooleanKeyword"),aV=new class{annotations;_tag="BigIntKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"bigint",[r2]:"a bigint"}),aH=new class{annotations;_tag="SymbolKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"symbol",[r2]:"a symbol"}),aG=aC("SymbolKeyword"),aK=new class{annotations;_tag="ObjectKeyword";constructor(e={}){this.annotations=e}toString(){return nt(this)}toJSON(){return{_tag:this._tag,annotations:i1(this.annotations)}}}({[r0]:"object",[r2]:"an object in the TypeScript meaning, i.e. the `object` type"});class aJ{enums;annotations;_tag="Enums";constructor(e,t={}){this.enums=e,this.annotations=t}toString(){return rB.getOrElse(na(this),()=>`<enum ${this.enums.length} value(s): ${this.enums.map(e=>{let[t,r]=e;return JSON.stringify(r)}).join(" | ")}>`)}toJSON(){return{_tag:this._tag,enums:this.enums,annotations:i1(this.annotations)}}}let aZ=aC("Enums"),aQ=e=>{switch(e._tag){case"Literal":case"NumberKeyword":case"StringKeyword":case"TemplateLiteral":return!0;case"Union":return e.types.every(aQ)}return!1},aY=e=>{switch(e._tag){case"Literal":return JSON.stringify(String(e.literal));case"StringKeyword":return"string";case"NumberKeyword":return"number";case"TemplateLiteral":return String(e);case"Union":return e.types.map(aY).join(" | ")}};class aX{literal;type;constructor(e,t){if(this.literal=t,aQ(e))this.type=e;else throw Error(rp("Unsupported template literal span",void 0,void 0,e))}toString(){return(e=>{switch(e._tag){case"Literal":return String(e.literal);case"StringKeyword":return"${string}";case"NumberKeyword":return"${number}";case"TemplateLiteral":return"${"+String(e)+"}";case"Union":return"${"+e.types.map(aY).join(" | ")+"}"}})(this.type)+this.literal}toJSON(){return{type:this.type.toJSON(),literal:this.literal}}}class a0{head;spans;annotations;_tag="TemplateLiteral";constructor(e,t,r={}){this.head=e,this.spans=t,this.annotations=r}toString(){return rB.getOrElse(na(this),()=>a1(this))}toJSON(){return{_tag:this._tag,head:this.head,spans:this.spans.map(e=>e.toJSON()),annotations:i1(this.annotations)}}}let a1=e=>"`"+e.head+e.spans.map(String).join("")+"`",a2=aC("TemplateLiteral");class a3{type;annotations;constructor(e,t={}){this.type=e,this.annotations=t}toJSON(){return{type:this.type.toJSON(),annotations:i1(this.annotations)}}toString(){return String(this.type)}}class a5 extends a3{isOptional;constructor(e,t,r={}){super(e,r),this.isOptional=t}toJSON(){return{type:this.type.toJSON(),isOptional:this.isOptional,annotations:i1(this.annotations)}}toString(){return String(this.type)+(this.isOptional?"?":"")}}let a4=e=>e.map(e=>e.type);class a8{elements;rest;isReadonly;annotations;_tag="TupleType";constructor(e,t,r,a={}){this.elements=e,this.rest=t,this.isReadonly=r,this.annotations=a;let i=!1,n=!1;for(const t of e)if(t.isOptional)i=!0;else if(i){n=!0;break}if(n||i&&t.length>1)throw Error(ry)}toString(){return rB.getOrElse(na(this),()=>a6(this))}toJSON(){return{_tag:this._tag,elements:this.elements.map(e=>e.toJSON()),rest:this.rest.map(e=>e.toJSON()),isReadonly:this.isReadonly,annotations:i1(this.annotations)}}}let a6=e=>{let t=e.elements.map(String).join(", ");return o.matchLeft(e.rest,{onEmpty:()=>`readonly [${t}]`,onNonEmpty:(r,a)=>{let i=String(r),n=i.includes(" | ")?`(${i})`:i;if(a.length>0){let r=a.map(String).join(", ");return e.elements.length>0?`readonly [${t}, ...${n}[], ${r}]`:`readonly [...${n}[], ${r}]`}return e.elements.length>0?`readonly [${t}, ...${n}[]]`:`ReadonlyArray<${i}>`}})};class a9 extends a5{name;isReadonly;constructor(e,t,r,a,i){super(t,r,i),this.name=e,this.isReadonly=a}toString(){return(this.isReadonly?"readonly ":"")+String(this.name)+(this.isOptional?"?":"")+": "+this.type}toJSON(){return{name:String(this.name),type:this.type.toJSON(),isOptional:this.isOptional,isReadonly:this.isReadonly,annotations:i1(this.annotations)}}}let a7=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return!0;case"Refinement":return a7(e.from)}return!1};class ie{type;isReadonly;parameter;constructor(e,t,r){if(this.type=t,this.isReadonly=r,a7(e))this.parameter=e;else throw Error(rg)}toString(){return(this.isReadonly?"readonly ":"")+`[x: ${this.parameter}]: ${this.type}`}toJSON(){return{parameter:this.parameter.toJSON(),type:this.type.toJSON(),isReadonly:this.isReadonly}}}class it{annotations;_tag="TypeLiteral";propertySignatures;indexSignatures;constructor(e,t,r={}){this.annotations=r;const a={};for(let t=0;t<e.length;t++){const r=e[t].name;if(Object.prototype.hasOwnProperty.call(a,r))throw Error(rS(r));a[r]=null}const i={string:!1,symbol:!1};for(let e=0;e<t.length;e++){const r=i2(t[e].parameter);if(aj(r)){if(i.string)throw Error(rm("string"));i.string=!0}else if(aG(r)){if(i.symbol)throw Error(rm("symbol"));i.symbol=!0}}this.propertySignatures=e,this.indexSignatures=t}toString(){return rB.getOrElse(na(this),()=>ia(this))}toJSON(){return{_tag:this._tag,propertySignatures:this.propertySignatures.map(e=>e.toJSON()),indexSignatures:this.indexSignatures.map(e=>e.toJSON()),annotations:i1(this.annotations)}}}let ir=e=>e.map(String).join("; "),ia=e=>{if(e.propertySignatures.length>0){let t=e.propertySignatures.map(String).join("; ");return e.indexSignatures.length>0?`{ ${t}; ${ir(e.indexSignatures)} }`:`{ ${t} }`}return e.indexSignatures.length>0?`{ ${ir(e.indexSignatures)} }`:"{}"},ii=aC("TypeLiteral"),is=o.sort(rG.mapInput(rq.Order,e=>{switch(e._tag){case"AnyKeyword":return 0;case"UnknownKeyword":return 1;case"ObjectKeyword":return 2;case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":return 3}return 4})),io={string:"StringKeyword",number:"NumberKeyword",boolean:"BooleanKeyword",bigint:"BigIntKeyword"},il=e=>o.flatMap(e,e=>ip(e)?il(e.types):[e]);class iu{types;annotations;static make=(e,t)=>id(e)?new iu(e,t):1===e.length?e[0]:aN;static unify=(e,t)=>iu.make((e=>{let t=is(e),r=[],a={},i=[];for(let e of t)switch(e._tag){case"NeverKeyword":break;case"AnyKeyword":return[aL];case"UnknownKeyword":return[aP];case"ObjectKeyword":case"UndefinedKeyword":case"VoidKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":a[e._tag]||(a[e._tag]=e,r.push(e));break;case"Literal":{let t=typeof e.literal;switch(t){case"string":case"number":case"bigint":case"boolean":a[io[t]]||i.includes(e.literal)||(i.push(e.literal),r.push(e));break;case"object":i.includes(e.literal)||(i.push(e.literal),r.push(e))}break}case"UniqueSymbol":a.SymbolKeyword||i.includes(e.symbol)||(i.push(e.symbol),r.push(e));break;case"TupleType":a.ObjectKeyword||r.push(e);break;case"TypeLiteral":0===e.propertySignatures.length&&0===e.indexSignatures.length?a["{}"]||(a["{}"]=e,r.push(e)):a.ObjectKeyword||r.push(e);break;default:r.push(e)}return r})(il(e)),t);_tag="Union";constructor(e,t={}){this.types=e,this.annotations=t}toString(){return rB.getOrElse(na(this),()=>this.types.map(String).join(" | "))}toJSON(){return{_tag:this._tag,types:this.types.map(e=>e.toJSON()),annotations:i1(this.annotations)}}}let ic=(e,t)=>e.map(t),id=e=>e.length>1,ip=aC("Union"),ih=(0,t7.globalValue)(Symbol.for("effect/Schema/AST/toJSONMemoMap"),()=>new WeakMap);class im{f;annotations;_tag="Suspend";constructor(e,t={}){this.f=e,this.annotations=t,this.f=rn(e)}toString(){return na(this).pipe(rB.orElse(()=>rB.flatMap(rB.liftThrowable(this.f)(),e=>na(e))),rB.getOrElse(()=>"<suspended schema>"))}toJSON(){let e=this.f(),t=ih.get(e);return t||(ih.set(e,{_tag:this._tag}),t={_tag:this._tag,ast:e.toJSON(),annotations:i1(this.annotations)},ih.set(e,t)),t}}class ig{from;filter;annotations;_tag="Refinement";constructor(e,t,r={}){this.from=e,this.filter=t,this.annotations=r}toString(){return ah(this).pipe(rB.getOrElse(()=>rB.match(nr(this),{onNone:()=>`{ ${this.from} | filter }`,onSome:e=>iy(this.from)?String(this.from)+" & "+e:e})))}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),annotations:i1(this.annotations)}}}let iy=aC("Refinement"),ib={};class iS{from;to;transformation;annotations;_tag="Transformation";constructor(e,t,r,a={}){this.from=e,this.to=t,this.transformation=r,this.annotations=a}toString(){return rB.getOrElse(na(this),()=>`(${String(this.from)} <-> ${String(this.to)})`)}toJSON(){return{_tag:this._tag,from:this.from.toJSON(),to:this.to.toJSON(),annotations:i1(this.annotations)}}}let iv=aC("Transformation");class ik{decode;encode;_tag="FinalTransformation";constructor(e,t){this.decode=e,this.encode=t}}let iw=new class{_tag="ComposeTransformation"};class iE{from;to;decode;encode;constructor(e,t,r,a){this.from=e,this.to=t,this.decode=r,this.encode=a}}let ix=e=>e.decode===t9.identity&&e.encode===t9.identity;class iI{propertySignatureTransformations;_tag="TypeLiteralTransformation";constructor(e){this.propertySignatureTransformations=e;const t={},r={};for(const a of e){const e=a.from;if(t[e])throw Error(rb(e));t[e]=!0;const i=a.to;if(r[i])throw Error(rb(i));r[i]=!0}}}let iT=e=>"TypeLiteralTransformation"===e._tag,iC=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),a={...e.annotations};delete a[rX];let i={...a,...t},n=av(e);return rB.isSome(n)&&(i[an]=iC(n.value,t)),r.annotations.value=i,Object.create(Object.getPrototypeOf(e),r)},iR=e=>iu.unify(i9(e)),iF=(e,t)=>{switch(e._tag){case"Literal":return rK.escape(String(e.literal));case"StringKeyword":return"[\\s\\S]*?";case"NumberKeyword":return"[+-]?\\d*\\.?\\d+(?:[Ee][+-]?\\d+)?";case"TemplateLiteral":return iO(e,t,!1);case"Union":return e.types.map(e=>iF(e,t)).join("|")}},iA=(e,t,r,a)=>{if(ip(e)){if(r&&!a)return`(?:${t})`}else if(!r||!a)return t;return`(${t})`},iO=(e,t,r)=>{let a="";if(""!==e.head){let i=rK.escape(e.head);a+=t&&r?`(${i})`:i}for(let i of e.spans){let e=iF(i.type,t);if(a+=iA(i.type,e,t,r),""!==i.literal){let e=rK.escape(i.literal);a+=t&&r?`(${e})`:e}}return a},i_=e=>RegExp(`^${iO(e,!1,!0)}$`),iM=e=>RegExp(`^${iO(e,!0,!0)}$`),iD=e=>{let t=av(e);if(rB.isSome(t))return iD(t.value);switch(e._tag){case"TypeLiteral":return e.indexSignatures.slice();case"Suspend":return iD(e.f());case"Refinement":return iD(e.from)}return[]},iN=e=>{switch(e._tag){case"TupleType":{let t=!1,r=[];for(let a of e.elements)a.isOptional&&(t=!0),r.push(a.type);return t&&r.push(aM),r=r.concat(a4(e.rest)),iu.make(r)}case"Refinement":return iN(e.from);case"Union":return iu.make(e.types.map(iN));case"Suspend":return iN(e.f())}throw Error(rf(e))},iz=(e,t)=>{let r=o.findFirst(e.propertySignatures,e=>e.name===t);if(rB.isSome(r))return r.value;if(ra.isString(t)){let r;for(let a of e.indexSignatures){let e=i2(a.parameter);switch(e._tag){case"TemplateLiteral":if(i_(e).test(t))return new a9(t,a.type,!1,!0);break;case"StringKeyword":void 0===r&&(r=new a9(t,a.type,!1,!0))}}if(r)return r}else if(ra.isSymbol(t)){for(let r of e.indexSignatures)if(aG(i2(r.parameter)))return new a9(t,r.type,!1,!0)}},iP=(e,t)=>{let r=av(e);if(rB.isSome(r))return iP(r.value,t);switch(e._tag){case"TypeLiteral":{let r=iz(e,t);if(r)return r;break}case"Union":return new a9(t,iu.make(e.types.map(e=>iP(e,t).type)),!1,!0);case"Suspend":return iP(e.f(),t);case"Refinement":return iP(e.from,t)}throw Error(rf(e))},iL=e=>{let t=av(e);if(rB.isSome(t))return iL(t.value);switch(e._tag){case"TypeLiteral":return e.propertySignatures.map(e=>e.name);case"Union":return e.types.slice(1).reduce((e,t)=>o.intersection(e,iL(t)),iL(e.types[0]));case"Suspend":return iL(e.f());case"Refinement":return iL(e.from);case"Transformation":return iL(e.to)}return[]},iU=(e,t)=>{let r=[],a=[],i=e=>{switch(e._tag){case"NeverKeyword":break;case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":case"Refinement":a.push(new ie(e,t,!0));break;case"Literal":if(ra.isString(e.literal)||ra.isNumber(e.literal))r.push(new a9(e.literal,t,!1,!0));else{let t;throw Error((t=e.literal,rp("Unsupported literal",`literal value: ${rl(t)}`)))}break;case"Enums":for(let[a,i]of e.enums)r.push(new a9(i,t,!1,!0));break;case"UniqueSymbol":r.push(new a9(e.symbol,t,!1,!0));break;case"Union":e.types.forEach(i);break;default:throw Error(rp("Unsupported key schema",void 0,void 0,e))}};return i(e),{propertySignatures:r,indexSignatures:a}},ij=(e,t)=>{let r=av(e);if(rB.isSome(r))return ij(r.value,t);switch(e._tag){case"TypeLiteral":{let r=[],a={};for(let i of e.propertySignatures)a[i.name]=null,t.includes(i.name)&&r.push(i);for(let i of t)if(!(i in a)){let t=iz(e,i);t&&r.push(t)}return new it(r,[])}case"Union":return new it(t.map(t=>iP(e,t)),[]);case"Suspend":return ij(e.f(),t);case"Refinement":return ij(e.from,t);case"Transformation":switch(e.transformation._tag){case"ComposeTransformation":return new iS(ij(e.from,t),ij(e.to,t),iw);case"TypeLiteralTransformation":{let r=[],a=[];for(let i of t){let t=e.transformation.propertySignatureTransformations.find(e=>e.to===i);t?(r.push(t),a.push(t.from)):a.push(i)}return o.isNonEmptyReadonlyArray(r)?new iS(ij(e.from,a),ij(e.to,t),new iI(r)):ij(e.from,a)}}}throw Error(rf(e))},iW=(e,t)=>{let r=iD(e);return r.length>0?(r.some(e=>aj(i2(e.parameter)))&&(r=r.filter(e=>!a2(i2(e.parameter)))),new it([],r)):ij(e,iL(e).filter(e=>!t.includes(e)))},iq=e=>iu.make([e,aM]),iB=(e,t)=>{let r=t?.exact===!0;switch(e._tag){case"TupleType":return new a8(e.elements.map(e=>new a5(r?e.type:iq(e.type),!0)),o.match(e.rest,{onEmpty:()=>e.rest,onNonEmpty:e=>[new a3(iu.make([...a4(e),aM]))]}),e.isReadonly);case"TypeLiteral":return new it(e.propertySignatures.map(e=>new a9(e.name,r?e.type:iq(e.type),!0,e.isReadonly,e.annotations)),e.indexSignatures.map(e=>new ie(e.parameter,iq(e.type),e.isReadonly)));case"Union":return iu.make(e.types.map(e=>iB(e,t)));case"Suspend":return new im(()=>iB(e.f(),t));case"Declaration":case"Refinement":throw Error(rf(e));case"Transformation":if(iT(e.transformation)&&e.transformation.propertySignatureTransformations.every(ix))return new iS(iB(e.from,t),iB(e.to,t),e.transformation);throw Error(rf(e))}return e},i$=e=>{switch(e._tag){case"TupleType":return new a8(e.elements.map(e=>new a5(e.type,!1)),e.rest,e.isReadonly);case"TypeLiteral":return new it(e.propertySignatures.map(e=>new a9(e.name,e.type,!1,e.isReadonly,e.annotations)),e.indexSignatures);case"Union":return iu.make(e.types.map(e=>i$(e)));case"Suspend":return new im(()=>i$(e.f()));case"Declaration":case"Refinement":throw Error(rf(e));case"Transformation":if(iT(e.transformation)&&e.transformation.propertySignatureTransformations.every(ix))return new iS(i$(e.from),i$(e.to),e.transformation);throw Error(rf(e))}return e},iV=e=>{switch(e._tag){case"TupleType":return!1===e.isReadonly?e:new a8(e.elements,e.rest,!1,e.annotations);case"TypeLiteral":{let t=iZ(e.propertySignatures,e=>!1===e.isReadonly?e:new a9(e.name,e.type,e.isOptional,!1,e.annotations)),r=iZ(e.indexSignatures,e=>!1===e.isReadonly?e:new ie(e.parameter,e.type,!1));return t===e.propertySignatures&&r===e.indexSignatures?e:new it(t,r,e.annotations)}case"Union":{let t=iZ(e.types,iV);return t===e.types?e:iu.make(t,e.annotations)}case"Suspend":return new im(()=>iV(e.f()),e.annotations);case"Refinement":{let t=iV(e.from);return t===e.from?e:new ig(t,e.filter,e.annotations)}case"Transformation":{let t=iV(e.from),r=iV(e.to);return t===e.from&&r===e.to?e:new iS(t,r,e.transformation,e.annotations)}}return e},iH=e=>t=>{let r;for(let a of e)Object.prototype.hasOwnProperty.call(t.annotations,a)&&(void 0===r&&(r={}),r[a]=t.annotations[a]);return r},iG=e=>t=>{let r={...t.annotations};for(let t of e)delete r[t];return r},iK=iH([r3,r5,r4,r8,r6,r9]),iJ=e=>{switch(e._tag){case"Declaration":{let t=iZ(e.typeParameters,iJ);return t===e.typeParameters?e:new aT(t,e.decodeUnknown,e.encodeUnknown,e.annotations)}case"TupleType":{let t=iZ(e.elements,e=>{let t=iJ(e.type);return t===e.type?e:new a5(t,e.isOptional)}),r=a4(e.rest),a=iZ(r,iJ);return t===e.elements&&a===r?e:new a8(t,a.map(e=>new a3(e)),e.isReadonly,e.annotations)}case"TypeLiteral":{let t=iZ(e.propertySignatures,e=>{let t=iJ(e.type);return t===e.type?e:new a9(e.name,t,e.isOptional,e.isReadonly)}),r=iZ(e.indexSignatures,e=>{let t=iJ(e.type);return t===e.type?e:new ie(e.parameter,t,e.isReadonly)});return t===e.propertySignatures&&r===e.indexSignatures?e:new it(t,r,e.annotations)}case"Union":{let t=iZ(e.types,iJ);return t===e.types?e:iu.make(t,e.annotations)}case"Suspend":return new im(()=>iJ(e.f()),e.annotations);case"Refinement":{let t=iJ(e.from);return t===e.from?e:new ig(t,e.filter,e.annotations)}case"Transformation":{let t=iK(e);return iJ(void 0!==t?iC(e.to,t):e.to)}}return e};function iZ(e,t){let r=!1,a=o.allocate(e.length);for(let i=0;i<e.length;i++){let n=e[i],s=t(n);s!==n&&(r=!0),a[i]=s}return r?a:e}let iQ=e=>{switch(e._tag){case"Transformation":return e.from;case"Refinement":return iQ(e.from);case"Suspend":return iQ(e.f())}},iY=(e,t)=>{switch(e._tag){case"Declaration":{let r=iZ(e.typeParameters,e=>iY(e,t));return r===e.typeParameters?e:new aT(r,e.decodeUnknown,e.encodeUnknown)}case"TupleType":{let r=iZ(e.elements,e=>{let r=iY(e.type,t);return r===e.type?e:new a5(r,e.isOptional)}),a=a4(e.rest),i=iZ(a,e=>iY(e,t));return r===e.elements&&i===a?e:new a8(r,i.map(e=>new a3(e)),e.isReadonly)}case"TypeLiteral":{let r=iZ(e.propertySignatures,e=>{let r=iY(e.type,t);return r===e.type?e:new a9(e.name,r,e.isOptional,e.isReadonly)}),a=iZ(e.indexSignatures,e=>{let r=iY(e.type,t);return r===e.type?e:new ie(e.parameter,r,e.isReadonly)});return r===e.propertySignatures&&a===e.indexSignatures?e:new it(r,a)}case"Union":{let r=iZ(e.types,e=>iY(e,t));return r===e.types?e:iu.make(r)}case"Suspend":{let r,a=rB.orElse(ax(e),()=>ah(e));if(rB.isSome(a)){let e=t?"Bound":"";r={[aE]:`${a.value}Encoded${e}`}}return new im(()=>iY(e.f(),t),r)}case"Refinement":{let r=iY(e.from,t);if(!t)return r;if(r===e.from)return e;if(void 0===iQ(e.from)&&aw(e))return new ig(r,e.filter,e.annotations);return r}case"Transformation":return iY(e.from,t)}return e},iX=e=>iY(e,!1),i0=e=>iY(e,!0),i1=e=>{let t={};for(let r of Object.getOwnPropertySymbols(e))t[String(r)]=e[r];return t},i2=e=>{switch(e._tag){case"StringKeyword":case"SymbolKeyword":case"TemplateLiteral":return e;case"Refinement":return i2(e.from)}},i3=(e,t)=>{switch(e._tag){case"Literal":return aF(t)&&t.literal===e.literal;case"UniqueSymbol":return a_(t)&&t.symbol===e.symbol;case"UndefinedKeyword":case"VoidKeyword":case"NeverKeyword":case"UnknownKeyword":case"AnyKeyword":case"StringKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"SymbolKeyword":case"ObjectKeyword":return t._tag===e._tag;case"TemplateLiteral":return a2(t)&&t.head===e.head&&i5(t.spans,e.spans);case"Enums":return aZ(t)&&i4(t.enums,e.enums);case"Union":return ip(t)&&i8(e.types,t.types);case"Refinement":case"TupleType":case"TypeLiteral":case"Suspend":case"Transformation":case"Declaration":return e===t}},i5=o.getEquivalence((e,t)=>e.literal===t.literal&&i3(e.type,t.type)),i4=o.getEquivalence((e,t)=>t[0]===e[0]&&t[1]===e[1]),i8=o.getEquivalence(i3),i6=o.intersectionWith(i3),i9=e=>{switch(e._tag){case"Declaration":{let t=av(e);if(rB.isSome(t))return i9(t.value);break}case"TypeLiteral":return e.propertySignatures.map(e=>ra.isSymbol(e.name)?new aO(e.name):new aR(e.name)).concat(e.indexSignatures.map(e=>i2(e.parameter)));case"Suspend":return i9(e.f());case"Union":return e.types.slice(1).reduce((e,t)=>i6(e,i9(t)),i9(e.types[0]));case"Transformation":return i9(e.to)}throw Error(rf(e))},i7=(e,t)=>new iS(e,t,iw),ne=(e,t)=>{switch(e._tag){case"TypeLiteral":{let r=[];for(let e of Reflect.ownKeys(t)){let a=t[e];void 0!==a&&r.push(new iE(e,a,t9.identity,t9.identity))}if(0===r.length)return e;return new iS(e,new it(e.propertySignatures.map(e=>{let r=t[e.name];return new a9(void 0===r?e.name:r,iJ(e.type),e.isOptional,e.isReadonly,e.annotations)}),e.indexSignatures),new iI(r))}case"Union":return iu.make(e.types.map(e=>ne(e,t)));case"Suspend":return new im(()=>ne(e.f(),t));case"Transformation":return i7(e,ne(iJ(e),t))}throw Error(rp("Unsupported schema",void 0,void 0,e))},nt=e=>rB.getOrElse(na(e),()=>e._tag),nr=e=>ad(e).pipe(rB.orElse(()=>af(e)),rB.orElse(()=>ap(e)),rB.map(t=>t+rB.match(al(e),{onNone:()=>"",onSome:e=>e.map(e=>` & Brand<${rl(e)}>`).join("")}))),na=e=>rB.orElse(ah(e),()=>nr(e)),ni=(e,t,r)=>{switch(e._tag){case"UndefinedKeyword":return aN;case"Union":{let r=[],a=!1;for(let i of e.types){let e=t(i);e?(a=!0,az(e)||r.push(e)):r.push(i)}if(a)return iu.make(r);break}case"Suspend":return t(e.f());case"Transformation":return r(e)}};e.s(["ArbitraryAnnotationId",0,r8,"AutoTitleAnnotationId",0,r1,"BatchingAnnotationId",0,at,"BrandAnnotationId",0,rJ,"ConcurrencyAnnotationId",0,ae,"Declaration",()=>aT,"DecodingFallbackAnnotationId",0,ai,"DefaultAnnotationId",0,r5,"DescriptionAnnotationId",0,r2,"DocumentationAnnotationId",0,r7,"Enums",()=>aJ,"EquivalenceAnnotationId",0,r9,"ExamplesAnnotationId",0,r3,"FinalTransformation",()=>ik,"IdentifierAnnotationId",0,rX,"IndexSignature",()=>ie,"JSONIdentifierAnnotationId",0,aE,"JSONSchemaAnnotationId",0,r4,"Literal",()=>aR,"MessageAnnotationId",0,rQ,"MissingMessageAnnotationId",0,rY,"OptionalType",()=>a5,"ParseIssueTitleAnnotationId",0,ar,"ParseJsonSchemaId",0,aI,"ParseOptionsAnnotationId",0,aa,"PrettyAnnotationId",0,r6,"PropertySignature",()=>a9,"PropertySignatureTransformation",()=>iE,"Refinement",()=>ig,"SchemaIdAnnotationId",0,rZ,"StableFilterAnnotationId",0,as,"SurrogateAnnotationId",0,an,"Suspend",()=>im,"TemplateLiteral",()=>a0,"TemplateLiteralSpan",()=>aX,"TitleAnnotationId",0,r0,"Transformation",()=>iS,"TupleType",()=>a8,"Type",()=>a3,"TypeLiteral",()=>it,"TypeLiteralTransformation",()=>iI,"Union",()=>iu,"UniqueSymbol",()=>aO,"annotations",0,iC,"anyKeyword",0,aL,"bigIntKeyword",0,aV,"booleanKeyword",0,aB,"compose",0,i7,"composeTransformation",0,iw,"defaultParseOption",0,ib,"encodedAST",0,iX,"encodedBoundAST",0,i0,"getAnnotation",0,ao,"getAutoTitleAnnotation",0,ap,"getBatchingAnnotation",0,ag,"getBrandAnnotation",0,al,"getConcurrencyAnnotation",0,am,"getDecodingFallbackAnnotation",0,aS,"getDescriptionAnnotation",0,af,"getEncodedParameter",0,i2,"getIdentifierAnnotation",0,ah,"getMessageAnnotation",0,au,"getMissingMessageAnnotation",0,ac,"getNumberIndexedAccess",0,iN,"getParseIssueTitleAnnotation",0,ay,"getParseOptionsAnnotation",0,ab,"getPropertyKeyIndexedAccess",0,iP,"getSurrogateAnnotation",0,av,"getTemplateLiteralCapturingRegExp",0,iM,"getTemplateLiteralRegExp",0,i_,"getTitleAnnotation",0,ad,"hasStableFilter",0,aw,"isBooleanKeyword",0,a$,"isLiteral",0,aF,"isMembers",0,id,"isNumberKeyword",0,aq,"isRefinement",0,iy,"isStringKeyword",0,aj,"isSymbolKeyword",0,aG,"isTransformation",0,iv,"isTypeLiteral",0,ii,"isTypeLiteralTransformation",0,iT,"isUnion",0,ip,"keyof",0,iR,"mapMembers",0,ic,"mutable",0,iV,"neverKeyword",0,aN,"null",()=>aA,"numberKeyword",0,aW,"objectKeyword",0,aK,"omit",0,iW,"omitAnnotations",0,iG,"orUndefined",0,iq,"partial",0,iB,"pick",0,ij,"pickAnnotations",0,iH,"pruneUndefined",0,ni,"record",0,iU,"rename",0,ne,"required",0,i$,"stringKeyword",0,aU,"symbolKeyword",0,aH,"typeAST",0,iJ,"undefinedKeyword",0,aM,"unknownKeyword",0,aP,"voidKeyword",0,aD],1932814);class nn{path;actual;issue;_tag="Pointer";constructor(e,t,r){this.path=e,this.actual=t,this.issue=r}}class ns{actual;message;_tag="Unexpected";constructor(e,t){this.actual=e,this.message=t}}class no{ast;message;_tag="Missing";actual=void 0;constructor(e,t){this.ast=e,this.message=t}}class nl{ast;actual;issues;output;_tag="Composite";constructor(e,t,r,a){this.ast=e,this.actual=t,this.issues=r,this.output=a}}class nu{ast;actual;kind;issue;_tag="Refinement";constructor(e,t,r,a){this.ast=e,this.actual=t,this.kind=r,this.issue=a}}class nc{ast;actual;kind;issue;_tag="Transformation";constructor(e,t,r,a){this.ast=e,this.actual=t,this.kind=r,this.issue=a}}class nd{ast;actual;message;_tag="Type";constructor(e,t,r){this.ast=e,this.actual=t,this.message=r}}class np{ast;actual;message;_tag="Forbidden";constructor(e,t,r){this.ast=e,this.actual=t,this.message=r}}let nh=Symbol.for("effect/Schema/ParseErrorTypeId");class nf extends(0,r$.TaggedError)("ParseError"){[nh]=nh;get message(){return this.toString()}toString(){return n8.formatIssueSync(this.issue)}toJSON(){return{_id:"ParseError",message:this.toString()}}[rV.NodeInspectSymbol](){return this.toJSON()}}let nm=e=>new nf({issue:e}),ng=S.right,ny=S.left,nb=S.try,nS=S.fromOption,nv=S.isEither,nk=(0,t9.dual)(2,(e,t)=>nv(e)?S.match(e,{onLeft:S.left,onRight:t}):b.flatMap(e,t)),nw=(0,t9.dual)(2,(e,t)=>nv(e)?S.map(e,t):b.map(e,t)),nE=(0,t9.dual)(2,(e,t)=>nv(e)?S.mapLeft(e,t):b.mapError(e,t)),nx=(0,t9.dual)(2,(e,t)=>nv(e)?S.mapBoth(e,{onLeft:t.onFailure,onRight:t.onSuccess}):b.mapBoth(e,t)),nI=(0,t9.dual)(2,(e,t)=>nv(e)?S.match(e,{onLeft:t,onRight:S.right}):b.catchAll(e,t)),nT=(e,t)=>void 0===t||ra.isNumber(t)?e:void 0===e?t:{...e,...t},nC=(e,t,r)=>{let a=nG(e,t);return(e,t)=>a(e,nT(r,t))},nR=(e,t,r)=>{let a=nC(e,t,r);return(e,t)=>S.getOrThrowWith(a(e,t),nm)},nF=(e,t,r)=>{let a=nC(e,t,r);return(e,t)=>rB.getRight(a(e,t))},nA=(e,t,r)=>{let a=nG(e,t);return(e,t)=>a(e,{...nT(r,t),isEffectAllowed:!0})},nO=(e,t)=>nR(e.ast,!0,t),n_=(e,t)=>nF(e.ast,!0,t),nM=(e,t)=>nC(e.ast,!0,t),nD=(e,t)=>{let r=nN(e,t);return(e,t)=>b.runPromise(r(e,t))},nN=(e,t)=>nA(e.ast,!0,t),nz=(e,t)=>nR(e.ast,!1,t),nP=(e,t)=>nF(e.ast,!1,t),nL=(e,t)=>nC(e.ast,!1,t),nU=(e,t)=>{let r=nj(e,t);return(e,t)=>b.runPromise(r(e,t))},nj=(e,t)=>nA(e.ast,!1,t),nW=(e,t)=>nR(iJ(e.ast),!0,t),nq=(e,t)=>nC(iJ(e.ast),!0,t),nB=(e,t)=>nA(iJ(e.ast),!0,t),n$=(e,t)=>{let r=nG(iJ(e.ast),!0);return(e,a)=>S.isRight(r(e,{exact:!0,...nT(t,a)}))},nV=(0,t7.globalValue)(Symbol.for("effect/ParseResult/decodeMemoMap"),()=>new WeakMap),nH=(0,t7.globalValue)(Symbol.for("effect/ParseResult/encodeMemoMap"),()=>new WeakMap),nG=(e,t)=>{let r=t?nV:nH,a=r.get(e);if(a)return a;let i=nZ(e,t),n=ab(e),s=rB.isSome(n)?(e,t)=>i(e,nT(t,n.value)):i,o=aS(e),l=t&&rB.isSome(o)?(t,r)=>n1(nI(s(t,r),o.value),e,t,r):s;return r.set(e,l),l},nK=e=>rB.getOrUndefined(am(e)),nJ=e=>rB.getOrUndefined(ag(e)),nZ=(e,t)=>{switch(e._tag){case"Refinement":if(t){let t=nG(e.from,!0);return(r,a)=>{a=a??ib;let i=a?.errors==="all";return n1(nk(nI(t(r,a),t=>{let n=new nu(e,r,"From",t);return i&&aw(e)&&sr(t)?rB.match(e.filter(r,a,e),{onNone:()=>S.left(n),onSome:t=>S.left(new nl(e,r,[n,new nu(e,r,"Predicate",t)]))}):S.left(n)}),t=>rB.match(e.filter(t,a,e),{onNone:()=>S.right(t),onSome:t=>S.left(new nu(e,r,"Predicate",t))})),e,r,a)}}{let t=nG(iJ(e),!0),r=nG(n0(e.from),!1);return(a,i)=>n1(nk(t(a,i),e=>r(e,i)),e,a,i)}case"Transformation":{let r=n5(e.transformation,t),a=t?nG(e.from,!0):nG(e.to,!1),i=t?nG(e.to,!0):nG(e.from,!1);return(n,s)=>n1(nk(nE(a(n,s),r=>new nc(e,n,t?"Encoded":"Type",r)),a=>nk(nE(r(a,s??ib,e,n),t=>new nc(e,n,"Transformation",t)),r=>nE(i(r,s),r=>new nc(e,n,t?"Type":"Encoded",r)))),e,n,s)}case"Declaration":{let r=t?e.decodeUnknown(...e.typeParameters):e.encodeUnknown(...e.typeParameters);return(t,a)=>n1(r(t,a??ib,e),e,t,a)}case"Literal":return nQ(e,t=>t===e.literal);case"UniqueSymbol":return nQ(e,t=>t===e.symbol);case"UndefinedKeyword":return nQ(e,ra.isUndefined);case"NeverKeyword":return nQ(e,ra.isNever);case"UnknownKeyword":case"AnyKeyword":case"VoidKeyword":return S.right;case"StringKeyword":return nQ(e,ra.isString);case"NumberKeyword":return nQ(e,ra.isNumber);case"BooleanKeyword":return nQ(e,ra.isBoolean);case"BigIntKeyword":return nQ(e,ra.isBigInt);case"SymbolKeyword":return nQ(e,ra.isSymbol);case"ObjectKeyword":return nQ(e,ra.isObject);case"Enums":return nQ(e,t=>e.enums.some(e=>{let[r,a]=e;return a===t}));case"TemplateLiteral":{let t=i_(e);return nQ(e,e=>ra.isString(e)&&t.test(e))}case"TupleType":{let r=e.elements.map(e=>nG(e.type,t)),a=e.rest.map(e=>nG(e.type,t)),i=e.elements.filter(e=>!e.isOptional);e.rest.length>0&&(i=i.concat(e.rest.slice(1)));let n=i.length,s=e.elements.length>0?e.elements.map((e,t)=>t).join(" | "):"never",l=nK(e),u=nJ(e);return(t,c)=>{let d;if(!o.isArray(t))return S.left(new nd(e,t));let p=c?.errors==="all",h=[],f=0,m=[],g=t.length;for(let r=g;r<=n-1;r++){let a=new nn(r,t,new no(i[r-g]));if(!p)return S.left(new nl(e,t,a,m));h.push([f++,a])}if(0===e.rest.length)for(let r=e.elements.length;r<=g-1;r++){let a=new nn(r,t,new ns(t[r],`is unexpected, expected: ${s}`));if(!p)return S.left(new nl(e,t,a,m));h.push([f++,a])}let y=0;for(;y<r.length;y++)if(g<y+1){if(e.elements[y].isOptional)continue}else{let a=(0,r[y])(t[y],c);if(nv(a)){if(S.isLeft(a)){let r=new nn(y,t,a.left);if(!p)return S.left(new nl(e,t,r,n3(m)));h.push([f++,r]);continue}m.push([f++,a.right])}else{let r=f++,i=y;d||(d=[]),d.push(n=>{let{es:s,output:o}=n;return b.flatMap(b.either(a),a=>{if(S.isLeft(a)){let n=new nn(i,t,a.left);return p?(s.push([r,n]),b.void):S.left(new nl(e,t,n,n3(o)))}return o.push([r,a.right]),b.void})})}}if(o.isNonEmptyReadonlyArray(a)){let[r,...i]=a;for(;y<g-i.length;y++){let a=r(t[y],c);if(nv(a))if(S.isLeft(a)){let r=new nn(y,t,a.left);if(!p)return S.left(new nl(e,t,r,n3(m)));h.push([f++,r]);continue}else m.push([f++,a.right]);else{let r=f++,i=y;d||(d=[]),d.push(n=>{let{es:s,output:o}=n;return b.flatMap(b.either(a),a=>{if(!S.isLeft(a))return o.push([r,a.right]),b.void;{let n=new nn(i,t,a.left);return p?(s.push([r,n]),b.void):S.left(new nl(e,t,n,n3(o)))}})})}}for(let r=0;r<i.length;r++)if(!(g<(y+=r)+1)){let a=i[r](t[y],c);if(nv(a)){if(S.isLeft(a)){let r=new nn(y,t,a.left);if(!p)return S.left(new nl(e,t,r,n3(m)));h.push([f++,r]);continue}m.push([f++,a.right])}else{let r=f++,i=y;d||(d=[]),d.push(n=>{let{es:s,output:o}=n;return b.flatMap(b.either(a),a=>{if(S.isLeft(a)){let n=new nn(i,t,a.left);return p?(s.push([r,n]),b.void):S.left(new nl(e,t,n,n3(o)))}return o.push([r,a.right]),b.void})})}}}let v=r=>{let{es:a,output:i}=r;return o.isNonEmptyArray(a)?S.left(new nl(e,t,n3(a),n3(i))):S.right(n3(i))};if(d&&d.length>0){let e=d;return b.suspend(()=>{let t={es:o.copy(h),output:o.copy(m)};return b.flatMap(b.forEach(e,e=>e(t),{concurrency:l,batching:u,discard:!0}),()=>v(t))})}return v({output:m,es:h})}}case"TypeLiteral":{if(0===e.propertySignatures.length&&0===e.indexSignatures.length)return nQ(e,ra.isNotNullable);let r=[],a={},i=[];for(let n of e.propertySignatures)r.push([nG(n.type,t),n]),a[n.name]=null,i.push(n.name);let n=e.indexSignatures.map(e=>[nG(e.parameter,t),nG(e.type,t),e.parameter]),s=iu.make(e.indexSignatures.map(e=>e.parameter).concat(i.map(e=>ra.isSymbol(e)?new aO(e):new aR(e)))),l=nG(s,t),u=nK(e),c=nJ(e);return(t,d)=>{let p,h;if(!ra.isRecord(t))return S.left(new nd(e,t));let f=d?.errors==="all",m=[],g=0,y=d?.onExcessProperty==="error",v=d?.onExcessProperty==="preserve",k={};if(y||v)for(let r of p=Reflect.ownKeys(t)){let a=l(r,d);if(nv(a)&&S.isLeft(a))if(y){let a=new nn(r,t,new ns(t[r],`is unexpected, expected: ${String(s)}`));if(!f)return S.left(new nl(e,t,a,k));m.push([g++,a]);continue}else k[r]=t[r]}let w=d?.exact===!0;for(let a=0;a<r.length;a++){let i=r[a][1],n=i.name,s=Object.prototype.hasOwnProperty.call(t,n);if(!s){if(i.isOptional)continue;else if(w){let r=new nn(n,t,new no(i));if(!f)return S.left(new nl(e,t,r,k));m.push([g++,r]);continue}}let o=(0,r[a][0])(t[n],d);if(nv(o)){if(S.isLeft(o)){let r=new nn(n,t,s?o.left:new no(i));if(!f)return S.left(new nl(e,t,r,k));m.push([g++,r]);continue}k[n]=o.right}else{let r=g++;h||(h=[]),h.push(a=>{let{es:l,output:u}=a;return b.flatMap(b.either(o),a=>{if(S.isLeft(a)){let o=new nn(n,t,s?a.left:new no(i));return f?(l.push([r,o]),b.void):S.left(new nl(e,t,o,u))}return u[n]=a.right,b.void})})}}for(let r=0;r<n.length;r++){let i=n[r],s=i[0],o=i[1];for(let r of ri(t,i[2])){let i=s(r,d);if(nv(i)&&S.isRight(i)){let i=o(t[r],d);if(nv(i))if(S.isLeft(i)){let a=new nn(r,t,i.left);if(!f)return S.left(new nl(e,t,a,k));m.push([g++,a]);continue}else Object.prototype.hasOwnProperty.call(a,r)||(k[r]=i.right);else{let n=g++,s=r;h||(h=[]),h.push(o=>{let{es:l,output:u}=o;return b.flatMap(b.either(i),i=>{if(!S.isLeft(i))return Object.prototype.hasOwnProperty.call(a,r)||(u[r]=i.right),b.void;{let r=new nn(s,t,i.left);return f?(l.push([n,r]),b.void):S.left(new nl(e,t,r,u))}})})}}}}let E=r=>{let{es:a,output:n}=r;if(o.isNonEmptyArray(a))return S.left(new nl(e,t,n3(a),n));if(d?.propertyOrder==="original"){let e=p||Reflect.ownKeys(t);for(let t of i)-1===e.indexOf(t)&&e.push(t);let r={};for(let t of e)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t]);return S.right(r)}return S.right(n)};if(h&&h.length>0){let e=h;return b.suspend(()=>{let t={es:o.copy(m),output:Object.assign({},k)};return b.flatMap(b.forEach(e,e=>e(t),{concurrency:u,batching:c,discard:!0}),()=>E(t))})}return E({es:m,output:k})}}case"Union":{let r=nX(e.types,t),a=Reflect.ownKeys(r.keys),i=a.length,n=e.types.length,s=new Map;for(let r=0;r<n;r++)s.set(e.types[r],nG(e.types[r],t));let l=nK(e)??1,u=nJ(e);return(t,c)=>{let d,p=[],h=0,f=[];if(i>0)if(ra.isRecordOrArray(t))for(let e=0;e<i;e++){let i=a[e],s=r.keys[i].buckets;if(Object.prototype.hasOwnProperty.call(t,i)){let e=String(t[i]);if(Object.prototype.hasOwnProperty.call(s,e))f=f.concat(s[e]);else{let{candidates:e,literals:a}=r.keys[i],s=iu.make(a),o=e.length===n?new it([new a9(i,s,!1,!0)],[]):iu.make(e);p.push([h++,new nl(o,t,new nn(i,t,new nd(s,t[i])))])}}else{let{candidates:e,literals:a}=r.keys[i],s=new a9(i,iu.make(a),!1,!0),o=e.length===n?new it([s],[]):iu.make(e);p.push([h++,new nl(o,t,new nn(i,t,new no(s)))])}}else{let a=r.candidates.length===n?e:iu.make(r.candidates);p.push([h++,new nd(a,t)])}r.otherwise.length>0&&(f=f.concat(r.otherwise));for(let e=0;e<f.length;e++){let r=f[e],a=s.get(r)(t,c);if(nv(a)&&(!d||0===d.length))if(S.isRight(a))return a;else p.push([h++,a.left]);else{let e=h++;d||(d=[]),d.push(t=>b.suspend(()=>"finalResult"in t?b.void:b.flatMap(b.either(a),r=>(S.isRight(r)?t.finalResult=r:t.es.push([e,r.left]),b.void))))}}let m=r=>o.isNonEmptyArray(r)?1===r.length&&"Type"===r[0][1]._tag?S.left(r[0][1]):S.left(new nl(e,t,n3(r))):S.left(new nd(e,t));if(d&&d.length>0){let e=d;return b.suspend(()=>{let t={es:o.copy(p)};return b.flatMap(b.forEach(e,e=>e(t),{concurrency:l,batching:u,discard:!0}),()=>"finalResult"in t?t.finalResult:m(t.es))})}return m(p)}}case"Suspend":{let r=rn(()=>nG(e.f(),t));return(e,t)=>r()(e,t)}}},nQ=(e,t)=>r=>t(r)?S.right(r):S.left(new nd(e,r)),nY=(e,t)=>{switch(e._tag){case"Declaration":{let r=av(e);if(rB.isSome(r))return nY(r.value,t);break}case"TypeLiteral":{let r=[];for(let a=0;a<e.propertySignatures.length;a++){let i=e.propertySignatures[a],n=t?iX(i.type):iJ(i.type);aF(n)&&!i.isOptional&&r.push([i.name,n])}return r}case"TupleType":{let r=[];for(let a=0;a<e.elements.length;a++){let i=e.elements[a],n=t?iX(i.type):iJ(i.type);aF(n)&&!i.isOptional&&r.push([a,n])}return r}case"Refinement":return nY(e.from,t);case"Suspend":return nY(e.f(),t);case"Transformation":return nY(t?e.from:e.to,t)}return[]},nX=(e,t)=>{let r={},a=[],i=[];for(let n=0;n<e.length;n++){let s=e[n],o=nY(s,t);if(o.length>0){i.push(s);for(let e=0;e<o.length;e++){let[t,a]=o[e],i=String(a.literal);r[t]=r[t]||{buckets:{},literals:[],candidates:[]};let n=r[t].buckets;if(Object.prototype.hasOwnProperty.call(n,i)){if(e<o.length-1)continue;n[i].push(s),r[t].literals.push(a),r[t].candidates.push(s)}else{n[i]=[s],r[t].literals.push(a),r[t].candidates.push(s);break}}}else a.push(s)}return{keys:r,otherwise:a,candidates:i}},n0=e=>iy(e)?n0(e.from):e,n1=(e,t,r,a)=>{if(a?.isEffectAllowed===!0||nv(e))return e;let i=new rH.SyncScheduler,n=b.runFork(e,{scheduler:i});i.flush();let s=n.unsafePoll();if(s){if(E.isSuccess(s))return S.right(s.value);let e=s.cause;return d.isFailType(e)?S.left(e.error):S.left(new np(t,r,d.pretty(e)))}return S.left(new np(t,r,"cannot be be resolved synchronously, this is caused by using runSync on an effect that performs async work"))},n2=(e,t)=>{let[r]=e,[a]=t;return r>a?1:r<a?-1:0};function n3(e){return e.sort(n2).map(e=>e[1])}let n5=(e,t)=>{switch(e._tag){case"FinalTransformation":return t?e.decode:e.encode;case"ComposeTransformation":return S.right;case"TypeLiteralTransformation":return r=>{let a=S.right(r);for(let r of e.propertySignatureTransformations){let[e,i]=t?[r.from,r.to]:[r.to,r.from],n=t?r.decode:r.encode;a=nw(a,t=>{let r=n(Object.prototype.hasOwnProperty.call(t,e)?rB.some(t[e]):rB.none());return delete t[e],rB.isSome(r)&&(t[i]=r.value),t})}return a}}},n4=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return{value:e,forest:t}},n8={formatIssue:e=>nw(sd(e),n6),formatIssueSync:e=>{let t=n8.formatIssue(e);return nv(t)?S.getOrThrow(t):b.runSync(t)},formatError:e=>n8.formatIssue(e.issue),formatErrorSync:e=>n8.formatIssueSync(e.issue)},n6=e=>e.value+n9("\n",e.forest),n9=(e,t)=>{let r,a="",i=t.length;for(let n=0;n<i;n++){r=t[n];let s=n===i-1;a+=e+(s?"":"")+" "+r.value,a+=n9(e+(i>1&&!s?"  ":"   "),r.forest)}return a},n7=e=>"ast"in e?rB.some(e.ast):rB.none(),se=S.right(void 0),st=e=>t=>t._tag===e,sr=st("Composite"),sa=st("Refinement"),si=st("Transformation"),sn=e=>nk(n7(e).pipe(rB.flatMap(au),rB.match({onNone:()=>se,onSome:t=>{let r=t(e);return ra.isString(r)?S.right({message:r,override:!1}):b.isEffect(r)?b.map(r,e=>({message:e,override:!1})):ra.isString(r.message)?S.right({message:r.message,override:r.override}):b.map(r.message,e=>({message:e,override:r.override}))}})),t=>void 0!==t?!t.override&&(sr(e)||sa(e)&&"From"===e.kind||si(e)&&"Transformation"!==e.kind)?si(e)||sa(e)?sn(e.issue):se:S.right(t.message):se),ss=e=>n7(e).pipe(rB.flatMap(ay),rB.flatMapNullable(t=>t(e)),rB.getOrUndefined);function so(e){return af(e).pipe(rB.orElse(()=>ad(e)),rB.orElse(()=>ap(e)),rB.orElse(()=>ah(e)),rB.getOrElse(()=>`{ ${e.from} | filter }`))}let sl=e=>nw(sn(e),t=>t??ss(e)??function(e){if(void 0!==e.message)return e.message;let t=iy(e.ast)?so(e.ast):String(e.ast);return`Expected ${t}, actual ${rl(e.actual)}`}(e)),su=e=>ss(e)??String(e.ast),sc=e=>{let t=ac(e.ast);if(rB.isSome(t)){let e=t.value();return ra.isString(e)?S.right(e):e}return S.right(e.message??"is missing")},sd=e=>{switch(e._tag){case"Type":return nw(sl(e),n4);case"Forbidden":return S.right(n4(su(e),[n4(e.message??"is forbidden")]));case"Unexpected":return S.right(n4(e.message??"is unexpected"));case"Missing":return nw(sc(e),n4);case"Transformation":return nk(sn(e),t=>void 0!==t?S.right(n4(t)):nw(sd(e.issue),t=>n4(su(e),[n4((e=>{switch(e){case"Encoded":return"Encoded side transformation failure";case"Transformation":return"Transformation process failure";case"Type":return"Type side transformation failure"}})(e.kind),[t])])));case"Refinement":return nk(sn(e),t=>void 0!==t?S.right(n4(t)):nw(sd(e.issue),t=>n4(su(e),[n4((e=>{switch(e){case"From":return"From side refinement failure";case"Predicate":return"Predicate refinement failure"}})(e.kind),[t])])));case"Pointer":return nw(sd(e.issue),t=>n4(rd(e.path),[t]));case"Composite":return nk(sn(e),t=>{if(void 0!==t)return S.right(n4(t));let r=su(e);return Array.isArray(e.issues)?nw(b.forEach(e.issues,sd),e=>n4(r,e)):nw(sd(e.issues),e=>n4(r,[e]))})}},sp=(e,t,r)=>({_tag:e,path:t,message:r}),sh={formatIssue:e=>sf(e,void 0,[]),formatIssueSync:e=>{let t=sh.formatIssue(e);return nv(t)?S.getOrThrow(t):b.runSync(t)},formatError:e=>sh.formatIssue(e.issue),formatErrorSync:e=>sh.formatIssueSync(e.issue)},sf=(e,t,r)=>{let a=e._tag;switch(a){case"Type":return nw(sl(e),e=>[sp(t??a,r,e)]);case"Forbidden":return S.right([sp(a,r,e.message??"is forbidden")]);case"Unexpected":return S.right([sp(a,r,e.message??"is unexpected")]);case"Missing":return nw(sc(e),e=>[sp(a,r,e)]);case"Pointer":return sf(e.issue,void 0,r.concat(e.path));case"Composite":return nk(sn(e),t=>void 0!==t?S.right([sp(a,r,t)]):Array.isArray(e.issues)?nw(b.forEach(e.issues,e=>sf(e,void 0,r)),o.flatten):sf(e.issues,void 0,r));case"Refinement":return nk(sn(e),t=>void 0!==t?S.right([sp(a,r,t)]):sf(e.issue,"Predicate"===e.kind?a:void 0,r));case"Transformation":return nk(sn(e),t=>void 0!==t?S.right([sp(a,r,t)]):sf(e.issue,"Transformation"===e.kind?a:void 0,r))}};e.s(["ArrayFormatter",0,sh,"Composite",()=>nl,"Forbidden",()=>np,"Missing",()=>no,"ParseError",()=>nf,"ParseErrorTypeId",0,nh,"Pointer",()=>nn,"Refinement",()=>nu,"Transformation",()=>nc,"TreeFormatter",0,n8,"Type",()=>nd,"Unexpected",()=>ns,"asserts",0,(e,t)=>{let r=nG(iJ(e.ast),!0);return(e,a)=>{let i=r(e,{exact:!0,...nT(t,a)});if(S.isLeft(i))throw nm(i.left)}},"decode",0,nN,"decodeEither",0,nM,"decodeOption",0,n_,"decodePromise",0,nD,"decodeSync",0,nO,"decodeUnknown",0,nN,"decodeUnknownEither",0,nM,"decodeUnknownOption",0,n_,"decodeUnknownPromise",0,nD,"decodeUnknownSync",0,nO,"eitherOrUndefined",0,e=>{if(nv(e))return e},"encode",0,nj,"encodeEither",0,nL,"encodeOption",0,nP,"encodePromise",0,nU,"encodeSync",0,nz,"encodeUnknown",0,nj,"encodeUnknownEither",0,nL,"encodeUnknownOption",0,nP,"encodeUnknownPromise",0,nU,"encodeUnknownSync",0,nz,"fail",0,ny,"flatMap",0,nk,"fromOption",0,nS,"getFinalTransformation",0,n5,"getLiterals",0,nY,"getOption",0,nF,"getRefinementExpected",()=>so,"getSearchTree",0,nX,"is",0,n$,"isComposite",0,sr,"isParseError",0,e=>ra.hasProperty(e,nh),"map",0,nw,"mapBoth",0,nx,"mapError",0,nE,"mergeInternalOptions",0,nT,"orElse",0,nI,"parseError",0,nm,"succeed",0,ng,"try",()=>nb,"validate",0,nB,"validateEither",0,nq,"validateOption",0,(e,t)=>nF(iJ(e.ast),!0,t),"validatePromise",0,(e,t)=>{let r=nB(e,t);return(e,t)=>b.runPromise(r(e,t))},"validateSync",0,nW],9552070);var sm=e.i(9960543),sg=ra,sy=e.i(8611396);let sb=sy.RedactedTypeId,sS=sy.isRedacted,sv=sy.make,sk=sy.value,sw=sy.unsafeWipe,sE=e=>w.make((t,r)=>e(sk(t),sk(r)));e.s(["RedactedTypeId",0,sb,"getEquivalence",0,sE,"isRedacted",0,sS,"make",0,sv,"unsafeWipe",0,sw,"value",0,sk],4434603);var sx=e.i(945364),sI=e.i(1635211),sT=e.i(9333060);let sC=(0,t9.dual)(e=>ra.isObject(e[0]),function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let i={};for(let t of r)t in e&&(i[t]=e[t]);return i}),sR=(0,t9.dual)(e=>ra.isObject(e[0]),function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];let i={...e};for(let e of r)delete i[e];return i});w.struct,rG.struct,e.s(["omit",0,sR,"pick",0,sC],8558266);let sF=Symbol.for("effect/Schema");function sA(e){return class{[sF]=sO;static ast=e;static annotations(e){return sA(sP(this.ast,e))}static pipe(){return(0,sm.pipeArguments)(this,arguments)}static toString(){return String(e)}static Type;static Encoded;static Context;static [sF]=sO}}let sO={_A:e=>e,_I:e=>e,_R:e=>e},s_=e=>E.isSuccess(e)?e.value:sM(d.pretty(e.cause)),sM=e=>({issues:[{message:e}]}),sD=e=>b.map(sh.formatIssue(e),e=>({issues:e.map(e=>({path:e.path,message:e.message}))})),sN={schemaId:rZ,message:rQ,missingMessage:rY,identifier:rX,title:r0,description:r2,examples:r3,default:r5,documentation:r7,jsonSchema:r4,arbitrary:r8,pretty:r6,equivalence:r9,concurrency:ae,batching:at,parseIssueTitle:ar,parseOptions:aa,decodingFallback:ai},sz=e=>{if(!e)return{};let t={...e};for(let r in sN)r in e&&(t[sN[r]]=e[r],delete t[r]);return t},sP=(e,t)=>iC(e,sz(t));function sL(e){return e}let sU=e=>String(e.ast),sj=e=>sA(iX(e.ast)),sW=e=>sA(i0(e.ast)),sq=e=>sA(iJ(e.ast)),sB=(e,t)=>{let r=nj(e,t);return(e,t)=>nE(r(e,t),nm)},s$=(e,t)=>{let r=nL(e,t);return(e,t)=>S.mapLeft(r(e,t),nm)},sV=(e,t)=>{let r=sB(e,t);return(e,t)=>b.runPromise(r(e,t))},sH=(e,t)=>{let r=nN(e,t);return(e,t)=>nE(r(e,t),nm)},sG=(e,t)=>{let r=nM(e,t);return(e,t)=>S.mapLeft(r(e,t),nm)},sK=(e,t)=>{let r=sH(e,t);return(e,t)=>b.runPromise(r(e,t))},sJ=(e,t)=>{let r=nB(e,t);return(e,t)=>nE(r(e,t),nm)},sZ=e=>sg.hasProperty(e,sF)&&sg.isObject(e[sF]);function sQ(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.isNonEmptyReadonlyArray(t)?function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:id(t)?iu.make(ic(t,e=>new aR(e))):new aR(t[0]);return class extends sA(r){static annotations(t){return e(this.literals,sP(this.ast,t))}static literals=[...t]}}(t):s7}let sY=e=>sA(new aO(e)),sX=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new aJ(Object.keys(e).filter(t=>"number"!=typeof e[e[t]]).map(t=>[t,e[t]]));return class extends sA(t){static annotations(e){return sX(this.enums,sP(this.ast,e))}static enums={...e}}},s0=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let[a,...i]=t,n=[],s="",l=i;sZ(a)?aF(a.ast)?s=String(a.ast.literal):l=[a,...l]:s=String(a);for(let e=0;e<l.length;e++){let t=l[e];if(sZ(t)){if(e<l.length-1){let r=l[e+1];if(sZ(r)){if(aF(r.ast)){n.push(new aX(t.ast,String(r.ast.literal))),e++;continue}}else{n.push(new aX(t.ast,String(r))),e++;continue}}n.push(new aX(t.ast,""))}else n.push(new aX(new aR(t),""))}return o.isNonEmptyArray(n)?sA(new a0(s,n)):sA(new a0("",[new aX(new aR(s),"")]))};function s1(e,t){return class extends sA(t){static annotations(e){return s1(this.typeParameters,sP(this.ast,e))}static typeParameters=[...e]}}let s2=function(){let e;if(Array.isArray(arguments[0])){let e=arguments[0],t=arguments[1],r=arguments[2];return s1(e,new aT(e.map(e=>e.ast),function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.decode(...r.map(sA))},function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.encode(...r.map(sA))},sz(r)))}let t=arguments[0],r=arguments[1];return s1([],new aT([],e=()=>(e,r,a)=>t(e)?ng(e):ny(new nd(a,e)),e,sz(r)))},s3=Symbol.for("effect/SchemaId/Brand"),s5=Symbol.for("effect/SchemaId/InstanceOf"),s4=(e,t)=>s2(t=>t instanceof e,{title:e.name,description:`an instance of ${e.name}`,pretty:()=>String,schemaId:s5,[s5]:{constructor:e},...t});class s8 extends sA(aM){}class s6 extends sA(aD){}class s9 extends sA(aA){}class s7 extends sA(aN){}class oe extends sA(aP){}class ot extends sA(aL){}class or extends sA(aV){}class oa extends sA(aH){}class oi extends sA(aU){}class on extends sA(aW){}class os extends sA(aB){}class oo extends sA(aK){}function ol(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return id(t)?function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:iu.make(t.map(e=>e.ast));return class extends sA(r){static annotations(t){return e(this.members,sP(this.ast,t))}static members=[...t]}}(t):o.isNonEmptyReadonlyArray(t)?t[0]:s7}let ou=e=>ol(e,s9),oc=e=>ol(e,s8),od=e=>ol(e,s9,s8),op=e=>new oh(new a5(e.ast,!1),e);class oh{ast;from;[sF];_Token;constructor(e,t){this.ast=e,this.from=t}annotations(e){return new oh(new a5(this.ast.type,this.ast.isOptional,{...this.ast.annotations,...sz(e)}),this.from)}toString(){return`${this.ast.type}${this.ast.isOptional?"?":""}`}}function of(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new a8(e.map(e=>sZ(e)?new a5(e.ast,!1):e.ast),t.map(e=>sZ(e)?new a3(e.ast):e.ast),!0);return class extends sA(r){static annotations(e){return of(this.elements,this.rest,sP(this.ast,e))}static elements=[...e];static rest=[...t]}}function om(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Array.isArray(t[0])?of(t[0],t.slice(1)):of(t,[])}let og=e=>(function e(t,r){return class extends of([],[t],r){static annotations(t){return e(this.value,sP(this.ast,t))}static value=t}})(e),oy=e=>(function e(t,r){return class extends of([t],[t],r){static annotations(t){return e(this.value,sP(this.ast,t))}static value=t}})(e);function ob(e){return li(ol(e,og(e)),og(sq(e)),{strict:!0,decode:e=>o.ensure(e),encode:e=>1===e.length?e[0]:e})}function oS(e){return li(ol(e,oy(e)),oy(sq(e)),{strict:!0,decode:e=>o.isNonEmptyReadonlyArray(e)?e:o.of(e),encode:e=>1===e.length?e[0]:e})}let ov=e=>e?'"?:"':'":"';class ok extends a5{isReadonly;defaultValue;_tag="PropertySignatureDeclaration";constructor(e,t,r,a,i){super(e,t,a),this.isReadonly=r,this.defaultValue=i}toString(){let e=ov(this.isOptional),t=String(this.type);return`PropertySignature<${e}, ${t}, never, ${e}, ${t}>`}}class ow extends a5{isReadonly;fromKey;constructor(e,t,r,a,i){super(e,t,a),this.isReadonly=r,this.fromKey=i}}class oE extends a5{isReadonly;defaultValue;constructor(e,t,r,a,i){super(e,t,a),this.isReadonly=r,this.defaultValue=i}}class ox{from;to;decode;encode;_tag="PropertySignatureTransformation";constructor(e,t,r,a){this.from=e,this.to=t,this.decode=r,this.encode=a}toString(){var e;return`PropertySignature<${ov(this.to.isOptional)}, ${this.to.type}, ${void 0===(e=this.from.fromKey)?"never":sg.isString(e)?JSON.stringify(e):String(e)}, ${ov(this.from.isOptional)}, ${this.from.type}>`}}let oI=(e,t)=>{switch(e._tag){case"PropertySignatureDeclaration":return new ok(e.type,e.isOptional,e.isReadonly,{...e.annotations,...t},e.defaultValue);case"PropertySignatureTransformation":return new ox(e.from,new oE(e.to.type,e.to.isOptional,e.to.isReadonly,{...e.to.annotations,...t},e.to.defaultValue),e.decode,e.encode)}},oT=Symbol.for("effect/PropertySignature"),oC=e=>sg.hasProperty(e,oT);class oR{ast;[sF];[oT]=null;_TypeToken;_Key;_EncodedToken;_HasDefault;constructor(e){this.ast=e}pipe(){return(0,sm.pipeArguments)(this,arguments)}annotations(e){return new oR(oI(this.ast,sz(e)))}toString(){return String(this.ast)}}let oF=e=>new oR(e);class oA extends oR{from;constructor(e,t){super(e),this.from=t}annotations(e){return new oA(oI(this.ast,sz(e)),this.from)}}let oO=e=>new oA(new ok(e.ast,!1,!0,{},void 0),e),o_=(0,t9.dual)(2,(e,t)=>{let r=e.ast;switch(r._tag){case"PropertySignatureDeclaration":return oF(new ok(r.type,r.isOptional,r.isReadonly,r.annotations,t));case"PropertySignatureTransformation":return oF(new ox(r.from,new oE(r.to.type,r.to.isOptional,r.to.isReadonly,r.to.annotations,t),r.decode,r.encode))}}),oM=(e,t)=>rB.match(e,{onNone:()=>rB.some(t()),onSome:e=>rB.some(void 0===e?t():e)}),oD=e=>ni(e,oD,e=>{let t=oD(e.to);if(t)return new iS(e.from,t,e.transformation)}),oN=(0,t9.dual)(2,(e,t)=>{let r=e.ast;switch(r._tag){case"PropertySignatureDeclaration":{let e=iJ(r.type);return oF(new ox(new ow(r.type,r.isOptional,r.isReadonly,r.annotations),new oE(oD(e)??e,!1,!0,{},r.defaultValue),e=>oM(e,t),t9.identity))}case"PropertySignatureTransformation":{let e=r.to.type;return oF(new ox(r.from,new oE(oD(e)??e,!1,r.to.isReadonly,r.to.annotations,r.to.defaultValue),e=>oM(r.decode(e),t),r.encode))}}}),oz=(0,t9.dual)(2,(e,t)=>e.pipe(oN(t.decoding),o_(t.constructor))),oP=(0,t9.dual)(2,(e,t)=>{let r=e.ast;switch(r._tag){case"PropertySignatureDeclaration":return oF(new ox(new ow(r.type,r.isOptional,r.isReadonly,r.annotations,t),new oE(iJ(r.type),r.isOptional,r.isReadonly,{},r.defaultValue),t9.identity,t9.identity));case"PropertySignatureTransformation":return oF(new ox(new ow(r.from.type,r.from.isOptional,r.from.isReadonly,r.from.annotations,t),r.to,r.decode,r.encode))}}),oL=(e,t,r)=>oF(new ox(new ow(e.ast,!0,!0,{},void 0),new oE(t.ast,!1,!0,{},void 0),e=>rB.some(r.decode(e)),rB.flatMap(r.encode))),oU=(e,t,r)=>oF(new ox(new ow(e.ast,!0,!0,{},void 0),new oE(t.ast,!0,!0,{},void 0),r.decode,r.encode)),oj=(0,t9.dual)(e=>sZ(e[0]),(e,t)=>new oA(((e,t)=>{let r=t?.exact,a=t?.default,i=t?.nullable,n=t?.as=="Option",s=t?.onNoneEncoding?rB.orElse(t.onNoneEncoding):t9.identity;if(r)if(a)if(i)return o_(oL(ou(e),sq(e),{decode:rB.match({onNone:a,onSome:e=>null===e?a():e}),encode:rB.some}),a).ast;else return o_(oL(e,sq(e),{decode:rB.match({onNone:a,onSome:t9.identity}),encode:rB.some}),a).ast;else if(n){let t=cB(sq(e));return i?oL(ou(e),t,{decode:rB.filter(sg.isNotNull),encode:s}).ast:oL(e,t,{decode:t9.identity,encode:t9.identity}).ast}else if(i)return oU(ou(e),sq(e),{decode:rB.filter(sg.isNotNull),encode:t9.identity}).ast;else return new ok(e.ast,!0,!0,{},void 0);if(a)if(i)return o_(oL(od(e),sq(e),{decode:rB.match({onNone:a,onSome:e=>null==e?a():e}),encode:rB.some}),a).ast;else return o_(oL(oc(e),sq(e),{decode:rB.match({onNone:a,onSome:e=>void 0===e?a():e}),encode:rB.some}),a).ast;if(n){let t=cB(sq(e));return i?oL(od(e),t,{decode:rB.filter(e=>null!=e),encode:s}).ast:oL(oc(e),t,{decode:rB.filter(sg.isNotUndefined),encode:s}).ast}if(i)return oU(od(e),oc(sq(e)),{decode:rB.filter(sg.isNotNull),encode:t9.identity}).ast;return new ok(oc(e).ast,!0,!0,{},void 0)})(e,t),e)),oW=iH([rY]),oq=(e,t)=>{for(let r of Reflect.ownKeys(e)){let a=e[r];if(void 0===t[r]&&oC(a)){let e=a.ast,i="PropertySignatureDeclaration"===e._tag?e.defaultValue:e.to.defaultValue;void 0!==i&&(t[r]=i())}}return t};function oB(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:((e,t)=>{let r=Reflect.ownKeys(e),a=[];if(r.length>0){let i=[],n=[],s=[];for(let t=0;t<r.length;t++){let o=r[t],l=e[o];if(oC(l)){let e=l.ast;switch(e._tag){case"PropertySignatureDeclaration":{let t=e.type,r=e.isOptional,s=e.annotations;i.push(new a9(o,t,r,!0,oW(e))),n.push(new a9(o,iJ(t),r,!0,s)),a.push(new a9(o,t,r,!0,s));break}case"PropertySignatureTransformation":{let t=e.from.fromKey??o;i.push(new a9(t,e.from.type,e.from.isOptional,!0,e.from.annotations)),n.push(new a9(o,e.to.type,e.to.isOptional,!0,e.to.annotations)),s.push(new iE(t,o,e.decode,e.encode))}}}else i.push(new a9(o,l.ast,!1,!0)),n.push(new a9(o,iJ(l.ast),!1,!0)),a.push(new a9(o,l.ast,!1,!0))}if(o.isNonEmptyReadonlyArray(s)){let e=[],r=[];for(let a of t){let{indexSignatures:t,propertySignatures:s}=iU(a.key.ast,a.value.ast);s.forEach(e=>{i.push(e),n.push(new a9(e.name,iJ(e.type),e.isOptional,e.isReadonly,e.annotations))}),t.forEach(t=>{e.push(t),r.push(new ie(t.parameter,iJ(t.type),t.isReadonly))})}return new iS(new it(i,e,{[r1]:"Struct (Encoded side)"}),new it(n,r,{[r1]:"Struct (Type side)"}),new iI(s))}}let i=[];for(let e of t){let{indexSignatures:t,propertySignatures:r}=iU(e.key.ast,e.value.ast);r.forEach(e=>a.push(e)),t.forEach(e=>i.push(e))}return new it(a,i)})(e,t);return class extends sA(r){static annotations(e){return oB(this.fields,this.records,sP(this.ast,e))}static fields={...e};static records=[...t];static make=(t,r)=>{let a=oq(e,{...t});return d8(r)?a:nW(this)(a)};static pick(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return o$(sC(e,...r))}static omit(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];return o$(sR(e,...r))}}}function o$(e){for(var t=arguments.length,r=Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];return oB(e,r)}let oV=e=>sQ(e).pipe(oO,o_(()=>e)),oH=(e,t)=>o$({_tag:oV(e),...t}),oG=e=>(function e(t,r,a){return class extends oB({},[{key:t,value:r}],a){static annotations(a){return e(t,r,sP(this.ast,a))}static key=t;static value=r}})(e.key,e.value),oK=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>sA(ij(e.ast,t))},oJ=(0,t9.dual)(2,(e,t)=>{let r=iP(iJ(e.ast),t),a=sA(r.isOptional?iq(r.type):r.type);return li(e.pipe(oK(t)),a,{strict:!0,decode:e=>e[t],encode:e=>r.isOptional&&void 0===e?{}:{[t]:e}})});function oZ(e,t){return class extends sA(t){static annotations(e){return oZ(this.from,sP(this.ast,e))}static make=(e,t)=>d8(t)?e:nW(this)(e);static from=e}}let oQ=(0,t9.dual)(e=>sZ(e[0]),(e,t)=>sA(iB(e.ast,t))),oY=(e,t,r)=>{if(ii(e)&&ii(t)){let a=[...e.propertySignatures];for(let e of t.propertySignatures){let t=e.name,i=a.findIndex(e=>e.name===t);if(-1===i)a.push(e);else{let{isOptional:n,type:s}=a[i];a[i]=new a9(t,o1(s,e.type,r.concat(t)),n,!0)}}return new it(a,e.indexSignatures.concat(t.indexSignatures))}throw Error(rh(e,t,r))},oX=iG([rX]),o0=(e,t)=>t.map(t=>new ig(t,e.filter,oX(e))),o1=(e,t,r)=>iu.make(o3([e],[t],r)),o2=e=>ip(e)?e.types:[e],o3=(e,t,r)=>o.flatMap(e,e=>o.flatMap(t,t=>{switch(t._tag){case"Literal":if(sg.isString(t.literal)&&aj(e)||sg.isNumber(t.literal)&&aq(e)||sg.isBoolean(t.literal)&&a$(e))return[t];break;case"StringKeyword":if(t===aU){if(aj(e)||aF(e)&&sg.isString(e.literal))return[e];else if(iy(e))return o0(e,o3(o2(e.from),[t],r))}else if(e===aU)return[t];break;case"NumberKeyword":if(t===aW){if(aq(e)||aF(e)&&sg.isNumber(e.literal))return[e];else if(iy(e))return o0(e,o3(o2(e.from),[t],r))}else if(e===aW)return[t];break;case"BooleanKeyword":if(t===aB){if(a$(e)||aF(e)&&sg.isBoolean(e.literal))return[e];else if(iy(e))return o0(e,o3(o2(e.from),[t],r))}else if(e===aB)return[t];break;case"Union":return o3(o2(e),t.types,r);case"Suspend":return[new im(()=>o1(e,t.f(),r))];case"Refinement":return o0(t,o3(o2(e),o2(t.from),r));case"TypeLiteral":switch(e._tag){case"Union":return o3(e.types,[t],r);case"Suspend":return[new im(()=>o1(e.f(),t,r))];case"Refinement":return o0(e,o3(o2(e.from),[t],r));case"TypeLiteral":return[oY(e,t,r)];case"Transformation":{let a=e.transformation,i=oY(e.from,t,r),n=oY(e.to,iJ(t),r);switch(a._tag){case"TypeLiteralTransformation":return[new iS(i,n,new iI(a.propertySignatureTransformations))];case"ComposeTransformation":return[new iS(i,n,iw)];case"FinalTransformation":return[new iS(i,n,new ik((e,t,r,i)=>nw(a.decode(e,t,r,i),t=>({...e,...t})),(e,t,r,i)=>nw(a.encode(e,t,r,i),t=>({...e,...t}))))]}}}break;case"Transformation":if(!iv(e))return o3([t],[e],r);if(iT(t.transformation)&&iT(e.transformation))return[new iS(oY(e.from,t.from,r),oY(e.to,t.to,r),new iI(t.transformation.propertySignatureTransformations.concat(e.transformation.propertySignatureTransformations)))]}throw Error(rh(e,t,r))})),o5=(0,t9.dual)(2,(e,t)=>sA(o1(e.ast,t.ast,[]))),o4=(0,t9.dual)(e=>sZ(e[1]),(e,t)=>lr(e,t,i7(e.ast,t.ast))),o8=e=>sA(new im(()=>e().ast)),o6=Symbol.for("effect/SchemaId/Refine"),o9=(e,t,r)=>{if(sg.isBoolean(e))return e?rB.none():rB.some(new nd(t,r));if(sg.isString(e))return rB.some(new nd(t,r,e));if(void 0!==e){if("_tag"in e)return rB.some(e);let a=new nd(t,r,e.message);return rB.some(o.isNonEmptyReadonlyArray(e.path)?new nn(e.path,r,a):a)}return rB.none()},o7=(e,t,r)=>{if(!Array.isArray(e))return o9(e,t,r);if(o.isNonEmptyReadonlyArray(e)){let a=o.filterMap(e,e=>o9(e,t,r));if(o.isNonEmptyReadonlyArray(a))return rB.some(1===a.length?a[0]:new nl(t,r,a))}return rB.none()};function le(e,t){return r=>{function a(t,r,a){return o7(e(t,r,a),a,t)}let i=new ig(r.ast,a,sz(t));return function e(t,r,a){return class extends sA(a){static annotations(t){return e(this.from,this.filter,sP(this.ast,t))}static [o6]=t;static from=t;static filter=r;static make=(e,t)=>d8(t)?e:nW(this)(e)}}(r,a,i)}}let lt=(0,t9.dual)(2,(e,t)=>la(e,sq(e),{strict:!0,decode:(e,r,a)=>nk(t(e,r,a),t=>rB.match(o7(t,a,e),{onNone:()=>ng(e),onSome:ny})),encode:e=>ng(e)}));function lr(e,t,r){return class extends sA(r){static annotations(e){return lr(this.from,this.to,sP(this.ast,e))}static from=e;static to=t}}let la=(0,t9.dual)(e=>sZ(e[0])&&sZ(e[1]),(e,t,r)=>lr(e,t,new iS(e.ast,t.ast,new ik(r.decode,r.encode)))),li=(0,t9.dual)(e=>sZ(e[0])&&sZ(e[1]),(e,t,r)=>la(e,t,{strict:!0,decode:(e,t,a,i)=>ng(r.decode(e,i)),encode:(e,t,a,i)=>ng(r.encode(e,i))}));function ln(e,t){return li(sQ(e),sQ(t),{strict:!0,decode:()=>t,encode:()=>e})}function ls(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return ol(...t.map(e=>{let[t,r]=e;return ln(t,r)}))}let lo=(0,t9.dual)(e=>sZ(e[0]),(e,t,r,a)=>{let i=o5(sq(e),o$({[t]:sg.isSymbol(r)?sY(r):sQ(r)})).ast;return sA(new iS(e.ast,a?sP(i,a):i,new iI([new iE(t,t,()=>rB.some(r),()=>rB.none())])))}),ll=(0,t9.dual)(2,(e,t)=>e.annotations(t)),lu=(0,t9.dual)(2,(e,t)=>sA(ne(e.ast,t))),lc=Symbol.for("effect/SchemaId/Trimmed"),ld=e=>t=>t.pipe(le(e=>e===e.trim(),{schemaId:lc,title:"trimmed",description:"a string with no leading or trailing whitespace",jsonSchema:{pattern:"^\\S[\\s\\S]*\\S$|^\\S$|^$"},...e})),lp=(e,t)=>r=>r.pipe(le(t=>t.length>=e,{schemaId:rN,title:`minLength(${e})`,description:`a string at least ${e} character(s) long`,jsonSchema:{minLength:e},...t})),lh=(e,t)=>r=>{let a=sg.isObject(e)?Math.max(0,Math.floor(e.min)):Math.max(0,Math.floor(e)),i=sg.isObject(e)?Math.max(a,Math.floor(e.max)):a;return a!==i?r.pipe(le(e=>e.length>=a&&e.length<=i,{schemaId:rP,title:`length({ min: ${a}, max: ${i})`,description:`a string at least ${a} character(s) and at most ${i} character(s) long`,jsonSchema:{minLength:a,maxLength:i},...t})):r.pipe(le(e=>e.length===a,{schemaId:rP,title:`length(${a})`,description:1===a?"a single character":`a string ${a} character(s) long`,jsonSchema:{minLength:a,maxLength:a},...t}))},lf=Symbol.for("effect/SchemaId/Pattern"),lm=(e,t)=>r=>{let a=e.source;return r.pipe(le(t=>(e.lastIndex=0,e.test(t)),{schemaId:lf,[lf]:{regex:e},description:`a string matching the pattern ${a}`,jsonSchema:{pattern:a},...t}))},lg=Symbol.for("effect/SchemaId/StartsWith"),ly=Symbol.for("effect/SchemaId/EndsWith"),lb=Symbol.for("effect/SchemaId/Includes"),lS=Symbol.for("effect/SchemaId/Lowercased"),lv=e=>t=>t.pipe(le(e=>e===e.toLowerCase(),{schemaId:lS,title:"lowercased",description:"a lowercase string",jsonSchema:{pattern:"^[^A-Z]*$"},...e}));class lk extends oi.pipe(lv({identifier:"Lowercased"})){}let lw=Symbol.for("effect/SchemaId/Uppercased"),lE=e=>t=>t.pipe(le(e=>e===e.toUpperCase(),{schemaId:lw,title:"uppercased",description:"an uppercase string",jsonSchema:{pattern:"^[^a-z]*$"},...e}));class lx extends oi.pipe(lE({identifier:"Uppercased"})){}let lI=Symbol.for("effect/SchemaId/Capitalized"),lT=e=>t=>t.pipe(le(e=>e[0]?.toUpperCase()===e[0],{schemaId:lI,title:"capitalized",description:"a capitalized string",jsonSchema:{pattern:"^[^a-z]?.*$"},...e}));class lC extends oi.pipe(lT({identifier:"Capitalized"})){}let lR=Symbol.for("effect/SchemaId/Uncapitalized"),lF=e=>t=>t.pipe(le(e=>e[0]?.toLowerCase()===e[0],{schemaId:lR,title:"uncapitalized",description:"a uncapitalized string",jsonSchema:{pattern:"^[^A-Z]?.*$"},...e}));class lA extends oi.pipe(lF({identifier:"Uncapitalized"})){}class lO extends oi.pipe(lh(1,{identifier:"Char"})){}let l_=e=>lp(1,{title:"nonEmptyString",description:"a non empty string",...e});class lM extends li(oi.annotations({description:"a string that will be converted to lowercase"}),lk,{strict:!0,decode:e=>e.toLowerCase(),encode:t9.identity}).annotations({identifier:"Lowercase"}){}class lD extends li(oi.annotations({description:"a string that will be converted to uppercase"}),lx,{strict:!0,decode:e=>e.toUpperCase(),encode:t9.identity}).annotations({identifier:"Uppercase"}){}class lN extends li(oi.annotations({description:"a string that will be converted to a capitalized format"}),lC,{strict:!0,decode:e=>sT.capitalize(e),encode:t9.identity}).annotations({identifier:"Capitalize"}){}class lz extends li(oi.annotations({description:"a string that will be converted to an uncapitalized format"}),lA,{strict:!0,decode:e=>sT.uncapitalize(e),encode:t9.identity}).annotations({identifier:"Uncapitalize"}){}class lP extends oi.pipe(ld({identifier:"Trimmed"})){}class lL extends lP.pipe(l_({identifier:"NonEmptyTrimmedString"})){}class lU extends li(oi.annotations({description:"a string that will be trimmed"}),lP,{strict:!0,decode:e=>e.trim(),encode:t9.identity}).annotations({identifier:"Trim"}){}let lj=e=>e instanceof Error?e.message:String(e),lW=(e,t)=>sZ(e)?o4(lW(t),e):la(oi.annotations({description:"a string to be decoded into JSON"}),oe,{strict:!0,decode:(t,r,a)=>nb({try:()=>JSON.parse(t,e?.reviver),catch:e=>new nd(a,t,lj(e))}),encode:(t,r,a)=>nb({try:()=>JSON.stringify(t,e?.replacer,e?.space),catch:e=>new nd(a,t,lj(e))})}).annotations({title:"parseJson",schemaId:aI});class lq extends oi.pipe(l_({identifier:"NonEmptyString"})){}let lB=Symbol.for("effect/SchemaId/UUID"),l$=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i;class lV extends oi.pipe(lm(l$,{schemaId:lB,identifier:"UUID",jsonSchema:{format:"uuid",pattern:l$.source},description:"a Universally Unique Identifier",arbitrary:()=>e=>e.uuid()})){}let lH=Symbol.for("effect/SchemaId/ULID"),lG=/^[0-7][0-9A-HJKMNP-TV-Z]{25}$/i;class lK extends oi.pipe(lm(lG,{schemaId:lH,identifier:"ULID",description:"a Universally Unique Lexicographically Sortable Identifier",arbitrary:()=>e=>e.ulid()})){}class lJ extends s4(URL,{identifier:"URLFromSelf",arbitrary:()=>e=>e.webUrl().map(e=>new URL(e)),pretty:()=>e=>e.toString()}){}class lZ extends la(oi.annotations({description:"a string to be decoded into a URL"}),lJ,{strict:!0,decode:(e,t,r)=>nb({try:()=>new URL(e),catch:t=>new nd(r,e,`Unable to decode ${JSON.stringify(e)} into a URL. ${lj(t)}`)}),encode:e=>ng(e.toString())}).annotations({identifier:"URL",pretty:()=>e=>e.toString()}){}let lQ=e=>t=>t.pipe(le(Number.isFinite,{schemaId:rC,title:"finite",description:"a finite number",jsonSchema:{},...e})),lY=(e,t)=>r=>r.pipe(le(t=>t>e,{schemaId:rk,title:`greaterThan(${e})`,description:0===e?"a positive number":`a number greater than ${e}`,jsonSchema:{exclusiveMinimum:e},...t})),lX=(e,t)=>r=>r.pipe(le(t=>t>=e,{schemaId:rw,title:`greaterThanOrEqualTo(${e})`,description:0===e?"a non-negative number":`a number greater than or equal to ${e}`,jsonSchema:{minimum:e},...t})),l0=Symbol.for("effect/SchemaId/MultipleOf"),l1=e=>t=>t.pipe(le(e=>Number.isSafeInteger(e),{schemaId:rI,title:"int",description:"an integer",jsonSchema:{type:"integer"},...e})),l2=(e,t)=>r=>r.pipe(le(t=>t<e,{schemaId:rE,title:`lessThan(${e})`,description:0===e?"a negative number":`a number less than ${e}`,jsonSchema:{exclusiveMaximum:e},...t})),l3=(e,t)=>r=>r.pipe(le(t=>t<=e,{schemaId:rx,title:`lessThanOrEqualTo(${e})`,description:0===e?"a non-positive number":`a number less than or equal to ${e}`,jsonSchema:{maximum:e},...t})),l5=(e,t,r)=>a=>a.pipe(le(r=>r>=e&&r<=t,{schemaId:rF,title:`between(${e}, ${t})`,description:`a number between ${e} and ${t}`,jsonSchema:{minimum:e,maximum:t},...r})),l4=e=>t=>t.pipe(le(e=>!Number.isNaN(e),{schemaId:rT,title:"nonNaN",description:"a number excluding NaN",...e})),l8=e=>lY(0,{title:"positive",...e}),l6=e=>l2(0,{title:"negative",...e}),l9=e=>l3(0,{title:"nonPositive",...e}),l7=e=>lX(0,{title:"nonNegative",...e});function ue(e){return la(e,on,{strict:!1,decode:(e,t,r)=>nS(rq.parse(e),()=>new nd(r,e,`Unable to decode ${JSON.stringify(e)} into a number`)),encode:e=>ng(String(e))})}class ut extends ue(oi.annotations({description:"a string to be decoded into a number"})).annotations({identifier:"NumberFromString"}){}class ur extends on.pipe(lQ({identifier:"Finite"})){}class ua extends on.pipe(l1({identifier:"Int"})){}class ui extends on.pipe(l4({identifier:"NonNaN"})){}class un extends on.pipe(l8({identifier:"Positive"})){}class us extends on.pipe(l6({identifier:"Negative"})){}class uo extends on.pipe(l9({identifier:"NonPositive"})){}class ul extends on.pipe(l7({identifier:"NonNegative"})){}let uu=rR;class uc extends on.pipe(lQ({schemaId:uu,identifier:"JsonNumber"})){}class ud extends li(os.annotations({description:"a boolean that will be negated"}),os,{strict:!0,decode:e=>c.not(e),encode:e=>c.not(e)}){}let up=(e,t)=>{let r=Symbol.keyFor(e);return void 0===r?ny(new nd(t,e,`Unable to encode a unique symbol ${String(e)} into a string`)):ng(r)},uh=e=>ng(Symbol.for(e));class uf extends la(oi.annotations({description:"a string to be decoded into a globally shared symbol"}),oa,{strict:!1,decode:e=>uh(e),encode:(e,t,r)=>up(e,r)}).annotations({identifier:"Symbol"}){}let um=(e,t)=>r=>r.pipe(le(t=>t>e,{schemaId:rA,[rA]:{min:e},title:`greaterThanBigInt(${e})`,description:0n===e?"a positive bigint":`a bigint greater than ${e}n`,...t})),ug=(e,t)=>r=>r.pipe(le(t=>t>=e,{schemaId:rO,[rO]:{min:e},title:`greaterThanOrEqualToBigInt(${e})`,description:0n===e?"a non-negative bigint":`a bigint greater than or equal to ${e}n`,...t})),uy=(e,t)=>r=>r.pipe(le(t=>t<e,{schemaId:r_,[r_]:{max:e},title:`lessThanBigInt(${e})`,description:0n===e?"a negative bigint":`a bigint less than ${e}n`,...t})),ub=(e,t)=>r=>r.pipe(le(t=>t<=e,{schemaId:rM,[rM]:{max:e},title:`lessThanOrEqualToBigInt(${e})`,description:0n===e?"a non-positive bigint":`a bigint less than or equal to ${e}n`,...t})),uS=(e,t,r)=>a=>a.pipe(le(r=>r>=e&&r<=t,{schemaId:rD,[rD]:{min:e,max:t},title:`betweenBigInt(${e}, ${t})`,description:`a bigint between ${e}n and ${t}n`,...r})),uv=e=>um(0n,{title:"positiveBigInt",...e}),uk=e=>uy(0n,{title:"negativeBigInt",...e}),uw=e=>ug(0n,{title:"nonNegativeBigInt",...e}),uE=e=>ub(0n,{title:"nonPositiveBigInt",...e});class ux extends la(oi.annotations({description:"a string to be decoded into a bigint"}),or,{strict:!0,decode:(e,t,r)=>nS(u.fromString(e),()=>new nd(r,e,`Unable to decode ${JSON.stringify(e)} into a bigint`)),encode:e=>ng(String(e))}).annotations({identifier:"BigInt"}){}let uI=or.pipe(uv({identifier:"PositiveBigintFromSelf"})),uT=ux.pipe(uv({identifier:"PositiveBigint"})),uC=or.pipe(uk({identifier:"NegativeBigintFromSelf"})),uR=ux.pipe(uk({identifier:"NegativeBigint"})),uF=or.pipe(uE({identifier:"NonPositiveBigintFromSelf"})),uA=ux.pipe(uE({identifier:"NonPositiveBigint"})),uO=or.pipe(uw({identifier:"NonNegativeBigintFromSelf"})),u_=ux.pipe(uw({identifier:"NonNegativeBigint"}));class uM extends la(on.annotations({description:"a number to be decoded into a bigint"}),or.pipe(uS(BigInt(Number.MIN_SAFE_INTEGER),BigInt(Number.MAX_SAFE_INTEGER))),{strict:!0,decode:(e,t,r)=>nS(u.fromNumber(e),()=>new nd(r,e,`Unable to decode ${e} into a bigint`)),encode:(e,t,r)=>nS(u.toNumber(e),()=>new nd(r,e,`Unable to encode ${e}n into a number`))}).annotations({identifier:"BigIntFromNumber"}){}let uD=e=>t=>e(t).map(sv),uN=(e,t,r,a)=>nx(e,{onFailure:e=>new nl(r,a,e),onSuccess:t}),uz=e=>(t,r,a)=>sS(t)?uN(e(sk(t),r),sv,a,t):ny(new nd(a,t)),uP=e=>s2([e],{decode:e=>uz(nN(e)),encode:e=>uz(nj(e))},{description:"Redacted(<redacted>)",pretty:()=>()=>"Redacted(<redacted>)",arbitrary:uD,equivalence:sE});function uL(e){return li(e,uP(sq(e)),{strict:!0,decode:e=>sv(e),encode:e=>sk(e)})}class uU extends s2(y.isDuration,{identifier:"DurationFromSelf",pretty:()=>String,arbitrary:()=>e=>e.oneof(e.constant(y.infinity),e.bigInt({min:0n}).map(e=>y.nanos(e)),e.maxSafeNat().map(e=>y.millis(e))),equivalence:()=>y.Equivalence}){}class uj extends la(uO.annotations({description:"a bigint to be decoded into a Duration"}),uU.pipe(le(e=>y.isFinite(e),{description:"a finite duration"})),{strict:!0,decode:e=>ng(y.nanos(e)),encode:(e,t,r)=>rB.match(y.toNanos(e),{onNone:()=>ny(new nd(r,e,`Unable to encode ${e} into a bigint`)),onSome:e=>ng(e)})}).annotations({identifier:"DurationFromNanos"}){}let uW=ul.pipe(l1()).annotations({identifier:"NonNegativeInt"});class uq extends li(ul.annotations({description:"a non-negative number to be decoded into a Duration"}),uU,{strict:!0,decode:e=>y.millis(e),encode:e=>y.toMillis(e)}).annotations({identifier:"DurationFromMillis"}){}let uB=oH("Millis",{millis:uW}),u$=oH("Nanos",{nanos:ux}),uV=oH("Infinity",{}),uH=uV.make({}),uG=ol(uB,u$,uV).annotations({identifier:"DurationValue",description:"an JSON-compatible tagged union to be decoded into a Duration"}),uK=ol(om(op(uW).annotations({title:"seconds"}),op(uW).annotations({title:"nanos"})).annotations({identifier:"FiniteHRTime"}),om(sQ(-1),sQ(0)).annotations({identifier:"InfiniteHRTime"})).annotations({identifier:"HRTime",description:"a tuple of seconds and nanos to be decoded into a Duration"}),uJ=e=>"object"==typeof e;class uZ extends li(ol(uG,uK),uU,{strict:!0,decode:e=>{if(uJ(e))switch(e._tag){case"Millis":return y.millis(e.millis);case"Nanos":return y.nanos(e.nanos);case"Infinity":return y.infinity}let[t,r]=e;return -1===t?y.infinity:y.nanos(BigInt(t)*BigInt(1e9)+BigInt(r))},encode:e=>{switch(e.value._tag){case"Millis":return uB.make({millis:e.value.millis});case"Nanos":return u$.make({nanos:e.value.nanos});case"Infinity":return uH}}}).annotations({identifier:"Duration"}){}let uQ=Symbol.for("effect/SchemaId/LessThanDuration"),uY=Symbol.for("effect/schema/LessThanOrEqualToDuration"),uX=Symbol.for("effect/SchemaId/GreaterThanDuration"),u0=Symbol.for("effect/schema/GreaterThanOrEqualToDuration"),u1=Symbol.for("effect/SchemaId/BetweenDuration"),u2=(e,t,r)=>a=>a.pipe(le(r=>y.between(r,{minimum:e,maximum:t}),{schemaId:u1,[u1]:{maximum:t,minimum:e},title:`betweenDuration(${e}, ${t})`,description:`a Duration between ${y.decode(e)} and ${y.decode(t)}`,...r}));class u3 extends s2(sg.isUint8Array,{identifier:"Uint8ArrayFromSelf",pretty:()=>e=>`new Uint8Array(${JSON.stringify(Array.from(e))})`,arbitrary:()=>e=>e.uint8Array(),equivalence:()=>o.getEquivalence(k.equals)}){}class u5 extends on.pipe(l5(0,255,{identifier:"Uint8",description:"a 8-bit unsigned integer"})){}class u4 extends li(og(u5).annotations({description:"an array of 8-bit unsigned integers to be decoded into a Uint8Array"}),u3,{strict:!0,decode:e=>Uint8Array.from(e),encode:e=>Array.from(e)}).annotations({identifier:"Uint8Array"}){}let u8=(e,t,r)=>la(oi.annotations({description:"a string to be decoded into a Uint8Array"}),u3,{strict:!0,decode:(e,r,a)=>S.mapLeft(t(e),t=>new nd(a,e,t.message)),encode:e=>ng(r(e))}).annotations({identifier:e}),u6=u8("Uint8ArrayFromBase64",v.decodeBase64,v.encodeBase64),u9=u8("Uint8ArrayFromBase64Url",v.decodeBase64Url,v.encodeBase64Url),u7=u8("Uint8ArrayFromHex",v.decodeHex,v.encodeHex),ce=(e,t,r)=>la(oi.annotations({description:`A string that is interpreted as being ${e}-encoded and will be decoded into a UTF-8 string`}),oi,{strict:!0,decode:(e,r,a)=>S.mapLeft(t(e),t=>new nd(a,e,t.message)),encode:e=>ng(r(e))}).annotations({identifier:`StringFrom${e}`}),ct=ce("Base64",v.decodeBase64String,v.encodeBase64),cr=ce("Base64Url",v.decodeBase64UrlString,v.encodeBase64Url),ca=ce("Hex",v.decodeHexString,v.encodeHex),ci=la(oi.annotations({description:"A string that is interpreted as being UriComponent-encoded and will be decoded into a UTF-8 string"}),oi,{strict:!0,decode:(e,t,r)=>S.mapLeft(v.decodeUriComponent(e),t=>new nd(r,e,t.message)),encode:(e,t,r)=>S.mapLeft(v.encodeUriComponent(e),t=>new nd(r,e,t.message))}).annotations({identifier:"StringFromUriComponent"}),cn=e=>sA(iN(e.ast));function cs(e){return li(e,c$(cn(sq(e))),{strict:!1,decode:e=>o.head(e),encode:e=>rB.match(e,{onNone:()=>[],onSome:o.of})})}function co(e){return li(e,cn(sq(e)),{strict:!1,decode:e=>o.headNonEmpty(e),encode:e=>o.of(e)})}let cl=(0,t9.dual)(e=>sZ(e[0]),(e,t)=>la(e,cn(sq(e)),{strict:!0,decode:(e,r,a)=>e.length>0?ng(e[0]):t?ng(t()):ny(new nd(a,e,"Unable to retrieve the first element of an empty array")),encode:e=>ng(o.of(e))})),cu=Symbol.for("effect/SchemaId/ValidDate"),cc=e=>t=>t.pipe(le(e=>!Number.isNaN(e.getTime()),{schemaId:cu,[cu]:{noInvalidDate:!0},title:"validDate",description:"a valid Date",...e})),cd=Symbol.for("effect/SchemaId/LessThanDate"),cp=Symbol.for("effect/schema/LessThanOrEqualToDate"),ch=Symbol.for("effect/SchemaId/GreaterThanDate"),cf=Symbol.for("effect/schema/GreaterThanOrEqualToDate"),cm=Symbol.for("effect/SchemaId/BetweenDate"),cg=rv;class cy extends s2(sg.isDate,{identifier:"DateFromSelf",schemaId:cg,[cg]:{noInvalidDate:!1},description:"a potentially invalid Date instance",pretty:()=>e=>`new Date(${JSON.stringify(e)})`,arbitrary:()=>e=>e.date({noInvalidDate:!1}),equivalence:()=>w.Date}){}class cb extends cy.pipe(cc({identifier:"ValidDateFromSelf",description:"a valid Date instance"})){}class cS extends li(oi.annotations({description:"a string to be decoded into a Date"}),cy,{strict:!0,decode:e=>new Date(e),encode:e=>rs(e)}).annotations({identifier:"DateFromString"}){}class cv extends cS.pipe(cc({identifier:"Date"})){}class ck extends li(on.annotations({description:"a number to be decoded into a Date"}),cy,{strict:!0,decode:e=>new Date(e),encode:e=>e.getTime()}).annotations({identifier:"DateFromNumber"}){}class cw extends s2(e=>g.isDateTime(e)&&g.isUtc(e),{identifier:"DateTimeUtcFromSelf",description:"a DateTime.Utc instance",pretty:()=>e=>e.toString(),arbitrary:()=>e=>e.date({noInvalidDate:!0}).map(e=>g.unsafeFromDate(e)),equivalence:()=>g.Equivalence}){}let cE=(e,t)=>nb({try:()=>g.unsafeMake(e),catch:()=>new nd(t,e,`Unable to decode ${rl(e)} into a DateTime.Utc`)});class cx extends la(on.annotations({description:"a number to be decoded into a DateTime.Utc"}),cw,{strict:!0,decode:(e,t,r)=>cE(e,r),encode:e=>ng(g.toEpochMillis(e))}).annotations({identifier:"DateTimeUtcFromNumber"}){}class cI extends la(cy.annotations({description:"a Date to be decoded into a DateTime.Utc"}),cw,{strict:!0,decode:(e,t,r)=>cE(e,r),encode:e=>ng(g.toDateUtc(e))}).annotations({identifier:"DateTimeUtcFromDate"}){}class cT extends la(oi.annotations({description:"a string to be decoded into a DateTime.Utc"}),cw,{strict:!0,decode:(e,t,r)=>cE(e,r),encode:e=>ng(g.formatIso(e))}).annotations({identifier:"DateTimeUtc"}){}let cC=()=>e=>e.integer({min:-432e5,max:504e5}).map(g.zoneMakeOffset);class cR extends s2(g.isTimeZoneOffset,{identifier:"TimeZoneOffsetFromSelf",description:"a TimeZone.Offset instance",pretty:()=>e=>e.toString(),arbitrary:cC}){}class cF extends li(on.annotations({description:"a number to be decoded into a TimeZone.Offset"}),cR,{strict:!0,decode:e=>g.zoneMakeOffset(e),encode:e=>e.offset}).annotations({identifier:"TimeZoneOffset"}){}let cA=()=>e=>e.constantFrom(...Intl.supportedValuesOf("timeZone")).map(g.zoneUnsafeMakeNamed);class cO extends s2(g.isTimeZoneNamed,{identifier:"TimeZoneNamedFromSelf",description:"a TimeZone.Named instance",pretty:()=>e=>e.toString(),arbitrary:cA}){}class c_ extends la(oi.annotations({description:"a string to be decoded into a TimeZone.Named"}),cO,{strict:!0,decode:(e,t,r)=>nb({try:()=>g.zoneUnsafeMakeNamed(e),catch:()=>new nd(r,e,`Unable to decode ${JSON.stringify(e)} into a TimeZone.Named`)}),encode:e=>ng(e.id)}).annotations({identifier:"TimeZoneNamed"}){}class cM extends ol(cR,cO){}class cD extends la(oi.annotations({description:"a string to be decoded into a TimeZone"}),cM,{strict:!0,decode:(e,t,r)=>rB.match(g.zoneFromString(e),{onNone:()=>ny(new nd(r,e,`Unable to decode ${JSON.stringify(e)} into a TimeZone`)),onSome:ng}),encode:e=>ng(g.zoneToString(e))}).annotations({identifier:"TimeZone"}){}let cN=e=>e.oneof(cC()(e),cA()(e));class cz extends s2(e=>g.isDateTime(e)&&g.isZoned(e),{identifier:"DateTimeZonedFromSelf",description:"a DateTime.Zoned instance",pretty:()=>e=>e.toString(),arbitrary:()=>e=>e.tuple(e.integer({min:-31536e9,max:31536e9}),cN(e)).map(e=>{let[t,r]=e;return g.unsafeMakeZoned(t,{timeZone:r})}),equivalence:()=>g.Equivalence}){}class cP extends la(oi.annotations({description:"a string to be decoded into a DateTime.Zoned"}),cz,{strict:!0,decode:(e,t,r)=>rB.match(g.makeZonedFromString(e),{onNone:()=>ny(new nd(r,e,`Unable to decode ${JSON.stringify(e)} into a DateTime.Zoned`)),onSome:ng}),encode:e=>ng(g.formatIsoZoned(e))}).annotations({identifier:"DateTimeZoned"}){}let cL=o$({_tag:sQ("None")}).annotations({description:"NoneEncoded"}),cU=e=>"None"===e._tag?rB.none():rB.some(e.value),cj=(e,t)=>r=>r.oneof(t,r.record({_tag:r.constant("None")}),r.record({_tag:r.constant("Some"),value:e(r)})).map(cU),cW=e=>rB.match({onNone:()=>"none()",onSome:t=>`some(${e(t)})`}),cq=e=>(t,r,a)=>rB.isOption(t)?rB.isNone(t)?ng(rB.none()):uN(e(t.value,r),rB.some,a,t):ny(new nd(a,t)),cB=e=>s2([e],{decode:e=>cq(nN(e)),encode:e=>cq(nj(e))},{pretty:cW,arbitrary:cj,equivalence:rB.getEquivalence}),c$=e=>cB(e).annotations({description:`Option<${sU(e)}>`}),cV={_tag:"None"},cH=e=>({_tag:"Some",value:e});function cG(e){return li(ol(cL,o$({_tag:sQ("Some"),value:e}).annotations({description:`SomeEncoded<${sU(e)}>`})).annotations({description:`OptionEncoded<${sU(e)}>`}),c$(sq(e)),{strict:!0,decode:e=>cU(e),encode:e=>rB.match(e,{onNone:()=>cV,onSome:cH})})}function cK(e){return li(ou(e),c$(sq(e)),{strict:!0,decode:e=>rB.fromNullable(e),encode:e=>rB.getOrNull(e)})}function cJ(e,t){return li(od(e),c$(sq(e)),{strict:!0,decode:e=>rB.fromNullable(e),encode:null===t?e=>rB.getOrNull(e):e=>rB.getOrUndefined(e)})}function cZ(e){return li(oc(e),c$(sq(e)),{strict:!0,decode:e=>rB.fromNullable(e),encode:e=>rB.getOrUndefined(e)})}class cQ extends li(oi,c$(lL),{strict:!0,decode:e=>rB.filter(rB.some(e.trim()),sT.isNonEmpty),encode:e=>rB.getOrElse(e,()=>"")}){}let cY=e=>o$({_tag:sQ("Right"),right:e}).annotations({description:`RightEncoded<${sU(e)}>`}),cX=e=>o$({_tag:sQ("Left"),left:e}).annotations({description:`LeftEncoded<${sU(e)}>`}),c0=e=>"Left"===e._tag?S.left(e.left):S.right(e.right),c1=(e,t)=>r=>r.oneof(r.record({_tag:r.constant("Left"),left:t(r)}),r.record({_tag:r.constant("Right"),right:e(r)})).map(c0),c2=(e,t)=>S.match({onLeft:e=>`left(${t(e)})`,onRight:t=>`right(${e(t)})`}),c3=(e,t)=>(r,a,i)=>S.isEither(r)?S.match(r,{onLeft:e=>uN(t(e,a),S.left,i,r),onRight:t=>uN(e(t,a),S.right,i,r)}):ny(new nd(i,r)),c5=e=>{let{left:t,right:r}=e;return s2([r,t],{decode:(e,t)=>c3(nN(e),nN(t)),encode:(e,t)=>c3(nj(e),nj(t))},{description:`Either<${sU(r)}, ${sU(t)}>`,pretty:c2,arbitrary:c1,equivalence:(e,t)=>S.getEquivalence({left:t,right:e})})},c4=e=>({_tag:"Left",left:e}),c8=e=>({_tag:"Right",right:e}),c6=(e,t,r)=>a=>{let i=a.array(a.tuple(e(a),t(a)));return(void 0!==r.depthIdentifier?a.oneof(r,a.constant([]),i):i).map(e=>new Map(e))},c9=(e,t)=>r=>`new Map([${Array.from(r.entries()).map(r=>{let[a,i]=r;return`[${e(a)}, ${t(i)}]`}).join(", ")}])`,c7=(e,t)=>{let r=o.getEquivalence(w.make((r,a)=>{let[i,n]=r,[s,o]=a;return e(i,s)&&t(n,o)}));return w.make((e,t)=>r(Array.from(e.entries()),Array.from(t.entries())))},de=e=>(t,r,a)=>sg.isMap(t)?uN(e(Array.from(t.entries()),r),e=>new Map(e),a,t):ny(new nd(a,t)),dt=(e,t,r)=>s2([e,t],{decode:(e,t)=>de(nN(og(om(e,t)))),encode:(e,t)=>de(nj(og(om(e,t))))},{description:r,pretty:c9,arbitrary:c6,equivalence:c7}),dr=e=>{let{key:t,value:r}=e;return dt(t,r,`ReadonlyMap<${sU(t)}, ${sU(r)}>`)},da=e=>{let{key:t,value:r}=e;return dt(t,r,`Map<${sU(t)}, ${sU(r)}>`)};function di(e){let{key:t,value:r}=e;return li(og(om(t,r)),dr({key:sq(t),value:sq(r)}),{strict:!0,decode:e=>new Map(e),encode:e=>Array.from(e.entries())})}function dn(e){let{key:t,value:r}=e;return li(og(om(t,r)),da({key:sq(t),value:sq(r)}),{strict:!0,decode:e=>new Map(e),encode:e=>Array.from(e.entries())})}let ds=(e,t)=>r=>{let a=r.array(e(r));return(void 0!==t.depthIdentifier?r.oneof(t,r.constant([]),a):a).map(e=>new Set(e))},dl=e=>t=>`new Set([${Array.from(t.values()).map(t=>e(t)).join(", ")}])`,du=e=>{let t=o.getEquivalence(e);return w.make((e,r)=>t(Array.from(e.values()),Array.from(r.values())))},dc=e=>(t,r,a)=>sg.isSet(t)?uN(e(Array.from(t.values()),r),e=>new Set(e),a,t):ny(new nd(a,t)),dd=(e,t)=>s2([e],{decode:e=>dc(nN(og(e))),encode:e=>dc(nj(og(e)))},{description:t,pretty:dl,arbitrary:ds,equivalence:du}),dp=e=>dd(e,`ReadonlySet<${sU(e)}>`),dh=e=>dd(e,`Set<${sU(e)}>`);function df(e){return li(og(e),dp(sq(e)),{strict:!0,decode:e=>new Set(e),encode:e=>Array.from(e)})}function dm(e){return li(og(e),dh(sq(e)),{strict:!0,decode:e=>new Set(e),encode:e=>Array.from(e)})}let dg=()=>e=>`BigDecimal(${l.format(l.normalize(e))})`,dy=()=>e=>e.tuple(e.bigInt(),e.integer({min:0,max:18})).map(e=>{let[t,r]=e;return l.make(t,r)});class db extends s2(l.isBigDecimal,{identifier:"BigDecimalFromSelf",pretty:dg,arbitrary:dy,equivalence:()=>l.Equivalence}){}class dS extends la(oi.annotations({description:"a string to be decoded into a BigDecimal"}),db,{strict:!0,decode:(e,t,r)=>l.fromString(e).pipe(rB.match({onNone:()=>ny(new nd(r,e,`Unable to decode ${JSON.stringify(e)} into a BigDecimal`)),onSome:e=>ng(l.normalize(e))})),encode:e=>ng(l.format(l.normalize(e)))}).annotations({identifier:"BigDecimal"}){}class dv extends li(on.annotations({description:"a number to be decoded into a BigDecimal"}),db,{strict:!0,decode:e=>l.unsafeFromNumber(e),encode:e=>l.unsafeToNumber(e)}).annotations({identifier:"BigDecimalFromNumber"}){}let dk=Symbol.for("effect/SchemaId/GreaterThanBigDecimal"),dw=Symbol.for("effect/schema/GreaterThanOrEqualToBigDecimal"),dE=Symbol.for("effect/SchemaId/LessThanBigDecimal"),dx=Symbol.for("effect/schema/LessThanOrEqualToBigDecimal"),dI=Symbol.for("effect/schema/PositiveBigDecimal"),dT=e=>t=>t.pipe(le(e=>l.isPositive(e),{schemaId:dI,title:"positiveBigDecimal",description:"a positive BigDecimal",...e})),dC=db.pipe(dT({identifier:"PositiveBigDecimalFromSelf"})),dR=Symbol.for("effect/schema/NonNegativeBigDecimal"),dF=e=>t=>t.pipe(le(e=>e.value>=0n,{schemaId:dR,title:"nonNegativeBigDecimal",description:"a non-negative BigDecimal",...e})),dA=db.pipe(dF({identifier:"NonNegativeBigDecimalFromSelf"})),dO=Symbol.for("effect/schema/NegativeBigDecimal"),d_=e=>t=>t.pipe(le(e=>l.isNegative(e),{schemaId:dO,title:"negativeBigDecimal",description:"a negative BigDecimal",...e})),dM=db.pipe(d_({identifier:"NegativeBigDecimalFromSelf"})),dD=Symbol.for("effect/schema/NonPositiveBigDecimal"),dN=e=>t=>t.pipe(le(e=>e.value<=0n,{schemaId:dD,title:"nonPositiveBigDecimal",description:"a non-positive BigDecimal",...e})),dz=db.pipe(dN({identifier:"NonPositiveBigDecimalFromSelf"})),dP=Symbol.for("effect/SchemaId/BetweenBigDecimal"),dL=(e,t,r)=>a=>{let i=l.format(e),n=l.format(t);return a.pipe(le(r=>l.between(r,{minimum:e,maximum:t}),{schemaId:dP,[dP]:{maximum:t,minimum:e},title:`betweenBigDecimal(${i}, ${n})`,description:`a BigDecimal between ${i} and ${n}`,...r}))},dU=(e,t)=>r=>{let a=r.array(e(r));return(void 0!==t.depthIdentifier?r.oneof(t,r.constant([]),a):a).map(p.fromIterable)},dj=e=>t=>`Chunk(${p.toReadonlyArray(t).map(e).join(", ")})`,dW=e=>(t,r,a)=>p.isChunk(t)?p.isEmpty(t)?ng(p.empty()):uN(e(p.toReadonlyArray(t),r),p.fromIterable,a,t):ny(new nd(a,t)),dq=e=>s2([e],{decode:e=>dW(nN(og(e))),encode:e=>dW(nj(og(e)))},{description:`Chunk<${sU(e)}>`,pretty:dj,arbitrary:dU,equivalence:p.getEquivalence});function dB(e){return li(og(e),dq(sq(e)),{strict:!0,decode:e=>0===e.length?p.empty():p.fromIterable(e),encode:e=>p.toReadonlyArray(e)})}let d$=e=>t=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.size,a=t.minLength||0,i=t.maxLength,n=t.depthIdentifier,s=void 0!==i?i:0x7fffffff,o=function(e,t,r,a){let{baseSize:i="small",defaultSizeToMaxWhenMaxSpecified:n}=eb||{},s=void 0!==e?e:a&&n?"max":i;return"max"===s?r:tV(function(e,t){switch(t){case"xsmall":return t$(1.1*e)+1;case"small":return 2*e+10;case"medium":return 11*e+100;case"large":return 101*e+1e3;case"xlarge":return 1001*e+1e4;default:throw Error(`Unable to compute lengths based on received size: ${t}`)}}(t,function(e,t){let r=ee(tG,e);if(-1===r)return e;let a=ee(tH,t);if(-1===a)throw Error(`Unable to offset size based on the unknown defaulted one: ${t}`);let i=a+r-4;return i<0?tH[0]:i>=tH.length?tH[tH.length-1]:tH[i]}(s,i)),r)}(r,a,s,void 0!==i);return new tB(e,a,o,s,n,void 0,t.experimentalCustomSlices||[])})(e(t),{minLength:1}).map(e=>p.unsafeFromNonEmptyArray(e)),dV=e=>t=>`NonEmptyChunk(${p.toReadonlyArray(t).map(e).join(", ")})`,dH=e=>(t,r,a)=>p.isChunk(t)&&p.isNonEmpty(t)?uN(e(p.toReadonlyArray(t),r),p.unsafeFromNonEmptyArray,a,t):ny(new nd(a,t)),dG=e=>s2([e],{decode:e=>dH(nN(oy(e))),encode:e=>dH(nj(oy(e)))},{description:`NonEmptyChunk<${sU(e)}>`,pretty:dV,arbitrary:d$,equivalence:p.getEquivalence});function dK(e){return li(oy(e),dG(sq(e)),{strict:!0,decode:e=>p.unsafeFromNonEmptyArray(e),encode:e=>p.toReadonlyArray(e)})}let dJ=e=>Array.isArray(e)?m.array(e):m.struct(e),dZ=e=>t=>e(t).map(dJ),dQ=e=>t=>`Data(${e(t)})`,dY=e=>(t,r,a)=>k.isEqual(t)?uN(e(t,r),dJ,a,t):ny(new nd(a,t)),dX=e=>s2([e],{decode:e=>dY(nN(e)),encode:e=>dY(nj(e))},{description:`Data<${sU(e)}>`,pretty:dQ,arbitrary:dZ}),d0=e=>Reflect.ownKeys(e).every(t=>{let r;return sZ(r=e[t])||oC(r)}),d1=e=>"fields"in e?e.fields:d1(e[o6]),d2=e=>d0(e)?o$(e):sZ(e)?e:o$(d1(e)),d3=e=>d0(e)?e:d1(e),d5=e=>o_(oO(sQ(e)),()=>e),d4=(e,t)=>{let r={...e};for(let a of Reflect.ownKeys(t)){if(a in e)throw Error(rS(a));r[a]=t[a]}return r};function d8(e){return sg.isBoolean(e)?e:e?.disableValidation??!1}let d6=(0,t7.globalValue)("effect/Schema/astCache",()=>new WeakMap),d9=e=>{let{Base:t,annotations:r,disableToString:a,fields:i,identifier:n,kind:s,schema:o}=e,l=Symbol.for(`effect/Schema/${s}/${n}`),[u,c,d]=void 0===r?[]:Array.isArray(r)?r:[r],p=sq(o),h=p.annotations({identifier:n,...u}),f=p.annotations({[r1]:`${n} (Type side)`,...u}),m=o.annotations({[r1]:`${n} (Constructor)`,...u}),g=o.annotations({[r1]:`${n} (Encoded side)`,...d}),y=o.annotations({...d,...u,...c}),b=class extends t{constructor(e={},t=!1){e={...e},"Class"!==s&&delete e._tag,e=oq(i,e),d8(t)||(e=nW(m)(e)),super(e,!0)}static [sF]=sO;static get ast(){let e=d6.get(this);return e||(e=li(g,s2([o],{decode:()=>(e,t,r)=>e instanceof this||sg.hasProperty(e,l)&&n$(f)(e)?ng(e):ny(new nd(r,e)),encode:()=>(e,t)=>e instanceof this?ng(e):nw(nj(f)(e,t),e=>new this(e,!0))},{identifier:n,pretty:e=>t=>`${n}(${e(t)})`,arbitrary:e=>t=>e(t).map(e=>new this(e)),equivalence:t9.identity,[an]:h.ast,...u}),{strict:!0,decode:e=>new this(e,!0),encode:t9.identity}).annotations({[an]:y.ast,...c}).ast,d6.set(this,e)),e}static pipe(){return(0,sm.pipeArguments)(this,arguments)}static annotations(e){return sA(this.ast).annotations(e)}static toString(){return`(${String(g)} <-> ${n})`}static make(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new this(...t)}static fields={...i};static identifier=n;static extend(e){return(t,r)=>{let a=d3(t),n=d2(t),l=d4(i,a);return d9({kind:s,identifier:e,schema:o5(o,n),fields:l,Base:this,annotations:r})}}static transformOrFail(e){return(t,r,a)=>{let n=d4(i,t);return d9({kind:s,identifier:e,schema:la(o,sq(o$(n)),r),fields:n,Base:this,annotations:a})}}static transformOrFailFrom(e){return(t,r,a)=>{let n=d4(i,t);return d9({kind:s,identifier:e,schema:la(sj(o),o$(n),r),fields:n,Base:this,annotations:a})}}get[l](){return l}};return!0!==a&&Object.defineProperty(b.prototype,"toString",{value(){return`${n}({ ${Reflect.ownKeys(i).map(e=>`${ru(e)}: ${rl(this[e])}`).join(", ")} })`},configurable:!0,writable:!0}),b},d7=ol(o$({_tag:sQ("None")}).annotations({identifier:"FiberIdNoneEncoded"}),o$({_tag:sQ("Runtime"),id:ua,startTimeMillis:ua}).annotations({identifier:"FiberIdRuntimeEncoded"}),o$({_tag:sQ("Composite"),left:o8(()=>d7),right:o8(()=>d7)}).annotations({identifier:"FiberIdCompositeEncoded"})).annotations({identifier:"FiberIdEncoded"}),pe=e=>e.letrec(t=>({None:e.record({_tag:e.constant("None")}),Runtime:e.record({_tag:e.constant("Runtime"),id:e.integer(),startTimeMillis:e.integer()}),Composite:e.record({_tag:e.constant("Composite"),left:t("FiberId"),right:t("FiberId")}),FiberId:e.oneof(t("None"),t("Runtime"),t("Composite"))})).FiberId.map(pa),pt=e=>{switch(e._tag){case"None":return"FiberId.none";case"Runtime":return`FiberId.runtime(${e.id}, ${e.startTimeMillis})`;case"Composite":return`FiberId.composite(${pt(e.right)}, ${pt(e.left)})`}};class pr extends s2(t6.isFiberId,{identifier:"FiberIdFromSelf",pretty:()=>pt,arbitrary:()=>pe}){}let pa=e=>{switch(e._tag){case"None":return t6.none;case"Runtime":return t6.runtime(e.id,e.startTimeMillis);case"Composite":return t6.composite(pa(e.left),pa(e.right))}},pi=e=>{switch(e._tag){case"None":return{_tag:"None"};case"Runtime":return{_tag:"Runtime",id:e.id,startTimeMillis:e.startTimeMillis};case"Composite":return{_tag:"Composite",left:pi(e.left),right:pi(e.right)}}};class pn extends li(d7,pr,{strict:!0,decode:e=>pa(e),encode:e=>pi(e)}).annotations({identifier:"FiberId"}){}let ps=o$({_tag:sQ("Empty")}),po=o$({_tag:sQ("Interrupt"),fiberId:d7}),pl=0,pu=(e,t)=>{let r=o8(()=>a),a=ol(ps,o$({_tag:sQ("Fail"),error:e}),o$({_tag:sQ("Die"),defect:t}),po,o$({_tag:sQ("Sequential"),left:r,right:r}),o$({_tag:sQ("Parallel"),left:r,right:r})).annotations({title:`CauseEncoded<${sU(e)}>`,[aE]:`CauseEncoded${pl++}`});return a},pc=(e,t)=>r=>r.letrec(a=>({Empty:r.record({_tag:r.constant("Empty")}),Fail:r.record({_tag:r.constant("Fail"),error:e(r)}),Die:r.record({_tag:r.constant("Die"),defect:t(r)}),Interrupt:r.record({_tag:r.constant("Interrupt"),fiberId:pe(r)}),Sequential:r.record({_tag:r.constant("Sequential"),left:a("Cause"),right:a("Cause")}),Parallel:r.record({_tag:r.constant("Parallel"),left:a("Cause"),right:a("Cause")}),Cause:r.oneof(a("Empty"),a("Fail"),a("Die"),a("Interrupt"),a("Sequential"),a("Parallel"))})).Cause.map(pf),pd=e=>t=>{let r=t=>{switch(t._tag){case"Empty":return"Cause.empty";case"Fail":return`Cause.fail(${e(t.error)})`;case"Die":return`Cause.die(${d.pretty(t)})`;case"Interrupt":return`Cause.interrupt(${pt(t.fiberId)})`;case"Sequential":return`Cause.sequential(${r(t.left)}, ${r(t.right)})`;case"Parallel":return`Cause.parallel(${r(t.left)}, ${r(t.right)})`}};return r(t)},pp=e=>(t,r,a)=>d.isCause(t)?uN(e(pm(t),r),pf,a,t):ny(new nd(a,t)),ph=e=>{let{defect:t,error:r}=e;return s2([r,t],{decode:(e,t)=>pp(nN(pu(e,t))),encode:(e,t)=>pp(nj(pu(e,t)))},{title:`Cause<${r.ast}>`,pretty:pd,arbitrary:pc})};function pf(e){switch(e._tag){case"Empty":return d.empty;case"Fail":return d.fail(e.error);case"Die":return d.die(e.defect);case"Interrupt":return d.interrupt(pa(e.fiberId));case"Sequential":return d.sequential(pf(e.left),pf(e.right));case"Parallel":return d.parallel(pf(e.left),pf(e.right))}}function pm(e){switch(e._tag){case"Empty":return{_tag:"Empty"};case"Fail":return{_tag:"Fail",error:e.error};case"Die":return{_tag:"Die",defect:e.defect};case"Interrupt":return{_tag:"Interrupt",fiberId:e.fiberId};case"Sequential":return{_tag:"Sequential",left:pm(e.left),right:pm(e.right)};case"Parallel":return{_tag:"Parallel",left:pm(e.left),right:pm(e.right)}}}class pg extends li(oe,oe,{strict:!0,decode:e=>{if(sg.isObject(e)&&"message"in e&&"string"==typeof e.message){let t=Error(e.message,{cause:e});return"name"in e&&"string"==typeof e.name&&(t.name=e.name),t.stack="stack"in e&&"string"==typeof e.stack?e.stack:"",t}return rr.prettyErrorMessage(e)},encode:e=>e instanceof Error?{name:e.name,message:e.message}:rr.prettyErrorMessage(e)}).annotations({identifier:"Defect"}){}let py=e=>{switch(e._tag){case"Failure":return E.failCause(pf(e.cause));case"Success":return E.succeed(e.value)}},pb=(e,t,r)=>a=>a.oneof(a.record({_tag:a.constant("Failure"),cause:pc(t,r)(a)}),a.record({_tag:a.constant("Success"),value:e(a)})).map(py),pS=(e,t)=>r=>"Failure"===r._tag?`Exit.failCause(${pd(t)(r.cause)})`:`Exit.succeed(${e(r.value)})`,pv=(e,t)=>(r,a,i)=>E.isExit(r)?E.match(r,{onFailure:e=>uN(t(e,a),E.failCause,i,r),onSuccess:t=>uN(e(t,a),E.succeed,i,r)}):ny(new nd(i,r)),pk=e=>{let{defect:t,failure:r,success:a}=e;return s2([a,r,t],{decode:(e,t,r)=>pv(nN(e),nN(ph({error:t,defect:r}))),encode:(e,t,r)=>pv(nj(e),nj(ph({error:t,defect:r})))},{title:`Exit<${a.ast}, ${r.ast}>`,pretty:pS,arbitrary:pb})},pw=e=>{let{defect:t,failure:r,success:a}=e;return li(ol(o$({_tag:sQ("Failure"),cause:pu(r,t)}),o$({_tag:sQ("Success"),value:a})).annotations({title:`ExitEncoded<${sU(a)}, ${sU(r)}, ${sU(t)}>`}),pk({failure:sq(r),success:sq(a),defect:sq(t)}),{strict:!1,decode:e=>py(e),encode:e=>"Failure"===e._tag?{_tag:"Failure",cause:e.cause}:{_tag:"Success",value:e.value}})},pE=(e,t)=>r=>{let a=r.array(e(r));return(void 0!==t.depthIdentifier?r.oneof(t,r.constant([]),a):a).map(rt.fromIterable)},px=e=>t=>`HashSet(${Array.from(t).map(t=>e(t)).join(", ")})`,pI=e=>{let t=o.getEquivalence(e);return w.make((e,r)=>t(Array.from(e),Array.from(r)))},pT=e=>(t,r,a)=>rt.isHashSet(t)?uN(e(Array.from(t),r),rt.fromIterable,a,t):ny(new nd(a,t)),pC=e=>s2([e],{decode:e=>pT(nN(og(e))),encode:e=>pT(nj(og(e)))},{description:`HashSet<${sU(e)}>`,pretty:px,arbitrary:pE,equivalence:pI});function pR(e){return li(og(e),pC(sq(e)),{strict:!0,decode:e=>rt.fromIterable(e),encode:e=>Array.from(e)})}let pF=(e,t,r)=>a=>{let i=a.array(a.tuple(e(a),t(a)));return(void 0!==r.depthIdentifier?a.oneof(r,a.constant([]),i):i).map(re.fromIterable)},pA=(e,t)=>r=>`HashMap([${Array.from(r).map(r=>{let[a,i]=r;return`[${e(a)}, ${t(i)}]`}).join(", ")}])`,pO=(e,t)=>{let r=o.getEquivalence(w.make((r,a)=>{let[i,n]=r,[s,o]=a;return e(i,s)&&t(n,o)}));return w.make((e,t)=>r(Array.from(e),Array.from(t)))},p_=e=>(t,r,a)=>re.isHashMap(t)?uN(e(Array.from(t),r),re.fromIterable,a,t):ny(new nd(a,t)),pM=e=>{let{key:t,value:r}=e;return s2([t,r],{decode:(e,t)=>p_(nN(og(om(e,t)))),encode:(e,t)=>p_(nj(og(om(e,t))))},{description:`HashMap<${sU(t)}, ${sU(r)}>`,pretty:pA,arbitrary:pF,equivalence:pO})},pD=(e,t)=>r=>{let a=r.array(e(r));return(void 0!==t.depthIdentifier?r.oneof(t,r.constant([]),a):a).map(rW.fromIterable)},pN=e=>t=>`List(${Array.from(t).map(t=>e(t)).join(", ")})`,pz=e=>{let t=o.getEquivalence(e);return w.make((e,r)=>t(Array.from(e),Array.from(r)))},pP=e=>(t,r,a)=>rW.isList(t)?uN(e(Array.from(t),r),rW.fromIterable,a,t):ny(new nd(a,t)),pL=e=>s2([e],{decode:e=>pP(nN(og(e))),encode:e=>pP(nj(og(e)))},{description:`List<${sU(e)}>`,pretty:pN,arbitrary:pD,equivalence:pz});function pU(e){return li(og(e),pL(sq(e)),{strict:!0,decode:e=>rW.fromIterable(e),encode:e=>Array.from(e)})}let pj=e=>t=>`new SortedSet([${Array.from(sI.values(t)).map(t=>e(t)).join(", ")}])`,pW=(e,t)=>(r,a,i)=>sI.isSortedSet(r)?uN(e(Array.from(sI.values(r)),a),e=>sI.fromIterable(e,t),i,r):ny(new nd(i,r)),pq=(e,t,r)=>s2([e],{decode:e=>pW(nN(og(e)),t),encode:e=>pW(nj(og(e)),r)},{description:`SortedSet<${sU(e)}>`,pretty:pj,arbitrary:(e,r)=>a=>{let i=a.array(e(a));return(void 0!==r.depthIdentifier?a.oneof(r,a.constant([]),i):i).map(e=>sI.fromIterable(e,t))},equivalence:()=>sI.getEquivalence()});function pB(e,t){let r=sq(e);return li(og(e),pq(r,t,t),{strict:!0,decode:e=>sI.fromIterable(e,t),encode:e=>Array.from(sI.values(e))})}class p$ extends li(oe,os,{strict:!0,decode:e=>sg.isTruthy(e),encode:t9.identity}).annotations({identifier:"BooleanFromUnknown"}){}class pV extends li(sQ("true","false").annotations({description:"a string to be decoded into a boolean"}),os,{strict:!0,decode:e=>"true"===e,encode:e=>e?"true":"false"}).annotations({identifier:"BooleanFromString"}){}let pH=Symbol.for("effect/Schema/Serializable/symbol"),pG=(0,t9.dual)(2,(e,t)=>sH(e[pH])(t)),pK=Symbol.for("effect/Schema/Serializable/symbolResult"),pJ=e=>e[pK].failure,pZ=e=>e[pK].success,pQ=(0,t7.globalValue)("effect/Schema/Serializable/exitSchemaCache",()=>new WeakMap),pY=e=>{let t=Object.getPrototypeOf(e);if(!(pK in t))return pw({failure:pJ(e),success:pZ(e),defect:pg});let r=pQ.get(t);return void 0===r&&(r=pw({failure:pJ(e),success:pZ(e),defect:pg}),pQ.set(t,r)),r},pX=(0,t9.dual)(2,(e,t)=>sB(e[pK].failure)(t)),p0=(0,t9.dual)(2,(e,t)=>sH(e[pK].failure)(t)),p1=(0,t9.dual)(2,(e,t)=>sB(e[pK].success)(t)),p2=(0,t9.dual)(2,(e,t)=>sH(e[pK].success)(t)),p3=(0,t9.dual)(2,(e,t)=>sB(pY(e))(t)),p5=(0,t9.dual)(2,(e,t)=>sH(pY(e))(t)),p4=ao(r9),p8=(e,t)=>{let r=p4(e);if(rB.isSome(r))switch(e._tag){case"Declaration":return r.value(...e.typeParameters.map(e=>p8(e,t)));case"Refinement":return r.value(p8(e.from,t));default:return r.value()}switch(e._tag){case"NeverKeyword":throw Error(rp("Unsupported schema","Cannot build an Equivalence",t,e));case"Transformation":return p8(e.to,t);case"Declaration":case"Literal":case"StringKeyword":case"TemplateLiteral":case"UniqueSymbol":case"SymbolKeyword":case"UnknownKeyword":case"AnyKeyword":case"NumberKeyword":case"BooleanKeyword":case"BigIntKeyword":case"UndefinedKeyword":case"VoidKeyword":case"Enums":case"ObjectKeyword":return k.equals;case"Refinement":return p8(e.from,t);case"Suspend":{let r=rn(()=>p8(e.f(),t));return(e,t)=>r()(e,t)}case"TupleType":{let r=e.elements.map((e,r)=>p8(e.type,t.concat(r))),a=e.rest.map(e=>p8(e.type,t));return w.make((t,i)=>{if(!Array.isArray(t)||!Array.isArray(i))return!1;let n=t.length;if(n!==i.length)return!1;let s=0;for(;s<Math.min(n,e.elements.length);s++)if(!r[s](t[s],i[s]))return!1;if(o.isNonEmptyReadonlyArray(a)){let[e,...r]=a;for(;s<n-r.length;s++)if(!e(t[s],i[s]))return!1;for(let e=0;e<r.length;e++)if(s+=e,!r[e](t[s],i[s]))return!1}return!0})}case"TypeLiteral":{if(0===e.propertySignatures.length&&0===e.indexSignatures.length)return k.equals;let r=e.propertySignatures.map(e=>p8(e.type,t.concat(e.name))),a=e.indexSignatures.map(e=>p8(e.type,t));return w.make((t,i)=>{let n,s;if(!sg.isRecord(t)||!sg.isRecord(i))return!1;let o=Object.keys(t),l=Object.getOwnPropertySymbols(t);for(let a=0;a<r.length;a++){let n=e.propertySignatures[a],s=n.name,o=Object.prototype.hasOwnProperty.call(t,s),l=Object.prototype.hasOwnProperty.call(i,s);if(n.isOptional&&o!==l||o&&l&&!r[a](t[s],i[s]))return!1}for(let r=0;r<a.length;r++){let u=aG(i2(e.indexSignatures[r].parameter));if(u){if(n=n||Object.getOwnPropertySymbols(i),l.length!==n.length)return!1}else if(s=s||Object.keys(i),o.length!==s.length)return!1;let c=u?l:o;for(let e=0;e<c.length;e++){let n=c[e];if(!Object.prototype.hasOwnProperty.call(i,n)||!a[r](t[n],i[n]))return!1}}return!0})}case"Union":{let r=nX(e.types,!0),a=Reflect.ownKeys(r.keys),i=a.length;return w.make((e,n)=>{let s=[];if(i>0&&sg.isRecordOrArray(e))for(let t=0;t<i;t++){let i=a[t],n=r.keys[i].buckets;if(Object.prototype.hasOwnProperty.call(e,i)){let t=String(e[i]);Object.prototype.hasOwnProperty.call(n,t)&&(s=s.concat(n[t]))}}r.otherwise.length>0&&(s=s.concat(r.otherwise));let o=s.map(e=>[p8(e,t),n$({ast:e})]);for(let t=0;t<o.length;t++){let[r,a]=o[t];if(a(e)&&a(n)&&r(e,n))return!0}return!1})}}},p6=oH("symbol",{key:oi}).annotations({description:"an object to be decoded into a globally shared symbol"}),p9=la(p6,oa,{strict:!0,decode:e=>uh(e.key),encode:(e,t,r)=>nw(up(e,r),e=>p6.make({key:e}))});class p7 extends ol(oi,on,p9).annotations({identifier:"PropertyKey"}){}class he extends o$({_tag:oO(sQ("Pointer","Unexpected","Missing","Composite","Refinement","Transformation","Type","Forbidden")).annotations({description:"The tag identifying the type of parse issue"}),path:oO(og(p7)).annotations({description:"The path to the property where the issue occurred"}),message:oO(oi).annotations({description:"A descriptive message explaining the issue"})}).annotations({identifier:"ArrayFormatterIssue",description:"Represents an issue returned by the ArrayFormatter formatter"}){}e.s(["Any",()=>ot,"Array",()=>og,"ArrayEnsure",()=>ob,"ArrayFormatterIssue",()=>he,"BetweenBigDecimalSchemaId",0,dP,"BetweenBigIntSchemaId",0,rD,"BetweenDateSchemaId",0,cm,"BetweenDurationSchemaId",0,u1,"BetweenSchemaId",0,rF,"BigDecimal",()=>dS,"BigDecimalFromNumber",()=>dv,"BigDecimalFromSelf",()=>db,"BigInt",()=>ux,"BigIntFromNumber",()=>uM,"BigIntFromSelf",()=>or,"Boolean",()=>os,"BooleanFromString",()=>pV,"BooleanFromUnknown",()=>p$,"BrandSchemaId",0,s3,"Capitalize",()=>lN,"Capitalized",()=>lC,"CapitalizedSchemaId",0,lI,"Cause",0,e=>{let{defect:t,error:r}=e;return li(pu(r,t),ph({error:sq(r),defect:sq(t)}),{strict:!1,decode:e=>pf(e),encode:e=>pm(e)})},"CauseFromSelf",0,ph,"Char",()=>lO,"Chunk",()=>dB,"ChunkFromSelf",0,dq,"Class",0,e=>(t,r)=>d9({kind:"Class",identifier:e,schema:d2(t),fields:d3(t),Base:m.Class,annotations:r}),"Config",0,(e,t)=>{let r=nM(t);return h.string(e).pipe(h.mapOrFail(e=>r(e).pipe(S.mapLeft(e=>f.InvalidData([],n8.formatIssueSync(e))))))},"Data",0,e=>li(e,dX(sq(e)),{strict:!1,decode:e=>dJ(e),encode:e=>Array.isArray(e)?Array.from(e):Object.assign({},e)}),"DataFromSelf",0,dX,"Date",()=>cv,"DateFromNumber",()=>ck,"DateFromSelf",()=>cy,"DateFromSelfSchemaId",0,cg,"DateFromString",()=>cS,"DateTimeUtc",()=>cT,"DateTimeUtcFromDate",()=>cI,"DateTimeUtcFromNumber",()=>cx,"DateTimeUtcFromSelf",()=>cw,"DateTimeZoned",()=>cP,"DateTimeZonedFromSelf",()=>cz,"Defect",()=>pg,"Duration",()=>uZ,"DurationFromMillis",()=>uq,"DurationFromNanos",()=>uj,"DurationFromSelf",()=>uU,"Either",0,e=>{let{left:t,right:r}=e;return li(ol(cY(r),cX(t)).annotations({description:`EitherEncoded<${sU(t)}, ${sU(r)}>`}),c5({left:sq(t),right:sq(r)}),{strict:!0,decode:e=>c0(e),encode:e=>S.match(e,{onLeft:c4,onRight:c8})})},"EitherFromSelf",0,c5,"EitherFromUnion",0,e=>{let{left:t,right:r}=e,a=sq(r),i=sq(t),n=li(r,cY(a),{strict:!0,decode:e=>c8(e),encode:e=>e.right}),s=li(t,cX(i),{strict:!0,decode:e=>c4(e),encode:e=>e.left});return li(ol(n,s),c5({left:i,right:a}),{strict:!0,decode:e=>"Left"===e._tag?S.left(e.left):S.right(e.right),encode:e=>S.match(e,{onLeft:c4,onRight:c8})})},"EndsWithSchemaId",0,ly,"Enums",0,e=>sX(e),"Exit",0,pw,"ExitFromSelf",0,pk,"FiberId",()=>pn,"FiberIdFromSelf",()=>pr,"Finite",()=>ur,"FiniteSchemaId",0,rC,"FromPropertySignature",()=>ow,"GreaterThanBigDecimalSchemaId",0,dk,"GreaterThanBigIntSchemaId",0,rA,"GreaterThanDateSchemaId",0,ch,"GreaterThanDurationSchemaId",0,uX,"GreaterThanOrEqualToBigDecimalSchemaId",0,dw,"GreaterThanOrEqualToBigIntSchemaId",0,rO,"GreaterThanOrEqualToDateSchemaId",0,cf,"GreaterThanOrEqualToDurationSchemaId",0,u0,"GreaterThanOrEqualToSchemaId",0,rw,"GreaterThanSchemaId",0,rk,"HashMap",0,e=>{let{key:t,value:r}=e;return li(og(om(t,r)),pM({key:sq(t),value:sq(r)}),{strict:!0,decode:e=>re.fromIterable(e),encode:e=>Array.from(e)})},"HashMapFromSelf",0,pM,"HashSet",()=>pR,"HashSetFromSelf",0,pC,"IncludesSchemaId",0,lb,"InstanceOfSchemaId",0,s5,"Int",()=>ua,"IntSchemaId",0,rI,"ItemsCountSchemaId",0,rj,"JsonNumber",()=>uc,"JsonNumberSchemaId",0,uu,"LengthSchemaId",0,rP,"LessThanBigDecimalSchemaId",0,dE,"LessThanBigIntSchemaId",0,r_,"LessThanDateSchemaId",0,cd,"LessThanDurationSchemaId",0,uQ,"LessThanOrEqualToBigDecimalSchemaId",0,dx,"LessThanOrEqualToBigIntSchemaId",0,rM,"LessThanOrEqualToDateSchemaId",0,cp,"LessThanOrEqualToDurationSchemaId",0,uY,"LessThanOrEqualToSchemaId",0,rx,"LessThanSchemaId",0,rE,"List",()=>pU,"ListFromSelf",0,pL,"Literal",()=>sQ,"Lowercase",()=>lM,"Lowercased",()=>lk,"LowercasedSchemaId",0,lS,"Map",()=>dn,"MapFromRecord",0,e=>{let{key:t,value:r}=e;return li(oG({key:sW(t),value:r}).annotations({description:"a record to be decoded into a Map"}),da({key:t,value:sq(r)}),{strict:!0,decode:e=>new Map(Object.entries(e)),encode:e=>Object.fromEntries(e)})},"MapFromSelf",0,da,"MaxItemsSchemaId",0,rU,"MaxLengthSchemaId",0,rz,"MinItemsSchemaId",0,rL,"MinLengthSchemaId",0,rN,"MultipleOfSchemaId",0,l0,"Negative",()=>us,"NegativeBigDecimalFromSelf",0,dM,"NegativeBigDecimalSchemaId",0,dO,"NegativeBigInt",0,uR,"NegativeBigIntFromSelf",0,uC,"Never",()=>s7,"NonEmptyArray",0,oy,"NonEmptyArrayEnsure",()=>oS,"NonEmptyChunk",()=>dK,"NonEmptyChunkFromSelf",0,dG,"NonEmptyString",()=>lq,"NonEmptyTrimmedString",()=>lL,"NonNaN",()=>ui,"NonNaNSchemaId",0,rT,"NonNegative",()=>ul,"NonNegativeBigDecimalFromSelf",0,dA,"NonNegativeBigDecimalSchemaId",0,dR,"NonNegativeBigInt",0,u_,"NonNegativeBigIntFromSelf",0,uO,"NonNegativeInt",0,uW,"NonPositive",()=>uo,"NonPositiveBigDecimalFromSelf",0,dz,"NonPositiveBigDecimalSchemaId",0,dD,"NonPositiveBigInt",0,uA,"NonPositiveBigIntFromSelf",0,uF,"Not",()=>ud,"Null",()=>s9,"NullOr",0,ou,"NullishOr",0,od,"Number",()=>on,"NumberFromString",()=>ut,"Object",()=>oo,"Option",()=>cG,"OptionFromNonEmptyTrimmedString",()=>cQ,"OptionFromNullOr",()=>cK,"OptionFromNullishOr",()=>cJ,"OptionFromSelf",0,c$,"OptionFromUndefinedOr",()=>cZ,"PatternSchemaId",0,lf,"Positive",()=>un,"PositiveBigDecimalFromSelf",0,dC,"PositiveBigDecimalSchemaId",0,dI,"PositiveBigInt",0,uT,"PositiveBigIntFromSelf",0,uI,"PropertyKey",()=>p7,"PropertySignatureDeclaration",()=>ok,"PropertySignatureTransformation",()=>ox,"PropertySignatureTypeId",0,oT,"ReadonlyMap",()=>di,"ReadonlyMapFromRecord",0,e=>{let{key:t,value:r}=e;return li(oG({key:sW(t),value:r}).annotations({description:"a record to be decoded into a ReadonlyMap"}),dr({key:t,value:sq(r)}),{strict:!0,decode:e=>new Map(Object.entries(e)),encode:e=>Object.fromEntries(e)})},"ReadonlyMapFromSelf",0,dr,"ReadonlySet",()=>df,"ReadonlySetFromSelf",0,dp,"Record",0,oG,"Redacted",()=>uL,"RedactedFromSelf",0,uP,"RefineSchemaId",0,o6,"Set",()=>dm,"SetFromSelf",0,dh,"SortedSet",()=>pB,"SortedSetFromSelf",0,pq,"StartsWithSchemaId",0,lg,"String",()=>oi,"StringFromBase64",0,ct,"StringFromBase64Url",0,cr,"StringFromHex",0,ca,"StringFromUriComponent",0,ci,"Struct",()=>o$,"Symbol",()=>uf,"SymbolFromSelf",()=>oa,"TaggedClass",0,e=>(t,r,a)=>{let i=d3(r),n=d2(r),s={_tag:d5(t)},o=d4(s,i);return class extends d9({kind:"TaggedClass",identifier:e??t,schema:o5(n,o$(s)),fields:o,Base:m.Class,annotations:a}){static _tag=t}},"TaggedError",0,e=>(t,r,a)=>{class i extends m.Error{}i.prototype.name=t;let n=d3(r),s=d2(r),o={_tag:d5(t)},l=d4(o,n),u="message"in l;class c extends d9({kind:"TaggedError",identifier:e??t,schema:o5(s,o$(o)),fields:l,Base:i,annotations:a,disableToString:!0}){static _tag=t}return u||Object.defineProperty(c.prototype,"message",{get(){return`{ ${Reflect.ownKeys(n).map(e=>`${ru(e)}: ${rl(this[e])}`).join(", ")} }`},enumerable:!1,configurable:!0}),c},"TaggedRequest",0,e=>(t,r,a)=>{let i=d4({_tag:d5(t)},r.payload);return class extends d9({kind:"TaggedRequest",identifier:e??t,schema:o$(i),fields:i,Base:sx.Class,annotations:a}){static _tag=t;static success=r.success;static failure=r.failure;get[pH](){return this.constructor}get[pK](){return{failure:r.failure,success:r.success}}}},"TaggedStruct",0,oH,"TemplateLiteral",0,s0,"TemplateLiteralParser",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=[],i=[],n=[],s=!1;for(let e=0;e<t.length;e++){let r=t[e],o=sZ(r)?r:sQ(r);n.push(o);let l=sj(o);a.push(l);let u=function e(t,r){let a=t.ast;switch(a._tag){case"Literal":{let e=a.literal;if(!sg.isString(e)){let t=String(e);return li(sQ(t),r,{strict:!0,decode:()=>e,encode:()=>t})}break}case"NumberKeyword":return o4(ut,r);case"Union":{let t=[],i=!1;for(let r of a.types){let a=sA(r),n=e(sj(a),a);n&&(i=!0),t.push(n??a)}return i?o4(ol(...t),r):r}}}(l,o);u?(i.push(u),s=!0):i.push(o)}let o=s0(...a),l=iM(o.ast),u=om(...i);return s&&(u=u.annotations({[r1]:sU(om(...n))})),class extends la(o,u,{strict:!1,decode:(e,r,a)=>{let i=l.exec(e);return i?ng(i.slice(1,t.length+1)):ny(new nd(a,e,`${l.source}: no match for ${JSON.stringify(e)}`))},encode:e=>ng(e.join(""))}){static params=t.slice()}},"TimeZone",()=>cD,"TimeZoneFromSelf",()=>cM,"TimeZoneNamed",()=>c_,"TimeZoneNamedFromSelf",()=>cO,"TimeZoneOffset",()=>cF,"TimeZoneOffsetFromSelf",()=>cR,"ToPropertySignature",()=>oE,"Trim",()=>lU,"Trimmed",()=>lP,"TrimmedSchemaId",0,lc,"Tuple",()=>om,"TypeId",0,sF,"ULID",()=>lK,"ULIDSchemaId",0,lH,"URL",()=>lZ,"URLFromSelf",()=>lJ,"UUID",()=>lV,"UUIDSchemaId",0,lB,"Uint8",()=>u5,"Uint8Array",()=>u4,"Uint8ArrayFromBase64",0,u6,"Uint8ArrayFromBase64Url",0,u9,"Uint8ArrayFromHex",0,u7,"Uint8ArrayFromSelf",()=>u3,"Uncapitalize",()=>lz,"Uncapitalized",()=>lA,"UncapitalizedSchemaId",0,lR,"Undefined",()=>s8,"UndefinedOr",0,oc,"Union",()=>ol,"UniqueSymbolFromSelf",0,sY,"Unknown",()=>oe,"Uppercase",()=>lD,"Uppercased",()=>lx,"UppercasedSchemaId",0,lw,"ValidDateFromSelf",()=>cb,"ValidDateSchemaId",0,cu,"Void",()=>s6,"annotations",0,ll,"asSchema",()=>sL,"asSerializable",0,e=>e,"asSerializableWithResult",0,e=>e,"asWithResult",0,e=>e,"attachPropertySignature",0,lo,"between",0,l5,"betweenBigDecimal",0,dL,"betweenBigInt",0,uS,"betweenDate",0,(e,t,r)=>a=>a.pipe(le(r=>r<=t&&r>=e,{schemaId:cm,[cm]:{max:t,min:e},title:`betweenDate(${rs(e)}, ${rs(t)})`,description:`a date between ${rs(e)} and ${rs(t)}`,...r})),"betweenDuration",0,u2,"brand",0,(e,t)=>r=>{let a=rB.match(al(r.ast),{onNone:()=>[e],onSome:t=>[...t,e]}),i=iC(r.ast,sz({[rJ]:a,...t}));return oZ(r,i)},"capitalized",0,lT,"clamp",0,(e,t)=>r=>li(r,sq(r).pipe(l5(e,t)),{strict:!1,decode:r=>rq.clamp(r,{minimum:e,maximum:t}),encode:t9.identity}),"clampBigDecimal",0,(e,t)=>r=>li(r,r.pipe(sq,dL(e,t)),{strict:!1,decode:r=>l.clamp(r,{minimum:e,maximum:t}),encode:t9.identity}),"clampBigInt",0,(e,t)=>r=>li(r,r.pipe(sq,uS(e,t)),{strict:!1,decode:r=>u.clamp(r,{minimum:e,maximum:t}),encode:t9.identity}),"clampDuration",0,(e,t)=>r=>li(r,r.pipe(sq,u2(e,t)),{strict:!1,decode:r=>y.clamp(r,{minimum:e,maximum:t}),encode:t9.identity}),"compose",0,o4,"declare",0,s2,"decode",0,sH,"decodeEither",0,sG,"decodePromise",0,sK,"decodeUnknown",0,sH,"decodeUnknownEither",0,sG,"decodeUnknownPromise",0,sK,"deserialize",0,pG,"deserializeExit",0,p5,"deserializeFailure",0,p0,"deserializeSuccess",0,p2,"element",0,op,"encode",0,sB,"encodeEither",0,s$,"encodePromise",0,sV,"encodeUnknown",0,sB,"encodeUnknownEither",0,s$,"encodeUnknownPromise",0,sV,"encodedBoundSchema",0,sW,"encodedSchema",0,sj,"endsWith",0,(e,t)=>r=>{let a=JSON.stringify(e);return r.pipe(le(t=>t.endsWith(e),{schemaId:ly,[ly]:{endsWith:e},title:`endsWith(${a})`,description:`a string ending with ${a}`,jsonSchema:{pattern:`^.*${e}$`},...t}))},"equivalence",0,e=>p8(e.ast,[]),"exitSchema",0,pY,"extend",0,o5,"failureSchema",0,pJ,"filter",()=>le,"filterEffect",0,lt,"finite",0,lQ,"format",0,sU,"fromBrand",0,(e,t)=>r=>oZ(r,new ig(r.ast,function(t,r,a){let i=e.either(t);return S.isLeft(i)?rB.some(new nd(a,t,i.left.map(e=>e.message).join(", "))):rB.none()},sz({schemaId:s3,[s3]:{constructor:e},...t}))),"fromKey",0,oP,"getClassTag",0,d5,"getNumberIndexedAccess",0,cn,"greaterThan",0,lY,"greaterThanBigDecimal",0,(e,t)=>r=>{let a=l.format(e);return r.pipe(le(t=>l.greaterThan(t,e),{schemaId:dk,[dk]:{min:e},title:`greaterThanBigDecimal(${a})`,description:`a BigDecimal greater than ${a}`,...t}))},"greaterThanBigInt",0,um,"greaterThanDate",0,(e,t)=>r=>r.pipe(le(t=>t>e,{schemaId:ch,[ch]:{min:e},title:`greaterThanDate(${rs(e)})`,description:`a date after ${rs(e)}`,...t})),"greaterThanDuration",0,(e,t)=>r=>r.pipe(le(t=>y.greaterThan(t,e),{schemaId:uX,[uX]:{min:e},title:`greaterThanDuration(${e})`,description:`a Duration greater than ${y.decode(e)}`,...t})),"greaterThanOrEqualTo",0,lX,"greaterThanOrEqualToBigDecimal",0,(e,t)=>r=>{let a=l.format(e);return r.pipe(le(t=>l.greaterThanOrEqualTo(t,e),{schemaId:dw,[dw]:{min:e},title:`greaterThanOrEqualToBigDecimal(${a})`,description:`a BigDecimal greater than or equal to ${a}`,...t}))},"greaterThanOrEqualToBigInt",0,ug,"greaterThanOrEqualToDate",0,(e,t)=>r=>r.pipe(le(t=>t>=e,{schemaId:cf,[cf]:{min:e},title:`greaterThanOrEqualToDate(${rs(e)})`,description:`a date after or equal to ${rs(e)}`,...t})),"greaterThanOrEqualToDuration",0,(e,t)=>r=>r.pipe(le(t=>y.greaterThanOrEqualTo(t,e),{schemaId:u0,[u0]:{min:e},title:`greaterThanOrEqualToDuration(${e})`,description:`a Duration greater than or equal to ${y.decode(e)}`,...t})),"head",()=>cs,"headNonEmpty",()=>co,"headOrElse",0,cl,"includes",0,(e,t)=>r=>{let a=JSON.stringify(e);return r.pipe(le(t=>t.includes(e),{schemaId:lb,[lb]:{includes:e},title:`includes(${a})`,description:`a string including ${a}`,jsonSchema:{pattern:`.*${e}.*`},...t}))},"instanceOf",0,s4,"int",0,l1,"isPropertySignature",0,oC,"isSchema",0,sZ,"itemsCount",0,(e,t)=>r=>{let a=Math.floor(e);if(a<0)throw Error(rp("Invalid Argument",`Expected an integer greater than or equal to 0, actual ${e}`));return r.pipe(le(e=>e.length===a,{schemaId:rj,title:`itemsCount(${a})`,description:`an array of exactly ${a} item(s)`,jsonSchema:{minItems:a,maxItems:a},[as]:!0,...t}))},"keyof",0,e=>sA(iR(e.ast)),"length",0,lh,"lessThan",0,l2,"lessThanBigDecimal",0,(e,t)=>r=>{let a=l.format(e);return r.pipe(le(t=>l.lessThan(t,e),{schemaId:dE,[dE]:{max:e},title:`lessThanBigDecimal(${a})`,description:`a BigDecimal less than ${a}`,...t}))},"lessThanBigInt",0,uy,"lessThanDate",0,(e,t)=>r=>r.pipe(le(t=>t<e,{schemaId:cd,[cd]:{max:e},title:`lessThanDate(${rs(e)})`,description:`a date before ${rs(e)}`,...t})),"lessThanDuration",0,(e,t)=>r=>r.pipe(le(t=>y.lessThan(t,e),{schemaId:uQ,[uQ]:{max:e},title:`lessThanDuration(${e})`,description:`a Duration less than ${y.decode(e)}`,...t})),"lessThanOrEqualTo",0,l3,"lessThanOrEqualToBigDecimal",0,(e,t)=>r=>{let a=l.format(e);return r.pipe(le(t=>l.lessThanOrEqualTo(t,e),{schemaId:dx,[dx]:{max:e},title:`lessThanOrEqualToBigDecimal(${a})`,description:`a BigDecimal less than or equal to ${a}`,...t}))},"lessThanOrEqualToBigInt",0,ub,"lessThanOrEqualToDate",0,(e,t)=>r=>r.pipe(le(t=>t<=e,{schemaId:cp,[cp]:{max:e},title:`lessThanOrEqualToDate(${rs(e)})`,description:`a date before or equal to ${rs(e)}`,...t})),"lessThanOrEqualToDuration",0,(e,t)=>r=>r.pipe(le(t=>y.lessThanOrEqualTo(t,e),{schemaId:uQ,[uQ]:{max:e},title:`lessThanOrEqualToDuration(${e})`,description:`a Duration less than or equal to ${y.decode(e)}`,...t})),"lowercased",0,lv,"make",()=>sA,"makePropertySignature",0,oF,"maxItems",0,(e,t)=>r=>{let a=Math.floor(e);if(a<1)throw Error(rp("Invalid Argument",`Expected an integer greater than or equal to 1, actual ${e}`));return r.pipe(le(e=>e.length<=a,{schemaId:rU,title:`maxItems(${a})`,description:`an array of at most ${a} item(s)`,jsonSchema:{maxItems:a},[as]:!0,...t}))},"maxLength",0,(e,t)=>r=>r.pipe(le(t=>t.length<=e,{schemaId:rz,title:`maxLength(${e})`,description:`a string at most ${e} character(s) long`,jsonSchema:{maxLength:e},...t})),"minItems",0,(e,t)=>r=>{let a=Math.floor(e);if(a<1)throw Error(rp("Invalid Argument",`Expected an integer greater than or equal to 1, actual ${e}`));return r.pipe(le(e=>e.length>=a,{schemaId:rL,title:`minItems(${a})`,description:`an array of at least ${a} item(s)`,jsonSchema:{minItems:a},[as]:!0,...t}))},"minLength",0,lp,"multipleOf",0,(e,t)=>r=>{let a=Math.abs(e);return r.pipe(le(t=>0===rq.remainder(t,e),{schemaId:l0,title:`multipleOf(${a})`,description:`a number divisible by ${a}`,jsonSchema:{multipleOf:a},...t}))},"mutable",0,e=>sA(iV(e.ast)),"negative",0,l6,"negativeBigDecimal",0,d_,"negativeBigInt",0,uk,"nonEmptyString",0,l_,"nonNaN",0,l4,"nonNegative",0,l7,"nonNegativeBigDecimal",0,dF,"nonNegativeBigInt",0,uw,"nonPositive",0,l9,"nonPositiveBigDecimal",0,dN,"nonPositiveBigInt",0,uE,"omit",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>sA(iW(e.ast,t))},"optional",0,e=>new oA(new ok(e.ast===aM||e.ast===aN?aM:oc(e).ast,!0,!0,{},void 0),e),"optionalElement",0,e=>new oh(new a5(e.ast,!0),e),"optionalToOptional",0,oU,"optionalToRequired",0,oL,"optionalWith",0,oj,"parseJson",0,lW,"parseNumber",()=>ue,"partial",0,e=>sA(iB(e.ast)),"partialWith",0,oQ,"pattern",0,lm,"pick",0,oK,"pickLiteral",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>sQ(...t)},"pluck",0,oJ,"positive",0,l8,"positiveBigDecimal",0,dT,"positiveBigInt",0,uv,"propertySignature",0,oO,"rename",0,lu,"required",0,e=>sA(i$(e.ast)),"requiredToOptional",0,(e,t,r)=>oF(new ox(new ow(e.ast,!1,!0,{},void 0),new oE(t.ast,!0,!0,{},void 0),rB.flatMap(r.decode),e=>rB.some(r.encode(e)))),"serializableSchema",0,e=>e[pH],"serialize",0,e=>sB(e[pH])(e),"serializeExit",0,p3,"serializeFailure",0,pX,"serializeSuccess",0,p1,"split",0,e=>li(oi.annotations({description:"a string that will be split"}),og(oi),{strict:!0,decode:t=>t.split(e),encode:t=>t.join(e)}),"standardSchemaV1",0,(e,t)=>{let r=nN(e,{errors:"all"});return class extends sA(e.ast){static "~standard"={version:1,vendor:"effect",validate(e){let a=new rH.SyncScheduler,i=b.runFork(b.matchEffect(r(e,t),{onFailure:sD,onSuccess:e=>b.succeed({value:e})}),{scheduler:a});a.flush();let n=i.unsafePoll();return n?s_(n):new Promise(e=>{i.addObserver(t=>{e(s_(t))})})}}}},"startsWith",0,(e,t)=>r=>{let a=JSON.stringify(e);return r.pipe(le(t=>t.startsWith(e),{schemaId:lg,[lg]:{startsWith:e},title:`startsWith(${a})`,description:`a string starting with ${a}`,jsonSchema:{pattern:`^${e}`},...t}))},"successSchema",0,pZ,"suspend",0,o8,"symbolSerializable",0,pH,"symbolWithResult",0,pK,"tag",0,oV,"transform",0,li,"transformLiteral",()=>ln,"transformLiterals",()=>ls,"transformOrFail",0,la,"trimmed",0,ld,"typeSchema",0,sq,"uncapitalized",0,lF,"uppercased",0,lE,"validDate",0,cc,"validate",0,sJ,"validateEither",0,(e,t)=>{let r=nq(e,t);return(e,t)=>S.mapLeft(r(e,t),nm)},"validatePromise",0,(e,t)=>{let r=sJ(e,t);return(e,t)=>b.runPromise(r(e,t))},"withConstructorDefault",0,o_,"withDecodingDefault",0,oN,"withDefaults",0,oz],9973079)},8643033,e=>{"use strict";var t=e.i(5305881);e.i(4935619);var r=e.i(9973079);let a=Symbol.for("@effect/platform/Error"),i=r.Literal("Clipboard","Command","FileSystem","KeyValueStore","Path","Stream","Terminal");class n extends r.TaggedError("@effect/platform/Error/BadArgument")("BadArgument",{module:i,method:r.String,description:r.optional(r.String),cause:r.optional(r.Defect)}){[a]=a;get message(){return`${this.module}.${this.method}${this.description?`: ${this.description}`:""}`}}let s=r.Literal("AlreadyExists","BadResource","Busy","InvalidData","NotFound","PermissionDenied","TimedOut","UnexpectedEof","Unknown","WouldBlock","WriteZero");class o extends r.TaggedError("@effect/platform/Error/SystemError")("SystemError",{reason:s,module:i,method:r.String,description:r.optional(r.String),syscall:r.optional(r.String),pathOrDescriptor:r.optional(r.Union(r.String,r.Number)),cause:r.optional(r.Defect)}){[a]=a;get message(){return`${this.reason}: ${this.module}.${this.method}${void 0!==this.pathOrDescriptor?` (${this.pathOrDescriptor})`:""}${this.description?`: ${this.description}`:""}`}}e.s(["BadArgument",()=>n,"SystemError",()=>o,"TypeIdError",0,(e,r)=>{class a extends t.Error{_tag=r}return a.prototype[e]=e,a.prototype.name=r,a}])},7037981,e=>{"use strict";var t=e.i(5283034),r=e.i(1331084),a=e.i(3683485),i=e.i(8815901);let n=Symbol.for("effect/Brand"),s=Symbol.for("effect/Brand/Refined");function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let o=2===t.length?e=>t[0](e)?r.right(e):r.left(t[1](e)):e=>i.match(t[0](e),{onNone:()=>r.right(e),onSome:r.left});return Object.assign(e=>r.getOrThrowWith(o(e),a.identity),{[s]:s,option:e=>i.getRight(o(e)),either:o,is:e=>r.isRight(o(e))})}let l=a.unsafeCoerce;e.s(["BrandTypeId",0,n,"RefinedConstructorsTypeId",0,s,"all",0,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let o=e=>{let a=r.right(e);for(let i of t){let t=i.either(e);a=r.isLeft(a)&&r.isLeft(t)?r.left([...a.left,...t.left]):r.isLeft(a)?a:t}return a};return Object.assign(e=>r.match(o(e),{onLeft:e=>{throw e},onRight:a.identity}),{[s]:s,option:e=>i.getRight(o(e)),either:o,is:e=>r.isRight(o(e))})},"error",0,(e,t)=>[{message:e,meta:t}],"errors",0,function(){for(var e=arguments.length,r=Array(e),a=0;a<e;a++)r[a]=arguments[a];return t.flatten(r)},"nominal",0,()=>Object.assign(e=>e,{[s]:s,option:e=>i.some(e),either:e=>r.right(e),is:e=>!0}),"refined",()=>o,"unbranded",0,l])},4426485,7358204,e=>{"use strict";e.i(7037981);var t=e.i(5972454);e.i(5305881);var r=e.i(6091153),a=e.i(8884753),i=e.i(7365553),n=e.i(469137);a.ChannelTypeId,r.ChannelExceptionTypeId,a.isChannel;let s=r.acquireUseRelease;a.acquireReleaseOut,r.as,r.asVoid,r.buffer,r.bufferChunk,r.catchAll,a.catchAllCause,a.concatAll,a.concatAllWith,r.concatMap,a.concatMapWith,a.concatMapWithCustom,r.collect,r.concatOut,r.mapInput,r.mapInputEffect,r.mapInputError,r.mapInputErrorEffect,r.mapInputIn,r.mapInputInEffect,r.doneCollect,r.drain;let o=a.embedInput;r.emitCollect,r.ensuring,a.ensuringWith,r.context,r.contextWith,r.contextWithChannel,r.contextWithEffect,a.fail,a.failSync,a.failCause,a.failCauseSync;let l=a.flatMap;r.flatten,r.foldChannel,a.foldCauseChannel,a.fromEffect,r.fromEither,r.fromInput,r.fromPubSub,r.fromPubSubScoped,r.fromOption,r.fromQueue,r.identityChannel,r.interruptWhen,r.interruptWhenDeferred,r.map,r.mapEffect,r.mapError,r.mapErrorCause,r.mapOut,r.mapOutEffect,r.mapOutEffectPar,r.mergeAll,r.mergeAllUnbounded,r.mergeAllUnboundedWith,r.mergeAllWith,r.mergeMap,r.mergeOut,r.mergeOutWith,r.mergeWith,r.never,r.orDie,r.orDieWith,r.orElse;let u=a.pipeTo;r.pipeToOrFail,a.provideContext,r.provideLayer,r.mapInputContext,r.provideSomeLayer,r.provideService,r.read,a.readOrFail,a.readWith;let c=a.readWithCause;r.repeated,r.run,r.runCollect;let d=r.runDrain;r.runScoped,r.scoped,r.scopedWith,r.splitLines,a.succeed;let p=a.suspend,h=a.sync;r.toPubSub;let f=r.toPull;r.toPullIn,r.toQueue,i.channelToSink,n.channelToStream;let m=a.void,g=r.unwrap,y=r.unwrapScoped;r.unwrapScopedWith,r.updateService,r.withSpan;let b=a.write;r.writeAll,r.writeChunk,r.zip,r.zipLeft,r.zipRight,r.ChannelException,r.isChannelException,e.s(["acquireUseRelease",0,s,"embedInput",0,o,"flatMap",0,l,"pipeTo",0,u,"readWithCause",0,c,"runDrain",0,d,"suspend",0,p,"sync",0,h,"toPull",0,f,"unwrap",0,g,"unwrapScoped",0,y,"void",()=>m,"write",0,b],7358204),e.i(7862555),e.i(3322401),e.i(3683485),e.i(9227260),e.i(8815901),i.SinkTypeId,i.as,i.collectAll,i.collectAllN,i.collectAllFrom,i.collectAllToMap,i.collectAllToMapN,i.collectAllToSet,i.collectAllToSetN,i.collectAllUntil,i.collectAllUntilEffect,i.collectAllWhile,i.collectAllWhileEffect,i.collectAllWhileWith,i.collectLeftover,i.mapInput,i.mapInputEffect,i.mapInputChunks,i.mapInputChunksEffect,i.count,i.die,i.dieMessage,i.dieSync,i.dimap,i.dimapEffect,i.dimapChunks,i.dimapChunksEffect,i.drain,i.drop,i.dropUntil,i.dropUntilEffect,i.dropWhile,i.dropWhileEffect,i.ensuring,i.ensuringWith,i.context,i.contextWith,i.contextWithEffect,i.contextWithSink,i.every,i.fail,i.failSync,i.failCause,i.failCauseSync,i.filterInput,i.filterInputEffect,i.findEffect,i.fold,i.foldSink,i.foldChunks,i.foldChunksEffect,i.foldEffect,i.foldLeft,i.foldLeftChunks,i.foldLeftChunksEffect,i.foldLeftEffect,i.foldUntil,i.foldUntilEffect,i.foldWeighted,i.foldWeightedDecompose,i.foldWeightedDecomposeEffect,i.foldWeightedEffect,i.forEach,i.forEachChunk,i.forEachChunkWhile,i.forEachWhile,i.flatMap,i.fromChannel,i.toChannel,i.fromEffect,i.fromPubSub,i.fromPush,i.fromQueue,i.head,i.ignoreLeftover,i.last,i.leftover,i.map,i.mapEffect,i.mapError,i.mapLeftover,i.mkString,i.never,i.orElse,i.provideContext,i.race,i.raceBoth,i.raceWith,i.refineOrDie,i.refineOrDieWith,i.some,i.splitWhere,i.succeed,i.sum,i.summarized,i.suspend,i.sync,i.take,i.timed,i.unwrap,i.unwrapScoped,i.unwrapScopedWith,i.withDuration,i.zip,i.zipLeft,i.zipRight,i.zipWith,e.i(8554418),e.i(8643033);let S=(0,t.GenericTag)("@effect/platform/FileSystem");e.s(["FileSystem",0,S,"Size",0,e=>"bigint"==typeof e?e:BigInt(e)],4426485)},4584424,1011081,4721362,e=>{"use strict";var t=e.i(5972454),r=e.i(3322401),a=e.i(1331084),i=e.i(8477203),n=e.i(3683485),s=e.i(9227260),o=e.i(8815901),l=e.i(9973079),u=e.i(8643033),c=e.i(4426485);let d=Symbol.for("@effect/platform/Path"),p=(0,t.GenericTag)("@effect/platform/Path");function h(e,t){let r,a="",i=0,n=-1,s=0;for(let o=0;o<=e.length;++o){if(o<e.length)r=e.charCodeAt(o);else if(47===r)break;else r=47;if(47===r){if(n===o-1||1===s);else if(n!==o-1&&2===s){if(a.length<2||2!==i||46!==a.charCodeAt(a.length-1)||46!==a.charCodeAt(a.length-2)){if(a.length>2){let e=a.lastIndexOf("/");if(e!==a.length-1){-1===e?(a="",i=0):i=(a=a.slice(0,e)).length-1-a.lastIndexOf("/"),n=o,s=0;continue}}else if(2===a.length||1===a.length){a="",i=0,n=o,s=0;continue}}t&&(a.length>0?a+="/..":a="..",i=2)}else a.length>0?a+="/"+e.slice(n+1,o):a=e.slice(n+1,o),i=o-n-1;n=o,s=0}else 46===r&&-1!==s?++s:s=-1}return a}let f=function(){let e,t="",r=!1;for(let a=arguments.length-1;a>=-1&&!r;a--){let i;if(a>=0)i=arguments[a];else{let t=globalThis.process;void 0===e&&"process"in globalThis&&"object"==typeof t&&null!==t&&"function"==typeof t.cwd&&(e=t.cwd()),i=e}0!==i.length&&(t=i+"/"+t,r=47===i.charCodeAt(0))}if(t=h(t,!r),r)if(t.length>0)return"/"+t;else return"/";return t.length>0?t:"."},m=/%/g,g=/\\/g,y=/\n/g,b=/\r/g,S=/\t/g,v=p.of({[d]:d,resolve:f,normalize(e){if(0===e.length)return".";let t=47===e.charCodeAt(0),r=47===e.charCodeAt(e.length-1);return(0!==(e=h(e,!t)).length||t||(e="."),e.length>0&&r&&(e+="/"),t)?"/"+e:e},isAbsolute:e=>e.length>0&&47===e.charCodeAt(0),join(){let e;if(0==arguments.length)return".";for(let t=0;t<arguments.length;++t){let r=arguments[t];r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":v.normalize(e)},relative(e,t){if(e===t||(e=v.resolve(e),t=v.resolve(t),e===t))return"";let r=1;for(;r<e.length&&47===e.charCodeAt(r);++r);let a=e.length,i=a-r,n=1;for(;n<t.length&&47===t.charCodeAt(n);++n);let s=t.length-n,o=i<s?i:s,l=-1,u=0;for(;u<=o;++u){if(u===o){if(s>o){if(47===t.charCodeAt(n+u))return t.slice(n+u+1);else if(0===u)return t.slice(n+u)}else i>o&&(47===e.charCodeAt(r+u)?l=u:0===u&&(l=0));break}let a=e.charCodeAt(r+u);if(a!==t.charCodeAt(n+u))break;47===a&&(l=u)}let c="";for(u=r+l+1;u<=a;++u)(u===a||47===e.charCodeAt(u))&&(0===c.length?c+="..":c+="/..");return c.length>0?c+t.slice(n+l):(n+=l,47===t.charCodeAt(n)&&++n,t.slice(n))},dirname(e){if(0===e.length)return".";let t=e.charCodeAt(0),r=47===t,a=-1,i=!0;for(let r=e.length-1;r>=1;--r)if(47===(t=e.charCodeAt(r))){if(!i){a=r;break}}else i=!1;return -1===a?r?"/":".":r&&1===a?"//":e.slice(0,a)},basename(e,t){let r,a=0,i=-1,n=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let s=t.length-1,o=-1;for(r=e.length-1;r>=0;--r){let l=e.charCodeAt(r);if(47===l){if(!n){a=r+1;break}}else -1===o&&(n=!1,o=r+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(i=r):(s=-1,i=o))}return a===i?i=o:-1===i&&(i=e.length),e.slice(a,i)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!n){a=r+1;break}}else -1===i&&(n=!1,i=r+1);return -1===i?"":e.slice(a,i)},extname(e){let t=-1,r=0,a=-1,i=!0,n=0;for(let s=e.length-1;s>=0;--s){let o=e.charCodeAt(s);if(47===o){if(!i){r=s+1;break}continue}-1===a&&(i=!1,a=s+1),46===o?-1===t?t=s:1!==n&&(n=1):-1!==t&&(n=-1)}return -1===t||-1===a||0===n||1===n&&t===a-1&&t===r+1?"":e.slice(t,a)},format:function(e){let t,r;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+r:t+"/"+r:r},parse(e){let t,r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;let a=e.charCodeAt(0),i=47===a;i?(r.root="/",t=1):t=0;let n=-1,s=0,o=-1,l=!0,u=e.length-1,c=0;for(;u>=t;--u){if(47===(a=e.charCodeAt(u))){if(!l){s=u+1;break}continue}-1===o&&(l=!1,o=u+1),46===a?-1===n?n=u:1!==c&&(c=1):-1!==n&&(c=-1)}return -1===n||-1===o||0===c||1===c&&n===o-1&&n===s+1?-1!==o&&(0===s&&i?r.base=r.name=e.slice(1,o):r.base=r.name=e.slice(s,o)):(0===s&&i?(r.name=e.slice(1,n),r.base=e.slice(1,o)):(r.name=e.slice(s,n),r.base=e.slice(s,o)),r.ext=e.slice(n,o)),s>0?r.dir=e.slice(0,s-1):i&&(r.dir="/"),r},sep:"/",fromFileUrl:function(e){if("file:"!==e.protocol)return r.fail(new u.BadArgument({module:"Path",method:"fromFileUrl",description:"URL must be of scheme file"}));if(""!==e.hostname)return r.fail(new u.BadArgument({module:"Path",method:"fromFileUrl",description:"Invalid file URL host"}));let t=e.pathname;for(let e=0;e<t.length;e++)if("%"===t[e]){let a=32|t.codePointAt(e+2);if("2"===t[e+1]&&102===a)return r.fail(new u.BadArgument({module:"Path",method:"fromFileUrl",description:"must not include encoded / characters"}))}return r.succeed(decodeURIComponent(t))},toFileUrl:function(e){var t;let a=new URL("file://"),i=f(e);return 47===e.charCodeAt(e.length-1)&&"/"!==i[i.length-1]&&(i+="/"),(t=i).includes("%")&&(t=t.replace(m,"%25")),t.includes("\\")&&(t=t.replace(g,"%5C")),t.includes("\n")&&(t=t.replace(y,"%0A")),t.includes("\r")&&(t=t.replace(b,"%0D")),t.includes("	")&&(t=t.replace(S,"%09")),a.pathname=t,r.succeed(a)},toNamespacedPath:n.identity}),k=Symbol.for("@effect/platform/KeyValueStore"),w=t.GenericTag("@effect/platform/KeyValueStore"),E=e=>w.of({[k]:k,has:t=>r.map(e.get(t),o.isSome),isEmpty:r.map(e.size,e=>0===e),modify:(t,a)=>r.flatMap(e.get(t),i=>{if(o.isNone(i))return r.succeedNone;let n=a(i.value);return r.as(e.set(t,n),o.some(n))}),modifyUint8Array:(t,a)=>r.flatMap(e.getUint8Array(t),i=>{if(o.isNone(i))return r.succeedNone;let n=a(i.value);return r.as(e.set(t,n),o.some(n))}),forSchema(e){return C(this,e)},...e}),x=e=>{let t=new TextEncoder;return E({...e,getUint8Array:s=>e.get(s).pipe(r.map(o.map(e=>a.match(i.decodeBase64(e),{onLeft:()=>t.encode(e),onRight:n.identity})))),set:(t,a)=>"string"==typeof a?e.set(t,a):r.suspend(()=>e.set(t,i.encodeBase64(a)))})},I=(0,n.dual)(2,(e,t)=>({...e,get:r=>e.get(`${t}${r}`),set:(r,a)=>e.set(`${t}${r}`,a),remove:r=>e.remove(`${t}${r}`),has:r=>e.has(`${t}${r}`),modify:(r,a)=>e.modify(`${t}${r}`,a)})),T=Symbol.for("@effect/platform/KeyValueStore/SchemaStore"),C=(e,t)=>{let a=l.parseJson(t),i=l.decodeUnknown(a),n=l.encode(a),s=t=>r.flatMap(e.get(t),o.match({onNone:()=>r.succeedNone,onSome:e=>r.asSome(i(e))})),u=(t,a)=>r.flatMap(n(a),r=>e.set(t,r));return{[T]:T,get:s,set:u,modify:(e,t)=>r.flatMap(s(e),a=>{if(o.isNone(a))return r.succeedNone;let i=t(a.value);return r.as(u(e,i),o.some(i))}),remove:e.remove,clear:e.clear,size:e.size,has:e.has,isEmpty:e.isEmpty}},R=s.sync(w,()=>{let e=new Map,t=new TextEncoder;return E({get:t=>r.sync(()=>o.fromNullable(e.get(t)).pipe(o.map(e=>"string"==typeof e?e:i.encodeBase64(e)))),getUint8Array:a=>r.sync(()=>o.fromNullable(e.get(a)).pipe(o.map(e=>"string"==typeof e?t.encode(e):e))),set:(t,a)=>r.sync(()=>e.set(t,a)),remove:t=>r.sync(()=>e.delete(t)),clear:r.sync(()=>e.clear()),size:r.sync(()=>e.size)})}),F=e=>new u.SystemError({reason:"PermissionDenied",module:"KeyValueStore",...e});e.s(["KeyValueStore",0,w,"SchemaStoreTypeId",0,T,"TypeId",0,k,"layerFileSystem",0,e=>s.effect(w,r.gen(function*(){let t=yield*c.FileSystem,a=yield*p,i=t=>a.join(e,encodeURIComponent(t));return(yield*t.exists(e))||(yield*t.makeDirectory(e,{recursive:!0})),E({get:e=>(0,n.pipe)(r.map(t.readFileString(i(e)),o.some),r.catchTag("SystemError",e=>"NotFound"===e.reason?r.succeed(o.none()):r.fail(e))),getUint8Array:e=>(0,n.pipe)(r.map(t.readFile(i(e)),o.some),r.catchTag("SystemError",e=>"NotFound"===e.reason?r.succeed(o.none()):r.fail(e))),set:(e,r)=>"string"==typeof r?t.writeFileString(i(e),r):t.writeFile(i(e),r),remove:e=>t.remove(i(e)),has:e=>t.exists(i(e)),clear:r.zipRight(t.remove(e,{recursive:!0}),t.makeDirectory(e,{recursive:!0})),size:r.map(t.readDirectory(e),e=>e.length)})})),"layerMemory",0,R,"layerSchema",0,(e,a)=>{let i=t.GenericTag(a),n=s.effect(i,r.map(w,t=>t.forSchema(e)));return{tag:i,layer:n}},"layerStorage",0,e=>s.sync(w,()=>{let t=e();return x({get:e=>r.try({try:()=>o.fromNullable(t.getItem(e)),catch:()=>F({pathOrDescriptor:e,method:"get",description:`Unable to get item with key ${e}`})}),set:(e,a)=>r.try({try:()=>t.setItem(e,a),catch:()=>F({pathOrDescriptor:e,method:"set",description:`Unable to set item with key ${e}`})}),remove:e=>r.try({try:()=>t.removeItem(e),catch:()=>F({pathOrDescriptor:e,method:"remove",description:`Unable to remove item with key ${e}`})}),clear:r.try({try:()=>t.clear(),catch:()=>F({pathOrDescriptor:"clear",method:"clear",description:"Unable to clear storage"})}),size:r.try({try:()=>t.length,catch:()=>F({pathOrDescriptor:"size",method:"size",description:"Unable to get size"})})})}),"make",0,E,"makeStringOnly",0,x,"prefix",0,I],4584424);var A=e.i(9960543),O=e.i(4935619),_=e.i(5369340);e.i(8554418);let M=Symbol.for("effect/Subscribable"),D={[_.TypeId]:_.TypeId,[M]:M,pipe(){return(0,A.pipeArguments)(this,arguments)}};e.s(["TypeId",0,M,"isSubscribable",0,e=>(0,O.hasProperty)(e,M)],1011081);var N=e.i(7525378),z=e.i(1299557),P=e.i(6532885),L=e.i(4026828),U=e.i(3196727),j=e.i(5523614);L.SynchronizedTypeId,L.makeSynchronized,U.get,U.getAndSet,U.getAndUpdate,j.getAndUpdateEffect,U.getAndUpdateSome,j.getAndUpdateSomeEffect,j.modify,j.modifyEffect,U.modifySome,j.modifySomeEffect,U.set,U.setAndGet,U.update,j.updateEffect,U.updateAndGet,j.updateAndGetEffect,U.updateSome,j.updateSomeEffect,U.updateSomeAndGet,L.updateSomeAndGetEffectSynchronized,L.unsafeMakeSynchronized,e.i(469137);let W=Symbol.for("effect/SubscriptionRef");N.Class,_.TypeId,P.RefTypeId;let q=(0,n.dual)(2,(e,t)=>(0,n.pipe)(P.set(e.ref,t),r.zipLeft(z.publish(e.pubsub,t)),e.semaphore.withPermits(1)));P.getAndSet,P.getAndUpdate,P.getAndUpdateSome,P.modifySome,P.setAndGet,P.update,P.updateAndGet,P.updateSome,P.updateSomeAndGet,e.s(["SubscriptionRefTypeId",0,W,"set",0,q],4721362)},8909038,e=>{"use strict";var t=e.i(5450905),r=e.i(3628392),a=e.i(7836076),i=e.i(3683485),n=e.i(2090854),s=e.i(8815901),o=e.i(9960543),l=e.i(4935619),u=e.i(9973079);let c=Symbol.for("@effect-atom/atom/Result"),d=e=>(0,l.hasProperty)(e,c),p={[c]:{E:i.identity,A:i.identity},pipe(){return(0,o.pipeArguments)(this,arguments)},[r.symbol](e){if(this._tag!==e._tag&&this.waiting!==e.waiting)return!1;switch(this._tag){case"Initial":return!0;case"Success":return r.equals(this.value,e.value);case"Failure":return r.equals(this.cause,e.cause)}},[n.symbol](){let e=n.string(`${this._tag}:${this.waiting}`);return"Initial"===this._tag?n.cached(this,e):n.cached(this,n.combine(e)("Success"===this._tag?n.hash(this.value):n.hash(this.cause)))}},h=e=>"Initial"===e._tag,f=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object.create(p);return t._tag="Initial",t.waiting=e,t},m=e=>"Success"===e._tag,g=(e,t)=>{let r=Object.create(p);return r._tag="Success",r.value=e,r.waiting=t?.waiting??!1,r.timestamp=t?.timestamp??Date.now(),r},y=e=>"Failure"===e._tag,b=(e,t)=>{let r=Object.create(p);return r._tag="Failure",r.cause=e,r.previousSuccess=t?.previousSuccess??s.none(),r.waiting=t?.waiting??!1,r},S=(e,t)=>b(e,{previousSuccess:s.flatMap(t.previous,e=>m(e)?s.some(e):y(e)?e.previousSuccess:s.none()),waiting:t.waiting}),v=(e,t)=>{if(e.waiting)return t?.touch?k(e):e;let r=Object.assign(Object.create(p),e);return r.waiting=!0,t?.touch&&m(r)&&(r.timestamp=Date.now()),r},k=e=>m(e)?g(e.value,{waiting:e.waiting}):e,w=e=>"Success"===e._tag?s.some(e.value):"Failure"===e._tag?s.map(e.previousSuccess,e=>e.value):s.none(),E=(0,i.dual)(2,(e,t)=>s.getOrElse(w(e),t)),x=(0,i.dual)(2,(e,t)=>{switch(e._tag){case"Initial":return e;case"Failure":return b(e.cause,{previousSuccess:s.map(e.previousSuccess,e=>g(t(e.value),e)),waiting:e.waiting});case"Success":return g(t(e.value),e)}}),I=(0,i.dual)(2,(e,t)=>{switch(e._tag){case"Initial":return t.onInitial(e);case"Failure":return t.onFailure(e);case"Success":return t.onSuccess(e)}}),T=(0,i.dual)(2,(e,r)=>{switch(e._tag){case"Initial":return r.onInitial(e);case"Failure":{let a=t.failureOrCause(e.cause);if("Right"===a._tag)return r.onDefect(t.squash(a.right),e);return r.onError(a.left,e)}case"Success":return r.onSuccess(e)}}),C=(0,i.dual)(2,(e,r)=>{if(e.waiting)return r.onWaiting(e);switch(e._tag){case"Initial":return r.onWaiting(e);case"Failure":{let a=t.failureOrCause(e.cause);if("Right"===a._tag)return r.onDefect(t.squash(a.right),e);return r.onError(a.left,e)}case"Success":return r.onSuccess(e)}});class R{result;constructor(e){this.result=e}output=s.none();when(e,t){if(s.isNone(this.output)&&e(this.result)){let e=t(this.result);s.isSome(e)&&(this.output=e)}return this}pipe(){return(0,o.pipeArguments)(this,arguments)}onWaiting(e){return this.when(e=>e.waiting,t=>s.some(e(t)))}onInitialOrWaiting(e){return this.when(e=>h(e)||e.waiting,t=>s.some(e(t)))}onInitial(e){return this.when(h,t=>s.some(e(t)))}onSuccess(e){return this.when(m,t=>s.some(e(t.value,t)))}onFailure(e){return this.when(y,t=>s.some(e(t.cause,t)))}onError(e){return this.onErrorIf(i.constTrue,e)}onErrorIf(e,r){return this.when(y,a=>t.failureOption(a.cause).pipe(s.filter(e),s.map(e=>r(e,a))))}onErrorTag(e,t){return this.onErrorIf(t=>(0,l.hasProperty)(t,"_tag")&&(Array.isArray(e)?e.includes(t._tag):t._tag===e),t)}onDefect(e){return this.when(y,r=>t.dieOption(r.cause).pipe(s.map(t=>e(t,r))))}orElse(e){return s.getOrElse(this.output,e)}orNull(){return s.getOrNull(this.output)}render(){if(s.isSome(this.output))return this.output.value;if(y(this.result))throw t.squash(this.result.cause);return null}}let F=u.declare(d,{identifier:"Result"});e.s(["Schema",0,e=>{let t=e.success??u.Never,r=e.error??u.Never,a=u.TaggedStruct("Success",{waiting:u.Boolean,timestamp:u.Number,value:t});return u.transform(u.Union(u.TaggedStruct("Initial",{waiting:u.Boolean}),a,u.TaggedStruct("Failure",{waiting:u.Boolean,previousSuccess:u.Option(a),cause:u.Cause({error:r,defect:u.Defect})})),F,{strict:!1,decode:e=>"Initial"===e._tag?f(e.waiting):"Success"===e._tag?g(e.value,e):b(e.cause,e),encode:i.identity})},"TypeId",0,c,"all",0,e=>{let t=(0,l.isIterable)(e),r=t?Array.from(e,(e,t)=>[t,e]):Object.entries(e),a=t?[]:{},i=!1;for(let e=0;e<r.length;e++){let[t,n]=r[e];if(d(n)){if(!m(n))return n}else{a[t]=n;continue}a[t]=n.value,n.waiting&&(i=!0)}return g(a,{waiting:i})},"builder",0,e=>new R(e),"cause",0,e=>"Failure"===e._tag?s.some(e.cause):s.none(),"error",0,e=>"Failure"===e._tag?t.failureOption(e.cause):s.none(),"fail",0,(e,r)=>b(t.fail(e),r),"failWithPrevious",0,(e,r)=>S(t.fail(e),r),"failure",0,b,"failureWithPrevious",0,S,"fromExit",0,e=>"Success"===e._tag?g(e.value):b(e.cause),"fromExitWithPrevious",0,(e,t)=>"Success"===e._tag?g(e.value):S(e.cause,{previous:t}),"getOrElse",0,E,"getOrThrow",0,e=>s.getOrThrowWith(w(e),()=>new t.NoSuchElementException("Result.getOrThrow: no value found")),"initial",0,f,"isFailure",0,y,"isInitial",0,h,"isInterrupted",0,e=>"Failure"===e._tag&&t.isInterruptedOnly(e.cause),"isNotInitial",0,e=>"Initial"!==e._tag,"isResult",0,d,"isSuccess",0,m,"isWaiting",0,e=>e.waiting,"map",0,x,"match",0,I,"matchWithError",0,T,"matchWithWaiting",0,C,"replacePrevious",0,(e,t)=>"Failure"===e._tag?S(e.cause,{previous:t,waiting:e.waiting}):e,"schemaFromSelf",0,F,"success",0,g,"toExit",0,e=>{switch(e._tag){case"Success":return a.succeed(e.value);case"Failure":return a.failCause(e.cause);default:return a.fail(new t.NoSuchElementException)}},"touch",0,k,"value",0,w,"waiting",0,v,"waitingFrom",0,e=>"None"===e._tag?f(!0):v(e.value)])},7518524,804651,e=>{"use strict";var t,r,a,i,n,s,o=e.i(889957),l=e.i(4584424),u=e.i(5283034),c=e.i(5450905),d=e.i(7358204),p=e.i(7862555),h=e.i(5972454),f=e.i(8973103),m=e.i(3322401),g=e.i(1331084),y=e.i(7836076),b=e.i(6028004),S=e.i(1150852),v=e.i(6098979),k=e.i(3683485),w=e.i(9159985),E=e.i(2873450),x=e.i(9227260),I=e.i(2034623),T=e.i(8815901),C=e.i(9960543),R=e.i(4935619),F=e.i(5310088),A=e.i(9552070),O=e.i(9973079),_=e.i(5160412),M=e.i(8554418),D=e.i(1011081),N=e.i(4721362),z=e.i(3628392),P=e.i(1072215),L=e.i(8909038);let U={immediate:!0};function j(e){}let W="~effect-atom/atom/Registry",q="~effect-atom/atom/Atom/Serializable",B=e=>q in e?e[q].key:e;class ${scheduleTask;defaultIdleTTL;[W];timeoutResolution;constructor(e,t=e=>queueMicrotask(e),r,a){if(this.scheduleTask=t,this.defaultIdleTTL=a,this[W]=W,void 0===r&&void 0!==a?this.timeoutResolution=Math.round(a/2):this.timeoutResolution=r??1e3,void 0!==e)for(const[t,r]of e)this.ensureNode(t).setValue(r)}nodes=new Map;preloadedSerializable=new Map;timeoutBuckets=new Map;nodeTimeoutBucket=new Map;disposed=!1;getNodes(){return this.nodes}get(e){return this.ensureNode(e).value()}set(e,t){e.write(this.ensureNode(e).writeContext,t)}setSerializable(e,t){this.preloadedSerializable.set(e,t)}modify(e,t){let r=this.ensureNode(e),a=t(r.value());return e.write(r.writeContext,a[1]),a[0]}update(e,t){let r=this.ensureNode(e);e.write(r.writeContext,t(r.value()))}refresh=e=>{void 0!==e.refresh?e.refresh(this.refresh):this.invalidateAtom(e)};subscribe(e,t,r){let a=this.ensureNode(e);r?.immediate&&t(a.value());let i=a.subscribe(function(){t(a._value)});return()=>{i(),a.canBeRemoved&&this.scheduleNodeRemoval(a)}}mount(e){return this.subscribe(e,j,U)}atomHasTtl(e){return!e.keepAlive&&0!==e.idleTTL&&(void 0!==e.idleTTL||void 0!==this.defaultIdleTTL)}ensureNode(e){let t=B(e),r=this.nodes.get(t);if(void 0===r?(r=this.createNode(e),this.nodes.set(t,r)):this.atomHasTtl(e)&&this.removeNodeTimeout(r),"string"==typeof t&&this.preloadedSerializable.has(t)){let a=this.preloadedSerializable.get(t);this.preloadedSerializable.delete(t);let i=e[q].decode(a);r.setValue(i)}return r}createNode(e){if(this.disposed)throw Error(`Cannot access Atom ${e}: registry is disposed`);return e.keepAlive||this.scheduleAtomRemoval(e),new V(this,e)}invalidateAtom=e=>{this.ensureNode(e).invalidate()};scheduleAtomRemoval(e){this.scheduleTask(()=>{let t=this.nodes.get(B(e));void 0!==t&&t.canBeRemoved&&this.removeNode(t)})}scheduleNodeRemoval(e){this.scheduleTask(()=>{e.canBeRemoved&&this.removeNode(e)})}removeNode(e){this.atomHasTtl(e.atom)?this.setNodeTimeout(e):(this.nodes.delete(B(e.atom)),e.remove())}setNodeTimeout(e){if(this.nodeTimeoutBucket.has(e))return;let t=e.atom.idleTTL??this.defaultIdleTTL;if(null!==this.#e&&(t-=this.#e)<=0){this.nodes.delete(B(e.atom)),e.remove();return}let r=Math.ceil(t/this.timeoutResolution)*this.timeoutResolution,a=Date.now()+r,i=a-a%this.timeoutResolution+this.timeoutResolution,n=this.timeoutBuckets.get(i);void 0===n&&(n=[new Set,setTimeout(()=>this.sweepBucket(i),i-Date.now())],this.timeoutBuckets.set(i,n)),n[0].add(e),this.nodeTimeoutBucket.set(e,i)}removeNodeTimeout(e){let t=this.nodeTimeoutBucket.get(e);if(void 0===t)return;this.nodeTimeoutBucket.delete(e),this.scheduleNodeRemoval(e);let[r,a]=this.timeoutBuckets.get(t);r.delete(e),0===r.size&&(clearTimeout(a),this.timeoutBuckets.delete(t))}#e=null;sweepBucket(e){let t=this.timeoutBuckets.get(e)[0];this.timeoutBuckets.delete(e),t.forEach(e=>{e.canBeRemoved&&(this.nodeTimeoutBucket.delete(e),this.nodes.delete(B(e.atom)),this.#e=e.atom.idleTTL??this.defaultIdleTTL,e.remove(),this.#e=null)})}reset(){this.timeoutBuckets.forEach(e=>{let[,t]=e;return clearTimeout(t)}),this.timeoutBuckets.clear(),this.nodeTimeoutBucket.clear(),this.nodes.forEach(e=>e.remove()),this.nodes.clear()}dispose(){this.disposed=!0,this.reset()}}(t=i||(i={}))[t.alive=1]="alive",t[t.initialized=2]="initialized",t[t.waitingForValue=4]="waitingForValue",(r=n||(n={}))[r.uninitialized=5]="uninitialized",r[r.stale=7]="stale",r[r.valid=3]="valid",r[r.removed=0]="removed";class V{registry;atom;constructor(e,t){this.registry=e,this.atom=t,this.writeContext=new J(e,this)}state=n.uninitialized;lifetime;writeContext;parents=[];previousParents;children=[];listeners=[];skipInvalidation=!1;get canBeRemoved(){return!this.atom.keepAlive&&0===this.listeners.length&&0===this.children.length&&0!==this.state}_value=void 0;value(){if((this.state&i.waitingForValue)!=0){this.lifetime=K(this);let e=this.atom.read(this.lifetime);if((this.state&i.waitingForValue)!=0&&this.setValue(e),this.previousParents){let e=this.previousParents;this.previousParents=void 0;for(let t=0;t<e.length;t++)e[t].removeChild(this),e[t].canBeRemoved&&this.registry.scheduleNodeRemoval(e[t])}}return this._value}valueOption(){return(this.state&i.initialized)==0?T.none():T.some(this._value)}setValue(e){if((this.state&i.initialized)==0){this.state=n.valid,this._value=e,Z.phase===s.collect?Z.notify.add(this):this.notify();return}this.state=n.valid,!z.equals(this._value,e)&&(this._value=e,this.skipInvalidation?this.skipInvalidation=!1:this.invalidateChildren(),this.listeners.length>0&&(Z.phase===s.collect?Z.notify.add(this):this.notify()))}addParent(e){if(this.parents.push(e),void 0!==this.previousParents){let t=this.previousParents.indexOf(e);-1!==t&&(this.previousParents[t]=this.previousParents[this.previousParents.length-1],void 0===this.previousParents.pop()&&(this.previousParents=void 0))}-1===e.children.indexOf(this)&&e.children.push(this)}removeChild(e){let t=this.children.indexOf(e);-1!==t&&(this.children[t]=this.children[this.children.length-1],this.children.pop())}invalidate(){this.state===n.valid&&(this.state=n.stale,this.disposeLifetime()),Z.phase===s.collect?Z.stale.push(this):this.atom.lazy&&0===this.listeners.length&&!function(e){let t;if(0===e.length)return!1;let r=e,a=0;for(;void 0!==r;){for(let e=0,a=r.length;e<a;e++){let a=r[e];if(!a.atom.lazy||a.listeners.length>0)return!0;a.children.length>0&&(void 0===t?t=[a.children]:t.push(a.children))}r=t?.[a++]}return!1}(this.children)?(this.invalidateChildren(),this.skipInvalidation=!0):this.value()}invalidateChildren(){if(0===this.children.length)return;let e=this.children;this.children=[];for(let t=0;t<e.length;t++)e[t].invalidate()}notify(){for(let e=0;e<this.listeners.length;e++)this.listeners[e]();Z.phase===s.commit&&Z.notify.delete(this)}disposeLifetime(){void 0!==this.lifetime&&(this.lifetime.dispose(),this.lifetime=void 0),0!==this.parents.length&&(this.previousParents=this.parents,this.parents=[])}remove(){if(this.state=n.removed,this.listeners=[],void 0===this.lifetime||(this.disposeLifetime(),void 0===this.previousParents))return;let e=this.previousParents;this.previousParents=void 0;for(let t=0;t<e.length;t++)e[t].removeChild(this),e[t].canBeRemoved&&this.registry.removeNode(e[t])}subscribe(e){return this.listeners.push(e),()=>{let t=this.listeners.indexOf(e);-1!==t&&(this.listeners[t]=this.listeners[this.listeners.length-1],this.listeners.pop())}}}let H=e=>Error(`Cannot use context of disposed Atom: ${e}`),G={get registry(){return this.node.registry},addFinalizer(e){if(this.disposed)throw H(this.node.atom);this.finalizers??=[],this.finalizers.push(e)},get(e){if(this.disposed)throw H(this.node.atom);let t=this.node.registry.ensureNode(e);return this.node.addParent(t),t.value()},result(e,t){if(this.disposed)throw H(this.node.atom);if(this.isFn)return this.resultOnce(e);let r=this.get(e);if(t?.suspendOnWaiting&&r.waiting)return m.never;switch(r._tag){case"Initial":return m.never;case"Failure":return y.failCause(r.cause);case"Success":return m.succeed(r.value)}},resultOnce(e,t){if(this.disposed)throw H(this.node.atom);return m.async(r=>{let a=this.once(e);if("Initial"!==a._tag&&!(t?.suspendOnWaiting&&a.waiting))return r(L.toExit(a));let i=this.node.registry.subscribe(e,e=>{"Initial"===e._tag||t?.suspendOnWaiting&&e.waiting||(i(),r(L.toExit(e)))},{immediate:!1});return m.sync(i)})},some(e){if(this.disposed)throw H(this.node.atom);if(this.isFn)return this.someOnce(e);let t=this.get(e);return"None"===t._tag?m.never:m.succeed(t.value)},someOnce(e){if(this.disposed)throw H(this.node.atom);return m.async(t=>{let r=this.once(e);if(T.isSome(r))return t(m.succeed(r.value));let a=this.node.registry.subscribe(e,e=>{T.isNone(e)||(a(),t(m.succeed(e.value)))},{immediate:!1});return m.sync(a)})},once(e){if(this.disposed)throw H(this.node.atom);return this.node.registry.get(e)},self(){if(this.disposed)throw H(this.node.atom);return this.node.valueOption()},refresh(e){if(this.disposed)throw H(this.node.atom);this.node.registry.refresh(e)},refreshSelf(){if(this.disposed)throw H(this.node.atom);this.node.invalidate()},mount(e){if(this.disposed)throw H(this.node.atom);this.addFinalizer(this.node.registry.mount(e))},subscribe(e,t,r){if(this.disposed)throw H(this.node.atom);this.addFinalizer(this.node.registry.subscribe(e,t,r))},setSelf(e){if(this.disposed)throw H(this.node.atom);this.node.setValue(e)},set(e,t){if(this.disposed)throw H(this.node.atom);this.node.registry.set(e,t)},stream(e,t){if(this.disposed)throw H(this.node.atom);return(0,k.pipe)(m.acquireRelease(P.bounded(t?.bufferSize??16),P.shutdown),m.tap(r=>m.acquireRelease(m.sync(()=>this.node.registry.subscribe(e,e=>{P.unsafeOffer(r,e)},{immediate:t?.withoutInitialValue!==!0})),e=>m.sync(e))),m.map(e=>M.fromQueue(e)),M.unwrapScoped)},streamResult(e,t){return(0,k.pipe)(this.stream(e,t),M.filter(L.isNotInitial),M.flatMap(e=>"Success"===e._tag?M.succeed(e.value):M.failCause(e.cause)))},dispose(){if(this.disposed=!0,void 0===this.finalizers)return;let e=this.finalizers;this.finalizers=void 0;for(let t=e.length-1;t>=0;t--)e[t]()}},K=e=>{function t(r){if(t.disposed)throw H(r);if(t.isFn)return e.registry.get(r);let a=e.registry.ensureNode(r);return e.addParent(a),a.value()}return Object.setPrototypeOf(t,G),t.isFn=!1,t.disposed=!1,t.finalizers=void 0,t.node=e,t};class J{registry;node;constructor(e,t){this.registry=e,this.node=t}get(e){return this.registry.get(e)}set(e,t){return this.registry.set(e,t)}setSelf(e){return this.node.setValue(e)}refreshSelf(){return this.node.invalidate()}}(a=s||(s={}))[a.disabled=0]="disabled",a[a.collect=1]="collect",a[a.commit=2]="commit";let Z=(0,w.globalValue)("@effect-atom/atom/Registry/batchState",()=>({phase:s.disabled,depth:0,stale:[],notify:new Set}));var Q=e.i(2916763);let Y=e=>{let t=F.runFork(e);return function(e,r){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(e=>{switch(e._tag){case"Failure":case"Success":return e;case"Left":return y.fail(e.left);case"Right":return y.succeed(e.right);case"Some":return y.succeed(e.value);case"None":return y.fail(new c.NoSuchElementException)}})(e);if(i)return void r(i);let n=new Q.SyncScheduler,s=t(e,{scheduler:n});n.flush();let o=s.unsafePoll();return o?void r(o):(s.addObserver(r),function(){s.removeObserver(r),a||s.unsafeInterruptAsFork(S.none)})}};var X=h,ee=e.i(1737036);class et extends X.Tag("@effect/atom/Registry/CurrentRegistry")(){}let er=(0,k.dual)(2,(e,t)=>M.unwrapScoped(m.contextWithEffect(r=>{let a=X.get(r,_.Scope);return ee.make().pipe(m.tap(r=>{let i=e.subscribe(t,e=>r.unsafeOffer(e),{immediate:!0});return _.addFinalizer(a,m.suspend(()=>(i(),r.shutdown)))}),m.uninterruptible,m.map(e=>ee.toStream(e)))}))),ea=(0,k.dual)(2,(e,t)=>er(e,t).pipe(M.filter(L.isNotInitial),M.mapEffect(e=>"Success"===e._tag?m.succeed(e.value):m.failCause(e.cause)))),ei=(0,k.dual)(e=>{let t;return t=e[0],(0,R.hasProperty)(t,"~effect-atom/atom/Registry")},(e,t,r)=>{let a=r?.suspendOnWaiting??!1;return m.async(r=>{let i=e.get(t);if("Initial"!==i._tag&&!(a&&i.waiting))return r(L.toExit(i));let n=e.subscribe(t,e=>{"Initial"===e._tag||a&&e.waiting||(r(L.toExit(e)),n())});return m.sync(n)})});e.s(["AtomRegistry",()=>et,"getResult",0,ei,"make",0,e=>new $(e?.initialValues,e?.scheduleTask,e?.timeoutResolution,e?.defaultIdleTTL),"toStream",0,er,"toStreamResult",0,ea],804651);let en="~effect-atom/atom/Atom",es="~effect-atom/atom/Atom/Writable",eo={[en]:en,pipe(){return(0,C.pipeArguments)(this,arguments)},toJSON(){return{_id:"Atom",keepAlive:this.keepAlive,lazy:this.lazy,label:this.label}},toString(){return E.format(this)},[E.NodeInspectSymbol](){return this.toJSON()}},el={...eo,atom(e,t){let r=ey(e,t);return ep(e=>{let t=e.self(),a=e(this);return"Success"!==a._tag?L.replacePrevious(a,t):r(e,a.value)})},fn(e,t){return 0==arguments.length?(e,t)=>eu(this,e,t):eu(this,e,t)},pull(e,t){let r=eb(0),a=ep(a=>{let i=a.self(),n=a(this);return"Success"!==n._tag?L.replacePrevious(n,i):ev(a,eP(a,r,e,t),L.initial(!0),n.value)});return eL(r,a)},subscriptionRef(e){return eR(ep(t=>{let r=t.self(),a=t(this);if("Success"!==a._tag)return L.replacePrevious(a,r);let i="function"==typeof e?e(t):e;return N.SubscriptionRefTypeId in i?i:ev(t,i,L.initial(!0),a.value)}),(e,t)=>{let r=L.getOrThrow(e(this));return eC(e,t,r)})},subscribable(e){return eF(ep(t=>{let r=t.self(),a=t(this);if("Success"!==a._tag)return L.replacePrevious(a,r);let i="function"==typeof e?e(t):e;return D.isSubscribable(i)?i:ev(t,i,L.initial(!0),a.value)}),(e,t)=>{let r=L.getOrThrow(e(this));return eC(e,t,r)})}},eu=(e,t,r)=>{let[a,i,n]=eN(r?.reactivityKeys?(e,a)=>{let i=t(e,a);return m.isEffect(i)?o.mutation(i,r.reactivityKeys):M.ensuring(i,o.invalidate(r.reactivityKeys))}:t,r);return eh(t=>{t.get(n);let r=t.self(),i=t.get(e);return"Success"!==i._tag?L.replacePrevious(i,r):a(t,i.value)},i)},ec={...eo,[es]:es},ed=e=>es in e,ep=(e,t)=>{let r=Object.create(eo);return r.keepAlive=!1,r.lazy=!0,r.read=e,r.refresh=t,r},eh=(e,t,r)=>{let a=Object.create(ec);return a.keepAlive=!1,a.lazy=!0,a.read=e,a.write=t,a.refresh=r,a};function ef(e,t){e.setSelf(t)}let em=(e,t)=>{let r=ey(e,t);return en in r?r:ep(r)},eg=e=>T.TypeId in e||g.TypeId in e,ey=(e,t)=>{if("function"==typeof e&&!m.isEffect(e)&&!(M.StreamTypeId in e))return function(r,a){let i=e(r);if((0,R.isObject)(i)){if(eg(i));else if(m.EffectTypeId in i)return eS(r,i,t,a);else if(M.StreamTypeId in i)return eI(r,i,t,a)}return i};if((0,R.isObject)(e)){if(eg(e));else if(m.EffectTypeId in e)return function(r,a){return eS(r,e,t,a)};else if(M.StreamTypeId in e)return function(r,a){return eI(r,e,t,a)}}return eb(e)},eb=e=>eh(function(t){return e},ef),eS=(e,t,r,a)=>ev(e,t,r?.initialValue!==void 0?L.success(r.initialValue):L.initial(),a,r?.uninterruptible);function ev(e,t,r){let a,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F.defaultRuntime,n=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=e.self(),o=m.runSync(_.make());e.addFinalizer(()=>{m.runFork(_.close(o,y.void))});let l=new Map(i.context.unsafeMap);l.set(_.Scope.key,o),l.set(et.key,e.registry);let u=F.make({context:h.unsafeMake(l),fiberRefs:i.fiberRefs,runtimeFlags:i.runtimeFlags}),c=!1,d=Y(u)(t,function(t){a=L.fromExitWithPrevious(t,s),c&&e.setSelf(a)},n);return(c=!0,void 0!==d&&e.addFinalizer(d),void 0!==a)?a:"Some"===s._tag?L.waitingFrom(s):L.waiting(r)}let ek=e=>{let t=o.layer;function r(a){let i=Object.create(el);i.keepAlive=!1,i.lazy=!0,i.refresh=void 0,i.factory=r;let n=eW("function"==typeof a?ep(e=>x.provideMerge(a(e),t)):ep(()=>x.provideMerge(a,t)));return i.layer=n,i.read=function(t){let r=t(n);return eS(t,m.flatMap(m.flatMap(m.scope,t=>x.buildWithMemoMap(r,e.memoMap,t)),e=>m.provide(m.runtime(),e)),{uninterruptible:!0})},i}r.memoMap=e.memoMap,r.addGlobalLayer=e=>{t=x.provideMerge(t,x.provide(e,o.layer))};let a=em(m.scopeWith(t=>x.buildWithMemoMap(o.layer,e.memoMap,t)).pipe(m.map(h.get(o.Reactivity))));return r.withReactivity=e=>t=>eG(t,r=>{let i=L.getOrThrow(r(a));return r.addFinalizer(i.unsafeRegister(e,()=>{r.refresh(t)})),r.subscribe(t,e=>r.setSelf(e)),r.once(t)}),r},ew=(0,w.globalValue)("@effect-atom/atom/Atom/defaultMemoMap",()=>m.runSync(x.makeMemoMap)),eE=(0,w.globalValue)("@effect-atom/atom/Atom/defaultContext",()=>ek({memoMap:ew})),ex=eE.withReactivity,eI=(e,t,r,a)=>eT(e,t,r?.initialValue!==void 0?L.success(r.initialValue):L.initial(),a);function eT(e,t,r){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:F.defaultRuntime,i=e.self(),n=d.readWithCause({onInput:t=>d.suspend(()=>{let r=p.last(t);return"Some"===r._tag&&e.setSelf(L.success(r.value,{waiting:!0})),n}),onFailure:t=>d.sync(()=>{e.setSelf(L.failureWithPrevious(t,{previous:e.self()}))}),onDone:t=>d.sync(()=>{(0,k.pipe)(e.self(),T.flatMap(L.value),T.match({onNone:()=>e.setSelf(L.failWithPrevious(new c.NoSuchElementException,{previous:e.self()})),onSome:t=>e.setSelf(L.success(t))}))})}),s=Y(F.make({context:h.add(a.context,et,e.registry),fiberRefs:a.fiberRefs,runtimeFlags:a.runtimeFlags}))(d.runDrain(d.pipeTo(M.toChannel(t),n)),k.constVoid,!1);return(void 0!==s&&e.addFinalizer(s),"Some"===i._tag)?L.waitingFrom(i):L.waiting(r)}let eC=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:F.defaultRuntime;return D.TypeId in t?(e.addFinalizer(t.changes.pipe(M.runForEach(t=>(e.setSelf(t),m.void)),F.runCallback(r))),F.runSync(r)(t.get)):"Success"!==t._tag?t:eT(e,t.value.changes,L.initial(!0),r)},eR=(e,t)=>eh(r=>{let a=r(e);return N.SubscriptionRefTypeId in a||L.isSuccess(a)?t(r,a):a},function(t,r){let a=t.get(e);N.SubscriptionRefTypeId in a?m.runSync(N.set(a,r)):L.isSuccess(a)&&m.runSync(N.set(a.value,r))}),eF=(e,t)=>ep(r=>{let a=r(e);return D.isSubscribable(a)||L.isSuccess(a)?t(r,a):a}),eA=(e,t)=>{let r=eb([0,void 0]),a=t?.initialValue!==void 0;return eh(function(i){i.isFn=!0;let[n,s]=i.get(r);return 0===n?a?t.initialValue:T.none():a?e(s,i):T.some(e(s,i))},function(e,t){eY(()=>{e.set(r,[e.get(r)[0]+1,t]),e.refreshSelf()})})},eO=Symbol.for("@effect-atom/atom/Atom/Reset"),e_=Symbol.for("@effect-atom/atom/Atom/Interrupt"),eM=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?eD:eD(...t)},eD=(e,t)=>{let[r,a]=eN(e,t);return eh(r,a)};function eN(e,t){let r=eb([0,void 0]),a=t?.initialValue!==void 0?L.success(t.initialValue):L.initial(),i=t?.concurrent?em(e=>{let t=new Set;return e.addFinalizer(()=>t.forEach(e=>e.unsafeInterruptAsFork(S.none))),t}):void 0;return[function(t,n){let s=i?t(i):void 0;t.isFn=!0;let[o,l]=t.get(r);if(0===o)return a;if(l===e_)return L.failureWithPrevious(c.interrupt(S.none),{previous:t.self()});let u=e(l,t);if(m.EffectTypeId in u){if(s){let e=u;u=m.flatMap(m.runtime(),t=>{let r=F.runFork(t,e);s.add(r);let a=Array.from(s);return r.addObserver(()=>s.delete(r)),ez(a)})}return ev(t,u,a,n,!1)}return eT(t,u,a,n)},function(e,t){eY(()=>{t===eO?e.set(r,[0,void 0]):t===e_?e.set(r,[e.get(r)[0]+1,e_]):e.set(r,[e.get(r)[0]+1,t]),e.refreshSelf()})},r]}let ez=e=>m.async(t=>{let r,a,i=0;function n(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];"Failure"===e._tag?r=r?c.parallel(e.cause,r):e.cause:r||(a=e),i++,t||s()}function s(){for(;i<e.length;){let t=e[i],r=t.unsafePoll();if(!r)return t.addObserver(n);n(r,!0)}t(r?y.failCause(r):a||y.failCause(c.empty))}return s(),m.sync(()=>{i<e.length&&e[i].removeObserver(n)})}),eP=(e,t,r,a)=>m.flatMap(d.toPull(M.toChannel("function"==typeof r?r(e):r)),r=>{let i=m.unsafeMakeSemaphore(1),n=T.getOrThrow(b.getCurrentFiber()),s=n.currentContext,o=p.empty(),l=m.flatMap(m.locally(m.suspend(()=>r),v.currentContext,s),g.match({onLeft:()=>{let e=p.toReadonlyArray(o);return u.isNonEmptyArray(e)?m.succeed({done:!0,items:e}):m.fail(new c.NoSuchElementException("Atom.pull: no items"))},onRight(e){let t;a?.disableAccumulation?t=e:o=t=p.appendAll(o,e);let r=p.toReadonlyArray(t);return u.isNonEmptyArray(r)?m.succeed({done:!1,items:r}):l}})),d=i.withPermits(1)(l),h=Y(F.make({context:s,fiberRefs:n.getFiberRefs(),runtimeFlags:F.defaultRuntime.runtimeFlags})),f=new Set;return e.addFinalizer(()=>{for(let e of f)e()}),e.once(t),e.subscribe(t,()=>{let t;e.setSelf(L.waitingFrom(e.self())),(t=h(d,r=>{t&&f.delete(t);let a=L.fromExitWithPrevious(r,e.self()),i=f.size>0;e.setSelf(i?L.waiting(a):a)}))&&f.add(t)}),l}),eL=(e,t)=>eh(t.read,function(t,r){t.set(e,t.get(e)+1)}),eU="undefined"==typeof WeakRef||"undefined"==typeof FinalizationRegistry?e=>{let t=I.empty();return function(r){let a=I.get(t,r);if("Some"===a._tag)return a.value;let i=e(r);return I.set(t,r,i),i}}:e=>{let t=I.empty(),r=new FinalizationRegistry(e=>{I.remove(t,e)});return function(a){let i=I.get(t,a).pipe(T.flatMapNullable(e=>e.deref()));if("Some"===i._tag)return i.value;let n=e(a);return I.set(t,a,new WeakRef(n)),r.register(n,a),n}},ej=(0,k.dual)(2,(e,t)=>{function r(r){let a=r(e);return"Initial"===a._tag?L.waiting(r(t)):a}return ed(e)?eh(r,e.write,e.refresh??function(t){t(e)}):ep(r,e.refresh??function(t){t(e)})}),eW=e=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,keepAlive:!0}),eq=e=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,keepAlive:!1}),eB=(0,k.dual)(2,(e,t)=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,lazy:t})),e$=(0,k.dual)(2,(e,t)=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,label:[t,Error().stack?.split("\n")[5]??""]})),eV=(0,k.dual)(2,(e,t)=>{let r=f.decode(t),a=f.isFinite(r);return Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,keepAlive:!a,idleTTL:a?f.toMillis(r):void 0})}),eH=(0,k.dual)(2,(e,t)=>[e,t]),eG=(0,k.dual)(2,(e,t)=>ed(e)?eh(t,function(t,r){t.set(e,r)},e.refresh??function(t){t(e)}):ep(t,e.refresh??function(t){t(e)})),eK=(0,k.dual)(2,(e,t)=>eG(e,r=>t(r(e)))),eJ=(0,k.dual)(2,(e,t)=>eK(e,L.map(t))),eZ=(0,k.dual)(2,(e,t)=>{let r=f.toMillis(t);return eG(e,function(t){let a,i=t.once(e);function n(){a=void 0,t.setSelf(i)}return t.addFinalizer(function(){a&&clearTimeout(a)}),t.subscribe(e,function(e){i=e,a&&clearTimeout(a),a=setTimeout(n,r)}),i})}),eQ=(0,k.dual)(2,(e,t)=>{let r=eb(L.initial());return eM((a,i)=>{let n=t.reducer(i(e),a);L.isResult(n)&&(n=L.waiting(n,{touch:!0})),i.set(r,L.success(n,{waiting:!0})),i.set(e,r);let s="function"==typeof t.fn?eq(t.fn(e=>i.set(r,L.success(L.isResult(e)?L.waiting(e):e,{waiting:!0})))):t.fn;return i.set(s,a),m.async(e=>{i.subscribe(s,t=>{"Initial"===t._tag||t.waiting||(i.set(r,L.map(t,()=>n)),e(L.toExit(t)))},{immediate:!0})})})}),eY=function(e){Z.phase=s.collect,Z.depth++;try{if(e(),1===Z.depth){for(let e=0;e<Z.stale.length;e++)!function e(t){if(t.state!==n.valid){for(let r=0;r<t.parents.length;r++){let a=t.parents[r];a.state!==n.valid&&e(a)}t.state!==n.valid&&t.value()}}(Z.stale[e]);for(let e of(Z.phase=s.commit,Z.notify))e.notify();Z.notify.clear()}}finally{Z.depth--,0===Z.depth&&(Z.phase=s.disabled,Z.stale=[])}},eX=ep(e=>{let t=0;function r(){"visible"===document.visibilityState&&e.setSelf(++t)}return window.addEventListener("visibilitychange",r),e.addFinalizer(()=>{window.removeEventListener("visibilitychange",r)}),t}),e0=e=>t=>eG(t,r=>(r.once(e),r.subscribe(e,e=>r.refresh(t)),r.subscribe(t,e=>r.setSelf(e)),r.once(t))),e1=e0(eX),e2={timeout:void 0,updates:new Map,updating:!1};function e3(){e2.timeout=void 0,e2.updating=!0;let e=new URLSearchParams(window.location.search);for(let[t,r]of e2.updates.entries())r.length>0?e.set(t,r):e.delete(t);e2.updates.clear();let t=`${window.location.pathname}?${e.toString()}`;window.history.pushState({},"",t),e2.updating=!1}let e5=(0,k.dual)(2,(e,t)=>m.map(et,r=>r.modify(e,t))),e4=(0,k.dual)(2,(e,t)=>m.map(et,r=>r.set(e,t))),e8=(0,k.dual)(2,(e,t)=>m.map(et,r=>r.update(e,t))),e6="~effect-atom/atom/Atom/Serializable",e9=(0,k.dual)(2,(e,t)=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,label:e.label??[t.key,Error().stack?.split("\n")[5]??""],[e6]:{key:t.key,encode:A.encodeSync(t.schema),decode:A.decodeSync(t.schema)}})),e7="~effect-atom/atom/Atom/ServerValue",te=(0,k.dual)(2,(e,t)=>Object.assign(Object.create(Object.getPrototypeOf(e)),{...e,[e7]:t})),tt=(0,k.dual)(2,(e,t)=>e7 in e?e[e7](e=>t.get(e)):t.get(e));e.s(["Interrupt",0,e_,"Reset",0,eO,"SerializableTypeId",0,e6,"ServerValueTypeId",0,e7,"TypeId",0,en,"WritableTypeId",0,es,"autoDispose",0,eq,"batch",0,eY,"context",0,ek,"debounce",0,eZ,"defaultMemoMap",0,ew,"family",0,eU,"fn",0,eM,"fnSync",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?eA:eA(...t)},"get",0,e=>m.map(et,t=>t.get(e)),"getResult",0,(e,t)=>m.flatMap(et,ei(e,t)),"getServerValue",0,tt,"initialValue",0,eH,"isAtom",0,e=>(0,R.hasProperty)(e,en),"isSerializable",0,e=>e6 in e,"isWritable",0,ed,"keepAlive",0,eW,"kvs",0,e=>{let t=e.runtime.fn(m.fnUntraced(function*(t){let r=(yield*l.KeyValueStore).forSchema(e.schema);yield*r.set(e.key,t)})),r=e.runtime.atom(m.flatMap(l.KeyValueStore,t=>m.flatten(t.forSchema(e.schema).get(e.key))));return eh(a=>(a.mount(t),L.getOrElse(a(r),e.defaultValue)),(e,r)=>{e.set(t,r),e.setSelf(r)})},"make",0,em,"makeRefreshOnSignal",0,e0,"map",0,eK,"mapResult",0,eJ,"modify",0,e5,"optimistic",0,e=>{let t=0,r=eb([0,void 0]);return eh(t=>{let a=t.once(e),i=!1;t.subscribe(e,e=>{if(a=e,n.size>0)return;if(i=!1,!L.isResult(e))return t.setSelf(e);let r=T.getOrUndefined(t.self());switch(e._tag){case"Initial":L.isInitial(r)&&t.setSelf(e);return;case"Success":L.isSuccess(r)?!e.waiting&&e.timestamp>=r.timestamp&&t.setSelf(e):t.setSelf(e);return;case"Failure":return t.setSelf(e)}});let n=new Set,s=new Set;return t.subscribe(r,r=>{let o,[,l]=r;n.has(l)||(n.add(l),o=t.registry.subscribe(l,r=>{if(L.isSuccess(r)&&r.waiting)return t.setSelf(r.value);n.delete(l),o&&(s.delete(o),o()),i||L.isFailure(r)||(i=!0),0===n.size&&(i?(i=!1,t.refresh(e)):t.setSelf(a))},{immediate:!0}),n.has(l)?s.add(o):o())}),t.addFinalizer(()=>{for(let e of s)e();n.clear(),s.clear()}),a},(e,a)=>e.set(r,[++t,a]),t=>t(e))},"optimisticFn",0,eQ,"pull",0,(e,t)=>{let r=eb(0),a=ep(ey(function(a){return eP(a,r,e,t)}));return eL(r,a)},"readable",0,ep,"refresh",0,e=>m.map(et,t=>t.refresh(e)),"refreshOnWindowFocus",0,e1,"runtime",0,eE,"searchParam",0,(e,t)=>{let r=t?.schema&&O.decodeEither(t.schema),a=t?.schema&&O.encodeEither(t.schema);return eh(t=>{let a=()=>{if(e2.updating)return;let a=new URLSearchParams(window.location.search).get(e)||"";r?t.setSelf(g.getRight(r(a))):a!==T.getOrUndefined(t.self())&&t.setSelf(a)};window.addEventListener("popstate",a),window.addEventListener("pushstate",a),t.addFinalizer(()=>{window.removeEventListener("popstate",a),window.removeEventListener("pushstate",a)});let i=new URLSearchParams(window.location.search).get(e)||"";return r?g.getRight(r(i)):i},(t,r)=>{if(a){let t=T.flatMap(r,e=>g.getRight(a(e)));e2.updates.set(e,T.getOrElse(t,()=>"")),r=T.zipRight(t,r)}else e2.updates.set(e,r);t.setSelf(r),e2.timeout&&clearTimeout(e2.timeout),e2.timeout=setTimeout(e3,500)})},"serializable",0,e9,"set",0,e4,"setIdleTTL",0,eV,"setLazy",0,eB,"subscribable",0,e=>eF(ep(t=>{let r="function"==typeof e?e(t):e;return D.isSubscribable(r)?r:ev(t,r,L.initial(!0))}),eC),"subscriptionRef",0,e=>eR(ep(t=>{let r="function"==typeof e?e(t):e;return N.SubscriptionRefTypeId in r?r:ev(t,r,L.initial(!0))}),eC),"toStream",0,e=>M.unwrap(m.map(et,er(e))),"toStreamResult",0,e=>M.unwrap(m.map(et,ea(e))),"transform",0,eG,"update",0,e8,"windowFocusSignal",0,eX,"withFallback",0,ej,"withLabel",0,e$,"withReactivity",0,ex,"withServerValue",0,te,"withServerValueInitial",0,e=>te(e,(0,k.constant)(L.initial(!0))),"writable",0,eh],7518524)},8973927,e=>{"use strict";var t=e.i(3322401);e.s(["Effect",0,t])},1794138,(e,t,r)=>{"use strict";function a(e,t){var r=e.length;for(e.push(t);0<r;){var a=r-1>>>1,i=e[a];if(0<s(i,t))e[a]=t,e[r]=i,r=a;else break}}function i(e){return 0===e.length?null:e[0]}function n(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;for(var a=0,i=e.length,n=i>>>1;a<n;){var o=2*(a+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,r))u<i&&0>s(c,l)?(e[a]=c,e[u]=r,a=u):(e[a]=l,e[o]=r,a=o);else if(u<i&&0>s(c,r))e[a]=c,e[u]=r,a=u;else break}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(r.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var o,l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,c=u.now();r.unstable_now=function(){return u.now()-c}}var d=[],p=[],h=1,f=null,m=3,g=!1,y=!1,b=!1,S=!1,v="function"==typeof setTimeout?setTimeout:null,k="function"==typeof clearTimeout?clearTimeout:null,w="undefined"!=typeof setImmediate?setImmediate:null;function E(e){for(var t=i(p);null!==t;){if(null===t.callback)n(p);else if(t.startTime<=e)n(p),t.sortIndex=t.expirationTime,a(d,t);else break;t=i(p)}}function x(e){if(b=!1,E(e),!y)if(null!==i(d))y=!0,I||(I=!0,o());else{var t=i(p);null!==t&&M(x,t.startTime-e)}}var I=!1,T=-1,C=5,R=-1;function F(){return!!S||!(r.unstable_now()-R<C)}function A(){if(S=!1,I){var e=r.unstable_now();R=e;var t=!0;try{e:{y=!1,b&&(b=!1,k(T),T=-1),g=!0;var a=m;try{t:{for(E(e),f=i(d);null!==f&&!(f.expirationTime>e&&F());){var s=f.callback;if("function"==typeof s){f.callback=null,m=f.priorityLevel;var l=s(f.expirationTime<=e);if(e=r.unstable_now(),"function"==typeof l){f.callback=l,E(e),t=!0;break t}f===i(d)&&n(d),E(e)}else n(d);f=i(d)}if(null!==f)t=!0;else{var u=i(p);null!==u&&M(x,u.startTime-e),t=!1}}break e}finally{f=null,m=a,g=!1}}}finally{t?o():I=!1}}}if("function"==typeof w)o=function(){w(A)};else if("undefined"!=typeof MessageChannel){var O=new MessageChannel,_=O.port2;O.port1.onmessage=A,o=function(){_.postMessage(null)}}else o=function(){v(A,0)};function M(e,t){T=v(function(){e(r.unstable_now())},t)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(e){e.callback=null},r.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},r.unstable_getCurrentPriorityLevel=function(){return m},r.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var r=m;m=t;try{return e()}finally{m=r}},r.unstable_requestPaint=function(){S=!0},r.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return t()}finally{m=r}},r.unstable_scheduleCallback=function(e,t,n){var s=r.unstable_now();switch(n="object"==typeof n&&null!==n&&"number"==typeof(n=n.delay)&&0<n?s+n:s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=0x3fffffff;break;case 4:l=1e4;break;default:l=5e3}return l=n+l,e={id:h++,callback:t,priorityLevel:e,startTime:n,expirationTime:l,sortIndex:-1},n>s?(e.sortIndex=n,a(p,e),null===i(d)&&e===i(p)&&(b?(k(T),T=-1):b=!0,M(x,n-s))):(e.sortIndex=l,a(d,e),y||g||(y=!0,I||(I=!0,o()))),e},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(e){var t=m;return function(){var r=m;m=t;try{return e.apply(this,arguments)}finally{m=r}}}},5488440,(e,t,r)=>{"use strict";t.exports=e.r(1794138)},7018839,e=>{"use strict";var t=e.i(7518524),r=e.i(804651),a=e.i(8973927),i=e.i(5450905),n=e.i(7836076),s=e.i(9159985),o=e.i(5169864),l=e.i(5488440);let u=o.createContext(r.make({scheduleTask:function(e){l.unstable_scheduleCallback(l.unstable_LowPriority,e)},defaultIdleTTL:400})),c=(0,s.globalValue)("@effect-atom/atom-react/storeRegistry",()=>new WeakMap);function d(e,r){let a=function(e,r){let a=c.get(e);void 0===a&&(a=new WeakMap,c.set(e,a));let i=a.get(r);if(void 0!==i)return i;let n={subscribe:t=>e.subscribe(r,t),snapshot:()=>e.get(r),getServerSnapshot:()=>t.getServerValue(r,e)};return a.set(r,n),n}(e,r);return o.useSyncExternalStore(a.subscribe,a.snapshot,a.getServerSnapshot)}function p(e,t){o.useEffect(()=>e.mount(t),[t,e])}function h(e,t,i){return i?.mode==="promise"||i?.mode==="promiseExit"?o.useCallback(n=>{e.set(t,n);let s=a.Effect.runPromiseExit(r.getResult(e,t,{suspendOnWaiting:!0}));return"promise"===i.mode?s.then(f):s},[e,t,i.mode]):o.useCallback(r=>{e.set(t,"function"==typeof r?r(e.get(t)):r)},[e,t])}let f=e=>{if(n.isSuccess(e))return e.value;throw i.squash(e.cause)},m=(0,s.globalValue)("@effect-atom/atom-react/atomPromiseMap",()=>({suspendOnWaiting:new Map,default:new Map}));e.s(["useAtom",0,(e,t)=>{let r=o.useContext(u);return[d(r,e),h(r,e,t)]},"useAtomMount",0,e=>{p(o.useContext(u),e)},"useAtomRefresh",0,e=>{let t=o.useContext(u);return p(t,e),o.useCallback(()=>{t.refresh(e)},[t,e])},"useAtomSet",0,(e,t)=>{let r=o.useContext(u);return p(r,e),h(r,e,t)},"useAtomSuspense",0,(e,t)=>{let r=function(e,t,r){let a=d(e,t);if("Initial"===a._tag||r&&a.waiting){let a,i;throw void 0!==(i=(a=r?m.suspendOnWaiting:m.default).get(t))||(i=new Promise(i=>{let n=e.subscribe(t,e=>{"Initial"===e._tag||r&&e.waiting||(setTimeout(n,1e3),i(),a.delete(t))})}),a.set(t,i)),i}return a}(o.useContext(u),e,t?.suspendOnWaiting??!1);if("Failure"===r._tag&&!t?.includeFailure)throw i.squash(r.cause);return r},"useAtomValue",0,(e,r)=>{let a=o.useContext(u);return r?d(a,o.useMemo(()=>t.map(e,r),[e,r])):d(a,e)}],7018839)},4511046,6021311,8718972,e=>{"use strict";var t=e.i(5972454);e.s(["Context",0,t],4511046);var r=e.i(9227260);e.s(["Layer",0,r],6021311);var a=e.i(7525378),i=e.i(9960543),n=e.i(4935619),s=e.i(5160412),o=e.i(7548658),l=e.i(1658800),u=e.i(2067266),c=e.i(3674254),d=e.i(210165);function p(e,t){return o.flatMap(e.runtimeEffect,e=>o.withFiberRuntime(r=>(r.setFiberRefs(e.fiberRefs),r.currentRuntimeFlags=e.runtimeFlags,o.provideContext(t,e.context))))}let h={...a.CommitPrototype,[c.TypeId]:c.TypeId,pipe(){return(0,i.pipeArguments)(this,arguments)},commit(){return this.runtimeEffect}},f=c.TypeId;e.s(["TypeId",0,f,"isManagedRuntime",0,e=>(0,n.hasProperty)(e,c.TypeId),"make",0,(e,t)=>{let r;t=t??u.unsafeMakeMemoMap();let a=d.unsafeRunSyncEffect(l.scopeMake()),i=o.withFiberRuntime(i=>(r||(r=d.unsafeForkEffect(o.tap(s.extend(u.toRuntimeWithMemoMap(e,t),a),e=>{n.cachedRuntime=e}),{scope:a,scheduler:i.currentScheduler})),o.flatten(r.await))),n=Object.assign(Object.create(h),{memoMap:t,scope:a,runtimeEffect:i,cachedRuntime:void 0,runtime:()=>void 0===n.cachedRuntime?d.unsafeRunPromiseEffect(n.runtimeEffect):Promise.resolve(n.cachedRuntime),dispose:()=>d.unsafeRunPromiseEffect(n.disposeEffect),disposeEffect:o.suspend(()=>(n.runtimeEffect=o.die("ManagedRuntime disposed"),n.cachedRuntime=void 0,s.close(n.scope,o.exitVoid))),runFork:(e,t)=>void 0===n.cachedRuntime?d.unsafeForkEffect(p(n,e),t):d.unsafeFork(n.cachedRuntime)(e,t),runSyncExit:e=>void 0===n.cachedRuntime?d.unsafeRunSyncExitEffect(p(n,e)):d.unsafeRunSyncExit(n.cachedRuntime)(e),runSync:e=>void 0===n.cachedRuntime?d.unsafeRunSyncEffect(p(n,e)):d.unsafeRunSync(n.cachedRuntime)(e),runPromiseExit:(e,t)=>void 0===n.cachedRuntime?d.unsafeRunPromiseExitEffect(p(n,e),t):d.unsafeRunPromiseExit(n.cachedRuntime)(e,t),runCallback:(e,t)=>void 0===n.cachedRuntime?d.unsafeRunCallback(d.defaultRuntime)(p(n,e),t):d.unsafeRunCallback(n.cachedRuntime)(e,t),runPromise:(e,t)=>void 0===n.cachedRuntime?d.unsafeRunPromiseEffect(p(n,e),t):d.unsafeRunPromise(n.cachedRuntime)(e,t)});return n}],3275939);var m=e.i(3275939);e.s(["ManagedRuntime",0,m],8718972)},1445448,6503210,2726583,e=>{"use strict";var t=e.i(5450905);e.s(["Cause",0,t],1445448);var r=e.i(1331084);e.s(["Either",0,r],6503210);var a=e.i(7836076);e.s(["Exit",0,a],2726583)},4520167,e=>{"use strict";var t=e.i(9973079),r=e.i(9552070);e.s(["Any",()=>t.Any,"Array",()=>t.Array,"ArrayEnsure",()=>t.ArrayEnsure,"ArrayFormatterIssue",()=>t.ArrayFormatterIssue,"BetweenBigDecimalSchemaId",()=>t.BetweenBigDecimalSchemaId,"BetweenBigIntSchemaId",()=>t.BetweenBigIntSchemaId,"BetweenDateSchemaId",()=>t.BetweenDateSchemaId,"BetweenDurationSchemaId",()=>t.BetweenDurationSchemaId,"BetweenSchemaId",()=>t.BetweenSchemaId,"BigDecimal",()=>t.BigDecimal,"BigDecimalFromNumber",()=>t.BigDecimalFromNumber,"BigDecimalFromSelf",()=>t.BigDecimalFromSelf,"BigInt",()=>t.BigInt,"BigIntFromNumber",()=>t.BigIntFromNumber,"BigIntFromSelf",()=>t.BigIntFromSelf,"Boolean",()=>t.Boolean,"BooleanFromString",()=>t.BooleanFromString,"BooleanFromUnknown",()=>t.BooleanFromUnknown,"BrandSchemaId",()=>t.BrandSchemaId,"Capitalize",()=>t.Capitalize,"Capitalized",()=>t.Capitalized,"CapitalizedSchemaId",()=>t.CapitalizedSchemaId,"Cause",()=>t.Cause,"CauseFromSelf",()=>t.CauseFromSelf,"Char",()=>t.Char,"Chunk",()=>t.Chunk,"ChunkFromSelf",()=>t.ChunkFromSelf,"Class",()=>t.Class,"Config",()=>t.Config,"Data",()=>t.Data,"DataFromSelf",()=>t.DataFromSelf,"Date",()=>t.Date,"DateFromNumber",()=>t.DateFromNumber,"DateFromSelf",()=>t.DateFromSelf,"DateFromSelfSchemaId",()=>t.DateFromSelfSchemaId,"DateFromString",()=>t.DateFromString,"DateTimeUtc",()=>t.DateTimeUtc,"DateTimeUtcFromDate",()=>t.DateTimeUtcFromDate,"DateTimeUtcFromNumber",()=>t.DateTimeUtcFromNumber,"DateTimeUtcFromSelf",()=>t.DateTimeUtcFromSelf,"DateTimeZoned",()=>t.DateTimeZoned,"DateTimeZonedFromSelf",()=>t.DateTimeZonedFromSelf,"Defect",()=>t.Defect,"Duration",()=>t.Duration,"DurationFromMillis",()=>t.DurationFromMillis,"DurationFromNanos",()=>t.DurationFromNanos,"DurationFromSelf",()=>t.DurationFromSelf,"Either",()=>t.Either,"EitherFromSelf",()=>t.EitherFromSelf,"EitherFromUnion",()=>t.EitherFromUnion,"EndsWithSchemaId",()=>t.EndsWithSchemaId,"Enums",()=>t.Enums,"Exit",()=>t.Exit,"ExitFromSelf",()=>t.ExitFromSelf,"FiberId",()=>t.FiberId,"FiberIdFromSelf",()=>t.FiberIdFromSelf,"Finite",()=>t.Finite,"FiniteSchemaId",()=>t.FiniteSchemaId,"FromPropertySignature",()=>t.FromPropertySignature,"GreaterThanBigDecimalSchemaId",()=>t.GreaterThanBigDecimalSchemaId,"GreaterThanBigIntSchemaId",()=>t.GreaterThanBigIntSchemaId,"GreaterThanDateSchemaId",()=>t.GreaterThanDateSchemaId,"GreaterThanDurationSchemaId",()=>t.GreaterThanDurationSchemaId,"GreaterThanOrEqualToBigDecimalSchemaId",()=>t.GreaterThanOrEqualToBigDecimalSchemaId,"GreaterThanOrEqualToBigIntSchemaId",()=>t.GreaterThanOrEqualToBigIntSchemaId,"GreaterThanOrEqualToDateSchemaId",()=>t.GreaterThanOrEqualToDateSchemaId,"GreaterThanOrEqualToDurationSchemaId",()=>t.GreaterThanOrEqualToDurationSchemaId,"GreaterThanOrEqualToSchemaId",()=>t.GreaterThanOrEqualToSchemaId,"GreaterThanSchemaId",()=>t.GreaterThanSchemaId,"HashMap",()=>t.HashMap,"HashMapFromSelf",()=>t.HashMapFromSelf,"HashSet",()=>t.HashSet,"HashSetFromSelf",()=>t.HashSetFromSelf,"IncludesSchemaId",()=>t.IncludesSchemaId,"InstanceOfSchemaId",()=>t.InstanceOfSchemaId,"Int",()=>t.Int,"IntSchemaId",()=>t.IntSchemaId,"ItemsCountSchemaId",()=>t.ItemsCountSchemaId,"JsonNumber",()=>t.JsonNumber,"JsonNumberSchemaId",()=>t.JsonNumberSchemaId,"LengthSchemaId",()=>t.LengthSchemaId,"LessThanBigDecimalSchemaId",()=>t.LessThanBigDecimalSchemaId,"LessThanBigIntSchemaId",()=>t.LessThanBigIntSchemaId,"LessThanDateSchemaId",()=>t.LessThanDateSchemaId,"LessThanDurationSchemaId",()=>t.LessThanDurationSchemaId,"LessThanOrEqualToBigDecimalSchemaId",()=>t.LessThanOrEqualToBigDecimalSchemaId,"LessThanOrEqualToBigIntSchemaId",()=>t.LessThanOrEqualToBigIntSchemaId,"LessThanOrEqualToDateSchemaId",()=>t.LessThanOrEqualToDateSchemaId,"LessThanOrEqualToDurationSchemaId",()=>t.LessThanOrEqualToDurationSchemaId,"LessThanOrEqualToSchemaId",()=>t.LessThanOrEqualToSchemaId,"LessThanSchemaId",()=>t.LessThanSchemaId,"List",()=>t.List,"ListFromSelf",()=>t.ListFromSelf,"Literal",()=>t.Literal,"Lowercase",()=>t.Lowercase,"Lowercased",()=>t.Lowercased,"LowercasedSchemaId",()=>t.LowercasedSchemaId,"Map",()=>t.Map,"MapFromRecord",()=>t.MapFromRecord,"MapFromSelf",()=>t.MapFromSelf,"MaxItemsSchemaId",()=>t.MaxItemsSchemaId,"MaxLengthSchemaId",()=>t.MaxLengthSchemaId,"MinItemsSchemaId",()=>t.MinItemsSchemaId,"MinLengthSchemaId",()=>t.MinLengthSchemaId,"MultipleOfSchemaId",()=>t.MultipleOfSchemaId,"Negative",()=>t.Negative,"NegativeBigDecimalFromSelf",()=>t.NegativeBigDecimalFromSelf,"NegativeBigDecimalSchemaId",()=>t.NegativeBigDecimalSchemaId,"NegativeBigInt",()=>t.NegativeBigInt,"NegativeBigIntFromSelf",()=>t.NegativeBigIntFromSelf,"Never",()=>t.Never,"NonEmptyArray",()=>t.NonEmptyArray,"NonEmptyArrayEnsure",()=>t.NonEmptyArrayEnsure,"NonEmptyChunk",()=>t.NonEmptyChunk,"NonEmptyChunkFromSelf",()=>t.NonEmptyChunkFromSelf,"NonEmptyString",()=>t.NonEmptyString,"NonEmptyTrimmedString",()=>t.NonEmptyTrimmedString,"NonNaN",()=>t.NonNaN,"NonNaNSchemaId",()=>t.NonNaNSchemaId,"NonNegative",()=>t.NonNegative,"NonNegativeBigDecimalFromSelf",()=>t.NonNegativeBigDecimalFromSelf,"NonNegativeBigDecimalSchemaId",()=>t.NonNegativeBigDecimalSchemaId,"NonNegativeBigInt",()=>t.NonNegativeBigInt,"NonNegativeBigIntFromSelf",()=>t.NonNegativeBigIntFromSelf,"NonNegativeInt",()=>t.NonNegativeInt,"NonPositive",()=>t.NonPositive,"NonPositiveBigDecimalFromSelf",()=>t.NonPositiveBigDecimalFromSelf,"NonPositiveBigDecimalSchemaId",()=>t.NonPositiveBigDecimalSchemaId,"NonPositiveBigInt",()=>t.NonPositiveBigInt,"NonPositiveBigIntFromSelf",()=>t.NonPositiveBigIntFromSelf,"Not",()=>t.Not,"Null",()=>t.Null,"NullOr",()=>t.NullOr,"NullishOr",()=>t.NullishOr,"Number",()=>t.Number,"NumberFromString",()=>t.NumberFromString,"Object",()=>t.Object,"Option",()=>t.Option,"OptionFromNonEmptyTrimmedString",()=>t.OptionFromNonEmptyTrimmedString,"OptionFromNullOr",()=>t.OptionFromNullOr,"OptionFromNullishOr",()=>t.OptionFromNullishOr,"OptionFromSelf",()=>t.OptionFromSelf,"OptionFromUndefinedOr",()=>t.OptionFromUndefinedOr,"PatternSchemaId",()=>t.PatternSchemaId,"Positive",()=>t.Positive,"PositiveBigDecimalFromSelf",()=>t.PositiveBigDecimalFromSelf,"PositiveBigDecimalSchemaId",()=>t.PositiveBigDecimalSchemaId,"PositiveBigInt",()=>t.PositiveBigInt,"PositiveBigIntFromSelf",()=>t.PositiveBigIntFromSelf,"PropertyKey",()=>t.PropertyKey,"PropertySignatureDeclaration",()=>t.PropertySignatureDeclaration,"PropertySignatureTransformation",()=>t.PropertySignatureTransformation,"PropertySignatureTypeId",()=>t.PropertySignatureTypeId,"ReadonlyMap",()=>t.ReadonlyMap,"ReadonlyMapFromRecord",()=>t.ReadonlyMapFromRecord,"ReadonlyMapFromSelf",()=>t.ReadonlyMapFromSelf,"ReadonlySet",()=>t.ReadonlySet,"ReadonlySetFromSelf",()=>t.ReadonlySetFromSelf,"Record",()=>t.Record,"Redacted",()=>t.Redacted,"RedactedFromSelf",()=>t.RedactedFromSelf,"RefineSchemaId",()=>t.RefineSchemaId,"Set",()=>t.Set,"SetFromSelf",()=>t.SetFromSelf,"SortedSet",()=>t.SortedSet,"SortedSetFromSelf",()=>t.SortedSetFromSelf,"StartsWithSchemaId",()=>t.StartsWithSchemaId,"String",()=>t.String,"StringFromBase64",()=>t.StringFromBase64,"StringFromBase64Url",()=>t.StringFromBase64Url,"StringFromHex",()=>t.StringFromHex,"StringFromUriComponent",()=>t.StringFromUriComponent,"Struct",()=>t.Struct,"Symbol",()=>t.Symbol,"SymbolFromSelf",()=>t.SymbolFromSelf,"TaggedClass",()=>t.TaggedClass,"TaggedError",()=>t.TaggedError,"TaggedRequest",()=>t.TaggedRequest,"TaggedStruct",()=>t.TaggedStruct,"TemplateLiteral",()=>t.TemplateLiteral,"TemplateLiteralParser",()=>t.TemplateLiteralParser,"TimeZone",()=>t.TimeZone,"TimeZoneFromSelf",()=>t.TimeZoneFromSelf,"TimeZoneNamed",()=>t.TimeZoneNamed,"TimeZoneNamedFromSelf",()=>t.TimeZoneNamedFromSelf,"TimeZoneOffset",()=>t.TimeZoneOffset,"TimeZoneOffsetFromSelf",()=>t.TimeZoneOffsetFromSelf,"ToPropertySignature",()=>t.ToPropertySignature,"Trim",()=>t.Trim,"Trimmed",()=>t.Trimmed,"TrimmedSchemaId",()=>t.TrimmedSchemaId,"Tuple",()=>t.Tuple,"TypeId",()=>t.TypeId,"ULID",()=>t.ULID,"ULIDSchemaId",()=>t.ULIDSchemaId,"URL",()=>t.URL,"URLFromSelf",()=>t.URLFromSelf,"UUID",()=>t.UUID,"UUIDSchemaId",()=>t.UUIDSchemaId,"Uint8",()=>t.Uint8,"Uint8Array",()=>t.Uint8Array,"Uint8ArrayFromBase64",()=>t.Uint8ArrayFromBase64,"Uint8ArrayFromBase64Url",()=>t.Uint8ArrayFromBase64Url,"Uint8ArrayFromHex",()=>t.Uint8ArrayFromHex,"Uint8ArrayFromSelf",()=>t.Uint8ArrayFromSelf,"Uncapitalize",()=>t.Uncapitalize,"Uncapitalized",()=>t.Uncapitalized,"UncapitalizedSchemaId",()=>t.UncapitalizedSchemaId,"Undefined",()=>t.Undefined,"UndefinedOr",()=>t.UndefinedOr,"Union",()=>t.Union,"UniqueSymbolFromSelf",()=>t.UniqueSymbolFromSelf,"Unknown",()=>t.Unknown,"Uppercase",()=>t.Uppercase,"Uppercased",()=>t.Uppercased,"UppercasedSchemaId",()=>t.UppercasedSchemaId,"ValidDateFromSelf",()=>t.ValidDateFromSelf,"ValidDateSchemaId",()=>t.ValidDateSchemaId,"Void",()=>t.Void,"annotations",()=>t.annotations,"asSchema",()=>t.asSchema,"asSerializable",()=>t.asSerializable,"asSerializableWithResult",()=>t.asSerializableWithResult,"asWithResult",()=>t.asWithResult,"asserts",()=>r.asserts,"attachPropertySignature",()=>t.attachPropertySignature,"between",()=>t.between,"betweenBigDecimal",()=>t.betweenBigDecimal,"betweenBigInt",()=>t.betweenBigInt,"betweenDate",()=>t.betweenDate,"betweenDuration",()=>t.betweenDuration,"brand",()=>t.brand,"capitalized",()=>t.capitalized,"clamp",()=>t.clamp,"clampBigDecimal",()=>t.clampBigDecimal,"clampBigInt",()=>t.clampBigInt,"clampDuration",()=>t.clampDuration,"compose",()=>t.compose,"declare",()=>t.declare,"decode",()=>t.decode,"decodeEither",()=>t.decodeEither,"decodeOption",()=>r.decodeOption,"decodePromise",()=>t.decodePromise,"decodeSync",()=>r.decodeSync,"decodeUnknown",()=>t.decodeUnknown,"decodeUnknownEither",()=>t.decodeUnknownEither,"decodeUnknownOption",()=>r.decodeUnknownOption,"decodeUnknownPromise",()=>t.decodeUnknownPromise,"decodeUnknownSync",()=>r.decodeUnknownSync,"deserialize",()=>t.deserialize,"deserializeExit",()=>t.deserializeExit,"deserializeFailure",()=>t.deserializeFailure,"deserializeSuccess",()=>t.deserializeSuccess,"element",()=>t.element,"encode",()=>t.encode,"encodeEither",()=>t.encodeEither,"encodeOption",()=>r.encodeOption,"encodePromise",()=>t.encodePromise,"encodeSync",()=>r.encodeSync,"encodeUnknown",()=>t.encodeUnknown,"encodeUnknownEither",()=>t.encodeUnknownEither,"encodeUnknownOption",()=>r.encodeUnknownOption,"encodeUnknownPromise",()=>t.encodeUnknownPromise,"encodeUnknownSync",()=>r.encodeUnknownSync,"encodedBoundSchema",()=>t.encodedBoundSchema,"encodedSchema",()=>t.encodedSchema,"endsWith",()=>t.endsWith,"equivalence",()=>t.equivalence,"exitSchema",()=>t.exitSchema,"extend",()=>t.extend,"failureSchema",()=>t.failureSchema,"filter",()=>t.filter,"filterEffect",()=>t.filterEffect,"finite",()=>t.finite,"format",()=>t.format,"fromBrand",()=>t.fromBrand,"fromKey",()=>t.fromKey,"getClassTag",()=>t.getClassTag,"getNumberIndexedAccess",()=>t.getNumberIndexedAccess,"greaterThan",()=>t.greaterThan,"greaterThanBigDecimal",()=>t.greaterThanBigDecimal,"greaterThanBigInt",()=>t.greaterThanBigInt,"greaterThanDate",()=>t.greaterThanDate,"greaterThanDuration",()=>t.greaterThanDuration,"greaterThanOrEqualTo",()=>t.greaterThanOrEqualTo,"greaterThanOrEqualToBigDecimal",()=>t.greaterThanOrEqualToBigDecimal,"greaterThanOrEqualToBigInt",()=>t.greaterThanOrEqualToBigInt,"greaterThanOrEqualToDate",()=>t.greaterThanOrEqualToDate,"greaterThanOrEqualToDuration",()=>t.greaterThanOrEqualToDuration,"head",()=>t.head,"headNonEmpty",()=>t.headNonEmpty,"headOrElse",()=>t.headOrElse,"includes",()=>t.includes,"instanceOf",()=>t.instanceOf,"int",()=>t.int,"is",()=>r.is,"isPropertySignature",()=>t.isPropertySignature,"isSchema",()=>t.isSchema,"itemsCount",()=>t.itemsCount,"keyof",()=>t.keyof,"length",()=>t.length,"lessThan",()=>t.lessThan,"lessThanBigDecimal",()=>t.lessThanBigDecimal,"lessThanBigInt",()=>t.lessThanBigInt,"lessThanDate",()=>t.lessThanDate,"lessThanDuration",()=>t.lessThanDuration,"lessThanOrEqualTo",()=>t.lessThanOrEqualTo,"lessThanOrEqualToBigDecimal",()=>t.lessThanOrEqualToBigDecimal,"lessThanOrEqualToBigInt",()=>t.lessThanOrEqualToBigInt,"lessThanOrEqualToDate",()=>t.lessThanOrEqualToDate,"lessThanOrEqualToDuration",()=>t.lessThanOrEqualToDuration,"lowercased",()=>t.lowercased,"make",()=>t.make,"makePropertySignature",()=>t.makePropertySignature,"maxItems",()=>t.maxItems,"maxLength",()=>t.maxLength,"minItems",()=>t.minItems,"minLength",()=>t.minLength,"multipleOf",()=>t.multipleOf,"mutable",()=>t.mutable,"negative",()=>t.negative,"negativeBigDecimal",()=>t.negativeBigDecimal,"negativeBigInt",()=>t.negativeBigInt,"nonEmptyString",()=>t.nonEmptyString,"nonNaN",()=>t.nonNaN,"nonNegative",()=>t.nonNegative,"nonNegativeBigDecimal",()=>t.nonNegativeBigDecimal,"nonNegativeBigInt",()=>t.nonNegativeBigInt,"nonPositive",()=>t.nonPositive,"nonPositiveBigDecimal",()=>t.nonPositiveBigDecimal,"nonPositiveBigInt",()=>t.nonPositiveBigInt,"omit",()=>t.omit,"optional",()=>t.optional,"optionalElement",()=>t.optionalElement,"optionalToOptional",()=>t.optionalToOptional,"optionalToRequired",()=>t.optionalToRequired,"optionalWith",()=>t.optionalWith,"parseJson",()=>t.parseJson,"parseNumber",()=>t.parseNumber,"partial",()=>t.partial,"partialWith",()=>t.partialWith,"pattern",()=>t.pattern,"pick",()=>t.pick,"pickLiteral",()=>t.pickLiteral,"pluck",()=>t.pluck,"positive",()=>t.positive,"positiveBigDecimal",()=>t.positiveBigDecimal,"positiveBigInt",()=>t.positiveBigInt,"propertySignature",()=>t.propertySignature,"rename",()=>t.rename,"required",()=>t.required,"requiredToOptional",()=>t.requiredToOptional,"serializableSchema",()=>t.serializableSchema,"serialize",()=>t.serialize,"serializeExit",()=>t.serializeExit,"serializeFailure",()=>t.serializeFailure,"serializeSuccess",()=>t.serializeSuccess,"split",()=>t.split,"standardSchemaV1",()=>t.standardSchemaV1,"startsWith",()=>t.startsWith,"successSchema",()=>t.successSchema,"suspend",()=>t.suspend,"symbolSerializable",()=>t.symbolSerializable,"symbolWithResult",()=>t.symbolWithResult,"tag",()=>t.tag,"transform",()=>t.transform,"transformLiteral",()=>t.transformLiteral,"transformLiterals",()=>t.transformLiterals,"transformOrFail",()=>t.transformOrFail,"trimmed",()=>t.trimmed,"typeSchema",()=>t.typeSchema,"uncapitalized",()=>t.uncapitalized,"uppercased",()=>t.uppercased,"validDate",()=>t.validDate,"validate",()=>t.validate,"validateEither",()=>t.validateEither,"validateOption",()=>r.validateOption,"validatePromise",()=>t.validatePromise,"validateSync",()=>r.validateSync,"withConstructorDefault",()=>t.withConstructorDefault,"withDecodingDefault",()=>t.withDecodingDefault,"withDefaults",()=>t.withDefaults],4878902);var a=e.i(4878902);e.s(["Schema",0,a],4520167)},1135554,e=>{"use strict";var t=e.i(1445448),r=e.i(6503210),a=e.i(2726583);function i(e){let t=e.startsWith("@")?e.slice(1):e;return function(e){return`@${t}/${e}`}}let n=e.i(4520167).Schema.String;e.s(["StringWithEmptyObject",0,n,"createContextKeyFn",()=>i,"makeRunPromiseSettledResult",0,e=>async(i,n)=>e.runPromiseExit(i,{signal:n?.signal}).then(e=>{if(a.Exit.isSuccess(e))return{status:"fulfilled",value:e.value};let i=t.Cause.failureOrCause(e.cause);return{status:"rejected",reason:r.Either.match(i,{onLeft:e=>({kind:"expected",error:e}),onRight:e=>({kind:"unexpected",error:t.Cause.squash(e)})})}})])},6872829,1153763,2940189,e=>{"use strict";var t=e.i(8554418);e.s(["Stream",0,t],6872829);let r=(0,e.i(1135554).createContextKeyFn)("domains");e.s(["createContextKey",0,r],1153763);var a=e.i(6098979),i=e.i(9674368),n=e.i(3683485),s=e.i(9159985),o=e.i(2873450),l=e.i(4935619),u=e.i(2170327),c=e.i(4434603),d=e.i(9973079),p=e.i(9333060);let h=Symbol.for("@effect/platform/Headers"),f=e=>l.hasProperty(e,h),m=Object.assign(Object.create(null),{[h]:h,[o.symbolRedactable](e){return C(this,i.getOrDefault(e,R))}}),g=e=>Object.assign(Object.create(m),e),y=d.declare(f,{identifier:"Headers",equivalence:()=>u.getEquivalence(p.Equivalence)}),b=d.transform(d.Record({key:d.String,value:d.String}),y,{strict:!0,decode:e=>v(e),encode:n.identity}),S=Object.create(m),v=e=>{if(void 0===e)return S;if(Symbol.iterator in e){let t=Object.create(m);for(let[r,a]of e)t[r.toLowerCase()]=a;return t}let t=Object.create(m);for(let[r,a]of Object.entries(e))Array.isArray(a)?t[r.toLowerCase()]=a.join(", "):void 0!==a&&(t[r.toLowerCase()]=a);return t},k=(0,n.dual)(2,(e,t)=>t.toLowerCase()in e),w=(0,n.dual)(2,(e,t)=>u.get(e,t.toLowerCase())),E=(0,n.dual)(3,(e,t,r)=>{let a=g(e);return a[t.toLowerCase()]=r,a}),x=(0,n.dual)(2,(e,t)=>g({...e,...v(t)})),I=(0,n.dual)(2,(e,t)=>{let r=g(e);return Object.assign(r,t),r}),T=(0,n.dual)(2,(e,t)=>{let r=g(e),a=t=>{if("string"==typeof t){let a=t.toLowerCase();a in e&&delete r[a]}else for(let a in e)t.test(a)&&delete r[a]};if(Array.isArray(t))for(let e=0;e<t.length;e++)a(t[e]);else a(t);return r}),C=(0,n.dual)(2,(e,t)=>{let r={...e},a=t=>{if("string"==typeof t){let a=t.toLowerCase();a in e&&(r[a]=c.make(e[a]))}else for(let a in e)t.test(a)&&(r[a]=c.make(e[a]))};if(Array.isArray(t))for(let e=0;e<t.length;e++)a(t[e]);else a(t);return r}),R=(0,s.globalValue)("@effect/platform/Headers/currentRedactedNames",()=>a.unsafeMake(["authorization","cookie","set-cookie","x-api-key"]));e.s(["HeadersTypeId",0,h,"currentRedactedNames",0,R,"empty",0,S,"fromInput",0,v,"get",0,w,"has",0,k,"isHeaders",0,f,"merge",0,I,"redact",0,C,"remove",0,T,"schema",0,b,"schemaFromSelf",0,y,"set",0,E,"setAll",0,x,"unsafeFromRecord",0,e=>Object.setPrototypeOf(e,m)],2940189)},6529707,1340413,e=>{"use strict";var t=e.i(4935619),r=e.i(8643033);let a=Symbol.for("@effect/platform/HttpClientError");class i extends r.TypeIdError(a,"RequestError"){get methodAndUrl(){return`${this.request.method} ${this.request.url}`}get message(){return this.description?`${this.reason}: ${this.description} (${this.methodAndUrl})`:`${this.reason} error (${this.methodAndUrl})`}}class n extends r.TypeIdError(a,"ResponseError"){get methodAndUrl(){return`${this.request.method} ${this.request.url}`}get message(){let e=`${this.response.status} ${this.methodAndUrl}`;return this.description?`${this.reason}: ${this.description} (${e})`:`${this.reason} error (${e})`}}e.s(["RequestError",()=>i,"ResponseError",()=>n,"isHttpClientError",0,e=>(0,t.hasProperty)(e,a)],6529707);var s=e.i(8973103),o=e.i(1331084),l=e.i(3683485),u=e.i(2873450),c=e.i(8815901),d=e.i(9960543),p=e.i(2170327),h=r;let f=Symbol.for("@effect/platform/Cookies"),m=Symbol.for("@effect/platform/Cookies/Cookie"),g=Symbol.for("@effect/platform/Cookies/CookieError");class y extends(0,h.TypeIdError)(g,"CookieError"){get message(){return this.reason}}let b={[f]:f,...u.BaseProto,toJSON(){return{_id:"@effect/platform/Cookies",cookies:p.map(this.cookies,e=>e.toJSON())}},pipe(){return(0,d.pipeArguments)(this,arguments)}},S=e=>{let t=Object.create(b);return t.cookies=e,t},v=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,k={[m]:m,...u.BaseProto,toJSON(){return{_id:"@effect/platform/Cookies/Cookie",name:this.name,value:this.value,options:this.options}}},w=(0,l.dual)(2,(e,t)=>S({...e.cookies,...t.cookies})),E=((e,t)=>{let r={...e.cookies};for(let[e,a,i]of t){let t=function(e,t,r){if(!v.test(e))return o.left(new y({reason:"InvalidName"}));let a=encodeURIComponent(t);if(a&&!v.test(a))return o.left(new y({reason:"InvalidValue"}));if(void 0!==r){if(void 0!==r.domain&&!v.test(r.domain))return o.left(new y({reason:"InvalidDomain"}));if(void 0!==r.path&&!v.test(r.path))return o.left(new y({reason:"InvalidPath"}));if(void 0!==r.maxAge&&!s.isFinite(s.decode(r.maxAge)))return o.left(new y({reason:"InfinityMaxAge"}))}return o.right(Object.assign(Object.create(k),{name:e,value:t,valueEncoded:a,options:r}))}(e,a,i);if(o.isLeft(t))return t;r[e]=t.right}return o.right(S(r))},e=>{try{return decodeURIComponent(e)}catch{return e}});e.s(["fromSetCookie",0,e=>{let t=[];for(let r of"string"==typeof e?[e]:e){let e=function(e){let t=e.split(";").map(e=>e.trim()).filter(e=>""!==e);if(0===t.length)return c.none();let r=t[0].indexOf("=");if(-1===r)return c.none();let a=t[0].slice(0,r);if(!v.test(a))return c.none();let i=t[0].slice(r+1),n=E(i);if(1===t.length)return c.some(Object.assign(Object.create(k),{name:a,value:n,valueEncoded:i}));let o={};for(let e=1;e<t.length;e++){let r=t[e],a=r.indexOf("="),i=-1===a?r:r.slice(0,a).trim(),n=-1===a?void 0:r.slice(a+1).trim();switch(i.toLowerCase()){case"domain":{if(void 0===n)break;let e=n.trim().replace(/^\./,"");e&&(o.domain=e);break}case"expires":{if(void 0===n)break;let e=new Date(n);isNaN(e.getTime())||(o.expires=e);break}case"max-age":{if(void 0===n)break;let e=parseInt(n,10);isNaN(e)||(o.maxAge=s.seconds(e));break}case"path":if(void 0===n)break;"/"===n[0]&&(o.path=n);break;case"priority":if(void 0===n)break;switch(n.toLowerCase()){case"low":o.priority="low";break;case"medium":o.priority="medium";break;case"high":o.priority="high"}break;case"httponly":o.httpOnly=!0;break;case"secure":o.secure=!0;break;case"partitioned":o.partitioned=!0;break;case"samesite":if(void 0===n)break;switch(n.toLowerCase()){case"lax":o.sameSite="lax";break;case"strict":o.sameSite="strict";break;case"none":o.sameSite="none"}}}return c.some(Object.assign(Object.create(k),{name:a,value:n,valueEncoded:i,options:Object.keys(o).length>0?o:void 0}))}(r.trim());c.isSome(e)&&t.push(e.value)}let r={};for(let e of t)r[e.name]=e;return S(r)},"isEmpty",0,e=>p.isEmptyRecord(e.cookies),"merge",0,w,"toCookieHeader",0,e=>Object.values(e.cookies).map(e=>`${e.name}=${e.valueEncoded}`).join("; ")],1340413)},2051545,8404901,6076596,3302588,7877750,8460856,9679606,7069118,e=>{"use strict";let t;var r=e.i(5972454),a=e.i(3322401),i=e.i(6098979),n=e.i(8554418),s=e.i(2940189),o=e.i(6529707),l=e.i(5450905),u=e.i(3683485),c=e.i(9159985),d=e.i(2873450),p=e.i(9227260),h=e.i(9960543),f=e.i(4935619),m=e.i(6532885),g=e.i(7703391),y=e.i(5160412),b=e.i(1340413),S=r,v=e.i(8815901),k=e.i(9973079),w=e.i(4426485),E=e.i(5283034),x=e.i(1331084);let I=e=>{let t=T(e),r=[];for(let e=0;e<t.length;e++)if(Array.isArray(t[e][0])){let[a,i]=t[e];r.push([`${a[0]}[${a.slice(1).join("][")}]`,i])}else r.push(t[e]);return r},T=e=>{let t=Symbol.iterator in e?E.fromIterable(e):Object.entries(e),r=[];for(let[e,a]of t)if(Array.isArray(a))for(let t=0;t<a.length;t++)void 0!==a[t]&&r.push([e,String(a[t])]);else if("object"==typeof a)for(let[t,i]of T(a))r.push([[e,..."string"==typeof t?[t]:t],i]);else void 0!==a&&r.push([e,String(a)]);return r},C=(0,u.dual)(3,(e,t,r)=>E.append(E.filter(e,e=>{let[r]=e;return r!==t}),[t,String(r)])),R=(0,u.dual)(2,(e,t)=>{let r=I(t),a=r.map(e=>{let[t]=e;return t});return E.appendAll(E.filter(e,e=>{let[t]=e;return a.includes(t)}),r)}),F=(0,u.dual)(3,(e,t,r)=>E.append(e,[t,String(r)])),A=(0,u.dual)(2,(e,t)=>E.appendAll(e,I(t))),O=(e,t,r)=>{try{let a=new URL(e,_());for(let e=0;e<t.length;e++){let[r,i]=t[e];void 0!==i&&a.searchParams.append(r,i)}return"Some"===r._tag&&(a.hash=r.value),x.right(a)}catch(e){return x.left(e)}},_=()=>{if("location"in globalThis&&void 0!==globalThis.location&&void 0!==globalThis.location.origin&&void 0!==globalThis.location.pathname)return location.origin+location.pathname};k.String;let M=Symbol.for("@effect/platform/HttpIncomingMessage");v.none,e.i(1253121);var D=e.i(4434603),N=e.i(5305881);let z=Symbol.for("@effect/platform/HttpBody"),P=Symbol.for("@effect/platform/HttpBody/HttpBodyError"),L=N.tagged("HttpBodyError"),U=e=>L({[P]:P,reason:e});class j{[z];constructor(){this[z]=z}[d.NodeInspectSymbol](){return this.toJSON()}toString(){return d.format(this)}}let W=new class extends j{_tag="Empty";toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Empty"}}};class q extends j{body;contentType;_tag="Uint8Array";constructor(e,t){super(),this.body=e,this.contentType=t}get contentLength(){return this.body.length}toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Uint8Array",body:this.contentType.startsWith("text/")||this.contentType.endsWith("json")?new TextDecoder().decode(this.body):`Uint8Array(${this.body.length})`,contentType:this.contentType,contentLength:this.contentLength}}}let B=(e,t)=>new q(e,t??"application/octet-stream"),$=new TextEncoder,V=(e,t)=>B($.encode(e),t??"text/plain"),H=e=>V(JSON.stringify(e),"application/json"),G=e=>a.try({try:()=>H(e),catch:e=>U({_tag:"JsonError",error:e})});class K extends j{formData;_tag="FormData";constructor(e){super(),this.formData=e}toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"FormData",formData:this.formData}}}class J extends j{stream;contentType;contentLength;_tag="Stream";constructor(e,t,r){super(),this.stream=e,this.contentType=t,this.contentLength=r}toJSON(){return{_id:"@effect/platform/HttpBody",_tag:"Stream",contentType:this.contentType,contentLength:this.contentLength}}}let Z=(e,t,r)=>new J(e,t??"application/octet-stream",r),Q=Symbol.for("@effect/platform/HttpClientRequest"),Y={[Q]:Q,...d.BaseProto,toJSON(){return{_id:"@effect/platform/HttpClientRequest",method:this.method,url:this.url,urlParams:this.urlParams,hash:this.hash,headers:d.redact(this.headers),body:this.body.toJSON()}},pipe(){return(0,h.pipeArguments)(this,arguments)}};function X(e,t,r,a,i,n){let s=Object.create(Y);return s.method=e,s.url=t,s.urlParams=r,s.hash=a,s.headers=i,s.body=n,s}let ee=e=>"object"==typeof e&&null!==e&&Q in e,et=X("GET","",[],v.none(),s.empty,W),er=e=>(t,r)=>ec(et,{method:e,url:t,...r??void 0}),ea=er("GET"),ei=er("POST"),en=er("PUT"),es=er("PATCH"),eo=er("DELETE"),el=er("HEAD"),eu=er("OPTIONS"),ec=(0,u.dual)(2,(e,t)=>{let r=e;return t.method&&(r=eb(r,t.method)),t.url&&(r=eS(r,t.url)),t.headers&&(r=ep(r,t.headers)),t.urlParams&&(r=eT(r,t.urlParams)),t.hash&&(r=eC(r,t.hash)),t.body&&(r=eR(r,t.body)),t.accept&&(r=eg(r,t.accept)),t.acceptJson&&(r=ey(r)),r}),ed=(0,u.dual)(3,(e,t,r)=>X(e.method,e.url,e.urlParams,e.hash,s.set(e.headers,t,r),e.body)),ep=(0,u.dual)(2,(e,t)=>X(e.method,e.url,e.urlParams,e.hash,s.setAll(e.headers,t),e.body)),eh=e=>"string"==typeof e?e:D.value(e),ef=(0,u.dual)(3,(e,t,r)=>ed(e,"Authorization",`Basic ${btoa(`${eh(t)}:${eh(r)}`)}`)),em=(0,u.dual)(2,(e,t)=>ed(e,"Authorization",`Bearer ${eh(t)}`)),eg=(0,u.dual)(2,(e,t)=>ed(e,"Accept",t)),ey=eg("application/json"),eb=(0,u.dual)(2,(e,t)=>X(t,e.url,e.urlParams,e.hash,e.headers,e.body)),eS=(0,u.dual)(2,(e,t)=>{if("string"==typeof t)return X(e.method,t,e.urlParams,e.hash,e.headers,e.body);let r=new URL(t.toString()),a=I(r.searchParams),i=r.hash?v.some(r.hash.slice(1)):v.none();return r.search="",r.hash="",X(e.method,r.toString(),a,i,e.headers,e.body)}),ev=(0,u.dual)(2,(e,t)=>X(e.method,e.url.endsWith("/")&&t.startsWith("/")?e.url+t.slice(1):e.url+t,e.urlParams,e.hash,e.headers,e.body)),ek=(0,u.dual)(2,(e,t)=>X(e.method,t.endsWith("/")&&e.url.startsWith("/")?t+e.url.slice(1):t+e.url,e.urlParams,e.hash,e.headers,e.body)),ew=(0,u.dual)(2,(e,t)=>X(e.method,t(e.url),e.urlParams,e.hash,e.headers,e.body)),eE=(0,u.dual)(3,(e,t,r)=>X(e.method,e.url,F(e.urlParams,t,r),e.hash,e.headers,e.body)),ex=(0,u.dual)(2,(e,t)=>X(e.method,e.url,A(e.urlParams,t),e.hash,e.headers,e.body)),eI=(0,u.dual)(3,(e,t,r)=>X(e.method,e.url,C(e.urlParams,t,r),e.hash,e.headers,e.body)),eT=(0,u.dual)(2,(e,t)=>X(e.method,e.url,R(e.urlParams,t),e.hash,e.headers,e.body)),eC=(0,u.dual)(2,(e,t)=>X(e.method,e.url,e.urlParams,v.some(t),e.headers,e.body)),eR=(0,u.dual)(2,(e,t)=>{let r=e.headers;if("Empty"===t._tag||"FormData"===t._tag)r=s.remove(r,["Content-type","Content-length"]);else{let e=t.contentType;e&&(r=s.set(r,"content-type",e));let a=t.contentLength;a&&(r=s.set(r,"content-length",a.toString()))}return X(e.method,e.url,e.urlParams,e.hash,r,t)}),eF=(0,u.dual)(e=>ee(e[0]),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"application/octet-stream";return eR(e,B(t,r))}),eA=(0,u.dual)(e=>ee(e[0]),function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain";return eR(e,V(t,r))}),eO=(0,u.dual)(2,(e,t)=>a.map(G(t),t=>eR(e,t))),e_=(0,u.dual)(2,(e,t)=>eR(e,H(t))),eM=(0,u.dual)(e=>ee(e[0]),(e,t,r)=>a.map(a.flatMap(w.FileSystem,e=>a.map(e.stat(t),a=>Z(e.stream(t,r),r?.contentType,Number(a.size)))),t=>eR(e,t))),eD=(0,u.dual)(2,(e,t)=>eR(e,Z(n.fromReadableStream(()=>t.stream(),u.identity),t.type,t.size))),eN=(0,u.dual)(2,(e,t)=>eR(e,V(new URLSearchParams(I(t)).toString(),"application/x-www-form-urlencoded"))),ez=(0,u.dual)(2,(e,t)=>eR(e,new K(t))),eP=(0,u.dual)(2,(e,t)=>eR(e,(e=>{let t=new FormData;for(let[r,a]of Object.entries(e))if(Array.isArray(a))for(let e of a)null!=e&&t.append(r,"object"==typeof a?e:String(e));else null!=a&&t.append(r,"object"==typeof a?a:String(a));return new K(t)})(t))),eL=(0,u.dual)(e=>ee(e[0]),function(e,t){let{contentLength:r,contentType:a="application/octet-stream"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return eR(e,Z(t,a,r))});var eU=d;let ej=Symbol.for("@effect/platform/HttpClientResponse");class eW extends eU.Class{request;source;[M];[ej];constructor(e,t){super(),this.request=e,this.source=t,this[M]=M,this[ej]=ej}toJSON(){return((e,t)=>{let r,i=e.headers["content-type"]??"";if(i.includes("application/json"))try{r=a.runSync(e.json)}catch{}else if(i.includes("text/")||i.includes("urlencoded"))try{r=a.runSync(e.text)}catch{}let n={...t,headers:d.redact(e.headers),remoteAddress:e.remoteAddress.toJSON()};return void 0!==r&&(n.body=r),n})(this,{_id:"@effect/platform/HttpClientResponse",request:this.request.toJSON(),status:this.status})}get status(){return this.source.status}get headers(){return s.fromInput(this.source.headers)}cachedCookies;get cookies(){return this.cachedCookies?this.cachedCookies:this.cachedCookies=b.fromSetCookie(this.source.headers.getSetCookie())}get remoteAddress(){return v.none()}get stream(){return this.source.body?n.fromReadableStream(()=>this.source.body,e=>new o.ResponseError({request:this.request,response:this,reason:"Decode",cause:e})):n.fail(new o.ResponseError({request:this.request,response:this,reason:"EmptyBody",description:"can not create stream from empty body"}))}get json(){return a.tryMap(this.text,{try:e=>""===e?null:JSON.parse(e),catch:e=>new o.ResponseError({request:this.request,response:this,reason:"Decode",cause:e})})}textBody;get text(){return this.textBody??=a.tryPromise({try:()=>this.source.text(),catch:e=>new o.ResponseError({request:this.request,response:this,reason:"Decode",cause:e})}).pipe(a.cached,a.runSync)}get urlParamsBody(){return a.flatMap(this.text,e=>a.try({try:()=>I(new URLSearchParams(e)),catch:e=>new o.ResponseError({request:this.request,response:this,reason:"Decode",cause:e})}))}formDataBody;get formData(){return this.formDataBody??=a.tryPromise({try:()=>this.source.formData(),catch:e=>new o.ResponseError({request:this.request,response:this,reason:"Decode",cause:e})}).pipe(a.cached,a.runSync)}arrayBufferBody;get arrayBuffer(){return this.arrayBufferBody??=a.tryPromise({try:()=>this.source.arrayBuffer(),catch:e=>new o.ResponseError({request:this.request,response:this,reason:"Decode",cause:e})}).pipe(a.cached,a.runSync)}}let eq=(0,u.dual)(2,(e,t)=>a.suspend(()=>t(e.status)?a.succeed(e):a.fail(new o.ResponseError({response:e,request:e.request,reason:"StatusCode",description:"invalid status code"})))),eB=e=>e.status>=200&&e.status<300?a.succeed(e):a.fail(new o.ResponseError({response:e,request:e.request,reason:"StatusCode",description:"non 2xx status code"})),e$=e=>`http.request.header.${e}`,eV=e=>`http.response.header.${e}`,eH=Symbol.for("@effect/platform/HttpClient"),eG=r.GenericTag("@effect/platform/HttpClient"),eK=(0,c.globalValue)(Symbol.for("@effect/platform/HttpClient/tracerDisabledWhen"),()=>i.unsafeMake(u.constFalse)),eJ=(0,u.dual)(2,(e,t)=>ts(e,a.locally(eK,t))),eZ=(0,c.globalValue)(Symbol.for("@effect/platform/HttpClient/currentTracerPropagation"),()=>i.unsafeMake(!0)),eQ=(0,u.dual)(2,(e,t)=>ts(e,a.locally(eZ,t))),eY=r.Reference()("@effect/platform/HttpClient/SpanNameGenerator",{defaultValue:()=>e=>`http.client ${e.method}`}),eX=(0,u.dual)(2,(e,t)=>ts(e,a.provideService(eY,t))),e0={[eH]:eH,pipe(){return(0,h.pipeArguments)(this,arguments)},...d.BaseProto,toJSON:()=>({_id:"@effect/platform/HttpClient"}),get(e,t){return this.execute(ea(e,t))},head(e,t){return this.execute(el(e,t))},post(e,t){return this.execute(ei(e,t))},put(e,t){return this.execute(en(e,t))},patch(e,t){return this.execute(es(e,t))},del(e,t){return this.execute(eo(e,t))},options(e,t){return this.execute(eu(e,t))}},e1=(e,t)=>{let r=Object.create(e0);return r.preprocess=t,r.postprocess=e,r.execute=function(r){return e(t(r))},r},e2=(0,c.globalValue)("@effect/platform/HttpClient/responseRegistry",()=>{if("FinalizationRegistry"in globalThis&&globalThis.FinalizationRegistry){let e=new FinalizationRegistry(e=>{e.abort()});return{register(t,r){e.register(t,r,t)},unregister(t){e.unregister(t)}}}let e=new Map;return{register(t,r){e.set(t,setTimeout(()=>r.abort(),5e3))},unregister(t){let r=e.get(t);void 0!==r&&(clearTimeout(r),e.delete(t))}}}),e3=(0,c.globalValue)("@effect/platform/HttpClient/scopedRequests",()=>new WeakMap),e5=e=>e1(t=>a.flatMap(t,t=>a.withFiberRuntime(n=>{let u=e3.get(t),c=u??new AbortController,d=O(t.url,t.urlParams,t.hash);if("Left"===d._tag)return a.fail(new o.RequestError({request:t,reason:"InvalidUrl",cause:d.left}));let p=d.right;if(!n.getFiberRef(i.currentTracerEnabled)||n.getFiberRef(eK)(t)){let r=e(t,p,c.signal,n);return u?r:a.uninterruptibleMask(e=>a.matchCauseEffect(e(r),{onSuccess:e=>(e2.register(e,c),a.succeed(new e4(e,c))),onFailure:e=>(l.isInterrupted(e)&&c.abort(),a.failCause(e))}))}let h=r.get(n.currentContext,eY);return a.useSpan(h(t),{kind:"client",captureStackTrace:!1},r=>{r.attribute("http.request.method",t.method),r.attribute("server.address",p.origin),""!==p.port&&r.attribute("server.port",+p.port),r.attribute("url.full",p.toString()),r.attribute("url.path",p.pathname),r.attribute("url.scheme",p.protocol.slice(0,-1));let i=p.search.slice(1);""!==i&&r.attribute("url.query",i);let o=n.getFiberRef(s.currentRedactedNames),d=s.redact(t.headers,o);for(let e in d)r.attribute(e$(e),String(d[e]));return t=n.getFiberRef(eZ)?ep(t,s.unsafeFromRecord({b3:`${r.traceId}-${r.spanId}-${r.sampled?"1":"0"}${"Some"===r.parent._tag?`-${r.parent.value.spanId}`:""}`,traceparent:`00-${r.traceId}-${r.spanId}-${r.sampled?"01":"00"}`})):t,a.uninterruptibleMask(i=>i(e(t,p,c.signal,n)).pipe(a.withParentSpan(r),a.matchCauseEffect({onSuccess:e=>{r.attribute("http.response.status_code",e.status);let t=s.redact(e.headers,o);for(let e in t)r.attribute(eV(e),String(t[e]));return u?a.succeed(e):(e2.register(e,c),a.succeed(new e4(e,c)))},onFailure:e=>(!u&&l.isInterrupted(e)&&c.abort(),a.failCause(e))})))})})),a.succeed);class e4{original;controller;constructor(e,t){this.original=e,this.controller=t}[ej]=ej;[M]=M;applyInterrupt(e){return a.suspend(()=>(e2.unregister(this.original),a.onInterrupt(e,()=>a.sync(()=>{this.controller.abort()}))))}get request(){return this.original.request}get status(){return this.original.status}get headers(){return this.original.headers}get cookies(){return this.original.cookies}get remoteAddress(){return this.original.remoteAddress}get formData(){return this.applyInterrupt(this.original.formData)}get text(){return this.applyInterrupt(this.original.text)}get json(){return this.applyInterrupt(this.original.json)}get urlParamsBody(){return this.applyInterrupt(this.original.urlParamsBody)}get arrayBuffer(){return this.applyInterrupt(this.original.arrayBuffer)}get stream(){return n.suspend(()=>(e2.unregister(this.original),n.ensuring(this.original.stream,a.sync(()=>{this.controller.abort()}))))}toJSON(){return this.original.toJSON()}[d.NodeInspectSymbol](){return this.original[d.NodeInspectSymbol]()}}let{del:e8,execute:e6,get:e9,head:e7,options:te,patch:tt,post:tr,put:ta}=a.serviceFunctions(eG),ti=(0,u.dual)(2,(e,t)=>e1(a.flatMap(r=>t(e.postprocess(a.succeed(r)),r)),e.preprocess)),tn=(0,u.dual)(2,(e,t)=>ts(e,a.flatMap(eq(t)))),ts=(0,u.dual)(2,(e,t)=>e1(r=>t(e.postprocess(r)),e.preprocess)),to=(0,u.dual)(3,(e,t,r)=>ts(e,a.catchTag(t,r))),tl=(0,u.dual)(2,(e,t)=>ts(e,a.catchTags(t))),tu=(0,u.dual)(2,(e,t)=>ts(e,a.catchAll(t))),tc=(0,u.dual)(3,(e,t,r)=>ts(e,a.filterOrElse(t,r))),td=(0,u.dual)(3,(e,t,r)=>ts(e,a.filterOrFail(t,r))),tp=(0,u.dual)(2,(e,t)=>e1(e.postprocess,r=>a.map(e.preprocess(r),t))),th=(0,u.dual)(2,(e,t)=>e1(e.postprocess,r=>a.flatMap(e.preprocess(r),t))),tf=(0,u.dual)(2,(e,t)=>e1(e.postprocess,r=>e.preprocess(t(r)))),tm=(0,u.dual)(2,(e,t)=>e1(e.postprocess,r=>a.flatMap(t(r),e.preprocess))),tg=(0,u.dual)(2,(e,t)=>ts(e,a.retry(t))),ty=(0,u.dual)(2,(e,t)=>ts(e,a.retry({while:g.ScheduleTypeId in t||void 0===t.while?tb:f.or(tb,t.while),schedule:g.ScheduleTypeId in t?t:t.schedule,times:g.ScheduleTypeId in t?void 0:t.times}))),tb=e=>f.hasProperty(e,l.TimeoutExceptionTypeId)||tS(e),tS=e=>o.isHttpClientError(e)&&("RequestError"===e._tag&&"Transport"===e.reason||"ResponseError"===e._tag&&e.response.status>=429),tv=(0,u.dual)(2,(e,t)=>ts(e,a.tap(t))),tk=(0,u.dual)(2,(e,t)=>ts(e,a.tapError(t))),tw=(0,u.dual)(2,(e,t)=>e1(e.postprocess,r=>a.tap(e.preprocess(r),t))),tE=(0,u.dual)(2,(e,t)=>e1(r=>a.tap(e.postprocess(r),e=>m.update(t,t=>b.merge(t,e.cookies))),r=>a.flatMap(e.preprocess(r),e=>a.map(m.get(t),t=>b.isEmpty(t)?e:ed(e,"cookie",b.toCookieHeader(t)))))),tx=(0,u.dual)(e=>{let t;return t=e[0],f.hasProperty(t,eH)},(e,t)=>e1(r=>{let i=(r,n)=>a.flatMap(e.postprocess(a.succeed(r)),e=>e.status>=300&&e.status<400&&e.headers.location&&n<(t??10)?i(eS(r,new URL(e.headers.location,e.request.url)),n+1):a.succeed(e));return a.flatMap(r,e=>i(e,0))},e.preprocess)),tI=e=>p.effect(eG,a.flatMap(a.context(),t=>a.map(e,e=>ts(e,a.mapInputContext(e=>r.merge(t,e)))))),tT="@effect/platform/FetchHttpClient/Fetch",tC="@effect/platform/FetchHttpClient/FetchOptions",tR=e5((e,t,r,l)=>{let u=l.getFiberRef(i.currentContext),c=u.unsafeMap.get(tT)??globalThis.fetch,d=u.unsafeMap.get(tC)??{},p=d.headers?s.merge(s.fromInput(d.headers),e.headers):e.headers,h=i=>a.map(a.tryPromise({try:()=>c(t,{...d,method:e.method,headers:p,body:i,duplex:"Stream"===e.body._tag?"half":void 0,signal:r}),catch:t=>new o.RequestError({request:e,reason:"Transport",cause:t})}),t=>new eW(e,t));switch(e.body._tag){case"Raw":case"Uint8Array":return h(e.body.body);case"FormData":return h(e.body.formData);case"Stream":return a.flatMap(n.toReadableStreamEffect(e.body.stream),h)}return h(void 0)}),tF=tI(a.succeed(tR));class tA extends r.Tag(tT)(){}class tO extends r.Tag(tC)(){}e.s(["Fetch",()=>tA,"RequestInit",()=>tO,"layer",0,tF],4925787);var t_=e.i(4925787);e.s(["FetchHttpClient",0,t_],2051545),e.s(["Headers",0,s],8404901),e.s(["HttpClient",0,eG,"SpanNameGenerator",0,eY,"TypeId",0,eH,"catchAll",0,tu,"catchTag",0,to,"catchTags",0,tl,"currentTracerDisabledWhen",0,eK,"currentTracerPropagation",0,eZ,"del",0,e8,"execute",0,e6,"filterOrElse",0,tc,"filterOrFail",0,td,"filterStatus",0,tn,"filterStatusOk",0,e=>ts(e,a.flatMap(eB)),"followRedirects",0,tx,"get",0,e9,"head",0,e7,"layerMergedContext",0,tI,"make",0,e5,"makeWith",0,e1,"mapRequest",0,tp,"mapRequestEffect",0,th,"mapRequestInput",0,tf,"mapRequestInputEffect",0,tm,"options",0,te,"patch",0,tt,"post",0,tr,"put",0,ta,"retry",0,tg,"retryTransient",0,ty,"tap",0,tv,"tapError",0,tk,"tapRequest",0,tw,"transform",0,ti,"transformResponse",0,ts,"withCookiesRef",0,tE,"withScope",0,e=>ti(e,(e,t)=>{let r=new AbortController;return e3.set(t,r),a.zipRight(a.scopeWith(e=>y.addFinalizer(e,a.sync(()=>r.abort()))),e)}),"withSpanNameGenerator",0,eX,"withTracerDisabledWhen",0,eJ,"withTracerPropagation",0,eQ],6076596);var tM=e.i(6076596);e.s(["HttpClient",0,tM],3302588);let tD=Symbol.for("@effect/platform/HttpClientRequest");e.s(["TypeId",0,tD,"accept",0,eg,"acceptJson",0,ey,"appendUrl",0,ev,"appendUrlParam",0,eE,"appendUrlParams",0,ex,"basicAuth",0,ef,"bearerToken",0,em,"bodyFile",0,eM,"bodyFileWeb",0,eD,"bodyFormData",0,ez,"bodyFormDataRecord",0,eP,"bodyJson",0,eO,"bodyStream",0,eL,"bodyText",0,eA,"bodyUint8Array",0,eF,"bodyUnsafeJson",0,e_,"bodyUrlParams",0,eN,"del",0,eo,"get",0,ea,"head",0,el,"make",0,er,"modify",0,ec,"options",0,eu,"patch",0,es,"post",0,ei,"prependUrl",0,ek,"put",0,en,"removeHash",0,e=>X(e.method,e.url,e.urlParams,v.none(),e.headers,e.body),"schemaBodyJson",0,(e,t)=>{let r,i=(r=k.encode(e,t),e=>a.flatMap(a.mapError(r(e),e=>U({_tag:"SchemaError",error:e})),G));return(0,u.dual)(2,(e,t)=>a.map(i(t),t=>eR(e,t)))},"setBody",0,eR,"setHash",0,eC,"setHeader",0,ed,"setHeaders",0,ep,"setMethod",0,eb,"setUrl",0,eS,"setUrlParam",0,eI,"setUrlParams",0,eT,"toUrl",0,e=>x.getRight(O(e.url,e.urlParams,e.hash)),"updateUrl",0,ew],7877750);var tN=e.i(7877750);e.s(["HttpClientRequest",0,tN],8460856),e.s(["text",0,V,"uint8Array",0,B],9679606);var tz=e.i(578549),tP=e.i(7836076),tL=e.i(6028004),tU=e.i(1150852),tj=e.i(9390854),tW=e.i(6816077),tq=e.i(5310088);let tB=Symbol.for("effect/FiberSet"),t$={[tB]:tB,[Symbol.iterator](){return"Closed"===this.state._tag?tW.empty():this.state.backing[Symbol.iterator]()},toString(){return d.format(this.toJSON())},toJSON(){return{_id:"FiberMap",state:this.state}},[d.NodeInspectSymbol](){return this.toJSON()},pipe(){return(0,h.pipeArguments)(this,arguments)}},tV=tU.make(-1,0),tH=l.reduceWithContext(void 0,{emptyCase:u.constFalse,failCase:u.constFalse,dieCase:u.constFalse,interruptCase:(e,t)=>tj.has(tU.ids(t),-1),sequentialCase:(e,t,r)=>t||r,parallelCase:(e,t,r)=>t||r}),tG=(0,u.dual)(e=>{let t;return t=e[0],f.hasProperty(t,tB)},(e,t,r)=>{"Closed"===e.state._tag?t.unsafeInterruptAsFork(tU.combine(r?.interruptAs??tU.none,tV)):e.state.backing.has(t)||(e.state.backing.add(t),t.addObserver(a=>{"Closed"!==e.state._tag&&(e.state.backing.delete(t),!tP.isFailure(a)||(r?.propagateInterruption===!0?tH(a.cause):l.isInterruptedOnly(a.cause))||tz.unsafeDone(e.deferred,a))}))}),tK=()=>(void 0===t&&(t=a.runFork(a.interrupt)),t),tJ=(e,t,r)=>a.fiberIdWith(i=>"Closed"===e.state._tag?a.sync(tK):a.tap(a.forkDaemon(t),t=>tG(e,t,{...r,interruptAs:i})));e.s(["join",0,e=>tz.await(e.deferred),"make",0,()=>a.acquireRelease(a.map(tz.make(),e=>{var t;let r;return t=new Set,(r=Object.create(t$)).state={_tag:"Open",backing:t},r.deferred=e,r}),e=>a.withFiberRuntime(t=>{let r=e.state;if("Closed"===r._tag)return a.void;e.state={_tag:"Closed"};let i=r.backing;return tL.interruptAllAs(i,tU.combine(t.id(),tV)).pipe(a.intoDeferred(e.deferred))})),"run",0,function(){let e=arguments[0];if(!a.isEffect(arguments[1])){let t=arguments[1];return r=>tJ(e,r,t)}return tJ(e,arguments[1],arguments[2])},"runtime",0,e=>()=>a.map(a.runtime(),t=>{let r=tq.runFork(t);return(t,a)=>{if("Closed"===e.state._tag)return tK();let i=r(t,a);return tG(e,i),i}}),"unsafeAdd",0,tG],7069118)},1210077,8697499,4521597,3485324,3641605,4080901,2681574,9884288,7876226,8608118,5151041,5269374,6256836,4031407,1674250,5031066,e=>{"use strict";var t,r,a,i,n,s,o,l,u=e.i(4520167);class c extends u.Schema.TaggedError()("InternalServerError",{}){}e.s(["InternalServerError",()=>c],8697499),e.s(["GetSearchTldsErrorExternal",0,c],1210077);let d=u.Schema.Literal("name_dot_com","opensrs").pipe(u.Schema.annotations({identifier:"RegistrarName",description:"Schema defining the name of a registrar."}));e.s(["RegistrarName",0,d],4521597);let p=u.Schema.Struct({id:u.Schema.String,tldName:u.Schema.String,startsAt:u.Schema.DateFromSelf,endsAt:u.Schema.DateFromSelf,expired:u.Schema.Boolean,internalNote:u.Schema.optional(u.Schema.String)}),h=u.Schema.Struct({...p.fields,startsAt:u.Schema.DateFromString,endsAt:u.Schema.DateFromString}),f=h.pipe(u.Schema.omit("internalNote","id","startsAt"));e.s(["TldOutage",0,p,"TldOutagePublicSerializable",0,f,"TldOutageSerializable",0,h],3485324);var m=e.i(2170327);e.s(["Record",0,m],3641605);var m=m,g=e.i(9552070);e.s(["ParseResult",0,g],4080901);var g=g;let y=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;function b(e){if(!y.test(e))return!1;let t=e.split("@");if(2!==t.length)return!1;let[r,a]=t;if(!r||r.length>64||r.startsWith(".")||r.endsWith(".")||r.includes("..")||!a||a.length>253||a.startsWith(".")||a.endsWith(".")||a.startsWith("-")||a.endsWith("-")||a.includes("..")||!a.includes("."))return!1;let i=a.split(".");if(i.length<2)return!1;for(let e of i)if(!e||e.length>63||e.startsWith("-")||e.endsWith("-")||!/^[a-zA-Z0-9-]+$/.test(e))return!1;let n=i[i.length-1];return!n||!(n.length<2)&&!!/^[a-zA-Z]+$/.test(n)}let S=u.Schema.transformOrFail(u.Schema.NonEmptyString,u.Schema.String.pipe(u.Schema.brand("EmailAddress")),{strict:!0,decode:(e,t,r)=>g.try({try:()=>{if(b(e))return e;throw Error(`Invalid RFC 5322 email address: ${e}`)},catch:()=>new g.Type(r,e,`'${e}' is not a valid RFC 5322 email address`)}),encode:e=>g.succeed(e)}).annotations({identifier:"EmailAddress",description:"A valid RFC 5322 email address"}),v=u.Schema.decode(S),k=u.Schema.decodeSync(S);u.Schema.is(S);let w={schema:S,fromString:e=>v(e),fromStringUnsafe:e=>k(e),isValid:e=>"string"==typeof e&&b(e)};e.s(["EmailAddress",0,w],2681574);let E=u.Schema.NonEmptyString.pipe(u.Schema.pattern(/^(?=(?:\D*\d){7,15}$)\+[1-9]\d{0,2}\.?\d+$/),u.Schema.brand("E164PhoneNumber")).annotations({identifier:"E164PhoneNumber",description:"A valid E.164 phone number",arbitrary:()=>e=>e.stringMatching(/^[+][1-9]\d{10}$/).map(I)}),x=u.Schema.decode(E),I=u.Schema.decodeSync(E),T=u.Schema.is(E),C={schema:E,fromString:e=>x(e),fromStringUnsafe:e=>I(e),isValid:e=>T(e)};e.s(["E164PhoneNumber",0,C],9884288);let R=u.Schema.NonEmptyString.pipe(u.Schema.pattern(/^[A-Z]{2}$/),u.Schema.brand("CountryCode")).annotations({identifier:"CountryCode",description:"A valid ISO 3166-1 alpha-2 country code"}),F=u.Schema.decode(R),A=u.Schema.decodeSync(R),O=u.Schema.is(R),_={schema:R,fromString:e=>F(e),fromStringUnsafe:e=>A(e),isValid:e=>O(e)};e.s(["CountryCode",0,_],7876226);let M={description:u.Schema.String,required:u.Schema.Boolean,label:u.Schema.optional(u.Schema.String),validation:u.Schema.optional(u.Schema.Union(u.Schema.Literal("valid_email","valid_countries"),u.Schema.TemplateLiteral("regex:",u.Schema.String),u.Schema.TemplateLiteral("min_length:",u.Schema.String))),required_when:u.Schema.optional(u.Schema.Union(u.Schema.String,u.Schema.Struct({value_in:u.Schema.Array(u.Schema.String)})))},D=u.Schema.Union(u.Schema.Struct({...M,type:u.Schema.Literal("string"),options:u.Schema.optional(u.Schema.Array(u.Schema.Struct({value:u.Schema.String,label:u.Schema.String,fields:u.Schema.optional(u.Schema.Record({key:u.Schema.NonEmptyTrimmedString,value:u.Schema.suspend(()=>D)}))}))),fields:u.Schema.optional(u.Schema.Record({key:u.Schema.NonEmptyTrimmedString,value:u.Schema.suspend(()=>D)}))}),u.Schema.Struct({...M,type:u.Schema.Literal("enum"),options:u.Schema.Array(u.Schema.Struct({value:u.Schema.String,label:u.Schema.String,fields:u.Schema.optional(u.Schema.Record({key:u.Schema.NonEmptyTrimmedString,value:u.Schema.suspend(()=>D)}))})),fields:u.Schema.optional(u.Schema.Record({key:u.Schema.NonEmptyTrimmedString,value:u.Schema.suspend(()=>D)}))}),u.Schema.Struct({...M,type:u.Schema.Literal("acknowledgement"),value:u.Schema.optional(u.Schema.String)}),u.Schema.Struct({...M,type:u.Schema.Literal("notice")})).pipe(u.Schema.annotations({identifier:"RegistrantField",description:"Schema definition for registrant fields."})),N=u.Schema.Record({key:u.Schema.NonEmptyTrimmedString,value:D}),z=u.Schema.Record({key:u.Schema.NonEmptyTrimmedString,value:N}),P=u.Schema.Record({key:u.Schema.NonEmptyTrimmedString,value:u.Schema.String}),L=u.Schema.Record({key:u.Schema.NonEmptyTrimmedString,value:P}),U=u.Schema.Struct({firstName:u.Schema.NonEmptyTrimmedString,lastName:u.Schema.NonEmptyTrimmedString,email:w.schema,phone:C.schema,address1:u.Schema.NonEmptyTrimmedString,address2:u.Schema.optional(u.Schema.NonEmptyTrimmedString),city:u.Schema.NonEmptyTrimmedString,state:u.Schema.NonEmptyTrimmedString,zip:u.Schema.NonEmptyTrimmedString,country:_.schema,companyName:u.Schema.optional(u.Schema.NonEmptyTrimmedString),fax:u.Schema.optional(C.schema)}),j=u.Schema.Struct({base:U,byTld:L}),W=u.Schema.Struct({...U.fields,additional:u.Schema.optional(L)});e.s(["BaseAndTldRegistrantFieldValues",0,j,"BaseAndTldRegistrantFieldValuesApiResource",0,W,"BaseRegistrantFieldValues",0,U,"RegistrantFieldValues",0,P,"RegistrantFieldValuesByTld",0,L,"RegistrantFields",0,N,"RegistrantFieldsByTld",0,z,"registrantFieldValuesFromApiResource",0,e=>{let{additional:t,...r}=e;return{base:r,byTld:t??m.empty()}}],8608118);var q=e.i(7037981),q=q;(t=n||(n={})).CentsBrand=q.nominal(),t.schema=u.Schema.Int.pipe(u.Schema.fromBrand(t.CentsBrand)).annotations({description:"Represents a monetary amount in cents (1/100th of a dollar)",jsonSchema:{type:"integer"}}),t.typeSchema=u.Schema.typeSchema(t.schema),t.make=u.Schema.decode(t.schema),t.unsafeMake=e=>t.CentsBrand(e),t.fromDollars=e=>t.unsafeMake(Math.round(100*e)),t.toDollars=e=>s.unsafeMake(e/100),t.add=(e,r)=>t.unsafeMake(e+r),t.subtract=(e,r)=>t.unsafeMake(e-r),(r=s||(s={})).DollarsBrand=q.nominal(),r.schema=u.Schema.Number.pipe(u.Schema.fromBrand(r.DollarsBrand)).annotations({description:"Represents a monetary amount in USD dollars",jsonSchema:{type:"number",minimum:.01}}),r.typeSchema=u.Schema.typeSchema(r.schema),r.make=u.Schema.decode(r.schema),r.unsafeMake=e=>r.DollarsBrand(e),r.fromCents=e=>r.unsafeMake(n.toDollars(e)),r.toCents=e=>n.fromDollars(e),r.format=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en-US";return new Intl.NumberFormat(r,{style:"currency",currency:t}).format(e)},r.add=(e,t)=>r.unsafeMake(e+t);let B=u.Schema.transform(u.Schema.typeSchema(n.schema),u.Schema.typeSchema(s.schema),{strict:!0,decode:e=>s.fromCents(e),encode:e=>n.fromDollars(e)}),$=u.Schema.transform(u.Schema.typeSchema(s.schema),u.Schema.typeSchema(n.schema),{strict:!0,decode:e=>n.fromDollars(e),encode:e=>s.fromCents(e)});e.s(["Cents",()=>n,"CentsFromDollars",0,$,"Dollars",()=>s,"DollarsFromCents",0,B],5151041);let V=u.Schema.Struct({years:u.Schema.Positive,type:u.Schema.Literal("buy","renew"),price:s.schema}),H=u.Schema.Struct({tldName:u.Schema.NonEmptyTrimmedString,prices:u.Schema.Array(V),registrantFields:N,outage:u.Schema.optional(p),whoisPrivacy:u.Schema.Boolean}),G=u.Schema.Struct({...H.fields,outage:u.Schema.optional(h.pipe(u.Schema.omit("internalNote","expired","id","tldName")))}),K=u.Schema.Array(H),J=u.Schema.Array(G);e.s(["SearchPrice",0,V,"SearchTldPublicSerializable",0,G,"SearchTlds",0,K,"SearchTldsPublicSerializable",0,J],5269374);var Z=e.i(3322401),Q=e.i(7525378),Y=e.i(3683485),X=e.i(9159985),ee=e.i(8815901),et=e.i(4935619),er=e.i(9973079),ea=e.i(1932814),ei=e.i(8558266);let en=Symbol.for("@effect/platform/HttpApiSchema/AnnotationMultipart"),es=Symbol.for("@effect/platform/HttpApiSchema/AnnotationMultipartStream"),eo=Symbol.for("@effect/platform/HttpApiSchema/AnnotationStatus"),el=Symbol.for("@effect/platform/HttpApiSchema/AnnotationEmptyDecodeable"),eu=Symbol.for("@effect/platform/HttpApiSchema/AnnotationEncoding"),ec=Symbol.for("@effect/platform/HttpApiSchema/AnnotationParam"),ed=(e,t)=>("Transformation"===e._tag?{...e.to.annotations,...e.annotations}:e.annotations)[t],ep=(e,t)=>ed(e,eo)??t,eh={kind:"Json",contentType:"application/json"},ef=e=>{let t=ei.omit(e,"status");return void 0!==e.status&&(t[eo]=e.status),t},em=e=>{switch(e._tag){case"VoidKeyword":return!0;case"Transformation":return em(e.from);case"Suspend":return em(e.f());default:return!1}},eg=e=>ep(e,em(e)?204:200),ey=e=>ep(e,500),eb=e=>{let t=[];return!function e(r){if(ea.isUnion(r))for(let t of r.types)e(t);else t.push(r)}(e),t},eS=(e,t)=>ea.Union.make(Array.from(new Set([...eb(e),...eb(t)]))),ev=(0,Y.dual)(2,(e,t)=>{let r={[ec]:{name:e,schema:t}};if(er.isSchema(t)){let e=ea.getIdentifierAnnotation(t.ast);ee.isSome(e)&&(r[ea.IdentifierAnnotationId]=e.value)}return t.annotations(r)}),ek=e=>er.Void.annotations(ef({status:e})),ew=(0,Y.dual)(2,(e,t)=>er.transform(er.Void.annotations(e.ast.annotations),er.typeSchema(e),{decode:t.decode,encode:Y.constVoid}).annotations(ef({status:t.status,[el]:!0}))),eE=ek(201),ex=ek(202),eI=ek(204),eT=Symbol.for("@effect/platform/HttpApiSchema/Multipart"),eC=Symbol.for("@effect/platform/HttpApiSchema/MultipartStream"),eR=(0,Y.dual)(2,(e,t)=>e.annotations({[eu]:{kind:t.kind,contentType:t.contentType??(e=>{switch(e){case"Json":return"application/json";case"UrlParams":return"application/x-www-form-urlencoded";case"Uint8Array":return"application/octet-stream";case"Text":return"text/plain"}})(t.kind)},..."Uint8Array"===t.kind?{jsonSchema:{type:"string",format:"binary"}}:void 0})),eF=(0,X.globalValue)("@effect/platform/HttpApiSchema/astCache",()=>new WeakMap);e.s(["Accepted",0,ex,"AnnotationEmptyDecodeable",0,el,"AnnotationEncoding",0,eu,"AnnotationMultipart",0,en,"AnnotationMultipartStream",0,es,"AnnotationParam",0,ec,"AnnotationStatus",0,eo,"Created",0,eE,"Empty",0,ek,"EmptyError",0,()=>e=>{let t,r=Symbol.for(`@effect/platform/HttpApiSchema/EmptyError/${e.tag}`);class a extends Q.StructuralClass{_tag=e.tag;commit(){return Z.fail(this)}}return a.prototype[r]=r,Object.assign(a,{[er.TypeId]:er.Void[er.TypeId],pipe:er.Void.pipe,annotations(e){return er.make(this.ast).annotations(e)}}),Object.defineProperty(a,"ast",{get(){return t?t.ast:(t=ew(er.declare(e=>(0,et.hasProperty)(e,r),{identifier:e.tag,title:e.tag}),{status:e.status,decode:(0,Y.constant)(new this)})).ast}}),a},"Multipart",0,(e,t)=>e.annotations({[en]:t??{}}),"MultipartStream",0,(e,t)=>e.annotations({[es]:t??{}}),"MultipartStreamTypeId",0,eC,"MultipartTypeId",0,eT,"NoContent",0,eI,"Text",0,e=>eR(er.String,{kind:"Text",...e}),"Uint8Array",0,e=>eR(er.Uint8ArrayFromSelf,{kind:"Uint8Array",...e}),"UnionUnify",0,(e,t)=>er.make(eS(e.ast,t.ast)),"UnionUnifyAST",0,eS,"annotations",0,ef,"asEmpty",0,ew,"deunionize",0,(e,t)=>{if(eF.has(t.ast))return void e.add(eF.get(t.ast));let r=t.ast;if("Union"===r._tag)for(let t of r.types){if(eF.has(t)){e.add(eF.get(t));continue}let a=er.make(ea.annotations(t,{...r.annotations,...t.annotations}));eF.set(t,a),e.add(a)}else eF.set(r,t),e.add(t)},"extractAnnotations",0,e=>{let t={};return eo in e&&(t[eo]=e[eo]),el in e&&(t[el]=e[el]),eu in e&&(t[eu]=e[eu]),ec in e&&(t[ec]=e[ec]),en in e&&(t[en]=e[en]),es in e&&(t[es]=e[es]),t},"extractUnionTypes",0,eb,"getEmptyDecodeable",0,e=>ed(e,el)??!1,"getEncoding",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:eh;return ed(e,eu)??t},"getMultipart",0,e=>ed(e,en),"getMultipartStream",0,e=>ed(e,es),"getParam",0,e=>{let t="PropertySignatureTransformation"===e._tag?e.to.annotations:e.annotations;return t[ec]?.name},"getStatus",0,ep,"getStatusError",0,e=>ey(e.ast),"getStatusErrorAST",0,ey,"getStatusSuccess",0,e=>eg(e.ast),"getStatusSuccessAST",0,eg,"isVoid",0,em,"param",0,ev,"withEncoding",0,eR],1722676);var eA=e.i(1722676),eA=eA,eO=u;class e_ extends eO.Schema.TaggedError()("Unauthorized",{status:eO.Schema.Literal(401),code:eO.Schema.Literal("unauthorized"),message:eO.Schema.String},eA.annotations({status:401})){static new(e){return new e_({message:e,code:"unauthorized",status:401})}}let eM=eO.Schema.Struct({total:eO.Schema.Number,remaining:eO.Schema.Number,reset:eO.Schema.Number}),eD=eO.Schema.Struct({value:eO.Schema.Number,str:eO.Schema.String});class eN extends eO.Schema.TaggedError()("TooManyRequests",{status:eO.Schema.Literal(429),code:eO.Schema.Literal("too_many_requests"),message:eO.Schema.String,retryAfter:eD,limit:eM},eA.annotations({status:429})){static new(e,t){return new eN({message:`Too many requests - try again in ${e.str} (more than ${t.total}).`,code:"too_many_requests",status:429,retryAfter:e,limit:t})}}class ez extends eO.Schema.TaggedError()("Forbidden",{status:eO.Schema.Literal(403),code:eO.Schema.Literal("forbidden"),message:eO.Schema.String},eA.annotations({status:403})){static new(e){return new ez({message:e,code:"forbidden",status:403})}}class eP extends eO.Schema.TaggedError()("NotAuthorizedForScope",{status:eO.Schema.Literal(403),code:eO.Schema.Literal("not_authorized_for_scope"),message:eO.Schema.String},eA.annotations({status:403})){static new(e){return new eP({message:e,code:"not_authorized_for_scope",status:403})}}class eL extends eO.Schema.TaggedError()("NotFound",{status:eO.Schema.Literal(404),code:eO.Schema.Literal("not_found"),message:eO.Schema.String},eA.annotations({status:404})){static new(e){return new eL({message:e,code:"not_found",status:404})}}e.s(["Forbidden",()=>ez,"LimitInfo",0,eM,"NotAuthorizedForScope",()=>eP,"NotFound",()=>eL,"RetryAfter",0,eD,"TooManyRequests",()=>eN,"Unauthorized",()=>e_],6256836);var eU=e.i(1135554);let ej=["logged-out-draft","draft","created-purchase-intent"],eW=["submitted","failed","completed"],eq=[...ej,...eW],eB=u.Schema.Literal(...ej),e$=u.Schema.Literal(...eW),eV=u.Schema.Literal(...eq),eH=u.Schema.Literal("production","test"),eG=u.Schema.Literal("pending","completed","failed","refunded","refund-failed");(a=o||(o={})).UnsupportedLanguageCode=u.Schema.Struct({code:u.Schema.Literal("unsupported-language-code"),details:u.Schema.Struct({detectedLanguageCode:u.Schema.String})}),a.ClientTransferProhibited=u.Schema.Struct({code:u.Schema.Literal("client-transfer-prohibited")}),a.ClaimsNoticeRequired=u.Schema.Struct({code:u.Schema.Literal("claims-notice-required")}),a.CannotTransferInUntil=u.Schema.Struct({code:u.Schema.Literal("cannot-transfer-in-until"),details:u.Schema.Struct({numDaysUntilTransferrable:u.Schema.Number})}),a.Unknown=u.Schema.Struct({code:eU.StringWithEmptyObject,details:u.Schema.optional(u.Schema.Unknown)}),a.Any=u.Schema.Union(a.UnsupportedLanguageCode,a.ClientTransferProhibited,a.ClaimsNoticeRequired,a.CannotTransferInUntil),a.AnyOrUnknown=u.Schema.Union(a.Any,a.Unknown),a.make=e=>e,(i=l||(l={})).PaymentFailed=u.Schema.Struct({code:u.Schema.Literal("payment-failed")}),i.TldOutage=u.Schema.Struct({code:u.Schema.Literal("tld-outage"),details:u.Schema.Struct({tlds:u.Schema.Array(u.Schema.Struct({tldName:u.Schema.String,endsAt:u.Schema.String}))})}),i.PriceMismatch=u.Schema.Struct({code:u.Schema.Literal("price-mismatch"),details:u.Schema.Struct({expectedPrice:u.Schema.Number,actualPrice:u.Schema.optional(u.Schema.Number)})}),i.UnexpectedError=u.Schema.Struct({code:u.Schema.Literal("unexpected-error")}),i.Unknown=u.Schema.Struct({code:eU.StringWithEmptyObject,details:u.Schema.optional(u.Schema.Unknown)}),i.Any=u.Schema.Union(i.PaymentFailed,i.TldOutage,i.PriceMismatch,i.UnexpectedError),i.AnyOrUnknown=u.Schema.Union(i.Any,i.Unknown),i.make=e=>e,e.s(["EditableOrderStatus",0,eB,"EditableOrderStatuses",0,ej,"NonEditableOrderStatus",0,e$,"NonEditableOrderStatuses",0,eW,"OrderDomainError",()=>o,"OrderDomainStatus",0,eG,"OrderError",()=>l,"OrderModeValue",0,eH,"OrderStatus",0,eV,"OrderStatuses",0,eq],4031407);var eK=u;class eJ extends eK.Schema.TaggedError()("CopperClientError",{message:eK.Schema.String}){}e.s(["CopperClientError",()=>eJ],1674250),e.s(["Predicate",0,et],5031066)},953632,e=>{"use strict";let t,r,a,i,n,s,o,l,u,c,d,p,h,f,m,g,y,b,S,v,k,w,E,x,I,T,C,R,F,A,O,_,M,D,N,z,P,L,U,j,W,q,B,$,V,H,G,K,J,Z,Q,Y,X,ee,et,er,ea,ei,en,es,eo,el,eu,ec;function ed(e,t){let r=0,a=e.length,i=!1;if(!t){if(e.startsWith("data:"))return null;for(;r<e.length&&32>=e.charCodeAt(r);)r+=1;for(;a>r+1&&32>=e.charCodeAt(a-1);)a-=1;if(47===e.charCodeAt(r)&&47===e.charCodeAt(r+1))r+=2;else{let t=e.indexOf(":/",r);if(-1!==t){let a=t-r,i=e.charCodeAt(r),n=e.charCodeAt(r+1),s=e.charCodeAt(r+2),o=e.charCodeAt(r+3),l=e.charCodeAt(r+4);if(5===a&&104===i&&116===n&&116===s&&112===o&&115===l);else if(4===a&&104===i&&116===n&&116===s&&112===o);else if(3===a&&119===i&&115===n&&115===s);else if(2===a&&119===i&&115===n);else for(let a=r;a<t;a+=1){let t=32|e.charCodeAt(a);if(!(t>=97&&t<=122||t>=48&&t<=57||46===t||45===t||43===t))return null}for(r=t+2;47===e.charCodeAt(r);)r+=1}}let t=-1,n=-1,s=-1;for(let o=r;o<a;o+=1){let r=e.charCodeAt(o);if(35===r||47===r||63===r){a=o;break}64===r?t=o:93===r?n=o:58===r?s=o:r>=65&&r<=90&&(i=!0)}if(-1!==t&&t>r&&t<a&&(r=t+1),91===e.charCodeAt(r))return -1!==n?e.slice(r+1,n).toLowerCase():null;-1!==s&&s>r&&s<a&&(a=s)}for(;a>r+1&&46===e.charCodeAt(a-1);)a-=1;let n=0!==r||a!==e.length?e.slice(r,a):e;return i?n.toLowerCase():n}function ep(e){return e>=97&&e<=122||e>=48&&e<=57||e>127}function eh(e){if(e.length>255||0===e.length||!ep(e.charCodeAt(0))&&46!==e.charCodeAt(0)&&95!==e.charCodeAt(0))return!1;let t=-1,r=-1,a=e.length;for(let i=0;i<a;i+=1){let a=e.charCodeAt(i);if(46===a){if(i-t>64||46===r||45===r||95===r)return!1;t=i}else if(!(ep(a)||45===a||95===a))return!1;r=a}return a-t-1<=63&&45!==r}function ef(e){let{allowIcannDomains:t=!0,allowPrivateDomains:r=!1,detectIp:a=!0,extractHostname:i=!0,mixedInputs:n=!0,validHosts:s=null,validateHostname:o=!0}=e;return{allowIcannDomains:t,allowPrivateDomains:r,detectIp:a,extractHostname:i,mixedInputs:n,validHosts:s,validateHostname:o}}let em=ef({});function eg(){return{domain:null,domainWithoutSuffix:null,hostname:null,isIcann:null,isIp:null,isPrivate:null,publicSuffix:null,subdomain:null}}let ey=(r=[0,{city:t=[1,{}]}],[0,{ck:[0,{www:t}],jp:[0,{kawasaki:r,kitakyushu:r,kobe:r,nagoya:r,sapporo:r,sendai:r,yokohama:r}]}]),eb=(i=[2,{}],n=[1,{com:a=[1,{}],edu:a,gov:a,net:a,org:a}],s=[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a}],l=[2,{s:o=[0,{"*":i}]}],u=[0,{relay:i}],c=[2,{id:i}],d=[1,{gov:a}],p=[0,{airflow:o,"transfer-webapp":i}],h=[0,{"transfer-webapp":i,"transfer-webapp-fips":i}],f=[0,{notebook:i,studio:i}],m=[0,{labeling:i,notebook:i,studio:i}],g=[0,{notebook:i}],y=[0,{labeling:i,notebook:i,"notebook-fips":i,studio:i}],b=[0,{notebook:i,"notebook-fips":i,studio:i,"studio-fips":i}],S=[0,{"*":a}],v=[1,{co:i}],k=[0,{objects:i}],w=[2,{nodes:i}],E=[0,{my:i}],x=[0,{s3:i,"s3-accesspoint":i,"s3-website":i}],I=[0,{s3:i,"s3-accesspoint":i}],T=[0,{direct:i}],C=[0,{"webview-assets":i}],R=[0,{vfs:i,"webview-assets":i}],F=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i,"aws-cloud9":C,cloud9:R}],A=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:I,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i,"aws-cloud9":C,cloud9:R}],O=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i,"analytics-gateway":i,"aws-cloud9":C,cloud9:R}],_=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i}],M=[0,{s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i,"s3-website":i}],D=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:M,s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i,"aws-cloud9":C,cloud9:R}],N=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:M,s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-deprecated":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i,"analytics-gateway":i,"aws-cloud9":C,cloud9:R}],z=[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:[0,{s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i}],s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i}],P=[0,{auth:i}],L=[0,{auth:i,"auth-fips":i}],U=[0,{"auth-fips":i}],j=[0,{apps:i}],W=[0,{paas:i}],q=[2,{eu:i}],B=[0,{app:i}],$=[0,{site:i}],V=[1,{com:a,edu:a,net:a,org:a}],H=[0,{j:i}],G=[0,{dyn:i}],K=[1,{co:a,com:a,edu:a,gov:a,net:a,org:a}],J=[0,{p:i}],Z=[0,{user:i}],Q=[0,{shop:i}],Y=[0,{cdn:i}],X=[2,{raw:o}],ee=[0,{cust:i,reservd:i}],et=[0,{cust:i}],er=[0,{s3:i}],ea=[1,{biz:a,com:a,edu:a,gov:a,info:a,net:a,org:a}],ei=[0,{ipfs:i}],en=[1,{framer:i}],es=[0,{forgot:i}],eo=[1,{gs:a}],el=[0,{nes:a}],eu=[1,{k12:a,cc:a,lib:a}],ec=[1,{cc:a,lib:a}],[0,{ac:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,drr:i,feedback:i,forms:i}],ad:a,ae:[1,{ac:a,co:a,gov:a,mil:a,net:a,org:a,sch:a}],aero:[1,{airline:a,airport:a,"accident-investigation":a,"accident-prevention":a,aerobatic:a,aeroclub:a,aerodrome:a,agents:a,"air-surveillance":a,"air-traffic-control":a,aircraft:a,airtraffic:a,ambulance:a,association:a,author:a,ballooning:a,broker:a,caa:a,cargo:a,catering:a,certification:a,championship:a,charter:a,civilaviation:a,club:a,conference:a,consultant:a,consulting:a,control:a,council:a,crew:a,design:a,dgca:a,educator:a,emergency:a,engine:a,engineer:a,entertainment:a,equipment:a,exchange:a,express:a,federation:a,flight:a,freight:a,fuel:a,gliding:a,government:a,groundhandling:a,group:a,hanggliding:a,homebuilt:a,insurance:a,journal:a,journalist:a,leasing:a,logistics:a,magazine:a,maintenance:a,marketplace:a,media:a,microlight:a,modelling:a,navigation:a,parachuting:a,paragliding:a,"passenger-association":a,pilot:a,press:a,production:a,recreation:a,repbody:a,res:a,research:a,rotorcraft:a,safety:a,scientist:a,services:a,show:a,skydiving:a,software:a,student:a,taxi:a,trader:a,trading:a,trainer:a,union:a,workinggroup:a,works:a}],af:n,ag:[1,{co:a,com:a,net:a,nom:a,org:a,obj:i}],ai:[1,{com:a,net:a,off:a,org:a,uwu:i,caffeine:i,id:i,framer:i}],al:s,am:[1,{co:a,com:a,commune:a,net:a,org:a,radio:i}],ao:[1,{co:a,ed:a,edu:a,gov:a,gv:a,it:a,og:a,org:a,pb:a}],aq:a,ar:[1,{bet:a,com:a,coop:a,edu:a,gob:a,gov:a,int:a,mil:a,musica:a,mutual:a,net:a,org:a,seg:a,senasa:a,tur:a}],arpa:[1,{e164:a,home:a,"in-addr":a,ip6:a,iris:a,uri:a,urn:a}],as:d,asia:[1,{cloudns:i,daemon:i,dix:i}],at:[1,{4:i,ac:[1,{sth:a}],co:a,gv:a,or:a,funkfeuer:[0,{wien:i}],futurecms:[0,{"*":i,ex:o,in:o}],futurehosting:i,futuremailing:i,ortsinfo:[0,{ex:o,kunden:o}],biz:i,info:i,"123webseite":i,priv:i,my:i,myspreadshop:i,"12hp":i,"2ix":i,"4lima":i,"lima-city":i}],au:[1,{asn:a,com:[1,{cloudlets:[0,{mel:i}],myspreadshop:i}],edu:[1,{act:a,catholic:a,nsw:[1,{schools:a}],nt:a,qld:a,sa:a,tas:a,vic:a,wa:a}],gov:[1,{qld:a,sa:a,tas:a,vic:a,wa:a}],id:a,net:a,org:a,conf:a,oz:a,act:a,nsw:a,nt:a,qld:a,sa:a,tas:a,vic:a,wa:a}],aw:[1,{com:a}],ax:a,az:[1,{biz:a,co:a,com:a,edu:a,gov:a,info:a,int:a,mil:a,name:a,net:a,org:a,pp:a,pro:a}],ba:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,rs:i}],bb:[1,{biz:a,co:a,com:a,edu:a,gov:a,info:a,net:a,org:a,store:a,tv:a}],bd:S,be:[1,{ac:a,cloudns:i,webhosting:i,interhostsolutions:[0,{cloud:i}],kuleuven:[0,{ezproxy:i}],"123website":i,myspreadshop:i,transurl:o}],bf:d,bg:[1,{0:a,1:a,2:a,3:a,4:a,5:a,6:a,7:a,8:a,9:a,a:a,b:a,c:a,d:a,e:a,f:a,g:a,h:a,i:a,j:a,k:a,l:a,m:a,n:a,o:a,p:a,q:a,r:a,s:a,t:a,u:a,v:a,w:a,x:a,y:a,z:a,barsy:i}],bh:n,bi:[1,{co:a,com:a,edu:a,or:a,org:a}],biz:[1,{activetrail:i,"cloud-ip":i,cloudns:i,jozi:i,dyndns:i,"for-better":i,"for-more":i,"for-some":i,"for-the":i,selfip:i,webhop:i,orx:i,mmafan:i,myftp:i,"no-ip":i,dscloud:i}],bj:[1,{africa:a,agro:a,architectes:a,assur:a,avocats:a,co:a,com:a,eco:a,econo:a,edu:a,info:a,loisirs:a,money:a,net:a,org:a,ote:a,restaurant:a,resto:a,tourism:a,univ:a}],bm:n,bn:[1,{com:a,edu:a,gov:a,net:a,org:a,co:i}],bo:[1,{com:a,edu:a,gob:a,int:a,mil:a,net:a,org:a,tv:a,web:a,academia:a,agro:a,arte:a,blog:a,bolivia:a,ciencia:a,cooperativa:a,democracia:a,deporte:a,ecologia:a,economia:a,empresa:a,indigena:a,industria:a,info:a,medicina:a,movimiento:a,musica:a,natural:a,nombre:a,noticias:a,patria:a,plurinacional:a,politica:a,profesional:a,pueblo:a,revista:a,salud:a,tecnologia:a,tksat:a,transporte:a,wiki:a}],br:[1,{"9guacu":a,abc:a,adm:a,adv:a,agr:a,aju:a,am:a,anani:a,aparecida:a,app:a,arq:a,art:a,ato:a,b:a,barueri:a,belem:a,bet:a,bhz:a,bib:a,bio:a,blog:a,bmd:a,boavista:a,bsb:a,campinagrande:a,campinas:a,caxias:a,cim:a,cng:a,cnt:a,com:[1,{simplesite:i}],contagem:a,coop:a,coz:a,cri:a,cuiaba:a,curitiba:a,def:a,des:a,det:a,dev:a,ecn:a,eco:a,edu:a,emp:a,enf:a,eng:a,esp:a,etc:a,eti:a,far:a,feira:a,flog:a,floripa:a,fm:a,fnd:a,fortal:a,fot:a,foz:a,fst:a,g12:a,geo:a,ggf:a,goiania:a,gov:[1,{ac:a,al:a,am:a,ap:a,ba:a,ce:a,df:a,es:a,go:a,ma:a,mg:a,ms:a,mt:a,pa:a,pb:a,pe:a,pi:a,pr:a,rj:a,rn:a,ro:a,rr:a,rs:a,sc:a,se:a,sp:a,to:a}],gru:a,imb:a,ind:a,inf:a,jab:a,jampa:a,jdf:a,joinville:a,jor:a,jus:a,leg:[1,{ac:i,al:i,am:i,ap:i,ba:i,ce:i,df:i,es:i,go:i,ma:i,mg:i,ms:i,mt:i,pa:i,pb:i,pe:i,pi:i,pr:i,rj:i,rn:i,ro:i,rr:i,rs:i,sc:i,se:i,sp:i,to:i}],leilao:a,lel:a,log:a,londrina:a,macapa:a,maceio:a,manaus:a,maringa:a,mat:a,med:a,mil:a,morena:a,mp:a,mus:a,natal:a,net:a,niteroi:a,nom:S,not:a,ntr:a,odo:a,ong:a,org:a,osasco:a,palmas:a,poa:a,ppg:a,pro:a,psc:a,psi:a,pvh:a,qsl:a,radio:a,rec:a,recife:a,rep:a,ribeirao:a,rio:a,riobranco:a,riopreto:a,salvador:a,sampa:a,santamaria:a,santoandre:a,saobernardo:a,saogonca:a,seg:a,sjc:a,slg:a,slz:a,sorocaba:a,srv:a,taxi:a,tc:a,tec:a,teo:a,the:a,tmp:a,trd:a,tur:a,tv:a,udi:a,vet:a,vix:a,vlog:a,wiki:a,zlg:a,tche:i}],bs:[1,{com:a,edu:a,gov:a,net:a,org:a,we:i}],bt:n,bv:a,bw:[1,{ac:a,co:a,gov:a,net:a,org:a}],by:[1,{gov:a,mil:a,com:a,of:a,mediatech:i}],bz:[1,{co:a,com:a,edu:a,gov:a,net:a,org:a,za:i,mydns:i,gsj:i}],ca:[1,{ab:a,bc:a,mb:a,nb:a,nf:a,nl:a,ns:a,nt:a,nu:a,on:a,pe:a,qc:a,sk:a,yk:a,gc:a,barsy:i,awdev:o,co:i,"no-ip":i,onid:i,myspreadshop:i,box:i}],cat:a,cc:[1,{cleverapps:i,cloudns:i,ftpaccess:i,"game-server":i,myphotos:i,scrapping:i,twmail:i,csx:i,fantasyleague:i,spawn:[0,{instances:i}]}],cd:d,cf:a,cg:a,ch:[1,{square7:i,cloudns:i,cloudscale:[0,{cust:i,lpg:k,rma:k}],objectstorage:[0,{lpg:i,rma:i}],flow:[0,{ae:[0,{alp1:i}],appengine:i}],"linkyard-cloud":i,gotdns:i,dnsking:i,"123website":i,myspreadshop:i,firenet:[0,{"*":i,svc:o}],"12hp":i,"2ix":i,"4lima":i,"lima-city":i}],ci:[1,{ac:a,"xn--aroport-bya":a,aroport:a,asso:a,co:a,com:a,ed:a,edu:a,go:a,gouv:a,int:a,net:a,or:a,org:a}],ck:S,cl:[1,{co:a,gob:a,gov:a,mil:a,cloudns:i}],cm:[1,{co:a,com:a,gov:a,net:a}],cn:[1,{ac:a,com:[1,{amazonaws:[0,{"cn-north-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-deprecated":i,"s3-object-lambda":i,"s3-website":i}],"cn-northwest-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:I,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i}],compute:o,airflow:[0,{"cn-north-1":o,"cn-northwest-1":o}],eb:[0,{"cn-north-1":i,"cn-northwest-1":i}],elb:o}],amazonwebservices:[0,{on:[0,{"cn-north-1":p,"cn-northwest-1":p}]}],sagemaker:[0,{"cn-north-1":f,"cn-northwest-1":f}]}],edu:a,gov:a,mil:a,net:a,org:a,"xn--55qx5d":a,:a,"xn--od0alg":a,:a,"xn--io0a7i":a,:a,ah:a,bj:a,cq:a,fj:a,gd:a,gs:a,gx:a,gz:a,ha:a,hb:a,he:a,hi:a,hk:a,hl:a,hn:a,jl:a,js:a,jx:a,ln:a,mo:a,nm:a,nx:a,qh:a,sc:a,sd:a,sh:[1,{as:i}],sn:a,sx:a,tj:a,tw:a,xj:a,xz:a,yn:a,zj:a,"canva-apps":i,canvasite:E,myqnapcloud:i,quickconnect:T}],co:[1,{com:a,edu:a,gov:a,mil:a,net:a,nom:a,org:a,carrd:i,crd:i,otap:o,leadpages:i,lpages:i,mypi:i,xmit:o,firewalledreplit:c,repl:c,supabase:i}],com:[1,{a2hosted:i,cpserver:i,adobeaemcloud:[2,{dev:o}],africa:i,airkitapps:i,"airkitapps-au":i,aivencloud:i,alibabacloudcs:i,kasserver:i,amazonaws:[0,{"af-south-1":F,"ap-east-1":A,"ap-northeast-1":O,"ap-northeast-2":O,"ap-northeast-3":F,"ap-south-1":O,"ap-south-2":_,"ap-southeast-1":O,"ap-southeast-2":O,"ap-southeast-3":_,"ap-southeast-4":_,"ap-southeast-5":[0,{"execute-api":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-deprecated":i,"s3-object-lambda":i,"s3-website":i}],"ca-central-1":D,"ca-west-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:M,s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i}],"eu-central-1":O,"eu-central-2":_,"eu-north-1":A,"eu-south-1":F,"eu-south-2":_,"eu-west-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-deprecated":i,"s3-object-lambda":i,"s3-website":i,"analytics-gateway":i,"aws-cloud9":C,cloud9:R}],"eu-west-2":A,"eu-west-3":F,"il-central-1":[0,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:x,s3:i,"s3-accesspoint":i,"s3-object-lambda":i,"s3-website":i,"aws-cloud9":C,cloud9:[0,{vfs:i}]}],"me-central-1":_,"me-south-1":A,"sa-east-1":F,"us-east-1":[2,{"execute-api":i,"emrappui-prod":i,"emrnotebooks-prod":i,"emrstudio-prod":i,dualstack:M,s3:i,"s3-accesspoint":i,"s3-accesspoint-fips":i,"s3-deprecated":i,"s3-fips":i,"s3-object-lambda":i,"s3-website":i,"analytics-gateway":i,"aws-cloud9":C,cloud9:R}],"us-east-2":N,"us-gov-east-1":z,"us-gov-west-1":z,"us-west-1":D,"us-west-2":N,compute:o,"compute-1":o,airflow:[0,{"af-south-1":o,"ap-east-1":o,"ap-northeast-1":o,"ap-northeast-2":o,"ap-northeast-3":o,"ap-south-1":o,"ap-south-2":o,"ap-southeast-1":o,"ap-southeast-2":o,"ap-southeast-3":o,"ap-southeast-4":o,"ap-southeast-5":o,"ca-central-1":o,"ca-west-1":o,"eu-central-1":o,"eu-central-2":o,"eu-north-1":o,"eu-south-1":o,"eu-south-2":o,"eu-west-1":o,"eu-west-2":o,"eu-west-3":o,"il-central-1":o,"me-central-1":o,"me-south-1":o,"sa-east-1":o,"us-east-1":o,"us-east-2":o,"us-west-1":o,"us-west-2":o}],s3:i,"s3-1":i,"s3-ap-east-1":i,"s3-ap-northeast-1":i,"s3-ap-northeast-2":i,"s3-ap-northeast-3":i,"s3-ap-south-1":i,"s3-ap-southeast-1":i,"s3-ap-southeast-2":i,"s3-ca-central-1":i,"s3-eu-central-1":i,"s3-eu-north-1":i,"s3-eu-west-1":i,"s3-eu-west-2":i,"s3-eu-west-3":i,"s3-external-1":i,"s3-fips-us-gov-east-1":i,"s3-fips-us-gov-west-1":i,"s3-global":[0,{accesspoint:[0,{mrap:i}]}],"s3-me-south-1":i,"s3-sa-east-1":i,"s3-us-east-2":i,"s3-us-gov-east-1":i,"s3-us-gov-west-1":i,"s3-us-west-1":i,"s3-us-west-2":i,"s3-website-ap-northeast-1":i,"s3-website-ap-southeast-1":i,"s3-website-ap-southeast-2":i,"s3-website-eu-west-1":i,"s3-website-sa-east-1":i,"s3-website-us-east-1":i,"s3-website-us-gov-west-1":i,"s3-website-us-west-1":i,"s3-website-us-west-2":i,elb:o}],amazoncognito:[0,{"af-south-1":P,"ap-east-1":P,"ap-northeast-1":P,"ap-northeast-2":P,"ap-northeast-3":P,"ap-south-1":P,"ap-south-2":P,"ap-southeast-1":P,"ap-southeast-2":P,"ap-southeast-3":P,"ap-southeast-4":P,"ap-southeast-5":P,"ap-southeast-7":P,"ca-central-1":P,"ca-west-1":P,"eu-central-1":P,"eu-central-2":P,"eu-north-1":P,"eu-south-1":P,"eu-south-2":P,"eu-west-1":P,"eu-west-2":P,"eu-west-3":P,"il-central-1":P,"me-central-1":P,"me-south-1":P,"mx-central-1":P,"sa-east-1":P,"us-east-1":L,"us-east-2":L,"us-gov-east-1":U,"us-gov-west-1":U,"us-west-1":L,"us-west-2":L}],amplifyapp:i,awsapprunner:o,awsapps:i,elasticbeanstalk:[2,{"af-south-1":i,"ap-east-1":i,"ap-northeast-1":i,"ap-northeast-2":i,"ap-northeast-3":i,"ap-south-1":i,"ap-southeast-1":i,"ap-southeast-2":i,"ap-southeast-3":i,"ca-central-1":i,"eu-central-1":i,"eu-north-1":i,"eu-south-1":i,"eu-west-1":i,"eu-west-2":i,"eu-west-3":i,"il-central-1":i,"me-south-1":i,"sa-east-1":i,"us-east-1":i,"us-east-2":i,"us-gov-east-1":i,"us-gov-west-1":i,"us-west-1":i,"us-west-2":i}],awsglobalaccelerator:i,siiites:i,appspacehosted:i,appspaceusercontent:i,"on-aptible":i,myasustor:i,"balena-devices":i,boutir:i,bplaced:i,cafjs:i,"canva-apps":i,"cdn77-storage":i,br:i,cn:i,de:i,eu:i,jpn:i,mex:i,ru:i,sa:i,uk:i,us:i,za:i,"clever-cloud":[0,{services:o}],dnsabr:i,"ip-ddns":i,jdevcloud:i,wpdevcloud:i,"cf-ipfs":i,"cloudflare-ipfs":i,trycloudflare:i,co:i,devinapps:o,builtwithdark:i,datadetect:[0,{demo:i,instance:i}],dattolocal:i,dattorelay:i,dattoweb:i,mydatto:i,digitaloceanspaces:o,discordsays:i,discordsez:i,drayddns:i,dreamhosters:i,durumis:i,mydrobo:i,blogdns:i,cechire:i,dnsalias:i,dnsdojo:i,doesntexist:i,dontexist:i,doomdns:i,"dyn-o-saur":i,dynalias:i,"dyndns-at-home":i,"dyndns-at-work":i,"dyndns-blog":i,"dyndns-free":i,"dyndns-home":i,"dyndns-ip":i,"dyndns-mail":i,"dyndns-office":i,"dyndns-pics":i,"dyndns-remote":i,"dyndns-server":i,"dyndns-web":i,"dyndns-wiki":i,"dyndns-work":i,"est-a-la-maison":i,"est-a-la-masion":i,"est-le-patron":i,"est-mon-blogueur":i,"from-ak":i,"from-al":i,"from-ar":i,"from-ca":i,"from-ct":i,"from-dc":i,"from-de":i,"from-fl":i,"from-ga":i,"from-hi":i,"from-ia":i,"from-id":i,"from-il":i,"from-in":i,"from-ks":i,"from-ky":i,"from-ma":i,"from-md":i,"from-mi":i,"from-mn":i,"from-mo":i,"from-ms":i,"from-mt":i,"from-nc":i,"from-nd":i,"from-ne":i,"from-nh":i,"from-nj":i,"from-nm":i,"from-nv":i,"from-oh":i,"from-ok":i,"from-or":i,"from-pa":i,"from-pr":i,"from-ri":i,"from-sc":i,"from-sd":i,"from-tn":i,"from-tx":i,"from-ut":i,"from-va":i,"from-vt":i,"from-wa":i,"from-wi":i,"from-wv":i,"from-wy":i,getmyip:i,gotdns:i,"hobby-site":i,homelinux:i,homeunix:i,iamallama:i,"is-a-anarchist":i,"is-a-blogger":i,"is-a-bookkeeper":i,"is-a-bulls-fan":i,"is-a-caterer":i,"is-a-chef":i,"is-a-conservative":i,"is-a-cpa":i,"is-a-cubicle-slave":i,"is-a-democrat":i,"is-a-designer":i,"is-a-doctor":i,"is-a-financialadvisor":i,"is-a-geek":i,"is-a-green":i,"is-a-guru":i,"is-a-hard-worker":i,"is-a-hunter":i,"is-a-landscaper":i,"is-a-lawyer":i,"is-a-liberal":i,"is-a-libertarian":i,"is-a-llama":i,"is-a-musician":i,"is-a-nascarfan":i,"is-a-nurse":i,"is-a-painter":i,"is-a-personaltrainer":i,"is-a-photographer":i,"is-a-player":i,"is-a-republican":i,"is-a-rockstar":i,"is-a-socialist":i,"is-a-student":i,"is-a-teacher":i,"is-a-techie":i,"is-a-therapist":i,"is-an-accountant":i,"is-an-actor":i,"is-an-actress":i,"is-an-anarchist":i,"is-an-artist":i,"is-an-engineer":i,"is-an-entertainer":i,"is-certified":i,"is-gone":i,"is-into-anime":i,"is-into-cars":i,"is-into-cartoons":i,"is-into-games":i,"is-leet":i,"is-not-certified":i,"is-slick":i,"is-uberleet":i,"is-with-theband":i,"isa-geek":i,"isa-hockeynut":i,issmarterthanyou:i,"likes-pie":i,likescandy:i,"neat-url":i,"saves-the-whales":i,selfip:i,"sells-for-less":i,"sells-for-u":i,servebbs:i,"simple-url":i,"space-to-rent":i,"teaches-yoga":i,writesthisblog:i,ddnsfree:i,ddnsgeek:i,giize:i,gleeze:i,kozow:i,loseyourip:i,ooguy:i,theworkpc:i,mytuleap:i,"tuleap-partners":i,encoreapi:i,evennode:[0,{"eu-1":i,"eu-2":i,"eu-3":i,"eu-4":i,"us-1":i,"us-2":i,"us-3":i,"us-4":i}],onfabrica:i,"fastly-edge":i,"fastly-terrarium":i,"fastvps-server":i,mydobiss:i,firebaseapp:i,fldrv:i,forgeblocks:i,framercanvas:i,"freebox-os":i,freeboxos:i,freemyip:i,aliases121:i,gentapps:i,gentlentapis:i,githubusercontent:i,"0emm":o,appspot:[2,{r:o}],blogspot:i,codespot:i,googleapis:i,googlecode:i,pagespeedmobilizer:i,withgoogle:i,withyoutube:i,grayjayleagues:i,hatenablog:i,hatenadiary:i,herokuapp:i,gr:i,smushcdn:i,wphostedmail:i,wpmucdn:i,pixolino:i,"apps-1and1":i,"live-website":i,"webspace-host":i,dopaas:i,"hosted-by-previder":W,hosteur:[0,{"rag-cloud":i,"rag-cloud-ch":i}],"ik-server":[0,{jcloud:i,"jcloud-ver-jpc":i}],jelastic:[0,{demo:i}],massivegrid:W,wafaicloud:[0,{jed:i,ryd:i}],webadorsite:i,joyent:[0,{cns:o}],lpusercontent:i,linode:[0,{members:i,nodebalancer:o}],linodeobjects:o,linodeusercontent:[0,{ip:i}],localtonet:i,lovableproject:i,barsycenter:i,barsyonline:i,lutrausercontent:o,modelscape:i,mwcloudnonprod:i,polyspace:i,mazeplay:i,miniserver:i,atmeta:i,fbsbx:j,meteorapp:q,routingthecloud:i,mydbserver:i,hostedpi:i,"mythic-beasts":[0,{caracal:i,customer:i,fentiger:i,lynx:i,ocelot:i,oncilla:i,onza:i,sphinx:i,vs:i,x:i,yali:i}],nospamproxy:[0,{cloud:[2,{o365:i}]}],"4u":i,nfshost:i,"3utilities":i,blogsyte:i,ciscofreak:i,damnserver:i,ddnsking:i,ditchyourip:i,dnsiskinky:i,dynns:i,geekgalaxy:i,"health-carereform":i,homesecuritymac:i,homesecuritypc:i,myactivedirectory:i,mysecuritycamera:i,myvnc:i,"net-freaks":i,onthewifi:i,point2this:i,quicksytes:i,securitytactics:i,servebeer:i,servecounterstrike:i,serveexchange:i,serveftp:i,servegame:i,servehalflife:i,servehttp:i,servehumour:i,serveirc:i,servemp3:i,servep2p:i,servepics:i,servequake:i,servesarcasm:i,stufftoread:i,unusualperson:i,workisboring:i,myiphost:i,observableusercontent:[0,{static:i}],simplesite:i,oaiusercontent:o,orsites:i,operaunite:i,"customer-oci":[0,{"*":i,oci:o,ocp:o,ocs:o}],oraclecloudapps:o,oraclegovcloudapps:o,"authgear-staging":i,authgearapps:i,skygearapp:i,outsystemscloud:i,ownprovider:i,pgfog:i,pagexl:i,gotpantheon:i,paywhirl:o,upsunapp:i,"postman-echo":i,prgmr:[0,{xen:i}],"project-study":[0,{dev:i}],pythonanywhere:q,qa2:i,"alpha-myqnapcloud":i,"dev-myqnapcloud":i,mycloudnas:i,mynascloud:i,myqnapcloud:i,qualifioapp:i,ladesk:i,qbuser:i,quipelements:o,rackmaze:i,"readthedocs-hosted":i,rhcloud:i,onrender:i,render:B,"subsc-pay":i,"180r":i,dojin:i,sakuratan:i,sakuraweb:i,x0:i,code:[0,{builder:o,"dev-builder":o,"stg-builder":o}],salesforce:[0,{platform:[0,{"code-builder-stg":[0,{test:[0,{"001":o}]}]}]}],logoip:i,scrysec:i,"firewall-gateway":i,myshopblocks:i,myshopify:i,shopitsite:i,"1kapp":i,appchizi:i,applinzi:i,sinaapp:i,vipsinaapp:i,streamlitapp:i,"try-snowplow":i,"playstation-cloud":i,myspreadshop:i,"w-corp-staticblitz":i,"w-credentialless-staticblitz":i,"w-staticblitz":i,"stackhero-network":i,stdlib:[0,{api:i}],strapiapp:[2,{media:i}],"streak-link":i,streaklinks:i,streakusercontent:i,"temp-dns":i,dsmynas:i,familyds:i,mytabit:i,taveusercontent:i,"tb-hosting":$,reservd:i,thingdustdata:i,"townnews-staging":i,typeform:[0,{pro:i}],hk:i,it:i,"deus-canvas":i,vultrobjects:o,wafflecell:i,hotelwithflight:i,"reserve-online":i,cprapid:i,pleskns:i,remotewd:i,wiardweb:[0,{pages:i}],wixsite:i,wixstudio:i,messwithdns:i,"woltlab-demo":i,wpenginepowered:[2,{js:i}],xnbay:[2,{u2:i,"u2-local":i}],yolasite:i}],coop:a,cr:[1,{ac:a,co:a,ed:a,fi:a,go:a,or:a,sa:a}],cu:[1,{com:a,edu:a,gob:a,inf:a,nat:a,net:a,org:a}],cv:[1,{com:a,edu:a,id:a,int:a,net:a,nome:a,org:a,publ:a}],cw:V,cx:[1,{gov:a,cloudns:i,ath:i,info:i,assessments:i,calculators:i,funnels:i,paynow:i,quizzes:i,researched:i,tests:i}],cy:[1,{ac:a,biz:a,com:[1,{scaleforce:H}],ekloges:a,gov:a,ltd:a,mil:a,net:a,org:a,press:a,pro:a,tm:a}],cz:[1,{contentproxy9:[0,{rsc:i}],realm:i,e4:i,co:i,metacentrum:[0,{cloud:o,custom:i}],muni:[0,{cloud:[0,{flt:i,usr:i}]}]}],de:[1,{bplaced:i,square7:i,com:i,cosidns:G,dnsupdater:i,"dynamisches-dns":i,"internet-dns":i,"l-o-g-i-n":i,ddnss:[2,{dyn:i,dyndns:i}],"dyn-ip24":i,dyndns1:i,"home-webserver":[2,{dyn:i}],"myhome-server":i,dnshome:i,fuettertdasnetz:i,isteingeek:i,istmein:i,lebtimnetz:i,leitungsen:i,traeumtgerade:i,frusky:o,goip:i,"xn--gnstigbestellen-zvb":i,gnstigbestellen:i,"xn--gnstigliefern-wob":i,gnstigliefern:i,"hs-heilbronn":[0,{it:[0,{pages:i,"pages-research":i}]}],"dyn-berlin":i,"in-berlin":i,"in-brb":i,"in-butter":i,"in-dsl":i,"in-vpn":i,iservschule:i,"mein-iserv":i,schuldock:i,schulplattform:i,schulserver:i,"test-iserv":i,keymachine:i,co:i,"git-repos":i,"lcube-server":i,"svn-repos":i,barsy:i,webspaceconfig:i,"123webseite":i,rub:i,"ruhr-uni-bochum":[2,{noc:[0,{io:i}]}],logoip:i,"firewall-gateway":i,"my-gateway":i,"my-router":i,spdns:i,my:i,speedpartner:[0,{customer:i}],myspreadshop:i,"taifun-dns":i,"12hp":i,"2ix":i,"4lima":i,"lima-city":i,"dd-dns":i,"dray-dns":i,draydns:i,"dyn-vpn":i,dynvpn:i,"mein-vigor":i,"my-vigor":i,"my-wan":i,"syno-ds":i,"synology-diskstation":i,"synology-ds":i,"virtual-user":i,virtualuser:i,"community-pro":i,diskussionsbereich:i}],dj:a,dk:[1,{biz:i,co:i,firm:i,reg:i,store:i,"123hjemmeside":i,myspreadshop:i}],dm:K,do:[1,{art:a,com:a,edu:a,gob:a,gov:a,mil:a,net:a,org:a,sld:a,web:a}],dz:[1,{art:a,asso:a,com:a,edu:a,gov:a,net:a,org:a,pol:a,soc:a,tm:a}],ec:[1,{abg:a,adm:a,agron:a,arqt:a,art:a,bar:a,chef:a,com:a,cont:a,cpa:a,cue:a,dent:a,dgn:a,disco:a,doc:a,edu:a,eng:a,esm:a,fin:a,fot:a,gal:a,gob:a,gov:a,gye:a,ibr:a,info:a,k12:a,lat:a,loj:a,med:a,mil:a,mktg:a,mon:a,net:a,ntr:a,odont:a,org:a,pro:a,prof:a,psic:a,psiq:a,pub:a,rio:a,rrpp:a,sal:a,tech:a,tul:a,tur:a,uio:a,vet:a,xxx:a,base:i,official:i}],edu:[1,{rit:[0,{"git-pages":i}]}],ee:[1,{aip:a,com:a,edu:a,fie:a,gov:a,lib:a,med:a,org:a,pri:a,riik:a}],eg:[1,{ac:a,com:a,edu:a,eun:a,gov:a,info:a,me:a,mil:a,name:a,net:a,org:a,sci:a,sport:a,tv:a}],er:S,es:[1,{com:a,edu:a,gob:a,nom:a,org:a,"123miweb":i,myspreadshop:i}],et:[1,{biz:a,com:a,edu:a,gov:a,info:a,name:a,net:a,org:a}],eu:[1,{airkitapps:i,cloudns:i,dogado:[0,{jelastic:i}],barsy:i,spdns:i,nxa:o,transurl:o,diskstation:i}],fi:[1,{aland:a,dy:i,"xn--hkkinen-5wa":i,hkkinen:i,iki:i,cloudplatform:[0,{fi:i}],datacenter:[0,{demo:i,paas:i}],kapsi:i,"123kotisivu":i,myspreadshop:i}],fj:[1,{ac:a,biz:a,com:a,gov:a,info:a,mil:a,name:a,net:a,org:a,pro:a}],fk:S,fm:[1,{com:a,edu:a,net:a,org:a,radio:i,user:o}],fo:a,fr:[1,{asso:a,com:a,gouv:a,nom:a,prd:a,tm:a,avoues:a,cci:a,greta:a,"huissier-justice":a,"en-root":i,"fbx-os":i,fbxos:i,"freebox-os":i,freeboxos:i,goupile:i,"123siteweb":i,"on-web":i,"chirurgiens-dentistes-en-france":i,dedibox:i,aeroport:i,avocat:i,chambagri:i,"chirurgiens-dentistes":i,"experts-comptables":i,medecin:i,notaires:i,pharmacien:i,port:i,veterinaire:i,myspreadshop:i,ynh:i}],ga:a,gb:a,gd:[1,{edu:a,gov:a}],ge:[1,{com:a,edu:a,gov:a,net:a,org:a,pvt:a,school:a}],gf:a,gg:[1,{co:a,net:a,org:a,botdash:i,kaas:i,stackit:i,panel:[2,{daemon:i}]}],gh:[1,{biz:a,com:a,edu:a,gov:a,mil:a,net:a,org:a}],gi:[1,{com:a,edu:a,gov:a,ltd:a,mod:a,org:a}],gl:[1,{co:a,com:a,edu:a,net:a,org:a,biz:i}],gm:a,gn:[1,{ac:a,com:a,edu:a,gov:a,net:a,org:a}],gov:a,gp:[1,{asso:a,com:a,edu:a,mobi:a,net:a,org:a}],gq:a,gr:[1,{com:a,edu:a,gov:a,net:a,org:a,barsy:i,simplesite:i}],gs:a,gt:[1,{com:a,edu:a,gob:a,ind:a,mil:a,net:a,org:a}],gu:[1,{com:a,edu:a,gov:a,guam:a,info:a,net:a,org:a,web:a}],gw:[1,{nx:i}],gy:K,hk:[1,{com:a,edu:a,gov:a,idv:a,net:a,org:a,"xn--ciqpn":a,:a,"xn--gmqw5a":a,:a,"xn--55qx5d":a,:a,"xn--mxtq1m":a,:a,"xn--lcvr32d":a,:a,"xn--wcvs22d":a,:a,"xn--gmq050i":a,:a,"xn--uc0atv":a,:a,"xn--uc0ay4a":a,:a,"xn--od0alg":a,:a,"xn--zf0avx":a,:a,"xn--mk0axi":a,:a,"xn--tn0ag":a,:a,"xn--od0aq3b":a,:a,"xn--io0a7i":a,:a,inc:i,ltd:i}],hm:a,hn:[1,{com:a,edu:a,gob:a,mil:a,net:a,org:a}],hr:[1,{com:a,from:a,iz:a,name:a,brendly:Q}],ht:[1,{adult:a,art:a,asso:a,com:a,coop:a,edu:a,firm:a,gouv:a,info:a,med:a,net:a,org:a,perso:a,pol:a,pro:a,rel:a,shop:a,rt:i}],hu:[1,{2e3:a,agrar:a,bolt:a,casino:a,city:a,co:a,erotica:a,erotika:a,film:a,forum:a,games:a,hotel:a,info:a,ingatlan:a,jogasz:a,konyvelo:a,lakas:a,media:a,news:a,org:a,priv:a,reklam:a,sex:a,shop:a,sport:a,suli:a,szex:a,tm:a,tozsde:a,utazas:a,video:a}],id:[1,{ac:a,biz:a,co:a,desa:a,go:a,kop:a,mil:a,my:a,net:a,or:a,ponpes:a,sch:a,web:a,zone:i}],ie:[1,{gov:a,myspreadshop:i}],il:[1,{ac:a,co:[1,{ravpage:i,mytabit:i,tabitorder:i}],gov:a,idf:a,k12:a,muni:a,net:a,org:a}],"xn--4dbrk0ce":[1,{"xn--4dbgdty6c":a,"xn--5dbhl8d":a,"xn--8dbq2a":a,"xn--hebda8b":a}],:[1,{:a,:a,:a,:a}],im:[1,{ac:a,co:[1,{ltd:a,plc:a}],com:a,net:a,org:a,tt:a,tv:a}],in:[1,{"5g":a,"6g":a,ac:a,ai:a,am:a,bihar:a,biz:a,business:a,ca:a,cn:a,co:a,com:a,coop:a,cs:a,delhi:a,dr:a,edu:a,er:a,firm:a,gen:a,gov:a,gujarat:a,ind:a,info:a,int:a,internet:a,io:a,me:a,mil:a,net:a,nic:a,org:a,pg:a,post:a,pro:a,res:a,travel:a,tv:a,uk:a,up:a,us:a,cloudns:i,barsy:i,web:i,supabase:i}],info:[1,{cloudns:i,"dynamic-dns":i,"barrel-of-knowledge":i,"barrell-of-knowledge":i,dyndns:i,"for-our":i,"groks-the":i,"groks-this":i,"here-for-more":i,knowsitall:i,selfip:i,webhop:i,barsy:i,mayfirst:i,mittwald:i,mittwaldserver:i,typo3server:i,dvrcam:i,ilovecollege:i,"no-ip":i,forumz:i,nsupdate:i,dnsupdate:i,"v-info":i}],int:[1,{eu:a}],io:[1,{2038:i,co:a,com:a,edu:a,gov:a,mil:a,net:a,nom:a,org:a,"on-acorn":o,myaddr:i,apigee:i,"b-data":i,beagleboard:i,bitbucket:i,bluebite:i,boxfuse:i,brave:l,browsersafetymark:i,bubble:Y,bubbleapps:i,bigv:[0,{uk0:i}],cleverapps:i,cloudbeesusercontent:i,dappnode:[0,{dyndns:i}],darklang:i,definima:i,dedyn:i,"icp-api":i,icp0:X,icp1:X,qzz:i,"fh-muenster":i,shw:i,forgerock:[0,{id:i}],github:i,gitlab:i,lolipop:i,"hasura-app":i,hostyhosting:i,hypernode:i,moonscale:o,beebyte:W,beebyteapp:[0,{sekd1:i}],jele:i,webthings:i,loginline:i,barsy:i,azurecontainer:o,ngrok:[2,{ap:i,au:i,eu:i,in:i,jp:i,sa:i,us:i}],nodeart:[0,{stage:i}],pantheonsite:i,pstmn:[2,{mock:i}],protonet:i,qcx:[2,{sys:o}],qoto:i,vaporcloud:i,myrdbx:i,"rb-hosting":$,"on-k3s":o,"on-rio":o,readthedocs:i,resindevice:i,resinstaging:[0,{devices:i}],hzc:i,sandcats:i,scrypted:[0,{client:i}],"mo-siemens":i,lair:j,stolos:o,musician:i,utwente:i,edugit:i,telebit:i,thingdust:[0,{dev:ee,disrec:ee,prod:et,testing:ee}],tickets:i,webflow:i,webflowtest:i,editorx:i,wixstudio:i,basicserver:i,virtualserver:i}],iq:s,ir:[1,{ac:a,co:a,gov:a,id:a,net:a,org:a,sch:a,"xn--mgba3a4f16a":a,:a,"xn--mgba3a4fra":a,:a,arvanedge:i,vistablog:i}],is:a,it:[1,{edu:a,gov:a,abr:a,abruzzo:a,"aosta-valley":a,aostavalley:a,bas:a,basilicata:a,cal:a,calabria:a,cam:a,campania:a,"emilia-romagna":a,emiliaromagna:a,emr:a,"friuli-v-giulia":a,"friuli-ve-giulia":a,"friuli-vegiulia":a,"friuli-venezia-giulia":a,"friuli-veneziagiulia":a,"friuli-vgiulia":a,"friuliv-giulia":a,"friulive-giulia":a,friulivegiulia:a,"friulivenezia-giulia":a,friuliveneziagiulia:a,friulivgiulia:a,fvg:a,laz:a,lazio:a,lig:a,liguria:a,lom:a,lombardia:a,lombardy:a,lucania:a,mar:a,marche:a,mol:a,molise:a,piedmont:a,piemonte:a,pmn:a,pug:a,puglia:a,sar:a,sardegna:a,sardinia:a,sic:a,sicilia:a,sicily:a,taa:a,tos:a,toscana:a,"trentin-sud-tirol":a,"xn--trentin-sd-tirol-rzb":a,"trentin-sd-tirol":a,"trentin-sudtirol":a,"xn--trentin-sdtirol-7vb":a,"trentin-sdtirol":a,"trentin-sued-tirol":a,"trentin-suedtirol":a,trentino:a,"trentino-a-adige":a,"trentino-aadige":a,"trentino-alto-adige":a,"trentino-altoadige":a,"trentino-s-tirol":a,"trentino-stirol":a,"trentino-sud-tirol":a,"xn--trentino-sd-tirol-c3b":a,"trentino-sd-tirol":a,"trentino-sudtirol":a,"xn--trentino-sdtirol-szb":a,"trentino-sdtirol":a,"trentino-sued-tirol":a,"trentino-suedtirol":a,"trentinoa-adige":a,trentinoaadige:a,"trentinoalto-adige":a,trentinoaltoadige:a,"trentinos-tirol":a,trentinostirol:a,"trentinosud-tirol":a,"xn--trentinosd-tirol-rzb":a,"trentinosd-tirol":a,trentinosudtirol:a,"xn--trentinosdtirol-7vb":a,trentinosdtirol:a,"trentinosued-tirol":a,trentinosuedtirol:a,"trentinsud-tirol":a,"xn--trentinsd-tirol-6vb":a,"trentinsd-tirol":a,trentinsudtirol:a,"xn--trentinsdtirol-nsb":a,trentinsdtirol:a,"trentinsued-tirol":a,trentinsuedtirol:a,tuscany:a,umb:a,umbria:a,"val-d-aosta":a,"val-daosta":a,"vald-aosta":a,valdaosta:a,"valle-aosta":a,"valle-d-aosta":a,"valle-daosta":a,valleaosta:a,"valled-aosta":a,valledaosta:a,"vallee-aoste":a,"xn--valle-aoste-ebb":a,"valle-aoste":a,"vallee-d-aoste":a,"xn--valle-d-aoste-ehb":a,"valle-d-aoste":a,valleeaoste:a,"xn--valleaoste-e7a":a,valleaoste:a,valleedaoste:a,"xn--valledaoste-ebb":a,valledaoste:a,vao:a,vda:a,ven:a,veneto:a,ag:a,agrigento:a,al:a,alessandria:a,"alto-adige":a,altoadige:a,an:a,ancona:a,"andria-barletta-trani":a,"andria-trani-barletta":a,andriabarlettatrani:a,andriatranibarletta:a,ao:a,aosta:a,aoste:a,ap:a,aq:a,aquila:a,ar:a,arezzo:a,"ascoli-piceno":a,ascolipiceno:a,asti:a,at:a,av:a,avellino:a,ba:a,balsan:a,"balsan-sudtirol":a,"xn--balsan-sdtirol-nsb":a,"balsan-sdtirol":a,"balsan-suedtirol":a,bari:a,"barletta-trani-andria":a,barlettatraniandria:a,belluno:a,benevento:a,bergamo:a,bg:a,bi:a,biella:a,bl:a,bn:a,bo:a,bologna:a,bolzano:a,"bolzano-altoadige":a,bozen:a,"bozen-sudtirol":a,"xn--bozen-sdtirol-2ob":a,"bozen-sdtirol":a,"bozen-suedtirol":a,br:a,brescia:a,brindisi:a,bs:a,bt:a,bulsan:a,"bulsan-sudtirol":a,"xn--bulsan-sdtirol-nsb":a,"bulsan-sdtirol":a,"bulsan-suedtirol":a,bz:a,ca:a,cagliari:a,caltanissetta:a,"campidano-medio":a,campidanomedio:a,campobasso:a,"carbonia-iglesias":a,carboniaiglesias:a,"carrara-massa":a,carraramassa:a,caserta:a,catania:a,catanzaro:a,cb:a,ce:a,"cesena-forli":a,"xn--cesena-forl-mcb":a,"cesena-forl":a,cesenaforli:a,"xn--cesenaforl-i8a":a,cesenaforl:a,ch:a,chieti:a,ci:a,cl:a,cn:a,co:a,como:a,cosenza:a,cr:a,cremona:a,crotone:a,cs:a,ct:a,cuneo:a,cz:a,"dell-ogliastra":a,dellogliastra:a,en:a,enna:a,fc:a,fe:a,fermo:a,ferrara:a,fg:a,fi:a,firenze:a,florence:a,fm:a,foggia:a,"forli-cesena":a,"xn--forl-cesena-fcb":a,"forl-cesena":a,forlicesena:a,"xn--forlcesena-c8a":a,forlcesena:a,fr:a,frosinone:a,ge:a,genoa:a,genova:a,go:a,gorizia:a,gr:a,grosseto:a,"iglesias-carbonia":a,iglesiascarbonia:a,im:a,imperia:a,is:a,isernia:a,kr:a,"la-spezia":a,laquila:a,laspezia:a,latina:a,lc:a,le:a,lecce:a,lecco:a,li:a,livorno:a,lo:a,lodi:a,lt:a,lu:a,lucca:a,macerata:a,mantova:a,"massa-carrara":a,massacarrara:a,matera:a,mb:a,mc:a,me:a,"medio-campidano":a,mediocampidano:a,messina:a,mi:a,milan:a,milano:a,mn:a,mo:a,modena:a,monza:a,"monza-brianza":a,"monza-e-della-brianza":a,monzabrianza:a,monzaebrianza:a,monzaedellabrianza:a,ms:a,mt:a,na:a,naples:a,napoli:a,no:a,novara:a,nu:a,nuoro:a,og:a,ogliastra:a,"olbia-tempio":a,olbiatempio:a,or:a,oristano:a,ot:a,pa:a,padova:a,padua:a,palermo:a,parma:a,pavia:a,pc:a,pd:a,pe:a,perugia:a,"pesaro-urbino":a,pesarourbino:a,pescara:a,pg:a,pi:a,piacenza:a,pisa:a,pistoia:a,pn:a,po:a,pordenone:a,potenza:a,pr:a,prato:a,pt:a,pu:a,pv:a,pz:a,ra:a,ragusa:a,ravenna:a,rc:a,re:a,"reggio-calabria":a,"reggio-emilia":a,reggiocalabria:a,reggioemilia:a,rg:a,ri:a,rieti:a,rimini:a,rm:a,rn:a,ro:a,roma:a,rome:a,rovigo:a,sa:a,salerno:a,sassari:a,savona:a,si:a,siena:a,siracusa:a,so:a,sondrio:a,sp:a,sr:a,ss:a,"xn--sdtirol-n2a":a,sdtirol:a,suedtirol:a,sv:a,ta:a,taranto:a,te:a,"tempio-olbia":a,tempioolbia:a,teramo:a,terni:a,tn:a,to:a,torino:a,tp:a,tr:a,"trani-andria-barletta":a,"trani-barletta-andria":a,traniandriabarletta:a,tranibarlettaandria:a,trapani:a,trento:a,treviso:a,trieste:a,ts:a,turin:a,tv:a,ud:a,udine:a,"urbino-pesaro":a,urbinopesaro:a,va:a,varese:a,vb:a,vc:a,ve:a,venezia:a,venice:a,verbania:a,vercelli:a,verona:a,vi:a,"vibo-valentia":a,vibovalentia:a,vicenza:a,viterbo:a,vr:a,vs:a,vt:a,vv:a,"12chars":i,ibxos:i,iliadboxos:i,neen:[0,{jc:i}],"123homepage":i,"16-b":i,"32-b":i,"64-b":i,myspreadshop:i,syncloud:i}],je:[1,{co:a,net:a,org:a,of:i}],jm:S,jo:[1,{agri:a,ai:a,com:a,edu:a,eng:a,fm:a,gov:a,mil:a,net:a,org:a,per:a,phd:a,sch:a,tv:a}],jobs:a,jp:[1,{ac:a,ad:a,co:a,ed:a,go:a,gr:a,lg:a,ne:[1,{aseinet:Z,gehirn:i,ivory:i,"mail-box":i,mints:i,mokuren:i,opal:i,sakura:i,sumomo:i,topaz:i}],or:a,aichi:[1,{aisai:a,ama:a,anjo:a,asuke:a,chiryu:a,chita:a,fuso:a,gamagori:a,handa:a,hazu:a,hekinan:a,higashiura:a,ichinomiya:a,inazawa:a,inuyama:a,isshiki:a,iwakura:a,kanie:a,kariya:a,kasugai:a,kira:a,kiyosu:a,komaki:a,konan:a,kota:a,mihama:a,miyoshi:a,nishio:a,nisshin:a,obu:a,oguchi:a,oharu:a,okazaki:a,owariasahi:a,seto:a,shikatsu:a,shinshiro:a,shitara:a,tahara:a,takahama:a,tobishima:a,toei:a,togo:a,tokai:a,tokoname:a,toyoake:a,toyohashi:a,toyokawa:a,toyone:a,toyota:a,tsushima:a,yatomi:a}],akita:[1,{akita:a,daisen:a,fujisato:a,gojome:a,hachirogata:a,happou:a,higashinaruse:a,honjo:a,honjyo:a,ikawa:a,kamikoani:a,kamioka:a,katagami:a,kazuno:a,kitaakita:a,kosaka:a,kyowa:a,misato:a,mitane:a,moriyoshi:a,nikaho:a,noshiro:a,odate:a,oga:a,ogata:a,semboku:a,yokote:a,yurihonjo:a}],aomori:[1,{aomori:a,gonohe:a,hachinohe:a,hashikami:a,hiranai:a,hirosaki:a,itayanagi:a,kuroishi:a,misawa:a,mutsu:a,nakadomari:a,noheji:a,oirase:a,owani:a,rokunohe:a,sannohe:a,shichinohe:a,shingo:a,takko:a,towada:a,tsugaru:a,tsuruta:a}],chiba:[1,{abiko:a,asahi:a,chonan:a,chosei:a,choshi:a,chuo:a,funabashi:a,futtsu:a,hanamigawa:a,ichihara:a,ichikawa:a,ichinomiya:a,inzai:a,isumi:a,kamagaya:a,kamogawa:a,kashiwa:a,katori:a,katsuura:a,kimitsu:a,kisarazu:a,kozaki:a,kujukuri:a,kyonan:a,matsudo:a,midori:a,mihama:a,minamiboso:a,mobara:a,mutsuzawa:a,nagara:a,nagareyama:a,narashino:a,narita:a,noda:a,oamishirasato:a,omigawa:a,onjuku:a,otaki:a,sakae:a,sakura:a,shimofusa:a,shirako:a,shiroi:a,shisui:a,sodegaura:a,sosa:a,tako:a,tateyama:a,togane:a,tohnosho:a,tomisato:a,urayasu:a,yachimata:a,yachiyo:a,yokaichiba:a,yokoshibahikari:a,yotsukaido:a}],ehime:[1,{ainan:a,honai:a,ikata:a,imabari:a,iyo:a,kamijima:a,kihoku:a,kumakogen:a,masaki:a,matsuno:a,matsuyama:a,namikata:a,niihama:a,ozu:a,saijo:a,seiyo:a,shikokuchuo:a,tobe:a,toon:a,uchiko:a,uwajima:a,yawatahama:a}],fukui:[1,{echizen:a,eiheiji:a,fukui:a,ikeda:a,katsuyama:a,mihama:a,minamiechizen:a,obama:a,ohi:a,ono:a,sabae:a,sakai:a,takahama:a,tsuruga:a,wakasa:a}],fukuoka:[1,{ashiya:a,buzen:a,chikugo:a,chikuho:a,chikujo:a,chikushino:a,chikuzen:a,chuo:a,dazaifu:a,fukuchi:a,hakata:a,higashi:a,hirokawa:a,hisayama:a,iizuka:a,inatsuki:a,kaho:a,kasuga:a,kasuya:a,kawara:a,keisen:a,koga:a,kurate:a,kurogi:a,kurume:a,minami:a,miyako:a,miyama:a,miyawaka:a,mizumaki:a,munakata:a,nakagawa:a,nakama:a,nishi:a,nogata:a,ogori:a,okagaki:a,okawa:a,oki:a,omuta:a,onga:a,onojo:a,oto:a,saigawa:a,sasaguri:a,shingu:a,shinyoshitomi:a,shonai:a,soeda:a,sue:a,tachiarai:a,tagawa:a,takata:a,toho:a,toyotsu:a,tsuiki:a,ukiha:a,umi:a,usui:a,yamada:a,yame:a,yanagawa:a,yukuhashi:a}],fukushima:[1,{aizubange:a,aizumisato:a,aizuwakamatsu:a,asakawa:a,bandai:a,date:a,fukushima:a,furudono:a,futaba:a,hanawa:a,higashi:a,hirata:a,hirono:a,iitate:a,inawashiro:a,ishikawa:a,iwaki:a,izumizaki:a,kagamiishi:a,kaneyama:a,kawamata:a,kitakata:a,kitashiobara:a,koori:a,koriyama:a,kunimi:a,miharu:a,mishima:a,namie:a,nango:a,nishiaizu:a,nishigo:a,okuma:a,omotego:a,ono:a,otama:a,samegawa:a,shimogo:a,shirakawa:a,showa:a,soma:a,sukagawa:a,taishin:a,tamakawa:a,tanagura:a,tenei:a,yabuki:a,yamato:a,yamatsuri:a,yanaizu:a,yugawa:a}],gifu:[1,{anpachi:a,ena:a,gifu:a,ginan:a,godo:a,gujo:a,hashima:a,hichiso:a,hida:a,higashishirakawa:a,ibigawa:a,ikeda:a,kakamigahara:a,kani:a,kasahara:a,kasamatsu:a,kawaue:a,kitagata:a,mino:a,minokamo:a,mitake:a,mizunami:a,motosu:a,nakatsugawa:a,ogaki:a,sakahogi:a,seki:a,sekigahara:a,shirakawa:a,tajimi:a,takayama:a,tarui:a,toki:a,tomika:a,wanouchi:a,yamagata:a,yaotsu:a,yoro:a}],gunma:[1,{annaka:a,chiyoda:a,fujioka:a,higashiagatsuma:a,isesaki:a,itakura:a,kanna:a,kanra:a,katashina:a,kawaba:a,kiryu:a,kusatsu:a,maebashi:a,meiwa:a,midori:a,minakami:a,naganohara:a,nakanojo:a,nanmoku:a,numata:a,oizumi:a,ora:a,ota:a,shibukawa:a,shimonita:a,shinto:a,showa:a,takasaki:a,takayama:a,tamamura:a,tatebayashi:a,tomioka:a,tsukiyono:a,tsumagoi:a,ueno:a,yoshioka:a}],hiroshima:[1,{asaminami:a,daiwa:a,etajima:a,fuchu:a,fukuyama:a,hatsukaichi:a,higashihiroshima:a,hongo:a,jinsekikogen:a,kaita:a,kui:a,kumano:a,kure:a,mihara:a,miyoshi:a,naka:a,onomichi:a,osakikamijima:a,otake:a,saka:a,sera:a,seranishi:a,shinichi:a,shobara:a,takehara:a}],hokkaido:[1,{abashiri:a,abira:a,aibetsu:a,akabira:a,akkeshi:a,asahikawa:a,ashibetsu:a,ashoro:a,assabu:a,atsuma:a,bibai:a,biei:a,bifuka:a,bihoro:a,biratori:a,chippubetsu:a,chitose:a,date:a,ebetsu:a,embetsu:a,eniwa:a,erimo:a,esan:a,esashi:a,fukagawa:a,fukushima:a,furano:a,furubira:a,haboro:a,hakodate:a,hamatonbetsu:a,hidaka:a,higashikagura:a,higashikawa:a,hiroo:a,hokuryu:a,hokuto:a,honbetsu:a,horokanai:a,horonobe:a,ikeda:a,imakane:a,ishikari:a,iwamizawa:a,iwanai:a,kamifurano:a,kamikawa:a,kamishihoro:a,kamisunagawa:a,kamoenai:a,kayabe:a,kembuchi:a,kikonai:a,kimobetsu:a,kitahiroshima:a,kitami:a,kiyosato:a,koshimizu:a,kunneppu:a,kuriyama:a,kuromatsunai:a,kushiro:a,kutchan:a,kyowa:a,mashike:a,matsumae:a,mikasa:a,minamifurano:a,mombetsu:a,moseushi:a,mukawa:a,muroran:a,naie:a,nakagawa:a,nakasatsunai:a,nakatombetsu:a,nanae:a,nanporo:a,nayoro:a,nemuro:a,niikappu:a,niki:a,nishiokoppe:a,noboribetsu:a,numata:a,obihiro:a,obira:a,oketo:a,okoppe:a,otaru:a,otobe:a,otofuke:a,otoineppu:a,oumu:a,ozora:a,pippu:a,rankoshi:a,rebun:a,rikubetsu:a,rishiri:a,rishirifuji:a,saroma:a,sarufutsu:a,shakotan:a,shari:a,shibecha:a,shibetsu:a,shikabe:a,shikaoi:a,shimamaki:a,shimizu:a,shimokawa:a,shinshinotsu:a,shintoku:a,shiranuka:a,shiraoi:a,shiriuchi:a,sobetsu:a,sunagawa:a,taiki:a,takasu:a,takikawa:a,takinoue:a,teshikaga:a,tobetsu:a,tohma:a,tomakomai:a,tomari:a,toya:a,toyako:a,toyotomi:a,toyoura:a,tsubetsu:a,tsukigata:a,urakawa:a,urausu:a,uryu:a,utashinai:a,wakkanai:a,wassamu:a,yakumo:a,yoichi:a}],hyogo:[1,{aioi:a,akashi:a,ako:a,amagasaki:a,aogaki:a,asago:a,ashiya:a,awaji:a,fukusaki:a,goshiki:a,harima:a,himeji:a,ichikawa:a,inagawa:a,itami:a,kakogawa:a,kamigori:a,kamikawa:a,kasai:a,kasuga:a,kawanishi:a,miki:a,minamiawaji:a,nishinomiya:a,nishiwaki:a,ono:a,sanda:a,sannan:a,sasayama:a,sayo:a,shingu:a,shinonsen:a,shiso:a,sumoto:a,taishi:a,taka:a,takarazuka:a,takasago:a,takino:a,tamba:a,tatsuno:a,toyooka:a,yabu:a,yashiro:a,yoka:a,yokawa:a}],ibaraki:[1,{ami:a,asahi:a,bando:a,chikusei:a,daigo:a,fujishiro:a,hitachi:a,hitachinaka:a,hitachiomiya:a,hitachiota:a,ibaraki:a,ina:a,inashiki:a,itako:a,iwama:a,joso:a,kamisu:a,kasama:a,kashima:a,kasumigaura:a,koga:a,miho:a,mito:a,moriya:a,naka:a,namegata:a,oarai:a,ogawa:a,omitama:a,ryugasaki:a,sakai:a,sakuragawa:a,shimodate:a,shimotsuma:a,shirosato:a,sowa:a,suifu:a,takahagi:a,tamatsukuri:a,tokai:a,tomobe:a,tone:a,toride:a,tsuchiura:a,tsukuba:a,uchihara:a,ushiku:a,yachiyo:a,yamagata:a,yawara:a,yuki:a}],ishikawa:[1,{anamizu:a,hakui:a,hakusan:a,kaga:a,kahoku:a,kanazawa:a,kawakita:a,komatsu:a,nakanoto:a,nanao:a,nomi:a,nonoichi:a,noto:a,shika:a,suzu:a,tsubata:a,tsurugi:a,uchinada:a,wajima:a}],iwate:[1,{fudai:a,fujisawa:a,hanamaki:a,hiraizumi:a,hirono:a,ichinohe:a,ichinoseki:a,iwaizumi:a,iwate:a,joboji:a,kamaishi:a,kanegasaki:a,karumai:a,kawai:a,kitakami:a,kuji:a,kunohe:a,kuzumaki:a,miyako:a,mizusawa:a,morioka:a,ninohe:a,noda:a,ofunato:a,oshu:a,otsuchi:a,rikuzentakata:a,shiwa:a,shizukuishi:a,sumita:a,tanohata:a,tono:a,yahaba:a,yamada:a}],kagawa:[1,{ayagawa:a,higashikagawa:a,kanonji:a,kotohira:a,manno:a,marugame:a,mitoyo:a,naoshima:a,sanuki:a,tadotsu:a,takamatsu:a,tonosho:a,uchinomi:a,utazu:a,zentsuji:a}],kagoshima:[1,{akune:a,amami:a,hioki:a,isa:a,isen:a,izumi:a,kagoshima:a,kanoya:a,kawanabe:a,kinko:a,kouyama:a,makurazaki:a,matsumoto:a,minamitane:a,nakatane:a,nishinoomote:a,satsumasendai:a,soo:a,tarumizu:a,yusui:a}],kanagawa:[1,{aikawa:a,atsugi:a,ayase:a,chigasaki:a,ebina:a,fujisawa:a,hadano:a,hakone:a,hiratsuka:a,isehara:a,kaisei:a,kamakura:a,kiyokawa:a,matsuda:a,minamiashigara:a,miura:a,nakai:a,ninomiya:a,odawara:a,oi:a,oiso:a,sagamihara:a,samukawa:a,tsukui:a,yamakita:a,yamato:a,yokosuka:a,yugawara:a,zama:a,zushi:a}],kochi:[1,{aki:a,geisei:a,hidaka:a,higashitsuno:a,ino:a,kagami:a,kami:a,kitagawa:a,kochi:a,mihara:a,motoyama:a,muroto:a,nahari:a,nakamura:a,nankoku:a,nishitosa:a,niyodogawa:a,ochi:a,okawa:a,otoyo:a,otsuki:a,sakawa:a,sukumo:a,susaki:a,tosa:a,tosashimizu:a,toyo:a,tsuno:a,umaji:a,yasuda:a,yusuhara:a}],kumamoto:[1,{amakusa:a,arao:a,aso:a,choyo:a,gyokuto:a,kamiamakusa:a,kikuchi:a,kumamoto:a,mashiki:a,mifune:a,minamata:a,minamioguni:a,nagasu:a,nishihara:a,oguni:a,ozu:a,sumoto:a,takamori:a,uki:a,uto:a,yamaga:a,yamato:a,yatsushiro:a}],kyoto:[1,{ayabe:a,fukuchiyama:a,higashiyama:a,ide:a,ine:a,joyo:a,kameoka:a,kamo:a,kita:a,kizu:a,kumiyama:a,kyotamba:a,kyotanabe:a,kyotango:a,maizuru:a,minami:a,minamiyamashiro:a,miyazu:a,muko:a,nagaokakyo:a,nakagyo:a,nantan:a,oyamazaki:a,sakyo:a,seika:a,tanabe:a,uji:a,ujitawara:a,wazuka:a,yamashina:a,yawata:a}],mie:[1,{asahi:a,inabe:a,ise:a,kameyama:a,kawagoe:a,kiho:a,kisosaki:a,kiwa:a,komono:a,kumano:a,kuwana:a,matsusaka:a,meiwa:a,mihama:a,minamiise:a,misugi:a,miyama:a,nabari:a,shima:a,suzuka:a,tado:a,taiki:a,taki:a,tamaki:a,toba:a,tsu:a,udono:a,ureshino:a,watarai:a,yokkaichi:a}],miyagi:[1,{furukawa:a,higashimatsushima:a,ishinomaki:a,iwanuma:a,kakuda:a,kami:a,kawasaki:a,marumori:a,matsushima:a,minamisanriku:a,misato:a,murata:a,natori:a,ogawara:a,ohira:a,onagawa:a,osaki:a,rifu:a,semine:a,shibata:a,shichikashuku:a,shikama:a,shiogama:a,shiroishi:a,tagajo:a,taiwa:a,tome:a,tomiya:a,wakuya:a,watari:a,yamamoto:a,zao:a}],miyazaki:[1,{aya:a,ebino:a,gokase:a,hyuga:a,kadogawa:a,kawaminami:a,kijo:a,kitagawa:a,kitakata:a,kitaura:a,kobayashi:a,kunitomi:a,kushima:a,mimata:a,miyakonojo:a,miyazaki:a,morotsuka:a,nichinan:a,nishimera:a,nobeoka:a,saito:a,shiiba:a,shintomi:a,takaharu:a,takanabe:a,takazaki:a,tsuno:a}],nagano:[1,{achi:a,agematsu:a,anan:a,aoki:a,asahi:a,azumino:a,chikuhoku:a,chikuma:a,chino:a,fujimi:a,hakuba:a,hara:a,hiraya:a,iida:a,iijima:a,iiyama:a,iizuna:a,ikeda:a,ikusaka:a,ina:a,karuizawa:a,kawakami:a,kiso:a,kisofukushima:a,kitaaiki:a,komagane:a,komoro:a,matsukawa:a,matsumoto:a,miasa:a,minamiaiki:a,minamimaki:a,minamiminowa:a,minowa:a,miyada:a,miyota:a,mochizuki:a,nagano:a,nagawa:a,nagiso:a,nakagawa:a,nakano:a,nozawaonsen:a,obuse:a,ogawa:a,okaya:a,omachi:a,omi:a,ookuwa:a,ooshika:a,otaki:a,otari:a,sakae:a,sakaki:a,saku:a,sakuho:a,shimosuwa:a,shinanomachi:a,shiojiri:a,suwa:a,suzaka:a,takagi:a,takamori:a,takayama:a,tateshina:a,tatsuno:a,togakushi:a,togura:a,tomi:a,ueda:a,wada:a,yamagata:a,yamanouchi:a,yasaka:a,yasuoka:a}],nagasaki:[1,{chijiwa:a,futsu:a,goto:a,hasami:a,hirado:a,iki:a,isahaya:a,kawatana:a,kuchinotsu:a,matsuura:a,nagasaki:a,obama:a,omura:a,oseto:a,saikai:a,sasebo:a,seihi:a,shimabara:a,shinkamigoto:a,togitsu:a,tsushima:a,unzen:a}],nara:[1,{ando:a,gose:a,heguri:a,higashiyoshino:a,ikaruga:a,ikoma:a,kamikitayama:a,kanmaki:a,kashiba:a,kashihara:a,katsuragi:a,kawai:a,kawakami:a,kawanishi:a,koryo:a,kurotaki:a,mitsue:a,miyake:a,nara:a,nosegawa:a,oji:a,ouda:a,oyodo:a,sakurai:a,sango:a,shimoichi:a,shimokitayama:a,shinjo:a,soni:a,takatori:a,tawaramoto:a,tenkawa:a,tenri:a,uda:a,yamatokoriyama:a,yamatotakada:a,yamazoe:a,yoshino:a}],niigata:[1,{aga:a,agano:a,gosen:a,itoigawa:a,izumozaki:a,joetsu:a,kamo:a,kariwa:a,kashiwazaki:a,minamiuonuma:a,mitsuke:a,muika:a,murakami:a,myoko:a,nagaoka:a,niigata:a,ojiya:a,omi:a,sado:a,sanjo:a,seiro:a,seirou:a,sekikawa:a,shibata:a,tagami:a,tainai:a,tochio:a,tokamachi:a,tsubame:a,tsunan:a,uonuma:a,yahiko:a,yoita:a,yuzawa:a}],oita:[1,{beppu:a,bungoono:a,bungotakada:a,hasama:a,hiji:a,himeshima:a,hita:a,kamitsue:a,kokonoe:a,kuju:a,kunisaki:a,kusu:a,oita:a,saiki:a,taketa:a,tsukumi:a,usa:a,usuki:a,yufu:a}],okayama:[1,{akaiwa:a,asakuchi:a,bizen:a,hayashima:a,ibara:a,kagamino:a,kasaoka:a,kibichuo:a,kumenan:a,kurashiki:a,maniwa:a,misaki:a,nagi:a,niimi:a,nishiawakura:a,okayama:a,satosho:a,setouchi:a,shinjo:a,shoo:a,soja:a,takahashi:a,tamano:a,tsuyama:a,wake:a,yakage:a}],okinawa:[1,{aguni:a,ginowan:a,ginoza:a,gushikami:a,haebaru:a,higashi:a,hirara:a,iheya:a,ishigaki:a,ishikawa:a,itoman:a,izena:a,kadena:a,kin:a,kitadaito:a,kitanakagusuku:a,kumejima:a,kunigami:a,minamidaito:a,motobu:a,nago:a,naha:a,nakagusuku:a,nakijin:a,nanjo:a,nishihara:a,ogimi:a,okinawa:a,onna:a,shimoji:a,taketomi:a,tarama:a,tokashiki:a,tomigusuku:a,tonaki:a,urasoe:a,uruma:a,yaese:a,yomitan:a,yonabaru:a,yonaguni:a,zamami:a}],osaka:[1,{abeno:a,chihayaakasaka:a,chuo:a,daito:a,fujiidera:a,habikino:a,hannan:a,higashiosaka:a,higashisumiyoshi:a,higashiyodogawa:a,hirakata:a,ibaraki:a,ikeda:a,izumi:a,izumiotsu:a,izumisano:a,kadoma:a,kaizuka:a,kanan:a,kashiwara:a,katano:a,kawachinagano:a,kishiwada:a,kita:a,kumatori:a,matsubara:a,minato:a,minoh:a,misaki:a,moriguchi:a,neyagawa:a,nishi:a,nose:a,osakasayama:a,sakai:a,sayama:a,sennan:a,settsu:a,shijonawate:a,shimamoto:a,suita:a,tadaoka:a,taishi:a,tajiri:a,takaishi:a,takatsuki:a,tondabayashi:a,toyonaka:a,toyono:a,yao:a}],saga:[1,{ariake:a,arita:a,fukudomi:a,genkai:a,hamatama:a,hizen:a,imari:a,kamimine:a,kanzaki:a,karatsu:a,kashima:a,kitagata:a,kitahata:a,kiyama:a,kouhoku:a,kyuragi:a,nishiarita:a,ogi:a,omachi:a,ouchi:a,saga:a,shiroishi:a,taku:a,tara:a,tosu:a,yoshinogari:a}],saitama:[1,{arakawa:a,asaka:a,chichibu:a,fujimi:a,fujimino:a,fukaya:a,hanno:a,hanyu:a,hasuda:a,hatogaya:a,hatoyama:a,hidaka:a,higashichichibu:a,higashimatsuyama:a,honjo:a,ina:a,iruma:a,iwatsuki:a,kamiizumi:a,kamikawa:a,kamisato:a,kasukabe:a,kawagoe:a,kawaguchi:a,kawajima:a,kazo:a,kitamoto:a,koshigaya:a,kounosu:a,kuki:a,kumagaya:a,matsubushi:a,minano:a,misato:a,miyashiro:a,miyoshi:a,moroyama:a,nagatoro:a,namegawa:a,niiza:a,ogano:a,ogawa:a,ogose:a,okegawa:a,omiya:a,otaki:a,ranzan:a,ryokami:a,saitama:a,sakado:a,satte:a,sayama:a,shiki:a,shiraoka:a,soka:a,sugito:a,toda:a,tokigawa:a,tokorozawa:a,tsurugashima:a,urawa:a,warabi:a,yashio:a,yokoze:a,yono:a,yorii:a,yoshida:a,yoshikawa:a,yoshimi:a}],shiga:[1,{aisho:a,gamo:a,higashiomi:a,hikone:a,koka:a,konan:a,kosei:a,koto:a,kusatsu:a,maibara:a,moriyama:a,nagahama:a,nishiazai:a,notogawa:a,omihachiman:a,otsu:a,ritto:a,ryuoh:a,takashima:a,takatsuki:a,torahime:a,toyosato:a,yasu:a}],shimane:[1,{akagi:a,ama:a,gotsu:a,hamada:a,higashiizumo:a,hikawa:a,hikimi:a,izumo:a,kakinoki:a,masuda:a,matsue:a,misato:a,nishinoshima:a,ohda:a,okinoshima:a,okuizumo:a,shimane:a,tamayu:a,tsuwano:a,unnan:a,yakumo:a,yasugi:a,yatsuka:a}],shizuoka:[1,{arai:a,atami:a,fuji:a,fujieda:a,fujikawa:a,fujinomiya:a,fukuroi:a,gotemba:a,haibara:a,hamamatsu:a,higashiizu:a,ito:a,iwata:a,izu:a,izunokuni:a,kakegawa:a,kannami:a,kawanehon:a,kawazu:a,kikugawa:a,kosai:a,makinohara:a,matsuzaki:a,minamiizu:a,mishima:a,morimachi:a,nishiizu:a,numazu:a,omaezaki:a,shimada:a,shimizu:a,shimoda:a,shizuoka:a,susono:a,yaizu:a,yoshida:a}],tochigi:[1,{ashikaga:a,bato:a,haga:a,ichikai:a,iwafune:a,kaminokawa:a,kanuma:a,karasuyama:a,kuroiso:a,mashiko:a,mibu:a,moka:a,motegi:a,nasu:a,nasushiobara:a,nikko:a,nishikata:a,nogi:a,ohira:a,ohtawara:a,oyama:a,sakura:a,sano:a,shimotsuke:a,shioya:a,takanezawa:a,tochigi:a,tsuga:a,ujiie:a,utsunomiya:a,yaita:a}],tokushima:[1,{aizumi:a,anan:a,ichiba:a,itano:a,kainan:a,komatsushima:a,matsushige:a,mima:a,minami:a,miyoshi:a,mugi:a,nakagawa:a,naruto:a,sanagochi:a,shishikui:a,tokushima:a,wajiki:a}],tokyo:[1,{adachi:a,akiruno:a,akishima:a,aogashima:a,arakawa:a,bunkyo:a,chiyoda:a,chofu:a,chuo:a,edogawa:a,fuchu:a,fussa:a,hachijo:a,hachioji:a,hamura:a,higashikurume:a,higashimurayama:a,higashiyamato:a,hino:a,hinode:a,hinohara:a,inagi:a,itabashi:a,katsushika:a,kita:a,kiyose:a,kodaira:a,koganei:a,kokubunji:a,komae:a,koto:a,kouzushima:a,kunitachi:a,machida:a,meguro:a,minato:a,mitaka:a,mizuho:a,musashimurayama:a,musashino:a,nakano:a,nerima:a,ogasawara:a,okutama:a,ome:a,oshima:a,ota:a,setagaya:a,shibuya:a,shinagawa:a,shinjuku:a,suginami:a,sumida:a,tachikawa:a,taito:a,tama:a,toshima:a}],tottori:[1,{chizu:a,hino:a,kawahara:a,koge:a,kotoura:a,misasa:a,nanbu:a,nichinan:a,sakaiminato:a,tottori:a,wakasa:a,yazu:a,yonago:a}],toyama:[1,{asahi:a,fuchu:a,fukumitsu:a,funahashi:a,himi:a,imizu:a,inami:a,johana:a,kamiichi:a,kurobe:a,nakaniikawa:a,namerikawa:a,nanto:a,nyuzen:a,oyabe:a,taira:a,takaoka:a,tateyama:a,toga:a,tonami:a,toyama:a,unazuki:a,uozu:a,yamada:a}],wakayama:[1,{arida:a,aridagawa:a,gobo:a,hashimoto:a,hidaka:a,hirogawa:a,inami:a,iwade:a,kainan:a,kamitonda:a,katsuragi:a,kimino:a,kinokawa:a,kitayama:a,koya:a,koza:a,kozagawa:a,kudoyama:a,kushimoto:a,mihama:a,misato:a,nachikatsuura:a,shingu:a,shirahama:a,taiji:a,tanabe:a,wakayama:a,yuasa:a,yura:a}],yamagata:[1,{asahi:a,funagata:a,higashine:a,iide:a,kahoku:a,kaminoyama:a,kaneyama:a,kawanishi:a,mamurogawa:a,mikawa:a,murayama:a,nagai:a,nakayama:a,nanyo:a,nishikawa:a,obanazawa:a,oe:a,oguni:a,ohkura:a,oishida:a,sagae:a,sakata:a,sakegawa:a,shinjo:a,shirataka:a,shonai:a,takahata:a,tendo:a,tozawa:a,tsuruoka:a,yamagata:a,yamanobe:a,yonezawa:a,yuza:a}],yamaguchi:[1,{abu:a,hagi:a,hikari:a,hofu:a,iwakuni:a,kudamatsu:a,mitou:a,nagato:a,oshima:a,shimonoseki:a,shunan:a,tabuse:a,tokuyama:a,toyota:a,ube:a,yuu:a}],yamanashi:[1,{chuo:a,doshi:a,fuefuki:a,fujikawa:a,fujikawaguchiko:a,fujiyoshida:a,hayakawa:a,hokuto:a,ichikawamisato:a,kai:a,kofu:a,koshu:a,kosuge:a,"minami-alps":a,minobu:a,nakamichi:a,nanbu:a,narusawa:a,nirasaki:a,nishikatsura:a,oshino:a,otsuki:a,showa:a,tabayama:a,tsuru:a,uenohara:a,yamanakako:a,yamanashi:a}],"xn--ehqz56n":a,:a,"xn--1lqs03n":a,:a,"xn--qqqt11m":a,:a,"xn--f6qx53a":a,:a,"xn--djrs72d6uy":a,:a,"xn--mkru45i":a,:a,"xn--0trq7p7nn":a,:a,"xn--5js045d":a,:a,"xn--kbrq7o":a,:a,"xn--pssu33l":a,:a,"xn--ntsq17g":a,:a,"xn--uisz3g":a,:a,"xn--6btw5a":a,:a,"xn--1ctwo":a,:a,"xn--6orx2r":a,:a,"xn--rht61e":a,:a,"xn--rht27z":a,:a,"xn--nit225k":a,:a,"xn--rht3d":a,:a,"xn--djty4k":a,:a,"xn--klty5x":a,:a,"xn--kltx9a":a,:a,"xn--kltp7d":a,:a,"xn--c3s14m":a,:a,"xn--vgu402c":a,:a,"xn--efvn9s":a,:a,"xn--1lqs71d":a,:a,"xn--4pvxs":a,:a,"xn--uuwu58a":a,:a,"xn--zbx025d":a,:a,"xn--8pvr4u":a,:a,"xn--5rtp49c":a,:a,"xn--ntso0iqx3a":a,:a,"xn--elqq16h":a,:a,"xn--4it168d":a,:a,"xn--klt787d":a,:a,"xn--rny31h":a,:a,"xn--7t0a264c":a,:a,"xn--uist22h":a,:a,"xn--8ltr62k":a,:a,"xn--2m4a15e":a,:a,"xn--32vp30h":a,:a,"xn--4it797k":a,:a,"xn--5rtq34k":a,:a,"xn--k7yn95e":a,:a,"xn--tor131o":a,:a,"xn--d5qv7z876c":a,:a,kawasaki:S,kitakyushu:S,kobe:S,nagoya:S,sapporo:S,sendai:S,yokohama:S,buyshop:i,fashionstore:i,handcrafted:i,kawaiishop:i,supersale:i,theshop:i,"0am":i,"0g0":i,"0j0":i,"0t0":i,mydns:i,pgw:i,wjg:i,usercontent:i,angry:i,babyblue:i,babymilk:i,backdrop:i,bambina:i,bitter:i,blush:i,boo:i,boy:i,boyfriend:i,but:i,candypop:i,capoo:i,catfood:i,cheap:i,chicappa:i,chillout:i,chips:i,chowder:i,chu:i,ciao:i,cocotte:i,coolblog:i,cranky:i,cutegirl:i,daa:i,deca:i,deci:i,digick:i,egoism:i,fakefur:i,fem:i,flier:i,floppy:i,fool:i,frenchkiss:i,girlfriend:i,girly:i,gloomy:i,gonna:i,greater:i,hacca:i,heavy:i,her:i,hiho:i,hippy:i,holy:i,hungry:i,icurus:i,itigo:i,jellybean:i,kikirara:i,kill:i,kilo:i,kuron:i,littlestar:i,lolipopmc:i,lolitapunk:i,lomo:i,lovepop:i,lovesick:i,main:i,mods:i,mond:i,mongolian:i,moo:i,namaste:i,nikita:i,nobushi:i,noor:i,oops:i,parallel:i,parasite:i,pecori:i,peewee:i,penne:i,pepper:i,perma:i,pigboat:i,pinoko:i,punyu:i,pupu:i,pussycat:i,pya:i,raindrop:i,readymade:i,sadist:i,schoolbus:i,secret:i,staba:i,stripper:i,sub:i,sunnyday:i,thick:i,tonkotsu:i,under:i,upper:i,velvet:i,verse:i,versus:i,vivian:i,watson:i,weblike:i,whitesnow:i,zombie:i,hateblo:i,hatenablog:i,hatenadiary:i,"2-d":i,bona:i,crap:i,daynight:i,eek:i,flop:i,halfmoon:i,jeez:i,matrix:i,mimoza:i,netgamers:i,nyanta:i,o0o0:i,rdy:i,rgr:i,rulez:i,sakurastorage:[0,{isk01:er,isk02:er}],saloon:i,sblo:i,skr:i,tank:i,"uh-oh":i,undo:i,webaccel:[0,{rs:i,user:i}],websozai:i,xii:i}],ke:[1,{ac:a,co:a,go:a,info:a,me:a,mobi:a,ne:a,or:a,sc:a}],kg:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,us:i,xx:i}],kh:S,ki:ea,km:[1,{ass:a,com:a,edu:a,gov:a,mil:a,nom:a,org:a,prd:a,tm:a,asso:a,coop:a,gouv:a,medecin:a,notaires:a,pharmaciens:a,presse:a,veterinaire:a}],kn:[1,{edu:a,gov:a,net:a,org:a}],kp:[1,{com:a,edu:a,gov:a,org:a,rep:a,tra:a}],kr:[1,{ac:a,ai:a,co:a,es:a,go:a,hs:a,io:a,it:a,kg:a,me:a,mil:a,ms:a,ne:a,or:a,pe:a,re:a,sc:a,busan:a,chungbuk:a,chungnam:a,daegu:a,daejeon:a,gangwon:a,gwangju:a,gyeongbuk:a,gyeonggi:a,gyeongnam:a,incheon:a,jeju:a,jeonbuk:a,jeonnam:a,seoul:a,ulsan:a,c01:i,"eliv-cdn":i,"eliv-dns":i,mmv:i,vki:i}],kw:[1,{com:a,edu:a,emb:a,gov:a,ind:a,net:a,org:a}],ky:V,kz:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,jcloud:i}],la:[1,{com:a,edu:a,gov:a,info:a,int:a,net:a,org:a,per:a,bnr:i}],lb:n,lc:[1,{co:a,com:a,edu:a,gov:a,net:a,org:a,oy:i}],li:a,lk:[1,{ac:a,assn:a,com:a,edu:a,gov:a,grp:a,hotel:a,int:a,ltd:a,net:a,ngo:a,org:a,sch:a,soc:a,web:a}],lr:n,ls:[1,{ac:a,biz:a,co:a,edu:a,gov:a,info:a,net:a,org:a,sc:a}],lt:d,lu:[1,{"123website":i}],lv:[1,{asn:a,com:a,conf:a,edu:a,gov:a,id:a,mil:a,net:a,org:a}],ly:[1,{com:a,edu:a,gov:a,id:a,med:a,net:a,org:a,plc:a,sch:a}],ma:[1,{ac:a,co:a,gov:a,net:a,org:a,press:a}],mc:[1,{asso:a,tm:a}],md:[1,{ir:i}],me:[1,{ac:a,co:a,edu:a,gov:a,its:a,net:a,org:a,priv:a,c66:i,craft:i,edgestack:i,filegear:i,glitch:i,"filegear-sg":i,lohmus:i,barsy:i,mcdir:i,brasilia:i,ddns:i,dnsfor:i,hopto:i,loginto:i,noip:i,webhop:i,soundcast:i,tcp4:i,vp4:i,diskstation:i,dscloud:i,i234:i,myds:i,synology:i,transip:$,nohost:i}],mg:[1,{co:a,com:a,edu:a,gov:a,mil:a,nom:a,org:a,prd:a}],mh:a,mil:a,mk:[1,{com:a,edu:a,gov:a,inf:a,name:a,net:a,org:a}],ml:[1,{ac:a,art:a,asso:a,com:a,edu:a,gouv:a,gov:a,info:a,inst:a,net:a,org:a,pr:a,presse:a}],mm:S,mn:[1,{edu:a,gov:a,org:a,nyc:i}],mo:n,mobi:[1,{barsy:i,dscloud:i}],mp:[1,{ju:i}],mq:a,mr:d,ms:[1,{com:a,edu:a,gov:a,net:a,org:a,minisite:i}],mt:V,mu:[1,{ac:a,co:a,com:a,gov:a,net:a,or:a,org:a}],museum:a,mv:[1,{aero:a,biz:a,com:a,coop:a,edu:a,gov:a,info:a,int:a,mil:a,museum:a,name:a,net:a,org:a,pro:a}],mw:[1,{ac:a,biz:a,co:a,com:a,coop:a,edu:a,gov:a,int:a,net:a,org:a}],mx:[1,{com:a,edu:a,gob:a,net:a,org:a}],my:[1,{biz:a,com:a,edu:a,gov:a,mil:a,name:a,net:a,org:a}],mz:[1,{ac:a,adv:a,co:a,edu:a,gov:a,mil:a,net:a,org:a}],na:[1,{alt:a,co:a,com:a,gov:a,net:a,org:a}],name:[1,{her:es,his:es}],nc:[1,{asso:a,nom:a}],ne:a,net:[1,{adobeaemcloud:i,"adobeio-static":i,adobeioruntime:i,akadns:i,akamai:i,"akamai-staging":i,akamaiedge:i,"akamaiedge-staging":i,akamaihd:i,"akamaihd-staging":i,akamaiorigin:i,"akamaiorigin-staging":i,akamaized:i,"akamaized-staging":i,edgekey:i,"edgekey-staging":i,edgesuite:i,"edgesuite-staging":i,alwaysdata:i,myamaze:i,cloudfront:i,appudo:i,"atlassian-dev":[0,{prod:Y}],myfritz:i,onavstack:i,shopselect:i,blackbaudcdn:i,boomla:i,bplaced:i,square7:i,cdn77:[0,{r:i}],"cdn77-ssl":i,gb:i,hu:i,jp:i,se:i,uk:i,clickrising:i,"ddns-ip":i,"dns-cloud":i,"dns-dynamic":i,cloudaccess:i,cloudflare:[2,{cdn:i}],cloudflareanycast:Y,cloudflarecn:Y,cloudflareglobal:Y,ctfcloud:i,"feste-ip":i,"knx-server":i,"static-access":i,cryptonomic:o,dattolocal:i,mydatto:i,debian:i,definima:i,deno:i,"at-band-camp":i,blogdns:i,"broke-it":i,buyshouses:i,dnsalias:i,dnsdojo:i,"does-it":i,dontexist:i,dynalias:i,dynathome:i,endofinternet:i,"from-az":i,"from-co":i,"from-la":i,"from-ny":i,"gets-it":i,"ham-radio-op":i,homeftp:i,homeip:i,homelinux:i,homeunix:i,"in-the-band":i,"is-a-chef":i,"is-a-geek":i,"isa-geek":i,"kicks-ass":i,"office-on-the":i,podzone:i,"scrapper-site":i,selfip:i,"sells-it":i,servebbs:i,serveftp:i,thruhere:i,webhop:i,casacam:i,dynu:i,dynv6:i,twmail:i,ru:i,channelsdvr:[2,{u:i}],fastly:[0,{freetls:i,map:i,prod:[0,{a:i,global:i}],ssl:[0,{a:i,b:i,global:i}]}],fastlylb:[2,{map:i}],edgeapp:i,"keyword-on":i,"live-on":i,"server-on":i,"cdn-edges":i,heteml:i,cloudfunctions:i,"grafana-dev":i,iobb:i,moonscale:i,"in-dsl":i,"in-vpn":i,oninferno:i,botdash:i,"apps-1and1":i,ipifony:i,cloudjiffy:[2,{"fra1-de":i,"west1-us":i}],elastx:[0,{"jls-sto1":i,"jls-sto2":i,"jls-sto3":i}],massivegrid:[0,{paas:[0,{"fr-1":i,"lon-1":i,"lon-2":i,"ny-1":i,"ny-2":i,"sg-1":i}]}],saveincloud:[0,{jelastic:i,"nordeste-idc":i}],scaleforce:H,kinghost:i,uni5:i,krellian:i,ggff:i,localcert:i,localto:o,barsy:i,luyani:i,memset:i,"azure-api":i,"azure-mobile":i,azureedge:i,azurefd:i,azurestaticapps:[2,{1:i,2:i,3:i,4:i,5:i,6:i,7:i,centralus:i,eastasia:i,eastus2:i,westeurope:i,westus2:i}],azurewebsites:i,cloudapp:i,trafficmanager:i,windows:[0,{core:[0,{blob:i}],servicebus:i}],mynetname:[0,{sn:i}],routingthecloud:i,bounceme:i,ddns:i,"eating-organic":i,mydissent:i,myeffect:i,mymediapc:i,mypsx:i,mysecuritycamera:i,nhlfan:i,"no-ip":i,pgafan:i,privatizehealthinsurance:i,redirectme:i,serveblog:i,serveminecraft:i,sytes:i,dnsup:i,hicam:i,"now-dns":i,ownip:i,vpndns:i,cloudycluster:i,ovh:[0,{hosting:o,webpaas:o}],rackmaze:i,myradweb:i,in:i,"subsc-pay":i,squares:i,schokokeks:i,"firewall-gateway":i,seidat:i,senseering:i,siteleaf:i,mafelo:i,myspreadshop:i,"vps-host":[2,{jelastic:[0,{atl:i,njs:i,ric:i}]}],srcf:[0,{soc:i,user:i}],supabase:i,dsmynas:i,familyds:i,ts:[2,{c:o}],torproject:[2,{pages:i}],vusercontent:i,"reserve-online":i,"community-pro":i,meinforum:i,yandexcloud:[2,{storage:i,website:i}],za:i}],nf:[1,{arts:a,com:a,firm:a,info:a,net:a,other:a,per:a,rec:a,store:a,web:a}],ng:[1,{com:a,edu:a,gov:a,i:a,mil:a,mobi:a,name:a,net:a,org:a,sch:a,biz:[2,{co:i,dl:i,go:i,lg:i,on:i}],col:i,firm:i,gen:i,ltd:i,ngo:i,plc:i}],ni:[1,{ac:a,biz:a,co:a,com:a,edu:a,gob:a,in:a,info:a,int:a,mil:a,net:a,nom:a,org:a,web:a}],nl:[1,{co:i,"hosting-cluster":i,gov:i,khplay:i,"123website":i,myspreadshop:i,transurl:o,cistron:i,demon:i}],no:[1,{fhs:a,folkebibl:a,fylkesbibl:a,idrett:a,museum:a,priv:a,vgs:a,dep:a,herad:a,kommune:a,mil:a,stat:a,aa:eo,ah:eo,bu:eo,fm:eo,hl:eo,hm:eo,"jan-mayen":eo,mr:eo,nl:eo,nt:eo,of:eo,ol:eo,oslo:eo,rl:eo,sf:eo,st:eo,svalbard:eo,tm:eo,tr:eo,va:eo,vf:eo,akrehamn:a,"xn--krehamn-dxa":a,krehamn:a,algard:a,"xn--lgrd-poac":a,lgrd:a,arna:a,bronnoysund:a,"xn--brnnysund-m8ac":a,brnnysund:a,brumunddal:a,bryne:a,drobak:a,"xn--drbak-wua":a,drbak:a,egersund:a,fetsund:a,floro:a,"xn--flor-jra":a,flor:a,fredrikstad:a,hokksund:a,honefoss:a,"xn--hnefoss-q1a":a,hnefoss:a,jessheim:a,jorpeland:a,"xn--jrpeland-54a":a,jrpeland:a,kirkenes:a,kopervik:a,krokstadelva:a,langevag:a,"xn--langevg-jxa":a,langevg:a,leirvik:a,mjondalen:a,"xn--mjndalen-64a":a,mjndalen:a,"mo-i-rana":a,mosjoen:a,"xn--mosjen-eya":a,mosjen:a,nesoddtangen:a,orkanger:a,osoyro:a,"xn--osyro-wua":a,osyro:a,raholt:a,"xn--rholt-mra":a,rholt:a,sandnessjoen:a,"xn--sandnessjen-ogb":a,sandnessjen:a,skedsmokorset:a,slattum:a,spjelkavik:a,stathelle:a,stavern:a,stjordalshalsen:a,"xn--stjrdalshalsen-sqb":a,stjrdalshalsen:a,tananger:a,tranby:a,vossevangen:a,aarborte:a,aejrie:a,afjord:a,"xn--fjord-lra":a,fjord:a,agdenes:a,akershus:el,aknoluokta:a,"xn--koluokta-7ya57h":a,koluokta:a,al:a,"xn--l-1fa":a,l:a,alaheadju:a,"xn--laheadju-7ya":a,laheadju:a,alesund:a,"xn--lesund-hua":a,lesund:a,alstahaug:a,alta:a,"xn--lt-liac":a,lt:a,alvdal:a,amli:a,"xn--mli-tla":a,mli:a,amot:a,"xn--mot-tla":a,mot:a,andasuolo:a,andebu:a,andoy:a,"xn--andy-ira":a,andy:a,ardal:a,"xn--rdal-poa":a,rdal:a,aremark:a,arendal:a,"xn--s-1fa":a,s:a,aseral:a,"xn--seral-lra":a,seral:a,asker:a,askim:a,askoy:a,"xn--asky-ira":a,asky:a,askvoll:a,asnes:a,"xn--snes-poa":a,snes:a,audnedaln:a,aukra:a,aure:a,aurland:a,"aurskog-holand":a,"xn--aurskog-hland-jnb":a,"aurskog-hland":a,austevoll:a,austrheim:a,averoy:a,"xn--avery-yua":a,avery:a,badaddja:a,"xn--bdddj-mrabd":a,bdddj:a,"xn--brum-voa":a,brum:a,bahcavuotna:a,"xn--bhcavuotna-s4a":a,bhcavuotna:a,bahccavuotna:a,"xn--bhccavuotna-k7a":a,bhccavuotna:a,baidar:a,"xn--bidr-5nac":a,bidr:a,bajddar:a,"xn--bjddar-pta":a,bjddar:a,balat:a,"xn--blt-elab":a,blt:a,balestrand:a,ballangen:a,balsfjord:a,bamble:a,bardu:a,barum:a,batsfjord:a,"xn--btsfjord-9za":a,btsfjord:a,bearalvahki:a,"xn--bearalvhki-y4a":a,bearalvhki:a,beardu:a,beiarn:a,berg:a,bergen:a,berlevag:a,"xn--berlevg-jxa":a,berlevg:a,bievat:a,"xn--bievt-0qa":a,bievt:a,bindal:a,birkenes:a,bjarkoy:a,"xn--bjarky-fya":a,bjarky:a,bjerkreim:a,bjugn:a,bodo:a,"xn--bod-2na":a,bod:a,bokn:a,bomlo:a,"xn--bmlo-gra":a,bmlo:a,bremanger:a,bronnoy:a,"xn--brnny-wuac":a,brnny:a,budejju:a,buskerud:el,bygland:a,bykle:a,cahcesuolo:a,"xn--hcesuolo-7ya35b":a,hcesuolo:a,davvenjarga:a,"xn--davvenjrga-y4a":a,davvenjrga:a,davvesiida:a,deatnu:a,dielddanuorri:a,divtasvuodna:a,divttasvuotna:a,donna:a,"xn--dnna-gra":a,dnna:a,dovre:a,drammen:a,drangedal:a,dyroy:a,"xn--dyry-ira":a,dyry:a,eid:a,eidfjord:a,eidsberg:a,eidskog:a,eidsvoll:a,eigersund:a,elverum:a,enebakk:a,engerdal:a,etne:a,etnedal:a,evenassi:a,"xn--eveni-0qa01ga":a,eveni:a,evenes:a,"evje-og-hornnes":a,farsund:a,fauske:a,fedje:a,fet:a,finnoy:a,"xn--finny-yua":a,finny:a,fitjar:a,fjaler:a,fjell:a,fla:a,"xn--fl-zia":a,fl:a,flakstad:a,flatanger:a,flekkefjord:a,flesberg:a,flora:a,folldal:a,forde:a,"xn--frde-gra":a,frde:a,forsand:a,fosnes:a,"xn--frna-woa":a,frna:a,frana:a,frei:a,frogn:a,froland:a,frosta:a,froya:a,"xn--frya-hra":a,frya:a,fuoisku:a,fuossko:a,fusa:a,fyresdal:a,gaivuotna:a,"xn--givuotna-8ya":a,givuotna:a,galsa:a,"xn--gls-elac":a,gls:a,gamvik:a,gangaviika:a,"xn--ggaviika-8ya47h":a,ggaviika:a,gaular:a,gausdal:a,giehtavuoatna:a,gildeskal:a,"xn--gildeskl-g0a":a,gildeskl:a,giske:a,gjemnes:a,gjerdrum:a,gjerstad:a,gjesdal:a,gjovik:a,"xn--gjvik-wua":a,gjvik:a,gloppen:a,gol:a,gran:a,grane:a,granvin:a,gratangen:a,grimstad:a,grong:a,grue:a,gulen:a,guovdageaidnu:a,ha:a,"xn--h-2fa":a,h:a,habmer:a,"xn--hbmer-xqa":a,hbmer:a,hadsel:a,"xn--hgebostad-g3a":a,hgebostad:a,hagebostad:a,halden:a,halsa:a,hamar:a,hamaroy:a,hammarfeasta:a,"xn--hmmrfeasta-s4ac":a,hmmrfeasta:a,hammerfest:a,hapmir:a,"xn--hpmir-xqa":a,hpmir:a,haram:a,hareid:a,harstad:a,hasvik:a,hattfjelldal:a,haugesund:a,hedmark:[0,{os:a,valer:a,"xn--vler-qoa":a,vler:a}],hemne:a,hemnes:a,hemsedal:a,hitra:a,hjartdal:a,hjelmeland:a,hobol:a,"xn--hobl-ira":a,hobl:a,hof:a,hol:a,hole:a,holmestrand:a,holtalen:a,"xn--holtlen-hxa":a,holtlen:a,hordaland:[0,{os:a}],hornindal:a,horten:a,hoyanger:a,"xn--hyanger-q1a":a,hyanger:a,hoylandet:a,"xn--hylandet-54a":a,hylandet:a,hurdal:a,hurum:a,hvaler:a,hyllestad:a,ibestad:a,inderoy:a,"xn--indery-fya":a,indery:a,iveland:a,ivgu:a,jevnaker:a,jolster:a,"xn--jlster-bya":a,jlster:a,jondal:a,kafjord:a,"xn--kfjord-iua":a,kfjord:a,karasjohka:a,"xn--krjohka-hwab49j":a,krjohka:a,karasjok:a,karlsoy:a,karmoy:a,"xn--karmy-yua":a,karmy:a,kautokeino:a,klabu:a,"xn--klbu-woa":a,klbu:a,klepp:a,kongsberg:a,kongsvinger:a,kraanghke:a,"xn--kranghke-b0a":a,kranghke:a,kragero:a,"xn--krager-gya":a,krager:a,kristiansand:a,kristiansund:a,krodsherad:a,"xn--krdsherad-m8a":a,krdsherad:a,"xn--kvfjord-nxa":a,kvfjord:a,"xn--kvnangen-k0a":a,kvnangen:a,kvafjord:a,kvalsund:a,kvam:a,kvanangen:a,kvinesdal:a,kvinnherad:a,kviteseid:a,kvitsoy:a,"xn--kvitsy-fya":a,kvitsy:a,laakesvuemie:a,"xn--lrdal-sra":a,lrdal:a,lahppi:a,"xn--lhppi-xqa":a,lhppi:a,lardal:a,larvik:a,lavagis:a,lavangen:a,leangaviika:a,"xn--leagaviika-52b":a,leagaviika:a,lebesby:a,leikanger:a,leirfjord:a,leka:a,leksvik:a,lenvik:a,lerdal:a,lesja:a,levanger:a,lier:a,lierne:a,lillehammer:a,lillesand:a,lindas:a,"xn--linds-pra":a,linds:a,lindesnes:a,loabat:a,"xn--loabt-0qa":a,loabt:a,lodingen:a,"xn--ldingen-q1a":a,ldingen:a,lom:a,loppa:a,lorenskog:a,"xn--lrenskog-54a":a,lrenskog:a,loten:a,"xn--lten-gra":a,lten:a,lund:a,lunner:a,luroy:a,"xn--lury-ira":a,lury:a,luster:a,lyngdal:a,lyngen:a,malatvuopmi:a,"xn--mlatvuopmi-s4a":a,mlatvuopmi:a,malselv:a,"xn--mlselv-iua":a,mlselv:a,malvik:a,mandal:a,marker:a,marnardal:a,masfjorden:a,masoy:a,"xn--msy-ula0h":a,msy:a,"matta-varjjat":a,"xn--mtta-vrjjat-k7af":a,"mtta-vrjjat":a,meland:a,meldal:a,melhus:a,meloy:a,"xn--mely-ira":a,mely:a,meraker:a,"xn--merker-kua":a,merker:a,midsund:a,"midtre-gauldal":a,moareke:a,"xn--moreke-jua":a,moreke:a,modalen:a,modum:a,molde:a,"more-og-romsdal":[0,{heroy:a,sande:a}],"xn--mre-og-romsdal-qqb":[0,{"xn--hery-ira":a,sande:a}],"mre-og-romsdal":[0,{hery:a,sande:a}],moskenes:a,moss:a,mosvik:a,muosat:a,"xn--muost-0qa":a,muost:a,naamesjevuemie:a,"xn--nmesjevuemie-tcba":a,nmesjevuemie:a,"xn--nry-yla5g":a,nry:a,namdalseid:a,namsos:a,namsskogan:a,nannestad:a,naroy:a,narviika:a,narvik:a,naustdal:a,navuotna:a,"xn--nvuotna-hwa":a,nvuotna:a,"nedre-eiker":a,nesna:a,nesodden:a,nesseby:a,nesset:a,nissedal:a,nittedal:a,"nord-aurdal":a,"nord-fron":a,"nord-odal":a,norddal:a,nordkapp:a,nordland:[0,{bo:a,"xn--b-5ga":a,b:a,heroy:a,"xn--hery-ira":a,hery:a}],"nordre-land":a,nordreisa:a,"nore-og-uvdal":a,notodden:a,notteroy:a,"xn--nttery-byae":a,nttery:a,odda:a,oksnes:a,"xn--ksnes-uua":a,ksnes:a,omasvuotna:a,oppdal:a,oppegard:a,"xn--oppegrd-ixa":a,oppegrd:a,orkdal:a,orland:a,"xn--rland-uua":a,rland:a,orskog:a,"xn--rskog-uua":a,rskog:a,orsta:a,"xn--rsta-fra":a,rsta:a,osen:a,osteroy:a,"xn--ostery-fya":a,ostery:a,ostfold:[0,{valer:a}],"xn--stfold-9xa":[0,{"xn--vler-qoa":a}],stfold:[0,{vler:a}],"ostre-toten":a,"xn--stre-toten-zcb":a,"stre-toten":a,overhalla:a,"ovre-eiker":a,"xn--vre-eiker-k8a":a,"vre-eiker":a,oyer:a,"xn--yer-zna":a,yer:a,oygarden:a,"xn--ygarden-p1a":a,ygarden:a,"oystre-slidre":a,"xn--ystre-slidre-ujb":a,"ystre-slidre":a,porsanger:a,porsangu:a,"xn--porsgu-sta26f":a,porsgu:a,porsgrunn:a,rade:a,"xn--rde-ula":a,rde:a,radoy:a,"xn--rady-ira":a,rady:a,"xn--rlingen-mxa":a,rlingen:a,rahkkeravju:a,"xn--rhkkervju-01af":a,rhkkervju:a,raisa:a,"xn--risa-5na":a,risa:a,rakkestad:a,ralingen:a,rana:a,randaberg:a,rauma:a,rendalen:a,rennebu:a,rennesoy:a,"xn--rennesy-v1a":a,rennesy:a,rindal:a,ringebu:a,ringerike:a,ringsaker:a,risor:a,"xn--risr-ira":a,risr:a,rissa:a,roan:a,rodoy:a,"xn--rdy-0nab":a,rdy:a,rollag:a,romsa:a,romskog:a,"xn--rmskog-bya":a,rmskog:a,roros:a,"xn--rros-gra":a,rros:a,rost:a,"xn--rst-0na":a,rst:a,royken:a,"xn--ryken-vua":a,ryken:a,royrvik:a,"xn--ryrvik-bya":a,ryrvik:a,ruovat:a,rygge:a,salangen:a,salat:a,"xn--slat-5na":a,slat:a,"xn--slt-elab":a,slt:a,saltdal:a,samnanger:a,sandefjord:a,sandnes:a,sandoy:a,"xn--sandy-yua":a,sandy:a,sarpsborg:a,sauda:a,sauherad:a,sel:a,selbu:a,selje:a,seljord:a,siellak:a,sigdal:a,siljan:a,sirdal:a,skanit:a,"xn--sknit-yqa":a,sknit:a,skanland:a,"xn--sknland-fxa":a,sknland:a,skaun:a,skedsmo:a,ski:a,skien:a,skierva:a,"xn--skierv-uta":a,skierv:a,skiptvet:a,skjak:a,"xn--skjk-soa":a,skjk:a,skjervoy:a,"xn--skjervy-v1a":a,skjervy:a,skodje:a,smola:a,"xn--smla-hra":a,smla:a,snaase:a,"xn--snase-nra":a,snase:a,snasa:a,"xn--snsa-roa":a,snsa:a,snillfjord:a,snoasa:a,sogndal:a,sogne:a,"xn--sgne-gra":a,sgne:a,sokndal:a,sola:a,solund:a,somna:a,"xn--smna-gra":a,smna:a,"sondre-land":a,"xn--sndre-land-0cb":a,"sndre-land":a,songdalen:a,"sor-aurdal":a,"xn--sr-aurdal-l8a":a,"sr-aurdal":a,"sor-fron":a,"xn--sr-fron-q1a":a,"sr-fron":a,"sor-odal":a,"xn--sr-odal-q1a":a,"sr-odal":a,"sor-varanger":a,"xn--sr-varanger-ggb":a,"sr-varanger":a,sorfold:a,"xn--srfold-bya":a,srfold:a,sorreisa:a,"xn--srreisa-q1a":a,srreisa:a,sortland:a,sorum:a,"xn--srum-gra":a,srum:a,spydeberg:a,stange:a,stavanger:a,steigen:a,steinkjer:a,stjordal:a,"xn--stjrdal-s1a":a,stjrdal:a,stokke:a,"stor-elvdal":a,stord:a,stordal:a,storfjord:a,strand:a,stranda:a,stryn:a,sula:a,suldal:a,sund:a,sunndal:a,surnadal:a,sveio:a,svelvik:a,sykkylven:a,tana:a,telemark:[0,{bo:a,"xn--b-5ga":a,b:a}],time:a,tingvoll:a,tinn:a,tjeldsund:a,tjome:a,"xn--tjme-hra":a,tjme:a,tokke:a,tolga:a,tonsberg:a,"xn--tnsberg-q1a":a,tnsberg:a,torsken:a,"xn--trna-woa":a,trna:a,trana:a,tranoy:a,"xn--trany-yua":a,trany:a,troandin:a,trogstad:a,"xn--trgstad-r1a":a,trgstad:a,tromsa:a,tromso:a,"xn--troms-zua":a,troms:a,trondheim:a,trysil:a,tvedestrand:a,tydal:a,tynset:a,tysfjord:a,tysnes:a,"xn--tysvr-vra":a,tysvr:a,tysvar:a,ullensaker:a,ullensvang:a,ulvik:a,unjarga:a,"xn--unjrga-rta":a,unjrga:a,utsira:a,vaapste:a,vadso:a,"xn--vads-jra":a,vads:a,"xn--vry-yla5g":a,vry:a,vaga:a,"xn--vg-yiab":a,vg:a,vagan:a,"xn--vgan-qoa":a,vgan:a,vagsoy:a,"xn--vgsy-qoa0j":a,vgsy:a,vaksdal:a,valle:a,vang:a,vanylven:a,vardo:a,"xn--vard-jra":a,vard:a,varggat:a,"xn--vrggt-xqad":a,vrggt:a,varoy:a,vefsn:a,vega:a,vegarshei:a,"xn--vegrshei-c0a":a,vegrshei:a,vennesla:a,verdal:a,verran:a,vestby:a,vestfold:[0,{sande:a}],vestnes:a,"vestre-slidre":a,"vestre-toten":a,vestvagoy:a,"xn--vestvgy-ixa6o":a,vestvgy:a,vevelstad:a,vik:a,vikna:a,vindafjord:a,voagat:a,volda:a,voss:a,co:i,"123hjemmeside":i,myspreadshop:i}],np:S,nr:ea,nu:[1,{merseine:i,mine:i,shacknet:i,enterprisecloud:i}],nz:[1,{ac:a,co:a,cri:a,geek:a,gen:a,govt:a,health:a,iwi:a,kiwi:a,maori:a,"xn--mori-qsa":a,mori:a,mil:a,net:a,org:a,parliament:a,school:a,cloudns:i}],om:[1,{co:a,com:a,edu:a,gov:a,med:a,museum:a,net:a,org:a,pro:a}],onion:a,org:[1,{altervista:i,pimienta:i,poivron:i,potager:i,sweetpepper:i,cdn77:[0,{c:i,rsc:i}],"cdn77-secure":[0,{origin:[0,{ssl:i}]}],ae:i,cloudns:i,"ip-dynamic":i,ddnss:i,dpdns:i,duckdns:i,tunk:i,blogdns:i,blogsite:i,boldlygoingnowhere:i,dnsalias:i,dnsdojo:i,doesntexist:i,dontexist:i,doomdns:i,dvrdns:i,dynalias:i,dyndns:[2,{go:i,home:i}],endofinternet:i,endoftheinternet:i,"from-me":i,"game-host":i,gotdns:i,"hobby-site":i,homedns:i,homeftp:i,homelinux:i,homeunix:i,"is-a-bruinsfan":i,"is-a-candidate":i,"is-a-celticsfan":i,"is-a-chef":i,"is-a-geek":i,"is-a-knight":i,"is-a-linux-user":i,"is-a-patsfan":i,"is-a-soxfan":i,"is-found":i,"is-lost":i,"is-saved":i,"is-very-bad":i,"is-very-evil":i,"is-very-good":i,"is-very-nice":i,"is-very-sweet":i,"isa-geek":i,"kicks-ass":i,misconfused:i,podzone:i,readmyblog:i,selfip:i,sellsyourhome:i,servebbs:i,serveftp:i,servegame:i,"stuff-4-sale":i,webhop:i,accesscam:i,camdvr:i,freeddns:i,mywire:i,webredirect:i,twmail:i,eu:[2,{al:i,asso:i,at:i,au:i,be:i,bg:i,ca:i,cd:i,ch:i,cn:i,cy:i,cz:i,de:i,dk:i,edu:i,ee:i,es:i,fi:i,fr:i,gr:i,hr:i,hu:i,ie:i,il:i,in:i,int:i,is:i,it:i,jp:i,kr:i,lt:i,lu:i,lv:i,me:i,mk:i,mt:i,my:i,net:i,ng:i,nl:i,no:i,nz:i,pl:i,pt:i,ro:i,ru:i,se:i,si:i,sk:i,tr:i,uk:i,us:i}],fedorainfracloud:i,fedorapeople:i,fedoraproject:[0,{cloud:i,os:B,stg:[0,{os:B}]}],freedesktop:i,hatenadiary:i,hepforge:i,"in-dsl":i,"in-vpn":i,js:i,barsy:i,mayfirst:i,routingthecloud:i,bmoattachments:i,"cable-modem":i,collegefan:i,couchpotatofries:i,hopto:i,mlbfan:i,myftp:i,mysecuritycamera:i,nflfan:i,"no-ip":i,"read-books":i,ufcfan:i,zapto:i,dynserv:i,"now-dns":i,"is-local":i,httpbin:i,pubtls:i,jpn:i,"my-firewall":i,myfirewall:i,spdns:i,"small-web":i,dsmynas:i,familyds:i,teckids:er,tuxfamily:i,diskstation:i,hk:i,us:i,toolforge:i,wmcloud:[2,{beta:i}],wmflabs:i,za:i}],pa:[1,{abo:a,ac:a,com:a,edu:a,gob:a,ing:a,med:a,net:a,nom:a,org:a,sld:a}],pe:[1,{com:a,edu:a,gob:a,mil:a,net:a,nom:a,org:a}],pf:[1,{com:a,edu:a,org:a}],pg:S,ph:[1,{com:a,edu:a,gov:a,i:a,mil:a,net:a,ngo:a,org:a,cloudns:i}],pk:[1,{ac:a,biz:a,com:a,edu:a,fam:a,gkp:a,gob:a,gog:a,gok:a,gop:a,gos:a,gov:a,net:a,org:a,web:a}],pl:[1,{com:a,net:a,org:a,agro:a,aid:a,atm:a,auto:a,biz:a,edu:a,gmina:a,gsm:a,info:a,mail:a,media:a,miasta:a,mil:a,nieruchomosci:a,nom:a,pc:a,powiat:a,priv:a,realestate:a,rel:a,sex:a,shop:a,sklep:a,sos:a,szkola:a,targi:a,tm:a,tourism:a,travel:a,turystyka:a,gov:[1,{ap:a,griw:a,ic:a,is:a,kmpsp:a,konsulat:a,kppsp:a,kwp:a,kwpsp:a,mup:a,mw:a,oia:a,oirm:a,oke:a,oow:a,oschr:a,oum:a,pa:a,pinb:a,piw:a,po:a,pr:a,psp:a,psse:a,pup:a,rzgw:a,sa:a,sdn:a,sko:a,so:a,sr:a,starostwo:a,ug:a,ugim:a,um:a,umig:a,upow:a,uppo:a,us:a,uw:a,uzs:a,wif:a,wiih:a,winb:a,wios:a,witd:a,wiw:a,wkz:a,wsa:a,wskr:a,wsse:a,wuoz:a,wzmiuw:a,zp:a,zpisdn:a}],augustow:a,"babia-gora":a,bedzin:a,beskidy:a,bialowieza:a,bialystok:a,bielawa:a,bieszczady:a,boleslawiec:a,bydgoszcz:a,bytom:a,cieszyn:a,czeladz:a,czest:a,dlugoleka:a,elblag:a,elk:a,glogow:a,gniezno:a,gorlice:a,grajewo:a,ilawa:a,jaworzno:a,"jelenia-gora":a,jgora:a,kalisz:a,karpacz:a,kartuzy:a,kaszuby:a,katowice:a,"kazimierz-dolny":a,kepno:a,ketrzyn:a,klodzko:a,kobierzyce:a,kolobrzeg:a,konin:a,konskowola:a,kutno:a,lapy:a,lebork:a,legnica:a,lezajsk:a,limanowa:a,lomza:a,lowicz:a,lubin:a,lukow:a,malbork:a,malopolska:a,mazowsze:a,mazury:a,mielec:a,mielno:a,mragowo:a,naklo:a,nowaruda:a,nysa:a,olawa:a,olecko:a,olkusz:a,olsztyn:a,opoczno:a,opole:a,ostroda:a,ostroleka:a,ostrowiec:a,ostrowwlkp:a,pila:a,pisz:a,podhale:a,podlasie:a,polkowice:a,pomorskie:a,pomorze:a,prochowice:a,pruszkow:a,przeworsk:a,pulawy:a,radom:a,"rawa-maz":a,rybnik:a,rzeszow:a,sanok:a,sejny:a,skoczow:a,slask:a,slupsk:a,sosnowiec:a,"stalowa-wola":a,starachowice:a,stargard:a,suwalki:a,swidnica:a,swiebodzin:a,swinoujscie:a,szczecin:a,szczytno:a,tarnobrzeg:a,tgory:a,turek:a,tychy:a,ustka:a,walbrzych:a,warmia:a,warszawa:a,waw:a,wegrow:a,wielun:a,wlocl:a,wloclawek:a,wodzislaw:a,wolomin:a,wroclaw:a,zachpomor:a,zagan:a,zarow:a,zgora:a,zgorzelec:a,art:i,gliwice:i,krakow:i,poznan:i,wroc:i,zakopane:i,beep:i,"ecommerce-shop":i,cfolks:i,dfirma:i,dkonto:i,you2:i,shoparena:i,homesklep:i,sdscloud:i,unicloud:i,lodz:i,pabianice:i,plock:i,sieradz:i,skierniewice:i,zgierz:i,krasnik:i,leczna:i,lubartow:i,lublin:i,poniatowa:i,swidnik:i,co:i,torun:i,simplesite:i,myspreadshop:i,gda:i,gdansk:i,gdynia:i,med:i,sopot:i,bielsko:i}],pm:[1,{own:i,name:i}],pn:[1,{co:a,edu:a,gov:a,net:a,org:a}],post:a,pr:[1,{biz:a,com:a,edu:a,gov:a,info:a,isla:a,name:a,net:a,org:a,pro:a,ac:a,est:a,prof:a}],pro:[1,{aaa:a,aca:a,acct:a,avocat:a,bar:a,cpa:a,eng:a,jur:a,law:a,med:a,recht:a,"12chars":i,cloudns:i,barsy:i,ngrok:i}],ps:[1,{com:a,edu:a,gov:a,net:a,org:a,plo:a,sec:a}],pt:[1,{com:a,edu:a,gov:a,int:a,net:a,nome:a,org:a,publ:a,"123paginaweb":i}],pw:[1,{gov:a,cloudns:i,x443:i}],py:[1,{com:a,coop:a,edu:a,gov:a,mil:a,net:a,org:a}],qa:[1,{com:a,edu:a,gov:a,mil:a,name:a,net:a,org:a,sch:a}],re:[1,{asso:a,com:a,netlib:i,can:i}],ro:[1,{arts:a,com:a,firm:a,info:a,nom:a,nt:a,org:a,rec:a,store:a,tm:a,www:a,co:i,shop:i,barsy:i}],rs:[1,{ac:a,co:a,edu:a,gov:a,in:a,org:a,brendly:Q,barsy:i,ox:i}],ru:[1,{ac:i,edu:i,gov:i,int:i,mil:i,eurodir:i,adygeya:i,bashkiria:i,bir:i,cbg:i,com:i,dagestan:i,grozny:i,kalmykia:i,kustanai:i,marine:i,mordovia:i,msk:i,mytis:i,nalchik:i,nov:i,pyatigorsk:i,spb:i,vladikavkaz:i,vladimir:i,na4u:i,mircloud:i,myjino:[2,{hosting:o,landing:o,spectrum:o,vps:o}],cldmail:[0,{hb:i}],mcdir:[2,{vps:i}],mcpre:i,net:i,org:i,pp:i,lk3:i,ras:i}],rw:[1,{ac:a,co:a,coop:a,gov:a,mil:a,net:a,org:a}],sa:[1,{com:a,edu:a,gov:a,med:a,net:a,org:a,pub:a,sch:a}],sb:n,sc:n,sd:[1,{com:a,edu:a,gov:a,info:a,med:a,net:a,org:a,tv:a}],se:[1,{a:a,ac:a,b:a,bd:a,brand:a,c:a,d:a,e:a,f:a,fh:a,fhsk:a,fhv:a,g:a,h:a,i:a,k:a,komforb:a,kommunalforbund:a,komvux:a,l:a,lanbib:a,m:a,n:a,naturbruksgymn:a,o:a,org:a,p:a,parti:a,pp:a,press:a,r:a,s:a,t:a,tm:a,u:a,w:a,x:a,y:a,z:a,com:i,iopsys:i,"123minsida":i,itcouldbewor:i,myspreadshop:i}],sg:[1,{com:a,edu:a,gov:a,net:a,org:a,enscaled:i}],sh:[1,{com:a,gov:a,mil:a,net:a,org:a,hashbang:i,botda:i,lovable:i,platform:[0,{ent:i,eu:i,us:i}],now:i}],si:[1,{f5:i,gitapp:i,gitpage:i}],sj:a,sk:a,sl:n,sm:a,sn:[1,{art:a,com:a,edu:a,gouv:a,org:a,perso:a,univ:a}],so:[1,{com:a,edu:a,gov:a,me:a,net:a,org:a,surveys:i}],sr:a,ss:[1,{biz:a,co:a,com:a,edu:a,gov:a,me:a,net:a,org:a,sch:a}],st:[1,{co:a,com:a,consulado:a,edu:a,embaixada:a,mil:a,net:a,org:a,principe:a,saotome:a,store:a,helioho:i,kirara:i,noho:i}],su:[1,{abkhazia:i,adygeya:i,aktyubinsk:i,arkhangelsk:i,armenia:i,ashgabad:i,azerbaijan:i,balashov:i,bashkiria:i,bryansk:i,bukhara:i,chimkent:i,dagestan:i,"east-kazakhstan":i,exnet:i,georgia:i,grozny:i,ivanovo:i,jambyl:i,kalmykia:i,kaluga:i,karacol:i,karaganda:i,karelia:i,khakassia:i,krasnodar:i,kurgan:i,kustanai:i,lenug:i,mangyshlak:i,mordovia:i,msk:i,murmansk:i,nalchik:i,navoi:i,"north-kazakhstan":i,nov:i,obninsk:i,penza:i,pokrovsk:i,sochi:i,spb:i,tashkent:i,termez:i,togliatti:i,troitsk:i,tselinograd:i,tula:i,tuva:i,vladikavkaz:i,vladimir:i,vologda:i}],sv:[1,{com:a,edu:a,gob:a,org:a,red:a}],sx:d,sy:s,sz:[1,{ac:a,co:a,org:a}],tc:a,td:a,tel:a,tf:[1,{sch:i}],tg:a,th:[1,{ac:a,co:a,go:a,in:a,mi:a,net:a,or:a,online:i,shop:i}],tj:[1,{ac:a,biz:a,co:a,com:a,edu:a,go:a,gov:a,int:a,mil:a,name:a,net:a,nic:a,org:a,test:a,web:a}],tk:a,tl:d,tm:[1,{co:a,com:a,edu:a,gov:a,mil:a,net:a,nom:a,org:a}],tn:[1,{com:a,ens:a,fin:a,gov:a,ind:a,info:a,intl:a,mincom:a,nat:a,net:a,org:a,perso:a,tourism:a,orangecloud:i}],to:[1,{611:i,com:a,edu:a,gov:a,mil:a,net:a,org:a,oya:i,x0:i,quickconnect:T,vpnplus:i}],tr:[1,{av:a,bbs:a,bel:a,biz:a,com:a,dr:a,edu:a,gen:a,gov:a,info:a,k12:a,kep:a,mil:a,name:a,net:a,org:a,pol:a,tel:a,tsk:a,tv:a,web:a,nc:d}],tt:[1,{biz:a,co:a,com:a,edu:a,gov:a,info:a,mil:a,name:a,net:a,org:a,pro:a}],tv:[1,{"better-than":i,dyndns:i,"on-the-web":i,"worse-than":i,from:i,sakura:i}],tw:[1,{club:a,com:[1,{mymailer:i}],ebiz:a,edu:a,game:a,gov:a,idv:a,mil:a,net:a,org:a,url:i,mydns:i}],tz:[1,{ac:a,co:a,go:a,hotel:a,info:a,me:a,mil:a,mobi:a,ne:a,or:a,sc:a,tv:a}],ua:[1,{com:a,edu:a,gov:a,in:a,net:a,org:a,cherkassy:a,cherkasy:a,chernigov:a,chernihiv:a,chernivtsi:a,chernovtsy:a,ck:a,cn:a,cr:a,crimea:a,cv:a,dn:a,dnepropetrovsk:a,dnipropetrovsk:a,donetsk:a,dp:a,if:a,"ivano-frankivsk":a,kh:a,kharkiv:a,kharkov:a,kherson:a,khmelnitskiy:a,khmelnytskyi:a,kiev:a,kirovograd:a,km:a,kr:a,kropyvnytskyi:a,krym:a,ks:a,kv:a,kyiv:a,lg:a,lt:a,lugansk:a,luhansk:a,lutsk:a,lv:a,lviv:a,mk:a,mykolaiv:a,nikolaev:a,od:a,odesa:a,odessa:a,pl:a,poltava:a,rivne:a,rovno:a,rv:a,sb:a,sebastopol:a,sevastopol:a,sm:a,sumy:a,te:a,ternopil:a,uz:a,uzhgorod:a,uzhhorod:a,vinnica:a,vinnytsia:a,vn:a,volyn:a,yalta:a,zakarpattia:a,zaporizhzhe:a,zaporizhzhia:a,zhitomir:a,zhytomyr:a,zp:a,zt:a,cc:i,inf:i,ltd:i,cx:i,biz:i,co:i,pp:i,v:i}],ug:[1,{ac:a,co:a,com:a,edu:a,go:a,gov:a,mil:a,ne:a,or:a,org:a,sc:a,us:a}],uk:[1,{ac:a,co:[1,{bytemark:[0,{dh:i,vm:i}],layershift:H,barsy:i,barsyonline:i,retrosnub:et,"nh-serv":i,"no-ip":i,adimo:i,myspreadshop:i}],gov:[1,{api:i,campaign:i,service:i}],ltd:a,me:a,net:a,nhs:a,org:[1,{glug:i,lug:i,lugs:i,affinitylottery:i,raffleentry:i,weeklylottery:i}],plc:a,police:a,sch:S,conn:i,copro:i,hosp:i,"independent-commission":i,"independent-inquest":i,"independent-inquiry":i,"independent-panel":i,"independent-review":i,"public-inquiry":i,"royal-commission":i,pymnt:i,barsy:i,nimsite:i,oraclegovcloudapps:o}],us:[1,{dni:a,isa:a,nsn:a,ak:eu,al:eu,ar:eu,as:eu,az:eu,ca:eu,co:eu,ct:eu,dc:eu,de:[1,{cc:a,lib:i}],fl:eu,ga:eu,gu:eu,hi:ec,ia:eu,id:eu,il:eu,in:eu,ks:eu,ky:eu,la:eu,ma:[1,{k12:[1,{chtr:a,paroch:a,pvt:a}],cc:a,lib:a}],md:eu,me:eu,mi:[1,{k12:a,cc:a,lib:a,"ann-arbor":a,cog:a,dst:a,eaton:a,gen:a,mus:a,tec:a,washtenaw:a}],mn:eu,mo:eu,ms:eu,mt:eu,nc:eu,nd:ec,ne:eu,nh:eu,nj:eu,nm:eu,nv:eu,ny:eu,oh:eu,ok:eu,or:eu,pa:eu,pr:eu,ri:ec,sc:eu,sd:ec,tn:eu,tx:eu,ut:eu,va:eu,vi:eu,vt:eu,wa:eu,wi:eu,wv:[1,{cc:a}],wy:eu,cloudns:i,"is-by":i,"land-4-sale":i,"stuff-4-sale":i,heliohost:i,enscaled:[0,{phx:i}],mircloud:i,ngo:i,golffan:i,noip:i,pointto:i,freeddns:i,srv:[2,{gh:i,gl:i}],platterp:i,servername:i}],uy:[1,{com:a,edu:a,gub:a,mil:a,net:a,org:a}],uz:[1,{co:a,com:a,net:a,org:a}],va:a,vc:[1,{com:a,edu:a,gov:a,mil:a,net:a,org:a,gv:[2,{d:i}],"0e":o,mydns:i}],ve:[1,{arts:a,bib:a,co:a,com:a,e12:a,edu:a,emprende:a,firm:a,gob:a,gov:a,info:a,int:a,mil:a,net:a,nom:a,org:a,rar:a,rec:a,store:a,tec:a,web:a}],vg:[1,{edu:a}],vi:[1,{co:a,com:a,k12:a,net:a,org:a}],vn:[1,{ac:a,ai:a,biz:a,com:a,edu:a,gov:a,health:a,id:a,info:a,int:a,io:a,name:a,net:a,org:a,pro:a,angiang:a,bacgiang:a,backan:a,baclieu:a,bacninh:a,"baria-vungtau":a,bentre:a,binhdinh:a,binhduong:a,binhphuoc:a,binhthuan:a,camau:a,cantho:a,caobang:a,daklak:a,daknong:a,danang:a,dienbien:a,dongnai:a,dongthap:a,gialai:a,hagiang:a,haiduong:a,haiphong:a,hanam:a,hanoi:a,hatinh:a,haugiang:a,hoabinh:a,hungyen:a,khanhhoa:a,kiengiang:a,kontum:a,laichau:a,lamdong:a,langson:a,laocai:a,longan:a,namdinh:a,nghean:a,ninhbinh:a,ninhthuan:a,phutho:a,phuyen:a,quangbinh:a,quangnam:a,quangngai:a,quangninh:a,quangtri:a,soctrang:a,sonla:a,tayninh:a,thaibinh:a,thainguyen:a,thanhhoa:a,thanhphohochiminh:a,thuathienhue:a,tiengiang:a,travinh:a,tuyenquang:a,vinhlong:a,vinhphuc:a,yenbai:a}],vu:V,wf:[1,{biz:i,sch:i}],ws:[1,{com:a,edu:a,gov:a,net:a,org:a,advisor:o,cloud66:i,dyndns:i,mypets:i}],yt:[1,{org:i}],"xn--mgbaam7a8h":a,:a,"xn--y9a3aq":a,:a,"xn--54b7fta0cc":a,:a,"xn--90ae":a,:a,"xn--mgbcpq6gpa1a":a,:a,"xn--90ais":a,:a,"xn--fiqs8s":a,:a,"xn--fiqz9s":a,:a,"xn--lgbbat1ad8j":a,:a,"xn--wgbh1c":a,:a,"xn--e1a4c":a,:a,"xn--qxa6a":a,:a,"xn--mgbah1a3hjkrd":a,:a,"xn--node":a,:a,"xn--qxam":a,:a,"xn--j6w193g":[1,{"xn--gmqw5a":a,"xn--55qx5d":a,"xn--mxtq1m":a,"xn--wcvs22d":a,"xn--uc0atv":a,"xn--od0alg":a}],:[1,{:a,:a,:a,:a,:a,:a}],"xn--2scrj9c":a,:a,"xn--3hcrj9c":a,:a,"xn--45br5cyl":a,:a,"xn--h2breg3eve":a,:a,"xn--h2brj9c8c":a,:a,"xn--mgbgu82a":a,:a,"xn--rvc1e0am3e":a,:a,"xn--h2brj9c":a,:a,"xn--mgbbh1a":a,:a,"xn--mgbbh1a71e":a,:a,"xn--fpcrj9c3d":a,:a,"xn--gecrj9c":a,:a,"xn--s9brj9c":a,:a,"xn--45brj9c":a,:a,"xn--xkc2dl3a5ee0h":a,:a,"xn--mgba3a4f16a":a,:a,"xn--mgba3a4fra":a,:a,"xn--mgbtx2b":a,:a,"xn--mgbayh7gpa":a,:a,"xn--3e0b707e":a,:a,"xn--80ao21a":a,:a,"xn--q7ce6a":a,:a,"xn--fzc2c9e2c":a,:a,"xn--xkc2al3hye2a":a,:a,"xn--mgbc0a9azcg":a,:a,"xn--d1alf":a,:a,"xn--l1acc":a,:a,"xn--mix891f":a,:a,"xn--mix082f":a,:a,"xn--mgbx4cd0ab":a,:a,"xn--mgb9awbf":a,:a,"xn--mgbai9azgqp6j":a,:a,"xn--mgbai9a5eva00b":a,:a,"xn--ygbi2ammx":a,:a,"xn--90a3ac":[1,{"xn--80au":a,"xn--90azh":a,"xn--d1at":a,"xn--c1avg":a,"xn--o1ac":a,"xn--o1ach":a}],:[1,{:a,:a,:a,:a,:a,:a}],"xn--p1ai":a,:a,"xn--wgbl6a":a,:a,"xn--mgberp4a5d4ar":a,:a,"xn--mgberp4a5d4a87g":a,:a,"xn--mgbqly7c0a67fbc":a,:a,"xn--mgbqly7cvafr":a,:a,"xn--mgbpl2fh":a,:a,"xn--yfro4i67o":a,:a,"xn--clchc0ea0b2g2a9gcd":a,:a,"xn--ogbpf8fl":a,:a,"xn--mgbtf8fl":a,:a,"xn--o3cw4h":[1,{"xn--o3cyx2a":a,"xn--12co0c3b4eva":a,"xn--m3ch0j3a":a,"xn--h3cuzk1di":a,"xn--12c1fe0br":a,"xn--12cfi8ixb8l":a}],:[1,{:a,:a,:a,:a,:a,:a}],"xn--pgbs0dh":a,:a,"xn--kpry57d":a,:a,"xn--kprw13d":a,:a,"xn--nnx388a":a,:a,"xn--j1amh":a,:a,"xn--mgb2ddes":a,:a,xxx:a,ye:s,za:[0,{ac:a,agric:a,alt:a,co:a,edu:a,gov:a,grondar:a,law:a,mil:a,net:a,ngo:a,nic:a,nis:a,nom:a,org:a,school:a,tm:a,web:a}],zm:[1,{ac:a,biz:a,co:a,com:a,edu:a,gov:a,info:a,mil:a,net:a,org:a,sch:a}],zw:[1,{ac:a,co:a,gov:a,mil:a,org:a}],aaa:a,aarp:a,abb:a,abbott:a,abbvie:a,abc:a,able:a,abogado:a,abudhabi:a,academy:[1,{official:i}],accenture:a,accountant:a,accountants:a,aco:a,actor:a,ads:a,adult:a,aeg:a,aetna:a,afl:a,africa:a,agakhan:a,agency:a,aig:a,airbus:a,airforce:a,airtel:a,akdn:a,alibaba:a,alipay:a,allfinanz:a,allstate:a,ally:a,alsace:a,alstom:a,amazon:a,americanexpress:a,americanfamily:a,amex:a,amfam:a,amica:a,amsterdam:a,analytics:a,android:a,anquan:a,anz:a,aol:a,apartments:a,app:[1,{adaptable:i,aiven:i,beget:o,brave:l,clerk:i,clerkstage:i,wnext:i,csb:[2,{preview:i}],convex:i,deta:i,ondigitalocean:i,easypanel:i,encr:[2,{frontend:i}],evervault:u,expo:[2,{staging:i}],edgecompute:i,"on-fleek":i,flutterflow:i,e2b:i,framer:i,github:i,hosted:o,run:[0,{"*":i,mtls:o}],web:i,hasura:i,botdash:i,loginline:i,lovable:i,luyani:i,medusajs:i,messerli:i,netfy:i,netlify:i,ngrok:i,"ngrok-free":i,developer:o,noop:i,northflank:o,upsun:o,replit:c,nyat:i,snowflake:[0,{"*":i,privatelink:o}],streamlit:i,storipress:i,telebit:i,typedream:i,vercel:i,bookonline:i,wdh:i,windsurf:i,zeabur:i,zerops:o}],apple:a,aquarelle:a,arab:a,aramco:a,archi:a,army:a,art:a,arte:a,asda:a,associates:a,athleta:a,attorney:a,auction:a,audi:a,audible:a,audio:a,auspost:a,author:a,auto:a,autos:a,aws:[1,{on:[0,{"af-south-1":p,"ap-east-1":p,"ap-northeast-1":p,"ap-northeast-2":p,"ap-northeast-3":p,"ap-south-1":p,"ap-south-2":p,"ap-southeast-1":p,"ap-southeast-2":p,"ap-southeast-3":p,"ap-southeast-4":p,"ap-southeast-5":p,"ca-central-1":p,"ca-west-1":p,"eu-central-1":p,"eu-central-2":p,"eu-north-1":p,"eu-south-1":p,"eu-south-2":p,"eu-west-1":p,"eu-west-2":p,"eu-west-3":p,"il-central-1":p,"me-central-1":p,"me-south-1":p,"sa-east-1":p,"us-east-1":p,"us-east-2":p,"us-west-1":p,"us-west-2":p,"us-gov-east-1":h,"us-gov-west-1":h}],sagemaker:[0,{"ap-northeast-1":m,"ap-northeast-2":m,"ap-south-1":m,"ap-southeast-1":m,"ap-southeast-2":m,"ca-central-1":y,"eu-central-1":m,"eu-west-1":m,"eu-west-2":m,"us-east-1":y,"us-east-2":y,"us-west-2":y,"af-south-1":f,"ap-east-1":f,"ap-northeast-3":f,"ap-south-2":g,"ap-southeast-3":f,"ap-southeast-4":g,"ca-west-1":[0,{notebook:i,"notebook-fips":i}],"eu-central-2":f,"eu-north-1":f,"eu-south-1":f,"eu-south-2":f,"eu-west-3":f,"il-central-1":f,"me-central-1":f,"me-south-1":f,"sa-east-1":f,"us-gov-east-1":b,"us-gov-west-1":b,"us-west-1":[0,{notebook:i,"notebook-fips":i,studio:i}],experiments:o}],repost:[0,{private:o}]}],axa:a,azure:a,baby:a,baidu:a,banamex:a,band:a,bank:a,bar:a,barcelona:a,barclaycard:a,barclays:a,barefoot:a,bargains:a,baseball:a,basketball:[1,{aus:i,nz:i}],bauhaus:a,bayern:a,bbc:a,bbt:a,bbva:a,bcg:a,bcn:a,beats:a,beauty:a,beer:a,berlin:a,best:a,bestbuy:a,bet:a,bharti:a,bible:a,bid:a,bike:a,bing:a,bingo:a,bio:a,black:a,blackfriday:a,blockbuster:a,blog:a,bloomberg:a,blue:a,bms:a,bmw:a,bnpparibas:a,boats:a,boehringer:a,bofa:a,bom:a,bond:a,boo:a,book:a,booking:a,bosch:a,bostik:a,boston:a,bot:a,boutique:a,box:a,bradesco:a,bridgestone:a,broadway:a,broker:a,brother:a,brussels:a,build:[1,{v0:i,windsurf:i}],builders:[1,{cloudsite:i}],business:v,buy:a,buzz:a,bzh:a,cab:a,cafe:a,cal:a,call:a,calvinklein:a,cam:a,camera:a,camp:[1,{emf:[0,{at:i}]}],canon:a,capetown:a,capital:a,capitalone:a,car:a,caravan:a,cards:a,care:a,career:a,careers:a,cars:a,casa:[1,{nabu:[0,{ui:i}]}],case:a,cash:a,casino:a,catering:a,catholic:a,cba:a,cbn:a,cbre:a,center:a,ceo:a,cern:a,cfa:a,cfd:a,chanel:a,channel:a,charity:a,chase:a,chat:a,cheap:a,chintai:a,christmas:a,chrome:a,church:a,cipriani:a,circle:a,cisco:a,citadel:a,citi:a,citic:a,city:a,claims:a,cleaning:a,click:a,clinic:a,clinique:a,clothing:a,cloud:[1,{convex:i,elementor:i,encoway:[0,{eu:i}],statics:o,ravendb:i,axarnet:[0,{"es-1":i}],diadem:i,jelastic:[0,{vip:i}],jele:i,"jenv-aruba":[0,{aruba:[0,{eur:[0,{it1:i}]}],it1:i}],keliweb:[2,{cs:i}],oxa:[2,{tn:i,uk:i}],primetel:[2,{uk:i}],reclaim:[0,{ca:i,uk:i,us:i}],trendhosting:[0,{ch:i,de:i}],jotelulu:i,kuleuven:i,laravel:i,linkyard:i,magentosite:o,matlab:i,observablehq:i,perspecta:i,vapor:i,"on-rancher":o,scw:[0,{baremetal:[0,{"fr-par-1":i,"fr-par-2":i,"nl-ams-1":i}],"fr-par":[0,{cockpit:i,ddl:i,dtwh:i,fnc:[2,{functions:i}],ifr:i,k8s:w,kafk:i,mgdb:i,rdb:i,s3:i,"s3-website":i,scbl:i,whm:i}],instances:[0,{priv:i,pub:i}],k8s:i,"nl-ams":[0,{cockpit:i,ddl:i,dtwh:i,ifr:i,k8s:w,kafk:i,mgdb:i,rdb:i,s3:i,"s3-website":i,scbl:i,whm:i}],"pl-waw":[0,{cockpit:i,ddl:i,dtwh:i,ifr:i,k8s:w,kafk:i,mgdb:i,rdb:i,s3:i,"s3-website":i,scbl:i}],scalebook:i,smartlabeling:i}],servebolt:i,onstackit:[0,{runs:i}],trafficplex:i,"unison-services":i,urown:i,voorloper:i,zap:i}],club:[1,{cloudns:i,jele:i,barsy:i}],clubmed:a,coach:a,codes:[1,{owo:o}],coffee:a,college:a,cologne:a,commbank:a,community:[1,{nog:i,ravendb:i,myforum:i}],company:a,compare:a,computer:a,comsec:a,condos:a,construction:a,consulting:a,contact:a,contractors:a,cooking:a,cool:[1,{elementor:i,de:i}],corsica:a,country:a,coupon:a,coupons:a,courses:a,cpa:a,credit:a,creditcard:a,creditunion:a,cricket:a,crown:a,crs:a,cruise:a,cruises:a,cuisinella:a,cymru:a,cyou:a,dad:a,dance:a,data:a,date:a,dating:a,datsun:a,day:a,dclk:a,dds:a,deal:a,dealer:a,deals:a,degree:a,delivery:a,dell:a,deloitte:a,delta:a,democrat:a,dental:a,dentist:a,desi:a,design:[1,{graphic:i,bss:i}],dev:[1,{"12chars":i,myaddr:i,panel:i,lcl:o,lclstage:o,stg:o,stgstage:o,pages:i,r2:i,workers:i,deno:i,"deno-staging":i,deta:i,lp:[2,{api:i,objects:i}],evervault:u,fly:i,githubpreview:i,gateway:o,botdash:i,inbrowser:o,"is-a-good":i,"is-a":i,iserv:i,runcontainers:i,localcert:[0,{user:o}],loginline:i,barsy:i,mediatech:i,modx:i,ngrok:i,"ngrok-free":i,"is-a-fullstack":i,"is-cool":i,"is-not-a":i,localplayer:i,xmit:i,"platter-app":i,replit:[2,{archer:i,bones:i,canary:i,global:i,hacker:i,id:i,janeway:i,kim:i,kira:i,kirk:i,odo:i,paris:i,picard:i,pike:i,prerelease:i,reed:i,riker:i,sisko:i,spock:i,staging:i,sulu:i,tarpit:i,teams:i,tucker:i,wesley:i,worf:i}],crm:[0,{d:o,w:o,wa:o,wb:o,wc:o,wd:o,we:o,wf:o}],vercel:i,webhare:o,hrsn:i}],dhl:a,diamonds:a,diet:a,digital:[1,{cloudapps:[2,{london:i}]}],direct:[1,{libp2p:i}],directory:a,discount:a,discover:a,dish:a,diy:a,dnp:a,docs:a,doctor:a,dog:a,domains:a,dot:a,download:a,drive:a,dtv:a,dubai:a,dunlop:a,dupont:a,durban:a,dvag:a,dvr:a,earth:a,eat:a,eco:a,edeka:a,education:v,email:[1,{crisp:[0,{on:i}],tawk:J,tawkto:J}],emerck:a,energy:a,engineer:a,engineering:a,enterprises:a,epson:a,equipment:a,ericsson:a,erni:a,esq:a,estate:[1,{compute:o}],eurovision:a,eus:[1,{party:Z}],events:[1,{koobin:i,co:i}],exchange:a,expert:a,exposed:a,express:a,extraspace:a,fage:a,fail:a,fairwinds:a,faith:a,family:a,fan:a,fans:a,farm:[1,{storj:i}],farmers:a,fashion:a,fast:a,fedex:a,feedback:a,ferrari:a,ferrero:a,fidelity:a,fido:a,film:a,final:a,finance:a,financial:v,fire:a,firestone:a,firmdale:a,fish:a,fishing:a,fit:a,fitness:a,flickr:a,flights:a,flir:a,florist:a,flowers:a,fly:a,foo:a,food:a,football:a,ford:a,forex:a,forsale:a,forum:a,foundation:a,fox:a,free:a,fresenius:a,frl:a,frogans:a,frontier:a,ftr:a,fujitsu:a,fun:a,fund:a,furniture:a,futbol:a,fyi:a,gal:a,gallery:a,gallo:a,gallup:a,game:a,games:[1,{pley:i,sheezy:i}],gap:a,garden:a,gay:[1,{pages:i}],gbiz:a,gdn:[1,{cnpy:i}],gea:a,gent:a,genting:a,george:a,ggee:a,gift:a,gifts:a,gives:a,giving:a,glass:a,gle:a,global:[1,{appwrite:i}],globo:a,gmail:a,gmbh:a,gmo:a,gmx:a,godaddy:a,gold:a,goldpoint:a,golf:a,goo:a,goodyear:a,goog:[1,{cloud:i,translate:i,usercontent:o}],google:a,gop:a,got:a,grainger:a,graphics:a,gratis:a,green:a,gripe:a,grocery:a,group:[1,{discourse:i}],gucci:a,guge:a,guide:a,guitars:a,guru:a,hair:a,hamburg:a,hangout:a,haus:a,hbo:a,hdfc:a,hdfcbank:a,health:[1,{hra:i}],healthcare:a,help:a,helsinki:a,here:a,hermes:a,hiphop:a,hisamitsu:a,hitachi:a,hiv:a,hkt:a,hockey:a,holdings:a,holiday:a,homedepot:a,homegoods:a,homes:a,homesense:a,honda:a,horse:a,hospital:a,host:[1,{cloudaccess:i,freesite:i,easypanel:i,fastvps:i,myfast:i,tempurl:i,wpmudev:i,iserv:i,jele:i,mircloud:i,wp2:i,half:i}],hosting:[1,{opencraft:i}],hot:a,hotel:a,hotels:a,hotmail:a,house:a,how:a,hsbc:a,hughes:a,hyatt:a,hyundai:a,ibm:a,icbc:a,ice:a,icu:a,ieee:a,ifm:a,ikano:a,imamat:a,imdb:a,immo:a,immobilien:a,inc:a,industries:a,infiniti:a,ing:a,ink:a,institute:a,insurance:a,insure:a,international:a,intuit:a,investments:a,ipiranga:a,irish:a,ismaili:a,ist:a,istanbul:a,itau:a,itv:a,jaguar:a,java:a,jcb:a,jeep:a,jetzt:a,jewelry:a,jio:a,jll:a,jmp:a,jnj:a,joburg:a,jot:a,joy:a,jpmorgan:a,jprs:a,juegos:a,juniper:a,kaufen:a,kddi:a,kerryhotels:a,kerryproperties:a,kfh:a,kia:a,kids:a,kim:a,kindle:a,kitchen:a,kiwi:a,koeln:a,komatsu:a,kosher:a,kpmg:a,kpn:a,krd:[1,{co:i,edu:i}],kred:a,kuokgroup:a,kyoto:a,lacaixa:a,lamborghini:a,lamer:a,land:a,landrover:a,lanxess:a,lasalle:a,lat:a,latino:a,latrobe:a,law:a,lawyer:a,lds:a,lease:a,leclerc:a,lefrak:a,legal:a,lego:a,lexus:a,lgbt:a,lidl:a,life:a,lifeinsurance:a,lifestyle:a,lighting:a,like:a,lilly:a,limited:a,limo:a,lincoln:a,link:[1,{myfritz:i,cyon:i,dweb:o,inbrowser:o,nftstorage:ei,mypep:i,storacha:ei,w3s:ei}],live:[1,{aem:i,hlx:i,ewp:o}],living:a,llc:a,llp:a,loan:a,loans:a,locker:a,locus:a,lol:[1,{omg:i}],london:a,lotte:a,lotto:a,love:a,lpl:a,lplfinancial:a,ltd:a,ltda:a,lundbeck:a,luxe:a,luxury:a,madrid:a,maif:a,maison:a,makeup:a,man:a,management:a,mango:a,map:a,market:a,marketing:a,markets:a,marriott:a,marshalls:a,mattel:a,mba:a,mckinsey:a,med:a,media:en,meet:a,melbourne:a,meme:a,memorial:a,men:a,menu:[1,{barsy:i,barsyonline:i}],merck:a,merckmsd:a,miami:a,microsoft:a,mini:a,mint:a,mit:a,mitsubishi:a,mlb:a,mls:a,mma:a,mobile:a,moda:a,moe:a,moi:a,mom:a,monash:a,money:a,monster:a,mormon:a,mortgage:a,moscow:a,moto:a,motorcycles:a,mov:a,movie:a,msd:a,mtn:a,mtr:a,music:a,nab:a,nagoya:a,navy:a,nba:a,nec:a,netbank:a,netflix:a,network:[1,{aem:i,alces:o,co:i,arvo:i,azimuth:i,tlon:i}],neustar:a,new:a,news:[1,{noticeable:i}],next:a,nextdirect:a,nexus:a,nfl:a,ngo:a,nhk:a,nico:a,nike:a,nikon:a,ninja:a,nissan:a,nissay:a,nokia:a,norton:a,now:a,nowruz:a,nowtv:a,nra:a,nrw:a,ntt:a,nyc:a,obi:a,observer:a,office:a,okinawa:a,olayan:a,olayangroup:a,ollo:a,omega:a,one:[1,{kin:o,service:i}],ong:[1,{obl:i}],onl:a,online:[1,{eero:i,"eero-stage":i,websitebuilder:i,barsy:i}],ooo:a,open:a,oracle:a,orange:[1,{tech:i}],organic:a,origins:a,osaka:a,otsuka:a,ott:a,ovh:[1,{nerdpol:i}],page:[1,{aem:i,hlx:i,translated:i,codeberg:i,heyflow:i,prvcy:i,rocky:i,pdns:i,plesk:i}],panasonic:a,paris:a,pars:a,partners:a,parts:a,party:a,pay:a,pccw:a,pet:a,pfizer:a,pharmacy:a,phd:a,philips:a,phone:a,photo:a,photography:a,photos:en,physio:a,pics:a,pictet:a,pictures:[1,{1337:i}],pid:a,pin:a,ping:a,pink:a,pioneer:a,pizza:[1,{ngrok:i}],place:v,play:a,playstation:a,plumbing:a,plus:a,pnc:a,pohl:a,poker:a,politie:a,porn:a,praxi:a,press:a,prime:a,prod:a,productions:a,prof:a,progressive:a,promo:a,properties:a,property:a,protection:a,pru:a,prudential:a,pub:[1,{id:o,kin:o,barsy:i}],pwc:a,qpon:a,quebec:a,quest:a,racing:a,radio:a,read:a,realestate:a,realtor:a,realty:a,recipes:a,red:a,redstone:a,redumbrella:a,rehab:a,reise:a,reisen:a,reit:a,reliance:a,ren:a,rent:a,rentals:a,repair:a,report:a,republican:a,rest:a,restaurant:a,review:a,reviews:[1,{aem:i}],rexroth:a,rich:a,richardli:a,ricoh:a,ril:a,rio:a,rip:[1,{clan:i}],rocks:[1,{myddns:i,stackit:i,"lima-city":i,webspace:i}],rodeo:a,rogers:a,room:a,rsvp:a,rugby:a,ruhr:a,run:[1,{appwrite:o,development:i,ravendb:i,liara:[2,{iran:i}],servers:i,lovable:i,build:o,code:o,database:o,migration:o,onporter:i,repl:i,stackit:i,val:[2,{web:i}],vercel:i,wix:i}],rwe:a,ryukyu:a,saarland:a,safe:a,safety:a,sakura:a,sale:a,salon:a,samsclub:a,samsung:a,sandvik:a,sandvikcoromant:a,sanofi:a,sap:a,sarl:a,sas:a,save:a,saxo:a,sbi:a,sbs:a,scb:a,schaeffler:a,schmidt:a,scholarships:a,school:a,schule:a,schwarz:a,science:a,scot:[1,{gov:[2,{service:i}]}],search:a,seat:a,secure:a,security:a,seek:a,select:a,sener:a,services:[1,{loginline:i}],seven:a,sew:a,sex:a,sexy:a,sfr:a,shangrila:a,sharp:a,shell:a,shia:a,shiksha:a,shoes:a,shop:[1,{base:i,hoplix:i,barsy:i,barsyonline:i,shopware:i}],shopping:a,shouji:a,show:a,silk:a,sina:a,singles:a,site:[1,{square:i,canva:E,cloudera:o,convex:i,cyon:i,caffeine:i,fastvps:i,figma:i,preview:i,heyflow:i,jele:i,jouwweb:i,loginline:i,barsy:i,notion:i,omniwe:i,opensocial:i,madethis:i,platformsh:o,tst:o,byen:i,srht:i,novecore:i,cpanel:i,wpsquared:i}],ski:a,skin:a,sky:a,skype:a,sling:a,smart:a,smile:a,sncf:a,soccer:a,social:a,softbank:a,software:a,sohu:a,solar:a,solutions:a,song:a,sony:a,soy:a,spa:a,space:[1,{myfast:i,heiyu:i,hf:[2,{static:i}],"app-ionos":i,project:i,uber:i,xs4all:i}],sport:a,spot:a,srl:a,stada:a,staples:a,star:a,statebank:a,statefarm:a,stc:a,stcgroup:a,stockholm:a,storage:a,store:[1,{barsy:i,sellfy:i,shopware:i,storebase:i}],stream:a,studio:a,study:a,style:a,sucks:a,supplies:a,supply:a,support:[1,{barsy:i}],surf:a,surgery:a,suzuki:a,swatch:a,swiss:a,sydney:a,systems:[1,{knightpoint:i}],tab:a,taipei:a,talk:a,taobao:a,target:a,tatamotors:a,tatar:a,tattoo:a,tax:a,taxi:a,tci:a,tdk:a,team:[1,{discourse:i,jelastic:i}],tech:[1,{cleverapps:i}],technology:v,temasek:a,tennis:a,teva:a,thd:a,theater:a,theatre:a,tiaa:a,tickets:a,tienda:a,tips:a,tires:a,tirol:a,tjmaxx:a,tjx:a,tkmaxx:a,tmall:a,today:[1,{prequalifyme:i}],tokyo:a,tools:[1,{addr:G,myaddr:i}],top:[1,{ntdll:i,wadl:o}],toray:a,toshiba:a,total:a,tours:a,town:a,toyota:a,toys:a,trade:a,trading:a,training:a,travel:a,travelers:a,travelersinsurance:a,trust:a,trv:a,tube:a,tui:a,tunes:a,tushu:a,tvs:a,ubank:a,ubs:a,unicom:a,university:a,uno:a,uol:a,ups:a,vacations:a,vana:a,vanguard:a,vegas:a,ventures:a,verisign:a,versicherung:a,vet:a,viajes:a,video:a,vig:a,viking:a,villas:a,vin:a,vip:a,virgin:a,visa:a,vision:a,viva:a,vivo:a,vlaanderen:a,vodka:a,volvo:a,vote:a,voting:a,voto:a,voyage:a,wales:a,walmart:a,walter:a,wang:a,wanggou:a,watch:a,watches:a,weather:a,weatherchannel:a,webcam:a,weber:a,website:en,wed:a,wedding:a,weibo:a,weir:a,whoswho:a,wien:a,wiki:en,williamhill:a,win:a,windows:a,wine:a,winners:a,wme:a,wolterskluwer:a,woodside:a,work:a,works:a,world:a,wow:a,wtc:a,wtf:a,xbox:a,xerox:a,xihuan:a,xin:a,"xn--11b4c3d":a,:a,"xn--1ck2e1b":a,:a,"xn--1qqw23a":a,:a,"xn--30rr7y":a,:a,"xn--3bst00m":a,:a,"xn--3ds443g":a,:a,"xn--3pxu8k":a,:a,"xn--42c2d9a":a,:a,"xn--45q11c":a,:a,"xn--4gbrim":a,:a,"xn--55qw42g":a,:a,"xn--55qx5d":a,:a,"xn--5su34j936bgsg":a,:a,"xn--5tzm5g":a,:a,"xn--6frz82g":a,:a,"xn--6qq986b3xl":a,:a,"xn--80adxhks":a,:a,"xn--80aqecdr1a":a,:a,"xn--80asehdb":a,:a,"xn--80aswg":a,:a,"xn--8y0a063a":a,:a,"xn--9dbq2a":a,:a,"xn--9et52u":a,:a,"xn--9krt00a":a,:a,"xn--b4w605ferd":a,:a,"xn--bck1b9a5dre4c":a,:a,"xn--c1avg":a,:a,"xn--c2br7g":a,:a,"xn--cck2b3b":a,:a,"xn--cckwcxetd":a,:a,"xn--cg4bki":a,:a,"xn--czr694b":a,:a,"xn--czrs0t":a,:a,"xn--czru2d":a,:a,"xn--d1acj3b":a,:a,"xn--eckvdtc9d":a,:a,"xn--efvy88h":a,:a,"xn--fct429k":a,:a,"xn--fhbei":a,:a,"xn--fiq228c5hs":a,:a,"xn--fiq64b":a,:a,"xn--fjq720a":a,:a,"xn--flw351e":a,:a,"xn--fzys8d69uvgm":a,:a,"xn--g2xx48c":a,:a,"xn--gckr3f0f":a,:a,"xn--gk3at1e":a,:a,"xn--hxt814e":a,:a,"xn--i1b6b1a6a2e":a,:a,"xn--imr513n":a,:a,"xn--io0a7i":a,:a,"xn--j1aef":a,:a,"xn--jlq480n2rg":a,:a,"xn--jvr189m":a,:a,"xn--kcrx77d1x4a":a,:a,"xn--kput3i":a,:a,"xn--mgba3a3ejt":a,:a,"xn--mgba7c0bbn0a":a,:a,"xn--mgbab2bd":a,:a,"xn--mgbca7dzdo":a,:a,"xn--mgbi4ecexp":a,:a,"xn--mgbt3dhd":a,:a,"xn--mk1bu44c":a,:a,"xn--mxtq1m":a,:a,"xn--ngbc5azd":a,:a,"xn--ngbe9e0a":a,:a,"xn--ngbrx":a,:a,"xn--nqv7f":a,:a,"xn--nqv7fs00ema":a,:a,"xn--nyqy26a":a,:a,"xn--otu796d":a,:a,"xn--p1acf":[1,{"xn--90amc":i,"xn--j1aef":i,"xn--j1ael8b":i,"xn--h1ahn":i,"xn--j1adp":i,"xn--c1avg":i,"xn--80aaa0cvac":i,"xn--h1aliz":i,"xn--90a1af":i,"xn--41a":i}],:[1,{:i,:i,:i,:i,:i,:i,:i,:i,:i,:i}],"xn--pssy2u":a,:a,"xn--q9jyb4c":a,:a,"xn--qcka1pmc":a,:a,"xn--rhqv96g":a,:a,"xn--rovu88b":a,:a,"xn--ses554g":a,:a,"xn--t60b56a":a,:a,"xn--tckwe":a,:a,"xn--tiq49xqyj":a,:a,"xn--unup4y":a,:a,"xn--vermgensberater-ctb":a,vermgensberater:a,"xn--vermgensberatung-pwb":a,vermgensberatung:a,"xn--vhquv":a,:a,"xn--vuq861b":a,:a,"xn--w4r85el8fhu5dnra":a,:a,"xn--w4rs40l":a,:a,"xn--xhq521b":a,:a,"xn--zfr164b":a,:a,xyz:[1,{botdash:i,telebit:o}],yachts:a,yahoo:a,yamaxun:a,yandex:a,yodobashi:a,yoga:a,yokohama:a,you:a,youtube:a,yun:a,zappos:a,zara:a,zero:a,zip:a,zone:[1,{triton:o,stackit:i,lima:i}],zuerich:a}]);function eS(e,t,r,a){let i=null,n=t;for(;void 0!==n&&((n[0]&a)!=0&&(i={index:r+1,isIcann:1===n[0],isPrivate:2===n[0]}),-1!==r);){let t=n[1];n=Object.prototype.hasOwnProperty.call(t,e[r])?t[e[r]]:t["*"],r-=1}return i}function ev(e,t,r){var a;if(function(e,t,r){if(!t.allowPrivateDomains&&e.length>3){let t=e.length-1,a=e.charCodeAt(t),i=e.charCodeAt(t-1),n=e.charCodeAt(t-2),s=e.charCodeAt(t-3);if(109===a&&111===i&&99===n&&46===s)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="com",!0;if(103===a&&114===i&&111===n&&46===s)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="org",!0;if(117===a&&100===i&&101===n&&46===s)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="edu",!0;else if(118===a&&111===i&&103===n&&46===s)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="gov",!0;else if(116===a&&101===i&&110===n&&46===s)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="net",!0;else if(101===a&&100===i&&46===n)return r.isIcann=!0,r.isPrivate=!1,r.publicSuffix="de",!0}return!1}(e,t,r))return;let i=e.split("."),n=2*!!t.allowPrivateDomains|!!t.allowIcannDomains,s=eS(i,ey,i.length-1,n);if(null!==s){r.isIcann=s.isIcann,r.isPrivate=s.isPrivate,r.publicSuffix=i.slice(s.index+1).join(".");return}let o=eS(i,eb,i.length-1,n);if(null!==o){r.isIcann=o.isIcann,r.isPrivate=o.isPrivate,r.publicSuffix=i.slice(o.index).join(".");return}r.isIcann=!1,r.isPrivate=!1,r.publicSuffix=null!=(a=i[i.length-1])?a:null}function ek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(e,t,r,a,i){var n,s,o,l,u;let c=void 0===a?em:ef(a);if("string"!=typeof e)return i;if((c.extractHostname?c.mixedInputs?i.hostname=ed(e,eh(e)):i.hostname=ed(e,!1):i.hostname=e,c.detectIp&&null!==i.hostname)&&(i.isIp=function(e){if(e.length<3)return!1;let t=+!!e.startsWith("["),r=e.length;if("]"===e[r-1]&&(r-=1),r-t>39)return!1;let a=!1;for(;t<r;t+=1){let r=e.charCodeAt(t);if(58===r)a=!0;else if(!(r>=48&&r<=57||r>=97&&r<=102||r>=65&&r<=90))return!1}return a}(n=i.hostname)||function(e){if(e.length<7||e.length>15)return!1;let t=0;for(let r=0;r<e.length;r+=1){let a=e.charCodeAt(r);if(46===a)t+=1;else if(a<48||a>57)return!1}return 3===t&&46!==e.charCodeAt(0)&&46!==e.charCodeAt(e.length-1)}(n),i.isIp))return i;return c.validateHostname&&c.extractHostname&&null!==i.hostname&&!eh(i.hostname)?(i.hostname=null,i):null===i.hostname||(r(i.hostname,c,i),null===i.publicSuffix)||(i.domain=function(e,t,r){let a,i;if(null!==r.validHosts){for(let e of r.validHosts)if(t.endsWith(e)&&(t.length===e.length||"."===t[t.length-e.length-1]))return e}let n=0;if(t.startsWith("."))for(;n<t.length&&"."===t[n];)n+=1;return e.length===t.length-n?null:(a=t.length-e.length-2,-1===(i=t.lastIndexOf(".",a))?t:t.slice(i+1))}(i.publicSuffix,i.hostname,c),null===i.domain)?i:(s=i.hostname,i.subdomain=(o=i.domain).length===s.length?"":s.slice(0,-o.length-1),l=i.domain,u=i.publicSuffix,i.domainWithoutSuffix=l.slice(0,-u.length-1),i)}(e,0,ev,t,eg())}eg(),e.s(["parse",()=>ek],953632)},5105823,2424531,1524216,e=>{"use strict";let t,r,a,i,n,s,o,l;var u,c,d,p,h,f,m,g,y,b,S,v,k,w=e.i(4511046),E=e.i(8973927),x=e.i(6021311),I=e.i(8718972),T=e.i(6872829),C=e.i(1153763),R=e.i(1135554),F=e.i(2051545),A=e.i(8404901),O=e.i(3302588),_=e.i(8460856),M=e.i(2940189),D=e.i(9679606),N=e.i(6076596),z=e.i(7877750),P=e.i(7358204),L=e.i(5972454),U=e.i(578549),j=e.i(3322401),W=e.i(1177850),q=e.i(7836076),B=e.i(6098979),$=e.i(7069118),V=e.i(3683485),H=e.i(9159985),G=e.i(9227260),K=e.i(1737036),J=e.i(4935619),Z=e.i(5160412),Q=e.i(8643033);let Y=Symbol.for("@effect/platform/Socket"),X=e=>J.hasProperty(e,Y),ee=L.GenericTag("@effect/platform/Socket"),et=Symbol.for("@effect/platform/Socket/CloseEvent");class er{code;reason;[et];constructor(e=1e3,t){this.code=e,this.reason=t,this[et]=et}toString(){return this.reason?`${this.code}: ${this.reason}`:`${this.code}`}}let ea=e=>J.hasProperty(e,et),ei=Symbol.for("@effect/platform/Socket/SocketError"),en=e=>J.hasProperty(e,ei);class es extends(0,Q.TypeIdError)(ei,"SocketError"){get message(){return`An error occurred during ${this.reason}`}}class eo extends(0,Q.TypeIdError)(ei,"SocketError"){static is(e){return en(e)&&"Close"===e.reason}static isClean(e){return function(t){return eo.is(t)&&e(t.code)}}get message(){return this.closeReason?`${this.reason}: ${this.code}: ${this.closeReason}`:`${this.reason}: ${this.code}`}}let el=(e,t)=>j.gen(function*(){let r=yield*j.scope,a=yield*K.make(),i=yield*Z.fork(r,W.sequential),n=yield*Z.extend(e.writer,i);return yield*e.runRaw(e=>{a.unsafeOffer(t(e))}).pipe(K.into(a),j.forkIn(r),j.interruptible),P.embedInput(K.toChannel(a),{awaitRead:()=>j.void,emit:e=>j.catchAllCause(j.gen(()=>(function*(e){for(let t of e)yield*n(t)})(e)),e=>a.failCause(e)),error:e=>j.zipRight(Z.close(i,q.void),a.failCause(e)),done:()=>Z.close(i,q.void)})}).pipe(P.unwrapScoped),eu=e=>{let t=new TextEncoder;return el(e,e=>"string"==typeof e?t.encode(e):e)},ec=(0,V.dual)(e=>X(e[0]),(e,t)=>{let r=new TextDecoder(t);return el(e,e=>"string"==typeof e?e:r.decode(e))}),ed=()=>e=>eu(e),ep=e=>1e3!==e&&1006!==e,eh=L.GenericTag("@effect/platform/Socket/WebSocket"),ef=L.GenericTag("@effect/platform/Socket/WebSocketConstructor"),em=G.succeed(ef,(e,t)=>new globalThis.WebSocket(e,t)),eg=(e,t)=>ey(j.acquireRelease(("string"==typeof e?j.succeed(e):e).pipe(j.flatMap(e=>j.map(ef,r=>r(e,t?.protocols)))),e=>j.sync(()=>e.close(1e3))),t),ey=(e,t)=>j.withFiberRuntime(r=>{let a,i=j.unsafeMakeLatch(!1),n=r.currentContext,s=t?.closeCodeIsError??ep,o=(o,l)=>j.scopedWith(j.fnUntraced(function*(n){let u=yield*$.make().pipe(Z.extend(n)),c=yield*Z.extend(e,n),d=yield*j.provideService($.runtime(u)(),eh,c),p=!1;function h(e){if(e.data instanceof Blob)return j.promise(()=>e.data.arrayBuffer()).pipe(j.andThen(e=>o(new Uint8Array(e))),d);let t=o(e.data);j.isEffect(t)&&d(t)}function f(e){c.removeEventListener("message",h),c.removeEventListener("close",m),U.unsafeDone(u.deferred,j.fail(new es({reason:p?"Read":"Open",cause:e})))}function m(e){c.removeEventListener("message",h),c.removeEventListener("error",f),U.unsafeDone(u.deferred,j.fail(new eo({reason:"Close",code:e.code,closeReason:e.reason})))}if(c.addEventListener("close",m,{once:!0}),c.addEventListener("error",f,{once:!0}),c.addEventListener("message",h),1!==c.readyState){let e=U.unsafeMake(r.id());c.addEventListener("open",()=>{p=!0,U.unsafeDone(e,j.void)},{once:!0}),yield*U.await(e).pipe(j.timeoutFail({duration:t?.openTimeout??1e4,onTimeout:()=>new es({reason:"OpenTimeout",cause:'timeout waiting for "open"'})}),j.raceFirst($.join(u)))}return p=!0,a=c,yield*i.open,l?.onOpen&&(yield*l.onOpen),yield*$.join(u).pipe(j.catchIf(eo.isClean(e=>!s(e)),e=>j.void))})).pipe(j.mapInputContext(e=>L.merge(n,e)),j.ensuring(j.sync(()=>{i.unsafeClose(),a=void 0})),j.interruptible),l=new TextEncoder,u=j.succeed(e=>i.whenOpen(j.sync(()=>{let t=a;ea(e)?t.close(e.code,e.reason):t.send(e)})));return j.succeed(ee.of({[Y]:Y,run:(e,t)=>o(t=>"string"==typeof t?e(l.encode(t)):t instanceof Uint8Array?e(t):e(new Uint8Array(t)),t),runRaw:o,writer:u}))}),eb=(0,H.globalValue)("@effect/platform/Socket/currentSendQueueCapacity",()=>B.unsafeMake(16));e.s(["CloseEvent",()=>er,"CloseEventTypeId",0,et,"Socket",0,ee,"SocketCloseError",()=>eo,"SocketErrorTypeId",0,ei,"SocketGenericError",()=>es,"TypeId",0,Y,"WebSocket",0,eh,"WebSocketConstructor",0,ef,"currentSendQueueCapacity",0,eb,"defaultCloseCodeIsError",0,ep,"fromTransformStream",0,(e,t)=>j.withFiberRuntime(r=>{let a,i=j.unsafeMakeLatch(!1),n=r.currentContext,s=t?.closeCodeIsError??ep,o=(t,r)=>j.scopedWith(j.fnUntraced(function*(n){let o=yield*Z.extend(e,n),l=o.readable.getReader();yield*Z.addFinalizer(n,j.promise(()=>l.cancel()));let u=yield*$.make().pipe(Z.extend(n)),c=yield*$.runtime(u)();return yield*j.tryPromise({try:async()=>{for(;;){let{done:e,value:r}=await l.read();if(e)throw new eo({reason:"Close",code:1e3});let a=t(r);j.isEffect(a)&&c(a)}},catch:e=>en(e)?e:new es({reason:"Read",cause:e})}).pipe($.run(u)),a={stream:o,fiberSet:u},yield*i.open,r?.onOpen&&(yield*r.onOpen),yield*$.join(u).pipe(j.catchIf(eo.isClean(e=>!s(e)),e=>j.void))})).pipe(e=>e,j.mapInputContext(e=>L.merge(n,e)),j.ensuring(j.sync(()=>{i.unsafeClose(),a=void 0})),j.interruptible),l=new TextEncoder,u=new WeakMap,c=e=>{let t=u.get(e);return t||(t=e.writable.getWriter(),u.set(e,t)),t},d=j.acquireRelease(j.succeed(e=>i.whenOpen(j.suspend(()=>{let{fiberSet:t,stream:r}=a;return ea(e)?U.fail(t.deferred,new eo({reason:"Close",code:e.code,closeReason:e.reason})):j.promise(()=>c(r).write("string"==typeof e?l.encode(e):e))}))),()=>j.promise(async()=>{a&&await c(a.stream).close()}));return j.succeed(ee.of({[Y]:Y,run:(e,t)=>o(t=>"string"==typeof t?e(l.encode(t)):e(t),t),runRaw:o,writer:d}))}),"fromWebSocket",0,ey,"isCloseEvent",0,ea,"isSocket",0,X,"isSocketError",0,en,"layerWebSocket",0,(e,t)=>G.effect(ee,eg(e,t)),"layerWebSocketConstructorGlobal",0,em,"makeChannel",0,()=>P.unwrap(j.map(ee,ed())),"makeWebSocket",0,eg,"makeWebSocketChannel",0,(e,t)=>P.unwrapScoped(j.map(eg(e,t),ed())),"toChannel",0,eu,"toChannelMap",0,el,"toChannelString",0,ec,"toChannelWith",0,ed],2663153);var eS=L,ev=e.i(8815901),ek=e.i(9552070),ew=e.i(9973079);class eE extends eS.Tag("@effect/platform/Transferable/Collector")(){}ew.Any,ew.Any,ew.Uint8ArrayFromSelf;var ex=e.i(8973103),eI=e.i(7525378),eT=e.i(6816077),eC=e.i(9960543),eR=e.i(4039787),eF=e.i(7548658),eA=e.i(7294722),eO=e.i(4026828),e_=e.i(1658800),eM=e.i(8398712);let eD=Symbol.for("effect/Pool"),eN={_E:e=>e,_A:e=>e},ez=e=>eF.uninterruptibleMask(t=>eF.flatMap(eF.context(),r=>{let a=L.get(r,e_.scopeTag),i=new eP(a,eF.mapInputContext(e.acquire,e=>L.merge(r,e)),e.concurrency??1,e.min,e.max,e.strategy,Math.min(Math.max(e.targetUtilization??1,.1),1)),n=eF.tap(e_.forkDaemon(t(i.resize)),e=>a.addFinalizer(()=>eF.interruptFiber(e))),s=eF.tap(e_.forkDaemon(t(e.strategy.run(i))),e=>a.addFinalizer(()=>eF.interruptFiber(e)));return eF.succeed(i).pipe(eF.zipLeft(a.addFinalizer(()=>i.shutdown)),eF.zipLeft(n),eF.zipLeft(s))}));class eP extends eI.Class{scope;acquire;concurrency;minSize;maxSize;strategy;targetUtilization;[eD];isShuttingDown=!1;semaphore;items=new Set;available=new Set;availableLatch=eO.unsafeMakeLatch(!1);invalidated=new Set;waiters=0;constructor(e,t,r,a,i,n,s){super(),this.scope=e,this.acquire=t,this.concurrency=r,this.minSize=a,this.maxSize=i,this.strategy=n,this.targetUtilization=s,this[eD]=eN,this.semaphore=eO.unsafeMakeSemaphore(r*i)}allocate=eF.acquireUseRelease(e_.scopeMake(),e=>this.acquire.pipe(e_.scopeExtend(e),eF.exit,eF.flatMap(t=>{let r={exit:t,finalizer:eF.catchAllCause(e.close(t),eL),refCount:0,disableReclaim:!1};return this.items.add(r),this.available.add(r),eF.as("Success"===t._tag?this.strategy.onAcquire(r):eF.zipRight(r.finalizer,this.strategy.onAcquire(r)),r)})),(e,t)=>"Failure"===t._tag?e.close(t):eF.void);get currentUsage(){let e=this.waiters;for(let t of this.items)e+=t.refCount;return e}get targetSize(){if(this.isShuttingDown)return 0;let e=Math.ceil(this.currentUsage/this.targetUtilization/this.concurrency);return Math.min(Math.max(this.minSize,e),this.maxSize)}get activeSize(){return this.items.size-this.invalidated.size}resizeLoop=eF.suspend(()=>{if(this.activeSize>=this.targetSize)return eF.void;let e=this.targetSize-this.activeSize;return this.strategy.reclaim(this).pipe(eF.flatMap(ev.match({onNone:()=>this.allocate,onSome:eF.succeed})),e_.replicateEffect(e,{concurrency:e}),eF.zipLeft(this.availableLatch.open),eF.flatMap(e=>e.some(e=>"Failure"===e.exit._tag)?eF.void:this.resizeLoop))});resizeSemaphore=eO.unsafeMakeSemaphore(1);resize=this.resizeSemaphore.withPermits(1)(this.resizeLoop);getPoolItem=eF.uninterruptibleMask(e=>e(this.semaphore.take(1)).pipe(eF.zipRight(e_.scopeTag),eF.flatMap(e=>eF.suspend(()=>{if(this.waiters++,this.isShuttingDown)return eF.interrupt;if(this.targetSize>this.activeSize){let e=this;return eF.flatMap(this.resizeSemaphore.withPermitsIfAvailable(1)(eO.forkIn(eF.interruptible(this.resize),this.scope)),function t(){return e.isShuttingDown?eF.interrupt:e.available.size>0?eF.succeed(eT.unsafeHead(e.available)):(e.availableLatch.unsafeClose(),eF.flatMap(e.availableLatch.await,t))})}return eF.succeed(eT.unsafeHead(this.available))}).pipe(e_.ensuring(eF.sync(()=>this.waiters--)),eF.tap(t=>"Failure"===t.exit._tag?(this.items.delete(t),this.invalidated.delete(t),this.available.delete(t),this.semaphore.release(1)):(t.refCount++,this.available.delete(t),t.refCount<this.concurrency&&this.available.add(t),e.addFinalizer(()=>eF.zipRight(eF.suspend(()=>(t.refCount--,this.invalidated.has(t))?this.invalidatePoolItem(t):(this.available.add(t),eF.exitVoid)),this.semaphore.release(1))))),eF.onInterrupt(()=>this.semaphore.release(1))))));commit(){return this.get}get=eF.flatMap(eF.suspend(()=>this.isShuttingDown?eF.interrupt:this.getPoolItem),e=>e.exit);invalidate(e){return eF.suspend(()=>{if(this.isShuttingDown)return eF.void;for(let t of this.items)if("Success"===t.exit._tag&&t.exit.value===e)return t.disableReclaim=!0,eF.uninterruptible(this.invalidatePoolItem(t));return eF.void})}invalidatePoolItem(e){return eF.suspend(()=>this.items.has(e)?0===e.refCount?(this.items.delete(e),this.available.delete(e),this.invalidated.delete(e),eF.zipRight(e.finalizer,eO.forkIn(eF.interruptible(this.resize),this.scope))):(this.invalidated.add(e),this.available.delete(e),eF.void):eF.void)}get shutdown(){return eF.suspend(()=>{if(this.isShuttingDown)return eF.void;this.isShuttingDown=!0;let e=this.items.size,t=eO.unsafeMakeSemaphore(e);return eF.forEachSequentialDiscard(this.items,e=>e.refCount>0?(e.finalizer=eF.zipLeft(e.finalizer,t.release(1)),this.invalidated.add(e),t.take(1)):(this.items.delete(e),this.available.delete(e),this.invalidated.delete(e),e.finalizer)).pipe(eF.zipRight(this.semaphore.releaseAll),eF.zipRight(this.availableLatch.open),eF.zipRight(t.take(e)))})}pipe(){return(0,eC.pipeArguments)(this,arguments)}}let eL=e=>eF.withFiberRuntime(t=>{let r=t.getFiberRef(eF.currentUnhandledErrorLogLevel);return"Some"===r._tag&&t.log("Unhandled error in pool finalizer",e,r),eF.void});var eU=e.i(5310088),ej=e.i(7703391),eW=e.i(8554418),eq=(e.i(1253121),ew);let eB=Symbol.for("@effect/platform/WorkerError");class e$ extends eq.TaggedError()("WorkerError",{reason:eq.Literal("spawn","decode","send","unknown","encode"),cause:eq.Defect}){[eB]=eB;static Cause=eq.Cause({error:this,defect:eq.Defect});static encodeCause=ek.encodeSync(this.Cause);static decodeCause=ek.decodeSync(this.Cause);get message(){switch(this.reason){case"send":return"An error occurred calling .postMessage";case"spawn":return"An error occurred while spawning a worker";case"decode":return"An error occurred during decoding";case"encode":return"An error occurred during encoding";case"unknown":return"An unexpected error occurred"}}}let eV=L.GenericTag("@effect/platform/Worker/PlatformWorker");var eH=e.i(5450905),eG=e.i(7862555),eK=L,eJ=e.i(6028004),eZ=e.i(1150852);let eQ=Symbol.for("effect/PrimaryKey");e.s(["symbol",0,eQ],2424531);var eY=ew,eX=e.i(1932814);let e0=Symbol.for("@effect/rpc/RpcSchema/Stream"),e1=e=>e.annotations[e0]?ev.some(e.annotations[e0]):ev.none(),e2=(e,t)=>(r,a,i)=>j.flatMap(j.context(),n=>(0,J.hasProperty)(r,eW.StreamTypeId)?j.succeed(r.pipe(eW.mapChunksEffect(t=>e(t,a)),eW.catchAll(e=>ek.isParseError(e)?eW.die(e):j.matchEffect(t(e,a),{onFailure:j.die,onSuccess:j.fail})),eW.provideContext(n))):j.fail(new ek.Type(i,r))),e3=Symbol.for("@effect/rpc/Rpc"),e5={[e3]:e3,pipe(){return(0,eC.pipeArguments)(this,arguments)},setSuccess(e){return e4({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:e,errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},setError(e){return e4({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:e,annotations:this.annotations,middlewares:this.middlewares})},setPayload(e){return e4({_tag:this._tag,payloadSchema:eY.isSchema(e)?e:eY.Struct(e),successSchema:this.successSchema,errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},middleware(e){return e4({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:this.errorSchema,annotations:this.annotations,middlewares:new Set([...this.middlewares,e])})},prefix(e){return e4({_tag:`${e}${this._tag}`,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:this.errorSchema,annotations:this.annotations,middlewares:this.middlewares})},annotate(e,t){return e4({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:this.errorSchema,middlewares:this.middlewares,annotations:L.add(this.annotations,e,t)})},annotateContext(e){return e4({_tag:this._tag,payloadSchema:this.payloadSchema,successSchema:this.successSchema,errorSchema:this.errorSchema,middlewares:this.middlewares,annotations:L.merge(this.annotations,e)})}},e4=e=>{function t(){}return Object.setPrototypeOf(t,e5),Object.assign(t,e),t.key=`@effect/rpc/Rpc/${e._tag}`,t},e8=e=>e4({_tag:e._tag,payloadSchema:e,successSchema:e.success,errorSchema:e.failure,annotations:L.empty(),middlewares:new Set}),e6=(0,H.globalValue)("@effect/rpc/Rpc/exitSchemaCache",()=>new WeakMap),e9=e=>{if(e6.has(e))return e6.get(e);let t=new Set([e.errorSchema]),r=e1(e.successSchema.ast);for(let a of(ev.isSome(r)&&t.add(r.value.failure),e.middlewares))t.add(a.failure);let a=eY.Exit({success:ev.isSome(r)?eY.Void:e.successSchema,failure:eY.Union(...t),defect:eY.Defect});return e6.set(e,a),a},e7=Symbol.for("@effect/rpc/Rpc/Wrapper"),te=e=>e7 in e,tt=e=>t=>te(t)?{[e7]:e7,value:t.value,fork:e.fork??t.fork,uninterruptible:e.uninterruptible??t.uninterruptible}:{[e7]:e7,value:t,fork:e.fork??!1,uninterruptible:e.uninterruptible??!1},tr=tt({fork:!0}),ta=tt({uninterruptible:!0});e.s(["TypeId",0,e3,"WrapperTypeId",0,e7,"exitSchema",0,e9,"fork",0,tr,"fromTaggedRequest",0,e8,"isRpc",0,e=>J.hasProperty(e,e3),"isWrapper",0,te,"make",0,(e,t)=>{let r,a=t?.success??eY.Void,i=t?.error??eY.Never;return r=t?.primaryKey?class extends eY.Class(`@effect/rpc/Rpc/${e}`)(t.payload){[eQ](){return t.primaryKey(this)}}:eY.isSchema(t?.payload)?t?.payload:t?.payload?eY.Struct(t?.payload):eY.Void,e4({_tag:e,payloadSchema:r,successSchema:t?.stream?(e=>{let{failure:t,success:r}=e;return Object.assign(ew.declare([r,t],{decode:(e,t)=>e2(ek.decodeUnknown(ew.ChunkFromSelf(e)),ek.decodeUnknown(t)),encode:(e,t)=>e2(ek.encodeUnknown(ew.ChunkFromSelf(e)),ek.encodeUnknown(t))},{schemaId:e0,[e0]:{success:r,failure:t}}),{success:r,failure:t})})({success:a,failure:i}):a,errorSchema:t?.stream?eY.Never:i,annotations:L.empty(),middlewares:new Set})},"uninterruptible",0,ta,"wrap",0,tt],3901156);var ti=ew;let tn=Symbol.for("@effect/rpc/RpcClientError");class ts extends ti.TaggedError("@effect/rpc/RpcClientError")("RpcClientError",{reason:ti.Literal("Protocol","Unknown"),message:ti.String,cause:ti.optional(ti.Defect)}){[tn]=tn}let to=e=>"bigint"==typeof e?e:BigInt(e),tl={_tag:"Ping"};ew.Defect;var tu=L,tc=e.i(2174061);try{u=new TextDecoder}catch(e){}var td=0;let tp=[];var th=tp,tf=0,tm={},tg=0,ty=0,tb=[],tS={useRecords:!1,mapsAsObjects:!0};class tv{}let tk=new tv;tk.name="MessagePack 0xC1";var tw=!1,tE=2;try{Function("")}catch(e){tE=1/0}class tx{constructor(e){e&&(!1===e.useRecords&&void 0===e.mapsAsObjects&&(e.mapsAsObjects=!0),e.sequential&&!1!==e.trusted&&(e.trusted=!0,!e.structures&&!1!=e.useRecords&&(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,t){if(c)return tX(()=>(t0(),this?this.unpack(e,t):tx.prototype.unpack.call(tS,e,t)));e.buffer||e.constructor!==ArrayBuffer||(e=void 0!==tc.Buffer?tc.Buffer.from(e):new Uint8Array(e)),"object"==typeof t?(d=t.end||e.length,td=t.start||0):(td=0,d=t>-1?t:e.length),tf=0,ty=0,h=null,th=tp,f=null,c=e;try{g=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(t){if(c=null,e instanceof Uint8Array)throw t;throw Error("Source must be a Uint8Array or Buffer but was a "+(e&&"object"==typeof e?e.constructor.name:typeof e))}return this instanceof tx?(tm=this,this.structures?p=this.structures:(!p||p.length>0)&&(p=[])):(tm=tS,(!p||p.length>0)&&(p=[])),tI(t)}unpackMultiple(e,t){let r,a=0;try{tw=!0;let i=e.length,n=this?this.unpack(e,i):t2.unpack(e,i);if(t){if(!1===t(n,a,td))return;for(;td<i;)if(a=td,!1===t(tI(),a,td))return}else{for(r=[n];td<i;)a=td,r.push(tI());return r}}catch(e){throw e.lastPosition=a,e.values=r,e}finally{tw=!1,t0()}}_mergeStructures(e,t){b&&(e=b.call(this,e)),Object.isFrozen(e=e||[])&&(e=e.map(e=>e.slice(0)));for(let t=0,r=e.length;t<r;t++){let r=e[t];r&&(r.isShared=!0,t>=32&&(r.highByte=t-32>>5))}for(let r in e.sharedLength=e.length,t||[])if(r>=0){let a=e[r],i=t[r];i&&(a&&((e.restoreStructures||(e.restoreStructures=[]))[r]=a),e[r]=i)}return this.structures=e}decode(e,t){return this.unpack(e,t)}}function tI(e){try{let t;if(!tm.trusted&&!tw){let e=p.sharedLength||0;e<p.length&&(p.length=e)}if(tm.randomAccessStructure&&c[td]<64&&c[td]>=32&&y?(t=y(c,td,d,tm),c=null,!(e&&e.lazy)&&t&&(t=t.toJSON()),td=d):t=tC(),f&&(td=f.postBundlePosition,f=null),tw&&(p.restoreStructures=null),td==d)p&&p.restoreStructures&&tT(),p=null,c=null,m&&(m=null);else if(td>d)throw Error("Unexpected end of MessagePack data");else if(!tw){let e;try{e=JSON.stringify(t,(e,t)=>"bigint"==typeof t?`${t}n`:t).slice(0,100)}catch(t){e="(JSON view not available "+t+")"}throw Error("Data read, but end of buffer not reached "+e)}return t}catch(e){throw p&&p.restoreStructures&&tT(),t0(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||td>d)&&(e.incomplete=!0),e}}function tT(){for(let e in p.restoreStructures)p[e]=p.restoreStructures[e];p.restoreStructures=null}function tC(){let e=c[td++];if(e<160)if(e<128)if(e<64)return e;else{let t=p[63&e]||tm.getStructures&&tO()[63&e];return t?(t.read||(t.read=tF(t,63&e)),t.read()):e}else if(e<144){if(e-=128,tm.mapsAsObjects){let t={};for(let r=0;r<e;r++){let e=tH();"__proto__"===e&&(e="__proto_"),t[e]=tC()}return t}{let t=new Map;for(let r=0;r<e;r++)t.set(tC(),tC());return t}}else{let t=Array(e-=144);for(let r=0;r<e;r++)t[r]=tC();return tm.freezeData?Object.freeze(t):t}if(e<192){let t=e-160;if(ty>=td)return h.slice(td-tg,(td+=t)-tg);if(0==ty&&d<140){let e=t<16?tW(t):tj(t);if(null!=e)return e}return t_(t)}{let t;switch(e){case 192:return null;case 193:if(f){if((t=tC())>0)return f[1].slice(f.position1,f.position1+=t);return f[0].slice(f.position0,f.position0-=t)}return tk;case 194:return!1;case 195:return!0;case 196:if(void 0===(t=c[td++]))throw Error("Unexpected end of buffer");return tB(t);case 197:return t=g.getUint16(td),td+=2,tB(t);case 198:return t=g.getUint32(td),td+=4,tB(t);case 199:return t$(c[td++]);case 200:return t=g.getUint16(td),td+=2,t$(t);case 201:return t=g.getUint32(td),td+=4,t$(t);case 202:if(t=g.getFloat32(td),tm.useFloat32>2){let e=t1[(127&c[td])<<1|c[td+1]>>7];return td+=4,(e*t+(t>0?.5:-.5)|0)/e}return td+=4,t;case 203:return t=g.getFloat64(td),td+=8,t;case 204:return c[td++];case 205:return t=g.getUint16(td),td+=2,t;case 206:return t=g.getUint32(td),td+=4,t;case 207:return"number"===tm.int64AsType?t=0x100000000*g.getUint32(td)+g.getUint32(td+4):"string"===tm.int64AsType?t=g.getBigUint64(td).toString():"auto"===tm.int64AsType?(t=g.getBigUint64(td))<=BigInt(2)<<BigInt(52)&&(t=Number(t)):t=g.getBigUint64(td),td+=8,t;case 208:return g.getInt8(td++);case 209:return t=g.getInt16(td),td+=2,t;case 210:return t=g.getInt32(td),td+=4,t;case 211:return"number"===tm.int64AsType?t=0x100000000*g.getInt32(td)+g.getUint32(td+4):"string"===tm.int64AsType?t=g.getBigInt64(td).toString():"auto"===tm.int64AsType?(t=g.getBigInt64(td))>=BigInt(-2)<<BigInt(52)&&t<=BigInt(2)<<BigInt(52)&&(t=Number(t)):t=g.getBigInt64(td),td+=8,t;case 212:if(114==(t=c[td++]))return tK(63&c[td++]);{let e=tb[t];if(e)if(e.read)return td++,e.read(tC());else if(e.noBuffer)return td++,e();else return e(c.subarray(td,++td));throw Error("Unknown extension "+t)}case 213:if(114==(t=c[td]))return td++,tK(63&c[td++],c[td++]);return t$(2);case 214:return t$(4);case 215:return t$(8);case 216:return t$(16);case 217:if(t=c[td++],ty>=td)return h.slice(td-tg,(td+=t)-tg);return tM(t);case 218:if(t=g.getUint16(td),td+=2,ty>=td)return h.slice(td-tg,(td+=t)-tg);return tD(t);case 219:if(t=g.getUint32(td),td+=4,ty>=td)return h.slice(td-tg,(td+=t)-tg);return tN(t);case 220:return t=g.getUint16(td),td+=2,tP(t);case 221:return t=g.getUint32(td),td+=4,tP(t);case 222:return t=g.getUint16(td),td+=2,tL(t);case 223:return t=g.getUint32(td),td+=4,tL(t);default:if(e>=224)return e-256;if(void 0===e){let e=Error("Unexpected end of MessagePack data");throw e.incomplete=!0,e}throw Error("Unknown MessagePack token "+e)}}}let tR=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function tF(e,t){function r(){if(r.count++>tE){let r=e.read=Function("r","return function(){return "+(tm.freezeData?"Object.freeze":"")+"({"+e.map(e=>"__proto__"===e?"__proto_:r()":tR.test(e)?e+":r()":"["+JSON.stringify(e)+"]:r()").join(",")+"})}")(tC);return 0===e.highByte&&(e.read=tA(t,e.read)),r()}let a={};for(let t=0,r=e.length;t<r;t++){let r=e[t];"__proto__"===r&&(r="__proto_"),a[r]=tC()}return tm.freezeData?Object.freeze(a):a}return(r.count=0,0===e.highByte)?tA(t,r):r}let tA=(e,t)=>function(){let r=c[td++];if(0===r)return t();let a=e<32?-(e+(r<<5)):e+(r<<5),i=p[a]||tO()[a];if(!i)throw Error("Record id is not defined for "+a);return i.read||(i.read=tF(i,e)),i.read()};function tO(){let e=tX(()=>(c=null,tm.getStructures()));return p=tm._mergeStructures(e,p)}var t_=tz,tM=tz,tD=tz,tN=tz;function tz(e){let t;if(e<16&&(t=tW(e)))return t;if(e>64&&u)return u.decode(c.subarray(td,td+=e));let r=td+e,a=[];for(t="";td<r;){let e=c[td++];if((128&e)==0)a.push(e);else if((224&e)==192){let t=63&c[td++];a.push((31&e)<<6|t)}else if((240&e)==224){let t=63&c[td++],r=63&c[td++];a.push((31&e)<<12|t<<6|r)}else if((248&e)==240){let t=(7&e)<<18|(63&c[td++])<<12|(63&c[td++])<<6|63&c[td++];t>65535&&(t-=65536,a.push(t>>>10&1023|55296),t=56320|1023&t),a.push(t)}else a.push(e);a.length>=4096&&(t+=tU.apply(String,a),a.length=0)}return a.length>0&&(t+=tU.apply(String,a)),t}function tP(e){let t=Array(e);for(let r=0;r<e;r++)t[r]=tC();return tm.freezeData?Object.freeze(t):t}function tL(e){if(tm.mapsAsObjects){let t={};for(let r=0;r<e;r++){let e=tH();"__proto__"===e&&(e="__proto_"),t[e]=tC()}return t}{let t=new Map;for(let r=0;r<e;r++)t.set(tC(),tC());return t}}var tU=String.fromCharCode;function tj(e){let t=td,r=Array(e);for(let a=0;a<e;a++){let e=c[td++];if((128&e)>0){td=t;return}r[a]=e}return tU.apply(String,r)}function tW(e){if(e<4)if(e<2)if(0===e)return"";else{let e=c[td++];if((128&e)>1){td-=1;return}return tU(e)}else{let t=c[td++],r=c[td++];if((128&t)>0||(128&r)>0){td-=2;return}if(e<3)return tU(t,r);let a=c[td++];if((128&a)>0){td-=3;return}return tU(t,r,a)}{let t=c[td++],r=c[td++],a=c[td++],i=c[td++];if((128&t)>0||(128&r)>0||(128&a)>0||(128&i)>0){td-=4;return}if(e<6)if(4===e)return tU(t,r,a,i);else{let e=c[td++];if((128&e)>0){td-=5;return}return tU(t,r,a,i,e)}if(e<8){let n=c[td++],s=c[td++];if((128&n)>0||(128&s)>0){td-=6;return}if(e<7)return tU(t,r,a,i,n,s);let o=c[td++];if((128&o)>0){td-=7;return}return tU(t,r,a,i,n,s,o)}{let n=c[td++],s=c[td++],o=c[td++],l=c[td++];if((128&n)>0||(128&s)>0||(128&o)>0||(128&l)>0){td-=8;return}if(e<10)if(8===e)return tU(t,r,a,i,n,s,o,l);else{let e=c[td++];if((128&e)>0){td-=9;return}return tU(t,r,a,i,n,s,o,l,e)}if(e<12){let u=c[td++],d=c[td++];if((128&u)>0||(128&d)>0){td-=10;return}if(e<11)return tU(t,r,a,i,n,s,o,l,u,d);let p=c[td++];if((128&p)>0){td-=11;return}return tU(t,r,a,i,n,s,o,l,u,d,p)}{let u=c[td++],d=c[td++],p=c[td++],h=c[td++];if((128&u)>0||(128&d)>0||(128&p)>0||(128&h)>0){td-=12;return}if(e<14)if(12===e)return tU(t,r,a,i,n,s,o,l,u,d,p,h);else{let e=c[td++];if((128&e)>0){td-=13;return}return tU(t,r,a,i,n,s,o,l,u,d,p,h,e)}{let f=c[td++],m=c[td++];if((128&f)>0||(128&m)>0){td-=14;return}if(e<15)return tU(t,r,a,i,n,s,o,l,u,d,p,h,f,m);let g=c[td++];if((128&g)>0){td-=15;return}return tU(t,r,a,i,n,s,o,l,u,d,p,h,f,m,g)}}}}}function tq(){let e,t=c[td++];if(t<192)e=t-160;else switch(t){case 217:e=c[td++];break;case 218:e=g.getUint16(td),td+=2;break;case 219:e=g.getUint32(td),td+=4;break;default:throw Error("Expected string")}return tz(e)}function tB(e){return tm.copyBuffers?Uint8Array.prototype.slice.call(c,td,td+=e):c.subarray(td,td+=e)}function t$(e){let t=c[td++];if(tb[t]){let r;return tb[t](c.subarray(td,r=td+=e),e=>{td=e;try{return tC()}finally{td=r}})}throw Error("Unknown extension type "+t)}var tV=Array(4096);function tH(){let e,t=c[td++];if(!(t>=160)||!(t<192))return td--,tG(tC());if(t-=160,ty>=td)return h.slice(td-tg,(td+=t)-tg);if(!(0==ty&&d<180))return t_(t);let r=(t<<5^(t>1?g.getUint16(td):t>0?c[td]:0))&4095,a=tV[r],i=td,n=td+t-3,s=0;if(a&&a.bytes==t){for(;i<n;){if((e=g.getUint32(i))!=a[s++]){i=0x70000000;break}i+=4}for(n+=3;i<n;)if((e=c[i++])!=a[s++]){i=0x70000000;break}if(i===n)return td=i,a.string;n-=3,i=td}for(a=[],tV[r]=a,a.bytes=t;i<n;)e=g.getUint32(i),a.push(e),i+=4;for(n+=3;i<n;)e=c[i++],a.push(e);let o=t<16?tW(t):tj(t);return null!=o?a.string=o:a.string=t_(t)}function tG(e){if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e||"bigint"==typeof e)return e.toString();if(null==e)return e+"";if(tm.allowArraysInMapKeys&&Array.isArray(e)&&e.flat().every(e=>["string","number","boolean","bigint"].includes(typeof e)))return e.flat().toString();throw Error(`Invalid property type for record: ${typeof e}`)}let tK=(e,t)=>{let r=tC().map(tG),a=e;void 0!==t&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let i=p[e];return i&&(i.isShared||tw)&&((p.restoreStructures||(p.restoreStructures=[]))[e]=i),p[e]=r,r.read=tF(r,a),r.read()};tb[0]=()=>{},tb[0].noBuffer=!0,tb[66]=e=>{let t=e.length,r=BigInt(128&e[0]?e[0]-256:e[0]);for(let a=1;a<t;a++)r<<=BigInt(8),r+=BigInt(e[a]);return r};let tJ={Error,TypeError,ReferenceError};tb[101]=()=>{let e=tC();return(tJ[e[0]]||Error)(e[1],{cause:e[2]})},tb[105]=e=>{let t;if(!1===tm.structuredClone)throw Error("Structured clone extension is disabled");let r=g.getUint32(td-4);m||(m=new Map);let a=c[td],i={target:t=a>=144&&a<160||220==a||221==a?[]:a>=128&&a<144||222==a||223==a?new Map:(a>=199&&a<=201||a>=212&&a<=216)&&115===c[td+1]?new Set:{}};m.set(r,i);let n=tC();if(!i.used)return i.target=n;if(Object.assign(t,n),t instanceof Map)for(let[e,r]of n.entries())t.set(e,r);if(t instanceof Set)for(let e of Array.from(n))t.add(e);return t},tb[112]=e=>{if(!1===tm.structuredClone)throw Error("Structured clone extension is disabled");let t=g.getUint32(td-4),r=m.get(t);return r.used=!0,r.target},tb[115]=()=>new Set(tC());let tZ=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array"),tQ="object"==typeof globalThis?globalThis:window;tb[116]=e=>{let t=e[0],r=Uint8Array.prototype.slice.call(e,1).buffer,a=tZ[t];if(!a){if(16===t)return r;if(17===t)return new DataView(r);throw Error("Could not find typed array for code "+t)}return new tQ[a](r)},tb[120]=()=>{let e=tC();return new RegExp(e[0],e[1])};let tY=[];function tX(e){S&&S();let t=d,r=td,a=tf,i=tg,n=ty,s=h,o=th,l=m,u=f,y=new Uint8Array(c.slice(0,d)),b=p,v=p.slice(0,p.length),k=tm,w=tw,E=e();return d=t,td=r,tf=a,tg=i,ty=n,h=s,th=o,m=l,f=u,c=y,tw=w,(p=b).splice(0,p.length,...v),tm=k,g=new DataView(c.buffer,c.byteOffset,c.byteLength),E}function t0(){c=null,m=null,p=null}tb[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=td;return td+=t-e.length,f=tY,(f=[tq(),tq()]).position0=0,f.position1=0,f.postBundlePosition=td,td=r,tC()},tb[255]=e=>4==e.length?new Date((0x1000000*e[0]+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):8==e.length?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((3&e[3])*0x100000000+0x1000000*e[4]+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):12==e.length?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((128&e[4]?-0x1000000000000:0)+0x10000000000*e[6]+0x100000000*e[7]+0x1000000*e[8]+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");let t1=Array(147);for(let e=0;e<256;e++)t1[e]=+("1e"+Math.floor(45.15-.30103*e));var t2=new tx({useRecords:!1});t2.unpack,t2.unpackMultiple,t2.unpack,new Uint8Array(new Float32Array(1).buffer,0,4);try{t=new TextEncoder}catch(e){}let t3=void 0!==tc.Buffer,t5=t3?function(e){return tc.Buffer.allocUnsafeSlow(e)}:Uint8Array,t4=t3?tc.Buffer:Uint8Array,t8=t3?0x100000000:0x7fd00000,t6=0,t9=null,t7=/[\u0080-\uFFFF]/,re=Symbol("record-id");class rt extends tx{constructor(e){let u,c,d,p;super(e),this.offset=0;let h=t4.prototype.utf8Write?function(e,t){return i.utf8Write(e,t,i.byteLength-t)}:!!t&&!!t.encodeInto&&function(e,r){return t.encodeInto(e,i.subarray(r)).written},f=this;e||(e={});let m=e&&e.sequential,g=e.structures||e.saveStructures,y=e.maxSharedStructures;if(null==y&&(y=32*!!g),y>8160)throw Error("Maximum maxSharedStructure is 8160");e.structuredClone&&void 0==e.moreTypes&&(this.moreTypes=!0);let b=e.maxOwnStructures;null==b&&(b=g?32:64),this.structures||!1==e.useRecords||(this.structures=[]);let S=y>32||b+y>64,v=y+64,k=y+b+64;if(k>8256)throw Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let w=[],E=0,x=0;this.pack=this.encode=function(e,t){let r;if(i||(s=(i=new t5(8192)).dataView||(i.dataView=new DataView(i.buffer,0,8192)),t6=0),(o=i.length-10)-t6<2048?(s=(i=new t5(i.length)).dataView||(i.dataView=new DataView(i.buffer,0,i.length)),o=i.length-10,t6=0):t6=t6+7&0x7ffffff8,u=t6,t&rp&&(t6+=255&t),p=f.structuredClone?new Map:null,f.bundleStrings&&"string"!=typeof e?(t9=[]).size=1/0:t9=null,d=f.structures){d.uninitialized&&(d=f._mergeStructures(f.getStructures()));let e=d.sharedLength||0;if(e>y)throw Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+d.sharedLength);if(!d.transitions){d.transitions=Object.create(null);for(let t=0;t<e;t++){let e=d[t];if(!e)continue;let r,a=d.transitions;for(let t=0,i=e.length;t<i;t++){let i=e[t];(r=a[i])||(r=a[i]=Object.create(null)),a=r}a[re]=t+64}this.lastNamedStructuresLength=e}m||(d.nextId=e+64)}c&&(c=!1);try{f.randomAccessStructure&&e&&e.constructor&&e.constructor===Object?N(e):C(e);let r=t9;if(t9&&ri(u,C,0),p&&p.idsToInsert){let e=p.idsToInsert.sort((e,t)=>e.offset>t.offset?1:-1),t=e.length,a=-1;for(;r&&t>0;){let i=e[--t].offset+u;i<r.stringsPosition+u&&-1===a&&(a=0),i>r.position+u?a>=0&&(a+=6):(a>=0&&(s.setUint32(r.position+u,s.getUint32(r.position+u)+a),a=-1),r=r.previous,t++)}a>=0&&r&&s.setUint32(r.position+u,s.getUint32(r.position+u)+a),(t6+=6*e.length)>o&&_(t6),f.offset=t6;let n=function(e,t){let r,a=6*t.length,i=e.length-a;for(;r=t.pop();){let t=r.offset,n=r.id;e.copyWithin(t+a,t,i);let s=t+(a-=6);e[s++]=214,e[s++]=105,e[s++]=n>>24,e[s++]=n>>16&255,e[s++]=n>>8&255,e[s++]=255&n,i=t}return e}(i.subarray(u,t6),e);return p=null,n}if(f.offset=t6,t&rc)return i.start=u,i.end=t6,i;return i.subarray(u,t6)}catch(e){throw r=e,e}finally{if(d&&(I(),c&&f.saveStructures)){var a,n;let s=d.sharedLength||0,o=i.subarray(u,t6),l=(a=d,n=f,a.isCompatible=e=>{let t=!e||(n.lastNamedStructuresLength||0)===e.length;return t||n._mergeStructures(e),t},a);if(!r){if(!1===f.saveStructures(l,l.isCompatible))return f.pack(e,t);return f.lastNamedStructuresLength=s,i.length>0x40000000&&(i=null),o}}i.length>0x40000000&&(i=null),t&rd&&(t6=u)}};const I=()=>{x<10&&x++;let e=d.sharedLength||0;if(d.length>e&&!m&&(d.length=e),E>1e4)d.transitions=null,x=0,E=0,w.length>0&&(w=[]);else if(w.length>0&&!m){for(let e=0,t=w.length;e<t;e++)w[e][re]=0;w=[]}},T=e=>{var t=e.length;t<16?i[t6++]=144|t:t<65536?(i[t6++]=220,i[t6++]=t>>8,i[t6++]=255&t):(i[t6++]=221,s.setUint32(t6,t),t6+=4);for(let r=0;r<t;r++)C(e[r])},C=e=>{t6>o&&(i=_(t6));var t,n=typeof e;if("string"===n){let r,a=e.length;if(t9&&a>=4&&a<4096){if((t9.size+=a)>21760){let e,t,r=(t9[0]?3*t9[0].length+t9[1].length:0)+10;t6+r>o&&(i=_(t6+r)),t9.position?(t=t9,i[t6]=200,t6+=3,i[t6++]=98,e=t6-u,t6+=4,ri(u,C,0),s.setUint16(e+u-3,t6-u-e)):(i[t6++]=214,i[t6++]=98,e=t6-u,t6+=4),(t9=["",""]).previous=t,t9.size=0,t9.position=e}let t=t7.test(e);t9[+!t]+=e,i[t6++]=193,C(t?-a:a);return}r=a<32?1:a<256?2:a<65536?3:5;let n=3*a;if(t6+n>o&&(i=_(t6+n)),a<64||!h){let n,s,o,l=t6+r;for(n=0;n<a;n++)(s=e.charCodeAt(n))<128?i[l++]=s:(s<2048?i[l++]=s>>6|192:((64512&s)==55296&&(64512&(o=e.charCodeAt(n+1)))==56320?(s=65536+((1023&s)<<10)+(1023&o),n++,i[l++]=s>>18|240,i[l++]=s>>12&63|128):i[l++]=s>>12|224,i[l++]=s>>6&63|128),i[l++]=63&s|128);t=l-t6-r}else t=h(e,t6+r);t<32?i[t6++]=160|t:t<256?(r<2&&i.copyWithin(t6+2,t6+1,t6+1+t),i[t6++]=217,i[t6++]=t):t<65536?(r<3&&i.copyWithin(t6+3,t6+2,t6+2+t),i[t6++]=218,i[t6++]=t>>8,i[t6++]=255&t):(r<5&&i.copyWithin(t6+5,t6+3,t6+3+t),i[t6++]=219,s.setUint32(t6,t),t6+=4),t6+=t}else if("number"===n)if(e>>>0===e)e<32||e<128&&!1===this.useRecords||e<64&&!this.randomAccessStructure?i[t6++]=e:e<256?(i[t6++]=204,i[t6++]=e):e<65536?(i[t6++]=205,i[t6++]=e>>8,i[t6++]=255&e):(i[t6++]=206,s.setUint32(t6,e),t6+=4);else if((0|e)===e)e>=-32?i[t6++]=256+e:e>=-128?(i[t6++]=208,i[t6++]=e+256):e>=-32768?(i[t6++]=209,s.setInt16(t6,e),t6+=2):(i[t6++]=210,s.setInt32(t6,e),t6+=4);else{let t;if((t=this.useFloat32)>0&&e<0x100000000&&e>=-0x80000000){let r;if(i[t6++]=202,s.setFloat32(t6,e),t<4||(0|(r=e*t1[(127&i[t6])<<1|i[t6+1]>>7]))===r){t6+=4;return}t6--}i[t6++]=203,s.setFloat64(t6,e),t6+=8}else if("object"===n||"function"===n)if(e){if(p){let t=p.get(e);if(t){t.id||(t.id=(p.idsToInsert||(p.idsToInsert=[])).push(t)),i[t6++]=214,i[t6++]=112,s.setUint32(t6,t.id),t6+=4;return}p.set(e,{offset:t6-u})}let l=e.constructor;if(l===Object)O(e);else if(l===Array)T(e);else if(l===Map)if(this.mapAsEmptyObject)i[t6++]=128;else for(let[r,a]of((t=e.size)<16?i[t6++]=128|t:t<65536?(i[t6++]=222,i[t6++]=t>>8,i[t6++]=255&t):(i[t6++]=223,s.setUint32(t6,t),t6+=4),e))C(r),C(a);else{for(let t=0,n=r.length;t<n;t++)if(e instanceof a[t]){let a,n=r[t];if(n.write){n.type&&(i[t6++]=212,i[t6++]=n.type,i[t6++]=0);let t=n.write.call(this,e);t===e?Array.isArray(e)?T(e):O(e):C(t);return}let l=i,u=s,c=t6;i=null;try{a=n.pack.call(this,e,e=>(i=l,l=null,(t6+=e)>o&&_(t6),{target:i,targetView:s,position:t6-e}),C)}finally{l&&(i=l,s=u,t6=c,o=i.length-10)}a&&(a.length+t6>o&&_(a.length+t6),t6=function(e,t,r,a){let i=e.length;switch(i){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:i<256?(t[r++]=199,t[r++]=i):(i<65536?(t[r++]=200,t[r++]=i>>8):(t[r++]=201,t[r++]=i>>24,t[r++]=i>>16&255,t[r++]=i>>8&255),t[r++]=255&i)}return t[r++]=a,t.set(e,r),r+=i}(a,i,t6,n.type));return}if(Array.isArray(e))T(e);else{if(e.toJSON){let t=e.toJSON();if(t!==e)return C(t)}if("function"===n)return C(this.writeFunction&&this.writeFunction(e));O(e)}}}else i[t6++]=192;else if("boolean"===n)i[t6++]=e?195:194;else if("bigint"===n){if(e<0x8000000000000000&&e>=-0x8000000000000000)i[t6++]=211,s.setBigInt64(t6,e);else if(e<0xffffffffffffffff&&e>0)i[t6++]=207,s.setBigUint64(t6,e);else if(this.largeBigIntToFloat)i[t6++]=203,s.setFloat64(t6,Number(e));else if(this.largeBigIntToString)return C(e.toString());else if((this.useBigIntExtension||this.moreTypes)&&e<BigInt(2)**BigInt(1023)&&e>-(BigInt(2)**BigInt(1023))){let t;i[t6++]=199,t6++,i[t6++]=66;let r=[];do{let a=e&BigInt(255);t=(a&BigInt(128))===(e<BigInt(0)?BigInt(128):BigInt(0)),r.push(a),e>>=BigInt(8)}while(!((e===BigInt(0)||e===BigInt(-1))&&t))i[t6-2]=r.length;for(let e=r.length;e>0;)i[t6++]=Number(r[--e]);return}else throw RangeError(e+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string");t6+=8}else if("undefined"===n)this.encodeUndefinedAsNil?i[t6++]=192:(i[t6++]=212,i[t6++]=0,i[t6++]=0);else throw Error("Unknown type: "+n)},R=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?e=>{let t,r;if(this.skipValues)for(let r in t=[],e)("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(r))&&!this.skipValues.includes(e[r])&&t.push(r);else t=Object.keys(e);let a=t.length;if(a<16?i[t6++]=128|a:a<65536?(i[t6++]=222,i[t6++]=a>>8,i[t6++]=255&a):(i[t6++]=223,s.setUint32(t6,a),t6+=4),this.coercibleKeyAsNumber)for(let i=0;i<a;i++){let a=Number(r=t[i]);C(isNaN(a)?r:a),C(e[r])}else for(let i=0;i<a;i++)C(r=t[i]),C(e[r])}:e=>{i[t6++]=222;let t=t6-u;t6+=2;let r=0;for(let t in e)("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(t))&&(C(t),C(e[t]),r++);if(r>65535)throw Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');i[t+++u]=r>>8,i[t+u]=255&r},F=!1===this.useRecords?R:e.progressiveRecords&&!S?e=>{let t,r,a=d.transitions||(d.transitions=Object.create(null)),n=t6++-u;for(let i in e)if("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(i)){if(r=a[i])a=r;else{let s=Object.keys(e),o=a;a=d.transitions;let l=0;for(let e=0,t=s.length;e<t;e++){let t=s[e];!(r=a[t])&&(r=a[t]=Object.create(null),l++),a=r}n+u+1==t6?(t6--,M(a,s,l)):D(a,s,n,l),t=!0,a=o[i]}C(e[i])}if(!t){let t=a[re];t?i[n+u]=t:D(a,Object.keys(e),n,0)}}:e=>{let t,r=d.transitions||(d.transitions=Object.create(null)),a=0;for(let i in e)("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(i))&&(!(t=r[i])&&(t=r[i]=Object.create(null),a++),r=t);let n=r[re];for(let t in n?n>=96&&S?(i[t6++]=(31&(n-=96))+96,i[t6++]=n>>5):i[t6++]=n:M(r,r.__keys__||Object.keys(e),a),e)("function"!=typeof e.hasOwnProperty||e.hasOwnProperty(t))&&C(e[t])},A="function"==typeof this.useRecords&&this.useRecords,O=A?e=>{A(e)?F(e):R(e)}:F,_=e=>{let t;if(e>0x1000000){if(e-u>t8)throw Error("Packed buffer would be larger than maximum buffer size");t=Math.min(t8,4096*Math.round(Math.max((e-u)*(e>0x4000000?1.25:2),4194304)/4096))}else t=(Math.max(e-u<<2,i.length-1)>>12)+1<<12;let r=new t5(t);return s=r.dataView||(r.dataView=new DataView(r.buffer,0,t)),e=Math.min(e,i.length),i.copy?i.copy(r,0,u,e):r.set(i.slice(u,e)),t6-=u,u=0,o=r.length-10,i=r},M=(e,t,r)=>{let a=d.nextId;a||(a=64),a<v&&this.shouldShareStructure&&!this.shouldShareStructure(t)?((a=d.nextOwnId)<k||(a=v),d.nextOwnId=a+1):(a>=k&&(a=v),d.nextId=a+1);let n=t.highByte=a>=96&&S?a-96>>5:-1;e[re]=a,e.__keys__=t,d[a-64]=t,a<v?(t.isShared=!0,d.sharedLength=a-63,c=!0,n>=0?(i[t6++]=(31&a)+96,i[t6++]=n):i[t6++]=a):(n>=0?(i[t6++]=213,i[t6++]=114,i[t6++]=(31&a)+96,i[t6++]=n):(i[t6++]=212,i[t6++]=114,i[t6++]=a),r&&(E+=x*r),w.length>=b&&(w.shift()[re]=0),w.push(e),C(t))},D=(e,t,r,a)=>{let s=i,l=t6,c=o,d=u;t6=0,u=0,(i=n)||(n=i=new t5(8192)),o=i.length-10,M(e,t,a),n=i;let p=t6;if(i=s,t6=l,o=c,u=d,p>1){let e=t6+p-1;e>o&&_(e);let t=r+u;i.copyWithin(t+p,t+1,t6),i.set(n.slice(0,p),t),t6=e}else i[r+u]=n[0]},N=e=>{let t=l(e,i,u,t6,d,_,(e,t,r)=>{if(r)return c=!0;t6=t;let a=i;return(C(e),I(),a!==i)?{position:t6,targetView:s,target:i}:t6},this);if(0===t)return O(e);t6=t}}useBuffer(e){(i=e).dataView||(i.dataView=new DataView(i.buffer,i.byteOffset,i.byteLength)),t6=0}set position(e){t6=e}get position(){return t6}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}function rr(e,t,r,a){let i=e.byteLength;if(i+1<256){var{target:n,position:s}=r(4+i);n[s++]=199,n[s++]=i+1}else if(i+1<65536){var{target:n,position:s}=r(5+i);n[s++]=200,n[s++]=i+1>>8,n[s++]=i+1&255}else{var{target:n,position:s,targetView:o}=r(7+i);n[s++]=201,o.setUint32(s,i+1),s+=4}n[s++]=116,n[s++]=t,e.buffer||(e=new Uint8Array(e)),n.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s)}function ra(e,t){let r=e.byteLength;if(r<256){var a,i,{target:a,position:i}=t(r+2);a[i++]=196,a[i++]=r}else if(r<65536){var{target:a,position:i}=t(r+3);a[i++]=197,a[i++]=r>>8,a[i++]=255&r}else{var{target:a,position:i,targetView:n}=t(r+5);a[i++]=198,n.setUint32(i,r),i+=4}a.set(e,i)}function ri(e,t,r){if(t9.length>0){s.setUint32(t9.position+e,t6+r-t9.position-e),t9.stringsPosition=t6-e;let a=t9;t9=null,t(a[0]),t(a[1])}}a=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,tv],r=[{pack(e,t,r){let a=e.getTime()/1e3;if((this.useTimestamp32||0===e.getMilliseconds())&&a>=0&&a<0x100000000){let{target:e,targetView:r,position:i}=t(6);e[i++]=214,e[i++]=255,r.setUint32(i,a)}else if(a>0&&a<0x100000000){let{target:r,targetView:i,position:n}=t(10);r[n++]=215,r[n++]=255,i.setUint32(n,4e6*e.getMilliseconds()+(a/1e3/0x100000000|0)),i.setUint32(n+4,a)}else if(isNaN(a)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:e,targetView:a,position:i}=t(3);e[i++]=212,e[i++]=255,e[i++]=255}else{let{target:r,targetView:i,position:n}=t(15);r[n++]=199,r[n++]=12,r[n++]=255,i.setUint32(n,1e6*e.getMilliseconds()),i.setBigInt64(n+4,BigInt(Math.floor(a)))}}},{pack(e,t,r){if(this.setAsEmptyObject)return t(0),r({});let a=Array.from(e),{target:i,position:n}=t(3*!!this.moreTypes);this.moreTypes&&(i[n++]=212,i[n++]=115,i[n++]=0),r(a)}},{pack(e,t,r){let{target:a,position:i}=t(3*!!this.moreTypes);this.moreTypes&&(a[i++]=212,a[i++]=101,a[i++]=0),r([e.name,e.message,e.cause])}},{pack(e,t,r){let{target:a,position:i}=t(3*!!this.moreTypes);this.moreTypes&&(a[i++]=212,a[i++]=120,a[i++]=0),r([e.source,e.flags])}},{pack(e,t){this.moreTypes?rr(e,16,t):ra(t3?tc.Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==t4&&this.moreTypes?rr(e,tZ.indexOf(r.name),t):ra(e,t)}},{pack(e,t){this.moreTypes?rr(e,17,t):ra(t3?tc.Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let{target:r,position:a}=t(1);r[a]=193}}];let rn=new rt({useRecords:!1});rn.pack,rn.pack;let{NEVER:rs,ALWAYS:ro,DECIMAL_ROUND:rl,DECIMAL_FIT:ru}={NEVER:0,ALWAYS:1,DECIMAL_ROUND:3,DECIMAL_FIT:4},rc=512,rd=1024,rp=2048;class rh extends tu.Tag("@effect/rpc/RpcSerialization")(){}let rf=rh.of({contentType:"application/json",includesFraming:!1,unsafeMake:()=>{let e=new TextDecoder;return{decode:t=>[JSON.parse("string"==typeof t?t:e.decode(t))],encode:e=>JSON.stringify(e)}}}),rm=rh.of({contentType:"application/ndjson",includesFraming:!0,unsafeMake:()=>{let e=new TextDecoder,t="";return{decode:r=>{t+="string"==typeof r?r:e.decode(r);let a=0,i=t.indexOf("\n",a),n=[];for(;-1!==i;){let e=JSON.parse(t.slice(a,i));n.push(e),a=i+1,i=t.indexOf("\n",a)}return t=t.slice(a),n},encode:e=>{if(Array.isArray(e)){if(0===e.length)return;let t="";for(let r=0;r<e.length;r++)t+=JSON.stringify(e[r])+"\n";return t}return JSON.stringify(e)+"\n"}}}}),rg=e=>rh.of({contentType:e?.contentType??"application/json",includesFraming:!1,unsafeMake:()=>{let e=new TextDecoder,t=new Map;return{decode:r=>rb(JSON.parse("string"==typeof r?r:e.decode(r)),t),encode:e=>{if(Array.isArray(e)){if(0===e.length)return;return JSON.stringify(e.map(rk))}let r=rv(e,t);return r&&JSON.stringify(r)}}}}),ry=e=>rh.of({contentType:e?.contentType??"application/json-rpc",includesFraming:!0,unsafeMake:()=>{let e=rm.unsafeMake(),t=new Map;return{decode:r=>{let a=e.decode(r);if(0===a.length)return[];let i=[];for(let e=0;e<a.length;e++){let r=a[e];i.push(...rb(r,t))}return i},encode:r=>{if(Array.isArray(r))return e.encode(r.map(rk));let a=rv(r,t);return a&&e.encode(a)}}}});function rb(e,t){if(Array.isArray(e)){let r={size:0,responses:new Map};for(let a=0;a<e.length;a++){let i=rS(e[a]);"Request"===i._tag&&(r.size++,t.set(i.id,r))}return[]}return Array.isArray(e)?e.map(rS):[rS(e)]}function rS(e){if("method"in e){if(!e.id&&e.method.startsWith("@effect/rpc/")){let t=e.method.slice(12),r=e.params?.requestId;return r?{_tag:t,requestId:String(r)}:{_tag:t}}return{_tag:"Request",id:e.id?String(e.id):"",tag:e.method,payload:e.params,headers:e.headers??[],traceId:e.traceId,spanId:e.spanId,sampled:e.sampled}}return e.error&&"Defect"===e.error._tag?{_tag:"Defect",defect:e.error.data}:!0===e.chunk?{_tag:"Chunk",requestId:String(e.id),values:e.result}:{_tag:"Exit",requestId:String(e.id),exit:null!=e.error?{_tag:"Failure",cause:"Cause"===e.error._tag?e.error.data:{_tag:"Die",defect:e.error}}:{_tag:"Success",value:e.result}}}function rv(e,t){if(!("requestId"in e))return rk(e);let r=t.get(e.requestId);return r?(t.delete(e.requestId),r.responses.set(e.requestId,e),r.size===r.responses.size)?Array.from(r.responses.values(),rk):void 0:rk(e)}function rk(e){switch(e._tag){case"Request":return{jsonrpc:"2.0",method:e.tag,params:e.payload,id:e.id&&Number(e.id),headers:e.headers,traceId:e.traceId,spanId:e.spanId,sampled:e.sampled};case"Ping":case"Pong":case"Interrupt":case"Ack":case"Eof":return{jsonrpc:"2.0",method:`@effect/rpc/${e._tag}`,params:"requestId"in e?{requestId:e.requestId}:void 0};case"Chunk":return{jsonrpc:"2.0",chunk:!0,id:Number(e.requestId),result:e.values};case"Exit":return{jsonrpc:"2.0",id:e.requestId?Number(e.requestId):void 0,result:"Success"===e.exit._tag?e.exit.value:void 0,error:"Failure"===e.exit._tag?{_tag:"Cause",code:"Fail"===e.exit.cause._tag&&(0,J.hasProperty)(e.exit.cause.error,"code")?Number(e.exit.cause.error.code):0,message:"Fail"===e.exit.cause._tag&&(0,J.hasProperty)(e.exit.cause.error,"message")?e.exit.cause.error.message:JSON.stringify(e.exit.cause),data:e.exit.cause}:void 0};case"Defect":return{jsonrpc:"2.0",id:rw,error:{_tag:"Defect",code:1,message:"A defect occurred",data:e.defect}};case"ClientProtocolError":return{}}}let rw=-32603,rE=rh.of({contentType:"application/msgpack",includesFraming:!0,unsafeMake:()=>{let e,t=new tx,r=new rt,a=new TextEncoder;return{decode:r=>{let i="string"==typeof r?a.encode(r):r;if(void 0!==e){let t=i;(r=new Uint8Array(e.length+i.length)).set(e),r.set(t,e.length),i=r,e=void 0}try{return t.unpackMultiple(i)}catch(t){if(t.incomplete)return e=i.subarray(t.lastPosition),t.values??[];return[]}},encode:e=>r.pack(e)}}}),rx=G.succeed(rh,rf),rI=G.succeed(rh,rm),rT=G.succeed(rh,rE);e.s(["RpcSerialization",()=>rh,"json",0,rf,"jsonRpc",0,rg,"layerJson",0,rx,"layerJsonRpc",0,e=>G.succeed(rh,rg(e)),"layerMsgPack",0,rT,"layerNdJsonRpc",0,e=>G.succeed(rh,ry(e)),"layerNdjson",0,rI,"msgPack",0,rE,"ndJsonRpc",0,ry,"ndjson",0,rm],6596031);var rC=L;class rR extends rC.Tag("@effect/rpc/RpcWorker/InitialMessage")(){}let rF=BigInt(0),rA=j.fnUntraced(function*(e,t){let r,a=t?.spanPrefix??"RpcClient",i=t?.supportsAck??!0,n=t?.disableTracing??!1,s=t?.generateRequestId??(()=>rF++),o=yield*j.context(),l=eK.get(o,Z.Scope),u=new Map,c=!1;yield*Z.addFinalizer(l,j.fiberIdWith(e=>(c=!0,d(q.interrupt(e)))));let d=j.fnUntraced(function*(e){for(let[t,r]of u)u.delete(t),"Mailbox"===r._tag?yield*r.mailbox.done(e):r.resume(e)}),p=e=>{let r=e.successSchema.ast.annotations[eX.SchemaIdAnnotationId]===e0,i=m(e);return(s,o)=>{let l=o?.headers?M.fromInput(o.headers):M.empty,u=o?.context??eK.empty();if(!r){let r=t=>h(e,i,t,e.payloadSchema.make?e.payloadSchema.make(s):s,l,u,o?.discard??!1);return n?r(void 0):j.useSpan(`${a}.${e._tag}`,{captureStackTrace:!1,attributes:t.spanAttributes},r)}let c=f(e,i,e.payloadSchema.make?e.payloadSchema.make(s):s,l,o?.streamBufferSize??16,u);return o?.asMailbox?c:eW.unwrapScoped(j.map(c,K.toStream))}},h=(e,r,a,i,n,o,l)=>j.withFiberRuntime(d=>{let p;if(c)return j.interrupt;let h=s(),f=r({_tag:"Request",id:h,tag:e._tag,payload:i,traceId:a?.traceId,spanId:a?.spanId,sampled:a?.sampled,headers:M.merge(d.getFiberRef(r_),n)});if(l)return j.flatMap(f,e=>t.onFromClient({message:e,context:o,discard:l}));let m=eU.make({context:d.currentContext,fiberRefs:d.getFiberRefs(),runtimeFlags:eU.defaultRuntime.runtimeFlags});return j.onInterrupt(j.async(r=>{u.set(h,{_tag:"Effect",rpc:e,context:o,resume(e){r(e),p&&!p.unsafePoll()&&d.currentScheduler.scheduleTask(()=>{p.unsafeInterruptAsFork(d.id())},0)}}),(p=f.pipe(j.flatMap(e=>t.onFromClient({message:e,context:o,discard:l})),a?j.withParentSpan(a):V.identity,eU.runFork(m))).addObserver(e=>{if("Failure"===e._tag)return r(e)})}),e=>{u.delete(h);let t=Array.from(e).flatMap(e=>Array.from(eZ.toSet(e)));return j.zipRight(eJ.interrupt(p),g(h,t,o))})}),f=j.fnUntraced(function*(e,r,i,o,l,d){if(c)return yield*j.interrupt;let p=n?void 0:yield*j.makeSpanScoped(`${a}.${e._tag}`,{captureStackTrace:!1,attributes:t.spanAttributes}),h=ev.getOrThrow(eJ.getCurrentFiber()),f=s(),m=eK.unsafeGet(h.currentContext,Z.Scope);yield*Z.addFinalizerExit(m,e=>u.has(f)?(u.delete(f),g(f,q.isFailure(e)?Array.from(eH.interruptors(e.cause)).flatMap(e=>Array.from(eZ.toSet(e))):[],d)):j.void);let y=yield*K.make(l);return u.set(f,{_tag:"Mailbox",rpc:e,mailbox:y,scope:m,context:d}),yield*r({_tag:"Request",id:f,tag:e._tag,traceId:p?.traceId,payload:i,spanId:p?.spanId,sampled:p?.sampled,headers:M.merge(h.getFiberRef(r_),o)}).pipe(j.flatMap(e=>t.onFromClient({message:e,context:d,discard:!1})),p?j.withParentSpan(p):V.identity,j.catchAllCause(e=>y.failCause(e)),j.interruptible,j.forkIn(m)),y}),m=e=>{let t=[];for(let r of e.middlewares.values()){let e=o.unsafeMap.get(`${r.key}/Client`);e&&t.push(e)}return 0===t.length?j.succeed:function(r){let a=0;return j.map(j.whileLoop({while:()=>a<t.length,body:()=>t[a]({rpc:e,request:r}),step(e){r=e,a++}}),()=>r)}},g=(e,r,a)=>j.async(i=>{let n=ev.getOrThrow(eJ.getCurrentFiber()),s=eU.make({context:n.currentContext,fiberRefs:n.getFiberRefs(),runtimeFlags:eU.defaultRuntime.runtimeFlags});t.onFromClient({message:{_tag:"Interrupt",requestId:e,interruptors:r},context:a,discard:!1}).pipe(j.timeout(1e3),eU.runFork(s)).addObserver(()=>{i(j.void)})});if(t.flatten){let t=new Map;r=function(r,a,i){let n=t.get(r);return n||(n=p(e.requests.get(r)),t.set(r,n)),n(a,i)}}else for(let t of(r={},e.requests.values())){let e=t._tag.indexOf("."),a=-1===e?void 0:t._tag.slice(0,e);void 0===a||a in r||(r[a]={}),(void 0!==a?r[a]:r)[void 0!==a?t._tag.slice(e+1):t._tag]=p(t)}return{client:r,write:e=>{switch(e._tag){case"Chunk":{let r=e.requestId,a=u.get(r);if(!a||"Mailbox"!==a._tag)return j.void;return a.mailbox.offerAll(e.values).pipe(i?j.zipRight(t.onFromClient({message:{_tag:"Ack",requestId:e.requestId},context:a.context,discard:!1})):V.identity,j.catchAllCause(e=>a.mailbox.done(q.failCause(e))))}case"Exit":{let t=e.requestId,r=u.get(t);if(!r)return j.void;if(u.delete(t),"Effect"===r._tag)return r.resume(e.exit),j.void;return r.mailbox.done(q.asVoid(e.exit))}case"Defect":return d(q.die(e.defect));case"ClientEnd":return j.void}}}}),rO=j.fnUntraced(function*(e,t){let{run:r,send:a,supportsAck:i,supportsTransferables:n}=yield*rN,s=new Map,{client:o,write:l}=yield*rA(e,{...t,supportsAck:i,onFromClient(t){let{message:r}=t;switch(r._tag){case"Request":{let t,i,o,l,u=e.requests.get(r.tag),c=e1(u.successSchema.ast),d=n?(t=[],i=e=>{t.push(...e)},o=()=>t,l=()=>{let e=t;return t=[],e},eE.of({unsafeAddAll:i,addAll:e=>j.sync(()=>i(e)),unsafeRead:o,read:j.sync(o),unsafeClear:l,clear:j.sync(l)})):void 0,p=ev.getOrThrow(eJ.getCurrentFiber()),h={rpc:u,context:d?eK.add(p.currentContext,eE,d):p.currentContext,decodeChunk:ev.isSome(c)?ew.decodeUnknown(ew.NonEmptyArray(c.value.success)):void 0};return s.set(r.id,h),ew.encode(u.payloadSchema)(r.payload).pipe(j.locally(B.currentContext,h.context),j.orDie,j.flatMap(e=>a({...r,id:String(r.id),payload:e,headers:Object.entries(r.headers)},d&&d.unsafeClear())))}case"Ack":if(!s.get(r.requestId))return j.void;return a({_tag:"Ack",requestId:String(r.requestId)});case"Interrupt":if(!s.get(r.requestId))return j.void;return s.delete(r.requestId),a({_tag:"Interrupt",requestId:String(r.requestId)});case"Eof":return j.void}}});return yield*r(e=>{switch(e._tag){case"Chunk":{let t=to(e.requestId),r=s.get(t);if(!r||!r.decodeChunk)return j.void;return r.decodeChunk(e.values).pipe(j.locally(B.currentContext,r.context),j.orDie,j.flatMap(t=>l({_tag:"Chunk",clientId:0,requestId:to(e.requestId),values:t})),j.onError(t=>l({_tag:"Exit",clientId:0,requestId:to(e.requestId),exit:q.failCause(t)})))}case"Exit":{let t=to(e.requestId),r=s.get(t);if(!r)return j.void;return s.delete(t),ew.decode(e9(r.rpc))(e.exit).pipe(j.locally(B.currentContext,r.context),j.orDie,j.matchCauseEffect({onSuccess:e=>l({_tag:"Exit",clientId:0,requestId:t,exit:e}),onFailure:e=>l({_tag:"Exit",clientId:0,requestId:t,exit:q.failCause(e)})}))}case"Defect":return l({_tag:"Defect",clientId:0,defect:rj(e.defect)});case"ClientProtocolError":{let t=q.fail(e.error);return j.forEach(s.keys(),e=>l({_tag:"Exit",clientId:0,requestId:e,exit:t}))}default:return j.void}}).pipe(j.catchAllCause(j.logError),j.interruptible,j.forkScoped),o}),r_=(0,H.globalValue)("@effect/rpc/RpcClient/currentHeaders",()=>B.unsafeMake(M.empty)),rM=(0,V.dual)(2,(e,t)=>j.locallyWith(e,r_,M.merge(M.fromInput(t)))),rD=(0,V.dual)(2,(e,t)=>j.flatMap(t,t=>rM(e,t)));class rN extends eK.Tag("@effect/rpc/RpcClient/Protocol")(){static make=e=>j.suspend(()=>{let t=j.unsafeMakeSemaphore(1),r=[],a=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return j.contextWith(e=>{r.push([t,e])})};return j.map(e(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return a(...t)}),e=>({...e,run:e=>t.withPermits(1)(j.gen(function*(){let t=a;for(let[t,i]of(a=e,r))yield*j.provide(a(...t),i);return r=[],yield*j.onExit(j.never,()=>(a=t,j.void))}))}))})}let rz=e=>rN.make(j.fnUntraced(function*(t){let r=yield*rh,a="application/json"===r.contentType;return{send:i=>{if("Request"!==i._tag)return j.void;let n=r.unsafeMake(),s=n.encode(i),o="string"==typeof s?D.text(s,r.contentType):D.uint8Array(s,r.contentType);return a?e.post("",{body:o}).pipe(j.flatMap(e=>e.json),j.mapError(e=>new ts({reason:"Protocol",message:"Failed to send HTTP request",cause:e})),j.flatMap(e=>{if(!Array.isArray(e))return j.dieMessage(`Expected an array of responses, but got: ${e}`);let r=0;return j.whileLoop({while:()=>r<e.length,body:()=>t(e[r++]),step:V.constVoid})})):e.post("",{body:o}).pipe(j.flatMap(e=>eW.runForEachChunk(e.stream,e=>{let r=eG.toReadonlyArray(e).flatMap(n.decode);if(0===r.length)return j.void;let a=0;return j.whileLoop({while:()=>a<r.length,body:()=>t(r[a++]),step:V.constVoid})})),j.mapError(e=>new ts({reason:"Protocol",message:"Failed to send HTTP request",cause:e})))},supportsAck:!1,supportsTransferables:!1}})),rP=e=>rN.make(j.fnUntraced(function*(t){let r,a=yield*ee,i=yield*rh,n=yield*a.writer,s=i.unsafeMake(),o=yield*rL(n(s.encode(tl))),l=j.sync(()=>{r=void 0});return yield*j.suspend(()=>(s=i.unsafeMake(),o.reset(),a.runRaw(e=>{try{let r=s.decode(e);if(0===r.length)return;let a=0;return j.whileLoop({while:()=>a<r.length,body:()=>{let e=r[a++];return"Pong"===e._tag&&o.onPong(),t(e)},step:V.constVoid})}catch(e){return t({_tag:"ClientProtocolError",error:new ts({reason:"Protocol",message:"Error decoding message",cause:eH.fail(e)})})}},{onOpen:l}).pipe(j.raceFirst(j.zipRight(o.timeout,j.fail(new es({reason:"OpenTimeout",cause:Error("ping timeout")}))))))).pipe(j.zipRight(j.fail(new eo({reason:"Close",code:1e3}))),j.tapErrorCause(a=>{let i=eH.failureOption(a);return e?.retryTransientErrors&&ev.isSome(i)&&("Open"===i.value.reason||"OpenTimeout"===i.value.reason)?j.void:t({_tag:"ClientProtocolError",error:r=new ts({reason:"Protocol",message:"Error in socket",cause:eH.squash(a)})})}),j.retry(ej.spaced(1e3)),j.annotateLogs({module:"RpcClient",method:"makeProtocolSocket"}),j.interruptible,j.forkScoped),{send(e){if(r)return j.fail(r);let t=s.encode(e);return void 0===t?j.void:j.orDie(n(t))},supportsAck:!0,supportsTransferables:!1}})),rL=j.fnUntraced(function*(e){let t=!0,r=j.unsafeMakeLatch();return yield*j.suspend(()=>t?(t=!1,e):r.open).pipe(j.delay("5 seconds"),j.ignore,j.forever,j.interruptible,j.forkScoped),{timeout:r.await,reset:()=>{t=!0,r.unsafeClose()},onPong:()=>{t=!0}}}),rU=e=>rN.make(j.fnUntraced(function*(t){let r,a,i,n,s=yield*eV,o=yield*j.scope,l=0,u=yield*j.serviceOption(rR),c=new Map,d=j.gen(function*(){let e=l++,r=yield*s.spawn(e),a=yield*j.makeLatch();if(yield*r.run(e=>{if(0===e[0])return a.open;let r=e[1];if("Exit"===r._tag){let e=c.get(r.requestId);e&&(c.delete(r.requestId),e.latch.unsafeOpen())}else if("Defect"===r._tag)for(let[e,t]of c)c.delete(e),t.latch.unsafeOpen();return t(r)}).pipe(j.tapErrorCause(e=>t({_tag:"ClientProtocolError",error:new ts({reason:"Protocol",message:"Error in worker",cause:eH.squash(e)})})),j.retry(ej.spaced(1e3)),j.annotateLogs({module:"RpcClient",method:"makeProtocolWorker"}),j.interruptible,j.forkScoped),yield*a.await,ev.isSome(u)){let[e,t]=yield*u.value;yield*r.send({_tag:"InitialMessage",value:e},t)}return r}),p="minSize"in e?yield*(i={acquire:d,min:e.minSize,max:e.maxSize,concurrency:e.concurrency,targetUtilization:e.targetUtilization,timeToLive:e.timeToLive},eF.flatMap("creation"===i.timeToLiveStrategy?(r=i.timeToLive,eA.clockWith(e=>eF.map(eM.unbounded(),t=>{let a=ex.toMillis(r),i=new WeakMap;return(0,V.identity)({run:r=>{let n=t=>eF.suspend(()=>{if(!r.items.has(t)||r.invalidated.has(t))return eF.void;let s=a-(e.unsafeCurrentTimeMillis()-i.get(t));return s>0?eR.delay(n(t),s):r.invalidatePoolItem(t)});return t.take.pipe(eF.tap(n),eR.forever)},onAcquire:r=>eF.suspend(()=>(i.set(r,e.unsafeCurrentTimeMillis()),t.offer(r))),reclaim:e=>eR.succeedNone})}))):(a=i.timeToLive,eF.map(eM.unbounded(),e=>(0,V.identity)({run:t=>{let r=eF.suspend(()=>t.activeSize-t.targetSize<=0?eF.void:e.take.pipe(eF.tap(e=>t.invalidatePoolItem(e)),eF.zipRight(r)));return r.pipe(eR.delay(a),eR.forever)},onAcquire:t=>e.offer(t),reclaim:t=>eF.suspend(()=>{if(0===t.invalidated.size)return eR.succeedNone;let r=eT.head(eT.filter(t.invalidated,e=>!e.disableReclaim));return"None"===r._tag?eR.succeedNone:(t.invalidated.delete(r.value),r.value.refCount<t.concurrency&&t.available.add(r.value),eF.as(e.offer(r.value),r))})}))),e=>ez({...i,strategy:e}))):yield*ez({...n={acquire:d,size:e.size,concurrency:e.concurrency,targetUtilization:e.targetUtilization},min:n.size,max:n.size,strategy:{run:e=>eF.void,onAcquire:e=>eF.void,reclaim:e=>eR.succeedNone}});return yield*Z.addFinalizer(o,j.sync(()=>{for(let e of c.values())e.latch.unsafeOpen();c.clear()})),yield*j.scoped(p.get),{send:(e,t)=>{switch(e._tag){case"Request":return p.get.pipe(j.flatMap(r=>{let a=j.unsafeMakeLatch(!1);return c.set(e.id,{worker:r,latch:a}),j.zipRight(r.send(e,t),a.await)}),j.scoped,j.orDie);case"Interrupt":{let t=c.get(e.requestId);if(!t)return j.void;return c.delete(e.requestId),t.latch.unsafeOpen(),j.orDie(t.worker.send(e))}case"Ack":{let t=c.get(e.requestId);if(!t)return j.void;return j.orDie(t.worker.send(e))}}return j.void},supportsAck:!0,supportsTransferables:!0}})),rj=ek.decodeSync(ew.Defect);e.s(["Protocol",()=>rN,"currentHeaders",0,r_,"layerProtocolHttp",0,e=>G.scoped(rN,j.flatMap(N.HttpClient,t=>(t=N.mapRequest(t,z.prependUrl(e.url)),rz(e.transformClient?e.transformClient(t):t)))),"layerProtocolSocket",0,e=>G.scoped(rN,rP(e)),"layerProtocolWorker",0,e=>G.scoped(rN,rU(e)),"make",0,rO,"makeNoSerialization",0,rA,"makeProtocolHttp",0,rz,"makeProtocolSocket",0,rP,"makeProtocolWorker",0,rU,"withHeaders",0,rM,"withHeadersEffect",0,rD],3065986);var rW=e.i(3065986),rW=rW,rq=e.i(6596031),rq=rq,rB=w,r$=e.i(3901156),r$=r$;let rV=Symbol.for("@effect/rpc/RpcGroup"),rH={add(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return rG({requests:rK(...this.requests.values(),...t),annotations:this.annotations})},merge(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=new Map(this.requests),i=new Map(this.annotations.unsafeMap);for(let e of t){for(let[t,r]of e.requests)a.set(t,r);for(let[t,r]of e.annotations.unsafeMap)i.set(t,r)}return rG({requests:a,annotations:L.unsafeMake(i)})},middleware(e){let t=new Map;for(let[r,a]of this.requests)t.set(r,a.middleware(e));return rG({requests:t,annotations:this.annotations})},toHandlersContext(e){return j.gen(this,function*(){let t=yield*j.context(),r=j.isEffect(e)?yield*e:e,a=new Map;for(let[e,i]of Object.entries(r)){let r=this.requests.get(e);a.set(r.key,{handler:i,context:t})}return L.unsafeMake(a)})},prefix(e){let t=new Map;for(let r of this.requests.values()){let a=r.prefix(e);t.set(a._tag,a)}return rG({requests:t,annotations:this.annotations})},toLayer(e){return G.scopedContext(this.toHandlersContext(e))},of:V.identity,toLayerHandler(e,t){return G.scopedContext(j.gen(this,function*(){let r=yield*j.context(),a=j.isEffect(t)?yield*t:t,i=new Map,n=this.requests.get(e);return i.set(n.key,{handler:a,context:r}),L.unsafeMake(i)}))},accessHandler(e){return j.contextWith(t=>{let r=this.requests.get(e),{context:a,handler:i}=t.unsafeMap.get(r.key);return(e,t)=>{let r=i(e,t),n=te(r)?r.value:r;return j.isEffect(n)?j.provide(n,a):eW.provideContext(n,a)}})},annotate(e,t){return rG({requests:this.requests,annotations:L.add(this.annotations,e,t)})},annotateRpcs(e,t){return this.annotateRpcsContext(L.make(e,t))},annotateContext(e){return rG({requests:this.requests,annotations:L.merge(this.annotations,e)})},annotateRpcsContext(e){let t=new Map;for(let[r,a]of this.requests)t.set(r,a.annotateContext(L.merge(e,a.annotations)));return rG({requests:t,annotations:this.annotations})}},rG=e=>Object.assign(function(){},rH,{requests:e.requests,annotations:e.annotations}),rK=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=new Map;for(let e of t)a.set(e._tag,ew.isSchema(e)?e8(e):e);return a};e.s(["TypeId",0,rV,"make",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return rG({requests:rK(...t),annotations:L.empty()})}],2629577);var rJ=e.i(2629577),rJ=rJ,rZ=e.i(1210077),rQ=e.i(8697499),rY=e.i(4521597),rX=e.i(3485324),r0=e.i(5269374);let r1=Symbol.for("@effect/rpc/RpcMiddleware");e.s(["Tag",0,()=>(e,t)=>{let r=globalThis.Error,a=r.stackTraceLimit;r.stackTraceLimit=2;let i=new r;function n(){}return r.stackTraceLimit=a,Object.setPrototypeOf(n,Object.getPrototypeOf(L.GenericTag(e))),n.key=e,Object.defineProperty(n,"stack",{get:()=>i.stack}),n[r1]=r1,n.failure=t?.optional===!0||t?.failure===void 0?ew.Never:t.failure,t?.provides&&(n.provides=t.provides),n.optional=t?.optional??!1,n.requiredForClient=t?.requiredForClient??!1,n.wrap=t?.wrap??!1,n},"TypeId",0,r1,"layerClient",0,(e,t)=>G.scopedContext(j.gen(function*(){let r=(yield*j.context()).pipe(L.omit(Z.Scope)),a=j.isEffect(t)?yield*t:t;return L.unsafeMake(new Map([[`${e.key}/Client`,e=>j.mapInputContext(a(e),e=>L.merge(r,e))]]))}))],6307191);var r2=e.i(6307191),r2=r2,r3=e.i(6256836),r5=w;let r4=(0,C.createContextKey)("MaybeUserContext");class r8 extends r5.Context.Tag(r4)(){}var r6=w;let r9=(0,C.createContextKey)("UserContext");class r7 extends r6.Context.Tag(r9)(){}var ae=w,at=e.i(4520167),ar=C;class aa extends r2.Tag()("RpcAuthMiddleware",{provides:r7,failure:at.Schema.Union(r3.Unauthorized,r3.Forbidden,r3.NotFound,r3.NotAuthorizedForScope)}){}class ai extends r2.Tag()("RpcMaybeAuthMiddleware",{provides:r8,failure:at.Schema.Union(r3.Unauthorized,r3.NotAuthorizedForScope)}){}class an extends ae.Context.Tag((0,ar.createContextKey)("EnabledBotIdCheck"))(){}an.layerEnabled=x.Layer.succeed(an,!0),an.layerDisabled=x.Layer.succeed(an,!1);class as extends ae.Context.Tag((0,ar.createContextKey)("AuthFor"))(){}as.layerUser=x.Layer.succeed(as,"user"),as.layerTeam=x.Layer.succeed(as,"team");let ao=at.Schema.Struct({tldName:at.Schema.String,averagePropagationDelayMs:at.Schema.Number,p90PropagationDelayMs:at.Schema.Number,maxPropagationDelayMs:at.Schema.Number}),al=at.Schema.Array(ao),au=r$.make("getSearchTlds",{payload:{registrar:rY.RegistrarName},success:r0.SearchTldsPublicSerializable,error:rZ.GetSearchTldsErrorExternal}).middleware(ai),ac=r$.make("getNameserverPropagationStats",{payload:{},success:al,error:rQ.InternalServerError}).middleware(ai),ad=r$.make("getTldOutage",{payload:{tldName:at.Schema.String},success:at.Schema.NullOr(rX.TldOutagePublicSerializable),error:rQ.InternalServerError}).middleware(aa),ap=rJ.make(au,ac,ad),ah="/registrar/rpc",af="/registrar/domains/search/stream",am="/registrar/domains/search/stream/socket";var r$=r$,rJ=rJ,ag=e.i(4031407),ay=e.i(9887663),ab=e.i(8608118),aS=e.i(147209),av=e.i(5151041);let ak=at.Schema.Struct({domainName:aS.DomainName.schema,years:at.Schema.Number,autoRenew:at.Schema.Boolean,expectedPrice:at.Schema.optional(av.Dollars.typeSchema),fromAiSuggestion:at.Schema.optional(at.Schema.Boolean)}),aw=ak.pipe(at.Schema.omit("fromAiSuggestion"),at.Schema.extend(at.Schema.Struct({status:ag.OrderDomainStatus,error:at.Schema.optional(ag.OrderDomainError.AnyOrUnknown),price:av.Dollars.typeSchema,renewalPrice:av.Dollars.typeSchema,tldOutage:at.Schema.optional(at.Schema.Struct({tldName:at.Schema.String,endsAt:at.Schema.DateFromString}))}))),aE=at.Schema.Struct({domainName:aS.DomainName.schema,price:av.Cents.typeSchema,years:at.Schema.Number}).pipe(at.Schema.omit("price"),at.Schema.extend(at.Schema.Struct({price:av.Dollars.typeSchema}))),ax=r$.make("createOrder",{payload:{items:at.Schema.Array(ak)},success:at.Schema.Struct({orderId:at.Schema.String}),error:ay.CreateOrderErrorExternal}).middleware(ai),aI=r$.make("upsertOrderItem",{payload:{orderId:at.Schema.String,item:ak},success:at.Schema.Void,error:ay.UpsertOrderItemsErrorExternal}).middleware(ai),aT=r$.make("removeOrderItem",{payload:{orderId:at.Schema.String,domainName:aS.DomainName.schema},success:at.Schema.Void,error:ay.RemoveOrderItemErrorExternal}).middleware(ai),aC=r$.make("checkoutOrder",{payload:{orderId:at.Schema.String,returnUrl:at.Schema.String},success:at.Schema.Struct({stripeClientSecret:at.Schema.String,purchaseIntentId:at.Schema.String,lineItems:at.Schema.Array(aE),subtotal:av.Dollars.typeSchema,tax:av.Dollars.typeSchema,total:av.Dollars.typeSchema,registrantFields:at.Schema.Record({key:at.Schema.String,value:ab.RegistrantFields}),claims:at.Schema.Array(at.Schema.Struct({domainName:aS.DomainName.schema,claimsNotice:at.Schema.optional(at.Schema.String),claims:at.Schema.Array(at.Schema.Struct({trademark:at.Schema.String,holder:at.Schema.String}))})),teamRegistrantInfo:at.Schema.optional(ab.BaseAndTldRegistrantFieldValues)}),error:ay.CheckoutOrderErrorExternal}).middleware(aa),aR=r$.make("getOrder",{payload:{orderId:at.Schema.String},success:at.Schema.Struct({items:at.Schema.Array(aw),status:ag.OrderStatus,error:at.Schema.optional(ag.OrderError.AnyOrUnknown)}),error:at.Schema.Union(ay.GetOrderErrorExternal,ay.OrderModeMismatchError)}).middleware(ai),aF=r$.make("submitRegistrantInfoForOrder",{payload:{orderId:at.Schema.String,registrantInfo:ab.BaseAndTldRegistrantFieldValues,saveForTeam:at.Schema.optional(at.Schema.Boolean),purchaseIntentId:at.Schema.String},success:at.Schema.Void,error:ay.SubmitRegistrantInfoForOrderErrorExternal}).middleware(aa),aA=at.Schema.Union(at.Schema.Struct({willSend:at.Schema.Literal("yes"),email:at.Schema.String}),at.Schema.Struct({willSend:at.Schema.Literal("no")}),at.Schema.Struct({willSend:at.Schema.Literal("maybe")})),aO=r$.make("getPostcheckoutRegistrantEmail",{payload:{orderId:at.Schema.String},success:aA,error:ay.GetPostcheckoutRegistrantEmailErrorExternal}).middleware(aa),a_=rJ.make(ax,aI,aT,aC,aR,aF,aO);var r$=r$,rJ=rJ,aM=e.i(3915434),aD=e.i(69809);let aN=r$.make("getDomainPrice",{payload:{domainName:aS.DomainName.schema,purchaseType:at.Schema.Literal("renewal","transfer","redemption"),years:at.Schema.optional(at.Schema.Int.pipe(at.Schema.between(1,10)))},success:at.Schema.Struct({years:at.Schema.Number,price:av.Dollars.schema}),error:ay.GetDomainPriceErrorExternal}).middleware(aa),az=r$.make("getDomainPurchasePrice",{payload:{domainName:aS.DomainName.schema},success:at.Schema.Struct({years:at.Schema.Number,price:av.Dollars.schema}),error:at.Schema.Union(ay.GetDomainPriceErrorExternal,r3.TooManyRequests,ay.DomainNotAvailableError,ay.DomainTooShortError)}).middleware(ai),aP=r$.make("renewDomain",{payload:{domainName:aS.DomainName.schema,years:at.Schema.Number,expectedPrice:av.Dollars.schema,autoRenew:at.Schema.optional(at.Schema.Boolean),registrantInformation:at.Schema.optional(ab.BaseAndTldRegistrantFieldValues)},success:at.Schema.Struct({orderId:at.Schema.String}),error:ay.RenewDomainErrorExternal}).middleware(aa),aL=r$.make("transferInDomain",{payload:{domainName:aS.DomainName.schema,authCode:at.Schema.Redacted(at.Schema.String),years:at.Schema.Number,expectedPrice:av.Dollars.schema,autoRenew:at.Schema.Boolean,registrantInformation:at.Schema.optional(ab.BaseAndTldRegistrantFieldValues)},success:at.Schema.Struct({orderId:at.Schema.String}),error:ay.TransferInDomainErrorExternal}).middleware(aa),aU=r$.make("getTransferInStatus",{payload:at.Schema.Struct({domainName:aS.DomainName.schema}),success:at.Schema.NullOr(at.Schema.Struct({status:aD.TransferInStatus})),error:ay.GetTransferInStatusErrorExternal}).middleware(aa),aj=r$.make("getRegistrantInfo",{payload:at.Schema.Struct({domainName:aS.DomainName.schema}),success:at.Schema.Struct({registrantInfo:at.Schema.NullOr(ab.BaseAndTldRegistrantFieldValues.pipe(at.Schema.omit("byTld")))}),error:ay.GetRegistrantInfoErrorExternal}).middleware(aa),aW=r$.make("updateRegistrantInfo",{payload:at.Schema.Struct({domainName:aS.DomainName.schema,registrantInfo:ab.BaseAndTldRegistrantFieldValues.pipe(at.Schema.omit("byTld"))}),success:at.Schema.Struct({registrantInfo:ab.BaseAndTldRegistrantFieldValues.pipe(at.Schema.omit("byTld"))}),error:ay.UpdateRegistrantInfoErrorExternal}).middleware(aa),aq=r$.make("verifyContact",{payload:at.Schema.Struct({contactVerificationId:at.Schema.String}),success:at.Schema.Struct({ownerId:at.Schema.String}),error:rQ.InternalServerError}),aB=r$.make("getContactVerificationStatus",{payload:at.Schema.Struct({domainName:aS.DomainName.schema}),success:at.Schema.Union(at.Schema.Struct({verified:at.Schema.Literal(!0)}),at.Schema.Struct({verified:at.Schema.Literal(!1),verifyBy:at.Schema.DateFromString,email:at.Schema.String})),error:ay.GetContactVerificationStatusErrorExternal}).middleware(aa),a$=r$.make("getUnverifiedContacts",{payload:at.Schema.Struct({domainNames:at.Schema.Array(aS.DomainName.schema)}),success:at.Schema.Array(at.Schema.Struct({verifyBy:at.Schema.DateFromString,email:at.Schema.String,domains:at.Schema.Array(at.Schema.String)})),error:at.Schema.Union(rQ.InternalServerError,r3.TooManyRequests)}).middleware(aa),aV=r$.make("resendContactVerificationEmail",{payload:at.Schema.Struct({domainName:aS.DomainName.schema}),success:at.Schema.Void,error:ay.ResendContactVerificationEmailErrorExternal}).middleware(aa),aH=r$.make("getAuthCode",{payload:at.Schema.Struct({domainName:aS.DomainName.schema}),success:at.Schema.Struct({authCode:at.Schema.Redacted(at.Schema.String)}),error:at.Schema.Union(ay.DomainNotFirstPartyError,ay.DomainNotFoundError,ay.DomainOwnerMismatchError,ay.DomainCannotBeUnlockedUntilError,rQ.InternalServerError,r3.TooManyRequests)}).middleware(aa),aG=r$.make("updateNameservers",{payload:at.Schema.Struct({domainName:aS.DomainName.schema,nameservers:at.Schema.Array(aM.Nameserver.schema)}),success:at.Schema.Void,error:at.Schema.Union(ay.DomainNotFirstPartyError,ay.DomainNotFoundError,ay.DomainOwnerMismatchError,rQ.InternalServerError,ay.UpstreamDomainNotFoundError,ay.NotEnoughNameserversError,r3.TooManyRequests)}).middleware(aa),aK=r$.make("getAiDomainResults",{payload:at.Schema.Struct({query:at.Schema.String}),success:at.Schema.Struct({suggestions:at.Schema.Array(aS.DomainName.schema)}),error:at.Schema.Union(rQ.InternalServerError,r3.TooManyRequests)}).middleware(ai),aJ=rJ.make(aN,az,aP,aL,aU,aj,aW,aq,aH,aG,aB,a$,aV,aK);!function(e){e.HttpSerializationLayer=rq.layerJson;let t=function(){let{headers:t,domainsRegistrarBaseUrl:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rW.layerProtocolHttp({url:`${r??"http://localhost:3000"}${ah}`,transformClient:O.HttpClient.mapRequest(_.HttpClientRequest.setHeaders(t??A.Headers.empty))}).pipe(x.Layer.provide([F.FetchHttpClient.layer,e.HttpSerializationLayer]))},r=(0,C.createContextKey)("DomainsRegistrarPublicRpcClient");class a extends rB.Context.Tag(r)(){}e.DomainsRegistrarPublicRpcClient=a,e.layerWithoutDependencies=x.Layer.scoped(a,rW.make(ap.merge(a_,aJ))),e.layer=t=>e.layerWithoutDependencies.pipe(x.Layer.provide((t=>{let{domainsRegistrarBaseUrl:r}=t;return rW.layerProtocolHttp({url:`${r}${ah}`}).pipe(x.Layer.provide([F.FetchHttpClient.layer,e.HttpSerializationLayer]))})(t))),e.developmentlayer=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.layerWithoutDependencies.pipe(x.Layer.provide(t(r)))},e.testLayer=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.layerWithoutDependencies.pipe(x.Layer.provide(t(r)))}}(v||(v={}));var aZ=e.i(2663153),aZ=aZ,rW=rW,rq=rq,aQ=w,aY=e.i(1331084);let aX=Symbol.for("@effect/matcher/Matcher"),a0={[aX]:{_input:V.identity,_filters:V.identity,_remaining:V.identity,_result:V.identity,_return:V.identity},_tag:"TypeMatcher",add(e){return a1([...this.cases,e])},pipe(){return(0,eC.pipeArguments)(this,arguments)}};function a1(e){let t=Object.create(a0);return t.cases=e,t}let a2={[aX]:{_input:V.identity,_filters:V.identity,_remaining:V.identity,_result:V.identity,_provided:V.identity,_return:V.identity},_tag:"ValueMatcher",add(e){return"Right"===this.value._tag?this:"When"===e._tag&&!0===e.guard(this.provided)||"Not"===e._tag&&!1===e.guard(this.provided)?a3(this.provided,aY.right(e.evaluate(this.provided))):this},pipe(){return(0,eC.pipeArguments)(this,arguments)}};function a3(e,t){let r=Object.create(a2);return r.provided=e,r.value=t,r}let a5=(e,t)=>({_tag:"When",guard:e,evaluate:t}),a4=e=>{if("function"==typeof e)return e;if(Array.isArray(e)){let t=e.map(a4),r=t.length;return e=>{if(!Array.isArray(e))return!1;for(let a=0;a<r;a++)if(!1===t[a](e[a]))return!1;return!0}}if(null!==e&&"object"==typeof e){let t=Object.entries(e).map(e=>{let[t,r]=e;return[t,a4(r)]}),r=t.length;return e=>{if("object"!=typeof e||null===e)return!1;for(let a=0;a<r;a++){let[r,i]=t[a];if(!(r in e)||!1===i(e[r]))return!1}return!0}}return t=>t===e},a8=(0,V.dual)(2,(e,t)=>ii(t)(a1([]))(e)),a6=e=>function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];let i=r[r.length-1],n=r.slice(0,-1),s=1===n.length?t=>t[e]===n[0]:t=>n.includes(t[e]);return e=>e.add(a5(s,i))},a9=e=>(t,r)=>{let a=r=>"string"==typeof r[e]&&r[e].startsWith(t);return e=>e.add(a5(a,r))},a7=e=>t=>{let r=a5(r=>null!=r&&r[e]in t,r=>t[r[e]](r));return e=>e.add(r)},ie=e=>t=>{let r=a7(e)(t);return e=>ic(r(e))},it=a6("_tag"),ir=a9("_tag"),ia=a7("_tag"),ii=ie("_tag"),is=e=>t=>t instanceof e,io=e=>t=>{let r=il(t);return aY.isEither(r)?"Right"===r._tag?r.right:e(r.left):t=>{let a=r(t);return"Right"===a._tag?a.right:e(a.left)}},il=e=>{if("ValueMatcher"===e._tag)return e.value;let t=e.cases.length;if(1===t){let t=e.cases[0];return e=>"When"===t._tag&&!0===t.guard(e)||"Not"===t._tag&&!1===t.guard(e)?aY.right(t.evaluate(e)):aY.left(e)}return r=>{for(let a=0;a<t;a++){let t=e.cases[a];if("When"===t._tag&&!0===t.guard(r)||"Not"===t._tag&&!1===t.guard(r))return aY.right(t.evaluate(r))}return aY.left(r)}},iu="effect/Match/exhaustive: absurd",ic=e=>{let t=il(e);if(aY.isEither(t)){if("Right"===t._tag)return t.right;throw Error(iu)}return e=>{let r=t(e);if("Right"===r._tag)return r.right;throw Error(iu)}},id=J.isString,ip=J.isNumber,ih=J.isBoolean,im=J.isUndefined,ig=J.isNull,iy=J.isBigInt,ib=J.isSymbol,iS=J.isDate,iv=J.isRecord,ik=Symbol.for("effect/SafeRefinement");e.s(["MatcherTypeId",0,aX,"SafeRefinementId",0,ik,"any",0,()=>!0,"bigint",0,iy,"boolean",0,ih,"date",0,iS,"defined",0,e=>null!=e,"discriminator",0,a6,"discriminatorStartsWith",0,a9,"discriminators",0,a7,"discriminatorsExhaustive",0,ie,"either",0,il,"exhaustive",0,ic,"instanceOf",0,is,"instanceOfUnsafe",0,is,"is",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let a=t.length;return e=>{for(let r=0;r<a;r++)if(e===t[r])return!0;return!1}},"nonEmptyString",0,e=>"string"==typeof e&&e.length>0,"not",0,(e,t)=>r=>r.add({_tag:"Not",guard:a4(e),evaluate:t}),"null",()=>ig,"number",0,ip,"option",0,e=>{let t=il(e);return aY.isEither(t)?aY.match(t,{onLeft:()=>ev.none(),onRight:ev.some}):e=>aY.match(t(e),{onLeft:()=>ev.none(),onRight:ev.some})},"orElse",0,io,"orElseAbsurd",0,e=>io(()=>{throw Error("effect/Match/orElseAbsurd: absurd")})(e),"record",0,iv,"string",0,id,"symbol",0,ib,"tag",0,it,"tagStartsWith",0,ir,"tags",0,ia,"tagsExhaustive",0,ii,"type",0,()=>a1([]),"typeTags",0,()=>e=>{let t=ii(e)(a1([]));return e=>t(e)},"undefined",()=>im,"value",0,e=>a3(e,aY.left(e)),"valueTags",0,a8,"when",0,(e,t)=>r=>r.add(a5(a4(e),t)),"whenAnd",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r,a,i=t[t.length-1],n=t.slice(0,-1);return e.add(a5((a=(r=n.map(a4)).length,e=>{for(let t=0;t<a;t++)if(!1===r[t](e))return!1;return!0}),i))}},"whenOr",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{let r,a,i=t[t.length-1],n=t.slice(0,-1);return e.add(a5((a=(r=n.map(a4)).length,e=>{for(let t=0;t<a;t++)if(!0===r[t](e))return!0;return!1}),i))}},"withReturnType",0,()=>e=>e],3012851);var iw=e.i(3012851);e.s(["Match",0,iw],1524216);var iw=iw,r$=r$,rJ=rJ,iE=e.i(7727411);let ix=r$.make("openSearchStream",{success:iE.SearchStreamMessage,error:at.Schema.Union(r3.TooManyRequests,rQ.InternalServerError),stream:!0}),iI=r$.make("requestDomains",{payload:{domainNames:at.Schema.NonEmptyArray(aS.DomainName.schema).pipe(at.Schema.maxItems(200)),sessionId:at.Schema.NonEmptyString},success:at.Schema.Void,error:r3.TooManyRequests}),iT=rJ.make(ix,iI).middleware(ai);!function(e){e.HttpSerializationLayer=rq.layerNdjson,e.WebsocketSerializationLayer=rq.layerJson;let t=function(){let{domainsSearchBaseUrl:t,headers:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rW.layerProtocolHttp({url:`${t??"http://localhost:3001"}${af}`,transformClient:O.HttpClient.mapRequest(_.HttpClientRequest.setHeaders(r??A.Headers.empty))}).pipe(x.Layer.provide([F.FetchHttpClient.layer,e.HttpSerializationLayer]))},r=function(){let{domainsSearchBaseUrl:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return rW.layerProtocolSocket({retryTransientErrors:!0}).pipe(x.Layer.provide([e.WebsocketSerializationLayer,aZ.layerWebSocket(`${t??"ws://localhost:3001"}${am}`).pipe(x.Layer.provide(aZ.layerWebSocketConstructorGlobal))]))},a=(0,C.createContextKey)("DomainsSearchRpcClient");class i extends aQ.Context.Tag(a)(){}e.DomainsSearchPublicRpcClient=i,e.layerWithoutDependencies=x.Layer.scoped(i,rW.make(iT)),e.layer=t=>e.layerWithoutDependencies.pipe(x.Layer.provide(iw.value(t.searchProtocol??"http").pipe(iw.when("http",()=>(t=>{let{domainsSearchBaseUrl:r}=t;return rW.layerProtocolHttp({url:`${r}${af}`}).pipe(x.Layer.provide([F.FetchHttpClient.layer,e.HttpSerializationLayer]))})(t)),iw.when("socket",()=>(t=>{let{domainsSearchBaseUrl:r}=t;return rW.layerProtocolSocket({retryTransientErrors:!0}).pipe(x.Layer.provide([e.WebsocketSerializationLayer,aZ.layerWebSocket(`${r}${am}`).pipe(x.Layer.provide(aZ.layerWebSocketConstructorGlobal))]))})(t)),iw.exhaustive))),e.developmentlayer=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.layerWithoutDependencies.pipe(x.Layer.provide(iw.value(a.searchProtocol??"http").pipe(iw.when("http",()=>t(a)),iw.when("socket",()=>r(a)),iw.exhaustive)))},e.testLayer=function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.layerWithoutDependencies.pipe(x.Layer.provide(iw.value(a.searchProtocol??"http").pipe(iw.when("http",()=>t(a)),iw.when("socket",()=>r(a)),iw.exhaustive)))}}(k||(k={}));let iC=(0,C.createContextKey)("DomainsRegistrarRpcClient");class iR extends w.Context.Tag(iC)(){}let iF=E.Effect.gen(function*(){let e=yield*v.DomainsRegistrarPublicRpcClient,t=yield*k.DomainsSearchPublicRpcClient;return{search:{openSearchStream:t.openSearchStream,requestDomains:t.requestDomains,getAiDomainResults:e.getAiDomainResults},tlds:{getSearchTlds:e.getSearchTlds,getNameserverPropagationStats:e.getNameserverPropagationStats,getTldOutage:e.getTldOutage},orders:{create:e.createOrder,get:e.getOrder,upsertItem:e.upsertOrderItem,removeItem:e.removeOrderItem,checkout:e.checkoutOrder,submitRegistrantInfo:e.submitRegistrantInfoForOrder,getPostcheckoutRegistrantEmail:e.getPostcheckoutRegistrantEmail},domains:{getPrice:e.getDomainPrice,getPurchasePrice:e.getDomainPurchasePrice,renew:e.renewDomain,transferIn:e.transferInDomain,getTransferInStatus:e.getTransferInStatus,getRegistrantInfo:e.getRegistrantInfo,updateRegistrantInfo:e.updateRegistrantInfo,verifyContact:e.verifyContact,getAuthCode:e.getAuthCode,updateNameservers:e.updateNameservers,getContactVerificationStatus:e.getContactVerificationStatus,resendContactVerificationEmail:e.resendContactVerificationEmail,getUnverifiedContacts:e.getUnverifiedContacts}}}),iA=x.Layer.effect(iR,iF),iO=e=>iA.pipe(x.Layer.provide(v.layer(e)),x.Layer.provide(k.layer(e))),i_=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return iA.pipe(x.Layer.provide(v.developmentlayer(e)),x.Layer.provide(k.developmentlayer(e)))},iM=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return iA.pipe(x.Layer.provide(v.testLayer(e)),x.Layer.provide(k.testLayer(e)))};class iD{constructor(e){this.search={openSearchStream:(e,t)=>this.runEffect(t=>t.search.openSearchStream(e).pipe(T.Stream.toAsyncIterableEffect),{signal:t?.signal}),requestDomains:(e,t)=>this.runEffect(t=>t.search.requestDomains(e),{signal:t?.signal}),getAiDomainResults:(e,t)=>this.runEffect(t=>t.search.getAiDomainResults(e),{signal:t?.signal})},this.tlds={getSearchTlds:(e,t)=>this.runEffect(t=>t.tlds.getSearchTlds(e),{signal:t?.signal}),getNameserverPropagationStats:(e,t)=>this.runEffect(t=>t.tlds.getNameserverPropagationStats(e),{signal:t?.signal}),getTldOutage:(e,t)=>this.runEffect(t=>t.tlds.getTldOutage(e),{signal:t?.signal})},this.orders={create:(e,t)=>this.runEffect(t=>t.orders.create(e),{signal:t?.signal}),get:(e,t)=>this.runEffect(t=>t.orders.get(e),{signal:t?.signal}),upsertItem:(e,t)=>this.runEffect(t=>t.orders.upsertItem(e),{signal:t?.signal}),removeItem:(e,t)=>this.runEffect(t=>t.orders.removeItem(e),{signal:t?.signal}),checkout:(e,t)=>this.runEffect(t=>t.orders.checkout(e),{signal:t?.signal}),submitRegistrantInfo:(e,t)=>this.runEffect(t=>t.orders.submitRegistrantInfo(e),{signal:t?.signal})},this.domains={getPrice:(e,t)=>this.runEffect(t=>t.domains.getPrice(e),{signal:t?.signal}),getPurchasePrice:(e,t)=>this.runEffect(t=>t.domains.getPurchasePrice(e),{signal:t?.signal}),renew:(e,t)=>this.runEffect(t=>t.domains.renew(e),{signal:t?.signal}),transferIn:(e,t)=>this.runEffect(t=>t.domains.transferIn(e),{signal:t?.signal}),getTransferInStatus:(e,t)=>this.runEffect(t=>t.domains.getTransferInStatus(e),{signal:t?.signal}),getRegistrantInfo:(e,t)=>this.runEffect(t=>t.domains.getRegistrantInfo(e),{signal:t?.signal}),updateRegistrantInfo:(e,t)=>this.runEffect(t=>t.domains.updateRegistrantInfo(e),{signal:t?.signal}),verifyContact:(e,t)=>this.runEffect(t=>t.domains.verifyContact(e),{signal:t?.signal}),getAuthCode:(e,t)=>this.runEffect(t=>t.domains.getAuthCode(e),{signal:t?.signal}),updateNameservers:(e,t)=>this.runEffect(t=>t.domains.updateNameservers(e),{signal:t?.signal}),getContactVerificationStatus:(e,t)=>this.runEffect(t=>t.domains.getContactVerificationStatus(e),{signal:t?.signal}),resendContactVerificationEmail:(e,t)=>this.runEffect(t=>t.domains.resendContactVerificationEmail(e),{signal:t?.signal}),getUnverifiedContacts:(e,t)=>this.runEffect(t=>t.domains.getUnverifiedContacts(e),{signal:t?.signal}),getPostcheckoutRegistrantEmail:(e,t)=>this.runEffect(t=>t.orders.getPostcheckoutRegistrantEmail(e),{signal:t?.signal})},this.runtime=(()=>{if("production"===e.environment)return I.ManagedRuntime.make(iO({...e}));let t={...e};return"development"===e.environment?I.ManagedRuntime.make(i_(t)):I.ManagedRuntime.make(iM(t))})();const t=(0,R.makeRunPromiseSettledResult)(this.runtime);this.runEffect=e=>t(E.Effect.gen(function*(){let t=yield*iR;return yield*e(t)}))}}e.s(["AsyncDomainsRegistrarRpcClient",()=>iD,"DomainsRegistrarRpcClient",()=>iR,"developmentLayer",0,i_,"layer",0,iO,"layerWithoutDependencies",0,iA,"testLayer",0,iM],4799606),e.i(4799606),e.s(["AsyncDomainsRegistrarRpcClient",()=>iD,"DomainsRegistrarRpcClient",()=>iR,"DomainsSearchPublicRpcClient",()=>k,"developmentLayer",0,i_,"layer",0,iO,"layerWithoutDependencies",0,iA,"testLayer",0,iM],5303572);var iN=e.i(5303572);e.s(["DomainsRegistrarRpcClient",0,iN],5105823)},9887663,147209,3915434,69809,7727411,5208524,e=>{"use strict";var t=e.i(4520167),r=e.i(1674250),a=e.i(8697499),i=e.i(4031407),n=e.i(8973927),s=e.i(4080901),o=t,l=e.i(5031066),u=e.i(953632);let c=l.Predicate.or(e=>/^[A-Za-z]$/.test(e),e=>/^[0-9]$/.test(e)),d=l.Predicate.or(c,e=>"-"===e);function p(e){let t=(e.endsWith(".")?e.slice(0,-1):e).split(".");return 0!==t.length&&t.every(e=>(function(e){if(0===e.length||e.length>63)return!1;let t=e[0];if(void 0===t||!c(t))return!1;let r=e[e.length-1];if(void 0===r||!c(r))return!1;for(let t=1;t<e.length-1;t++){let r=e[t];if(void 0===r||!d(r))return!1}return!0})(e))}let h=o.Schema.transformOrFail(o.Schema.String,o.Schema.String.pipe(o.Schema.brand("DomainName")),{strict:!0,decode:(e,t,r)=>n.Effect.gen(function*(){let t=e.trim();if(!p(t))return yield*n.Effect.fail(Error(`Invalid domain name: ${t}`));let r=yield*n.Effect.try(()=>(0,u.parse)(t));return!r.isIp&&r.domain&&r.hostname&&r.domain===r.hostname&&!r.subdomain?r.domain:yield*n.Effect.fail(Error(`Domain failed parse checks: ${t}`))}).pipe(n.Effect.mapError(t=>new s.ParseResult.Type(r,e,t.message))),encode:e=>s.ParseResult.succeed(e)}).annotations({identifier:"DomainName",description:"A valid domain name"}).pipe(o.Schema.asSchema),f=o.Schema.decode(h),m=o.Schema.decodeSync(h);class g extends o.Schema.TaggedError()("InvalidDomainNameError",{message:o.Schema.String,domainName:o.Schema.String,cause:o.Schema.instanceOf(s.ParseResult.ParseError)}){}let y={schema:h,fromString:e=>f(e).pipe(n.Effect.catchTag("ParseError",t=>n.Effect.fail(new g({message:`${e} is not a valid domain name.`,domainName:e,cause:t})))),fromStringSync:e=>m(e),unsafeBrand:e=>e};e.s(["DomainName",0,y,"InvalidDomainNameError",()=>g],147209);var b=e.i(5151041),S=e.i(6256836),v=s,k=t;let w=k.Schema.transformOrFail(k.Schema.String,k.Schema.String.pipe(k.Schema.brand("Nameserver")),{strict:!0,decode:(e,t,r)=>n.Effect.gen(function*(){let t=e.trim();if(!p(t))return yield*n.Effect.fail(Error(`Invalid nameserver: ${t}`));let r=t.toLowerCase(),a=r.endsWith(".")?r.slice(0,-1):r,i=yield*n.Effect.try(()=>(0,u.parse)(t));return!i.isIp&&i.domain&&i.hostname&&i.hostname===a?i.hostname:yield*n.Effect.fail(Error(`Invalid nameserver: ${t}`))}).pipe(n.Effect.mapError(t=>new v.ParseResult.Type(r,e,t.message))),encode:e=>v.ParseResult.succeed(e)}).annotations({identifier:"Nameserver",description:"A valid nameserver"}).pipe(k.Schema.asSchema),E=k.Schema.decode(w),x=k.Schema.decodeSync(w);class I extends k.Schema.TaggedError()("InvalidNameserverError",{message:k.Schema.String,nameserver:k.Schema.String,cause:k.Schema.instanceOf(v.ParseResult.ParseError)}){}let T={schema:w,fromString:e=>E(e).pipe(n.Effect.catchTag("ParseError",t=>n.Effect.fail(new I({message:`${e} is not a valid nameserver.`,nameserver:e,cause:t})))),fromStringSync:e=>x(e)};e.s(["InvalidNameserverError",()=>I,"Nameserver",0,T],3915434);class C extends t.Schema.TaggedError()("OrderNotFoundError",{orderId:t.Schema.String}){}class R extends t.Schema.TaggedError()("OrderEmptyError",{orderId:t.Schema.String}){}class F extends t.Schema.TaggedError()("TooManyDomainsInOrderError",{orderId:t.Schema.String,totalDomains:t.Schema.Number,maxDomains:t.Schema.Number}){}class A extends t.Schema.TaggedError()("OrderTooExpensiveError",{orderId:t.Schema.String,totalPrice:b.Dollars.typeSchema,maxPrice:b.Dollars.typeSchema}){}class O extends t.Schema.TaggedError()("TeamNotProvidedError",{message:t.Schema.optional(t.Schema.String)}){}class _ extends t.Schema.TaggedError()("TeamNotFoundError",{teamId:t.Schema.String}){}class M extends t.Schema.TaggedError()("StripeCustomerIdNotFoundError",{ownerId:t.Schema.String}){}class D extends t.Schema.TaggedError()("DomainPriceCheckError",{domainName:y.schema}){}class N extends t.Schema.TaggedError()("DomainAvailabilityCheckError",{domainNames:t.Schema.NonEmptyArray(y.schema)}){}class z extends t.Schema.TaggedError()("DomainNotAvailableError",{domainName:t.Schema.String}){}class P extends t.Schema.TaggedError()("DomainInfoNotFoundError",{domainName:t.Schema.String,type:t.Schema.optional(t.Schema.Literal("availability","pricing")),years:t.Schema.Number}){}class L extends t.Schema.TaggedError()("DomainAlreadyOwnedError",{domainName:t.Schema.String,message:t.Schema.String}){}class U extends t.Schema.TaggedError()("ExpectedPriceMismatchError",{domainName:t.Schema.optional(t.Schema.String),expectedPrice:b.Dollars.typeSchema,actualPrice:t.Schema.Union(b.Dollars.typeSchema,t.Schema.Literal("not-found"))}){}class j extends t.Schema.TaggedError()("OrderStatusError",{message:t.Schema.String,orderId:t.Schema.String,expectedStatuses:t.Schema.Array(i.OrderStatus),actualStatus:i.OrderStatus}){}class W extends t.Schema.TaggedError()("OrderAuthMismatchError",{orderId:t.Schema.String}){}class q extends t.Schema.TaggedError()("OrderModeMismatchError",{orderId:t.Schema.String,expectedMode:i.OrderModeValue,actualMode:i.OrderModeValue}){}class B extends t.Schema.TaggedError()("InvalidPurchaseIntentError",{message:t.Schema.String,purchaseIntentId:t.Schema.String}){}class $ extends t.Schema.TaggedError()("DomainNotFoundError",{domainName:y.schema}){}class V extends t.Schema.TaggedError()("DomainNotFirstPartyError",{domainName:t.Schema.String,message:t.Schema.String}){}class H extends t.Schema.TaggedError()("DomainOwnerMismatchError",{domainName:t.Schema.String,message:t.Schema.String}){}class G extends t.Schema.TaggedError()("DomainNotRenewableError",{domainName:y.schema,message:t.Schema.String}){}class K extends t.Schema.TaggedError()("DynamicRegistrantInformationRequiredError",{tld:t.Schema.String}){}class J extends t.Schema.TaggedError()("InvalidDynamicRegistrantInformationError",{tld:t.Schema.String}){}class Z extends t.Schema.TaggedError()("UpstreamDomainNotFoundError",{domainName:y.schema,message:t.Schema.String}){}class Q extends t.Schema.TaggedError()("TldOutageError",{outages:t.Schema.Array(t.Schema.Struct({tldName:t.Schema.String,endsAt:t.Schema.DateFromString})),message:t.Schema.String}){}class Y extends t.Schema.TaggedError()("TldNotSupportedError",{domainName:y.schema,tld:t.Schema.String}){}class X extends t.Schema.TaggedError()("RegistrantInformationRequiredError",{domainName:y.schema}){}class ee extends t.Schema.TaggedError()("DuplicateDomainsError",{duplicateDomainNames:t.Schema.NonEmptyArray(y.schema)}){}class et extends t.Schema.TaggedError()("InvalidRegistrantInformationError",{domainName:t.Schema.String}){}class er extends t.Schema.TaggedError()("NotEnoughNameserversError",{domainName:t.Schema.String,nameservers:t.Schema.NonEmptyArray(T.schema),message:t.Schema.String}){}class ea extends t.Schema.TaggedError()("BoughtTooRecentlyError",{domainName:t.Schema.String,message:t.Schema.String}){}class ei extends t.Schema.TaggedError()("ContactAlreadyVerifiedError",{domainName:t.Schema.String}){}class en extends t.Schema.TaggedError()("DNSSECEnabledError",{domainName:t.Schema.String}){}class es extends t.Schema.TaggedError()("DomainTooShortError",{domainName:y.schema,minLength:t.Schema.Number}){}class eo extends t.Schema.TaggedError()("DomainAlreadyExistsError",{domainName:t.Schema.String,message:t.Schema.String}){}class el extends t.Schema.TaggedError()("DomainCannotBeUnlockedUntilError",{domainName:t.Schema.String,date:t.Schema.optional(t.Schema.DateFromString)}){}class eu extends t.Schema.TaggedError()("StalePurchaseIntentError",{purchaseIntentId:t.Schema.String}){}let ec=t.Schema.Union(C,W,a.InternalServerError),ed=t.Schema.Union(O,D,N,P,z,L,U,q,Y,ee,es,a.InternalServerError),ep=t.Schema.Union(P,z,U,C,D,N,L,j,W,O,q,Y,es,a.InternalServerError),eh=t.Schema.Union(C,j,W,O,q,a.InternalServerError),ef=t.Schema.Union(r.CopperClientError,C,R,F,A,W,O,_,M,q,B,j,a.InternalServerError,Q),em=t.Schema.Union(C,q,W,a.InternalServerError,K,J,eu),eg=t.Schema.Union(D,P,Y,a.InternalServerError),ey=t.Schema.Union($,V,H,G,X,O,D,P,U,Y,a.InternalServerError),eb=t.Schema.Union(X,O,D,P,U,en,Y,es,a.InternalServerError,eo),eS=t.Schema.Union(S.TooManyRequests,$,V,H,et,a.InternalServerError),ev=t.Schema.Union(S.TooManyRequests,$,V,H,et,a.InternalServerError),ek=t.Schema.Union(S.TooManyRequests,$,V,H,ea,a.InternalServerError),ew=t.Schema.Union($,V,H,ei,ea,a.InternalServerError),eE=t.Schema.Union(C,W,q,a.InternalServerError),ex=t.Schema.Union(a.InternalServerError,S.TooManyRequests);e.s(["BoughtTooRecentlyError",()=>ea,"CheckoutOrderErrorExternal",0,ef,"ContactAlreadyVerifiedError",()=>ei,"CreateOrderErrorExternal",0,ed,"DNSSECEnabledError",()=>en,"DomainAlreadyExistsError",()=>eo,"DomainAlreadyOwnedError",()=>L,"DomainAvailabilityCheckError",()=>N,"DomainCannotBeUnlockedUntilError",()=>el,"DomainInfoNotFoundError",()=>P,"DomainNotAvailableError",()=>z,"DomainNotFirstPartyError",()=>V,"DomainNotFoundError",()=>$,"DomainNotRenewableError",()=>G,"DomainOwnerMismatchError",()=>H,"DomainPriceCheckError",()=>D,"DomainTooShortError",()=>es,"DuplicateDomainsError",()=>ee,"DynamicRegistrantInformationRequiredError",()=>K,"ExpectedPriceMismatchError",()=>U,"GetContactVerificationStatusErrorExternal",0,ek,"GetDomainPriceErrorExternal",0,eg,"GetOrderErrorExternal",0,ec,"GetPostcheckoutRegistrantEmailErrorExternal",0,eE,"GetRegistrantInfoErrorExternal",0,eS,"GetTransferInStatusErrorExternal",0,ex,"InvalidDynamicRegistrantInformationError",()=>J,"InvalidPurchaseIntentError",()=>B,"InvalidRegistrantInformationError",()=>et,"NotEnoughNameserversError",()=>er,"OrderAuthMismatchError",()=>W,"OrderEmptyError",()=>R,"OrderModeMismatchError",()=>q,"OrderNotFoundError",()=>C,"OrderStatusError",()=>j,"OrderTooExpensiveError",()=>A,"RegistrantInformationRequiredError",()=>X,"RemoveOrderItemErrorExternal",0,eh,"RenewDomainErrorExternal",0,ey,"ResendContactVerificationEmailErrorExternal",0,ew,"StalePurchaseIntentError",()=>eu,"StripeCustomerIdNotFoundError",()=>M,"SubmitRegistrantInfoForOrderErrorExternal",0,em,"TeamNotFoundError",()=>_,"TeamNotProvidedError",()=>O,"TldNotSupportedError",()=>Y,"TldOutageError",()=>Q,"TooManyDomainsInOrderError",()=>F,"TransferInDomainErrorExternal",0,eb,"UpdateRegistrantInfoErrorExternal",0,ev,"UpsertOrderItemsErrorExternal",0,ep,"UpstreamDomainNotFoundError",()=>Z],9887663);let eI=t.Schema.Literal("canceled","canceled_pending_refund","completed","created","failed","pending","pending_insert","pending_new_auth_code","pending_transfer","pending_unlock","rejected","submitting_transfer");e.s(["TransferInStatus",0,eI],69809);let eT=t.Schema.TaggedStruct("SearchStreamInitialized",{sessionId:t.Schema.String}),eC=t.Schema.Struct({domainName:y.schema,availability:t.Schema.Literal("available","unavailable"),availabilityCheckedAt:t.Schema.Number,premiumPrice:t.Schema.optional(t.Schema.Number),premiumPriceCheckedAt:t.Schema.optional(t.Schema.Number)}),eR=t.Schema.TaggedStruct("Terminal",{...eC.fields}),eF=t.Schema.TaggedStruct("NonTerminal",{...eC.fields}),eA=t.Schema.TaggedStruct("Error",{domainName:y.schema}),eO=t.Schema.Union(eR,eF,eA),e_=t.Schema.Union(eO,eT);e.s(["BaseResult",0,eC,"ErrorResult",0,eA,"NonTerminalResult",0,eF,"SearchResult",0,eO,"SearchStreamInitialized",0,eT,"SearchStreamMessage",0,e_,"TerminalResult",0,eR],7727411),e.s([],5544443),e.i(5544443),e.i(7727411);let eM=t.Schema.Literal("buy","renew","transfer","redemption").annotations({identifier:"PriceType",description:"Schema defining the types of TLD pricing."});e.s(["PriceType",0,eM],4435348),e.i(4435348);var eD=e.i(5269374),eN=e.i(4521597);let ez=t.Schema.Struct({name:t.Schema.String,type:eM,registrar:eN.RegistrarName,price:b.Cents.schema,years:t.Schema.Int.pipe(t.Schema.between(1,10)),syncedAt:t.Schema.DateFromSelf}).annotations({identifier:"TldPrice",description:"Represents the structure of a TLD Price entity, including its attributes such as price tiers, currency, and applicable periods."});e.s(["TldPrice",0,ez],5243481),e.i(5243481);var eP=e.i(1210077),eL=e.i(8608118),eU=e.i(3485324);e.i(9887663);var ej=e.i(2681574),eW=e.i(9884288),eq=e.i(7876226);e.i(147209),e.i(3915434),e.i(69809);var eB=e.i(9552070),e$=e.i(1932814);let eV=/^(?!.*[DFIOQU])[ABCEGHJ-NPRSTVXY]\d[ABCEGHJ-NPRSTVWXYZ][ ]?\d[ABCEGHJ-NPRSTVWXYZ]\d$/i,eH={ca:{zip:t.Schema.NonEmptyTrimmedString.pipe(t.Schema.transform(t.Schema.NonEmptyTrimmedString,{strict:!0,decode:e=>{let t;return 6===(t=e.trim().toUpperCase().replace(/\s/g,"")).length?`${t.slice(0,3)} ${t.slice(3)}`:e},encode:e=>e}),t.Schema.filter(e=>eV.test(e),{message:()=>"Invalid Canadian postal code format. Expected format: A1A 1A1"})).annotations({identifier:"CanadianPostalCode",description:"Canadian postal code in format A1A 1A1 (space optional)"})}},eG=e=>t.Schema.NonEmptyTrimmedString.annotations({message:()=>({message:e,override:!0})}),eK=e=>{let t={...e},r=e=>{e&&Object.entries(e).forEach(e=>{let[r,i]=e;void 0===t[r]&&(t[r]=i,a(i))})},a=e=>{("string"===e.type||"enum"===e.type)&&(r(e.fields),e.options?.forEach(e=>r(e.fields)))};return Object.values(e).forEach(a),t},eJ=(e,r)=>{var a;let i,n,s,o,l=eK(e),u=(i=new Set,n=e=>{Object.entries(e).forEach(e=>{let[t,r]=e;i.add(t),("string"===r.type||"enum"===r.type)&&(r.fields&&n(r.fields),r.options?.forEach(e=>{e.fields&&n(e.fields)}))})},Object.values(e).filter(e=>"enum"===e.type&&!!e.options).forEach(e=>e.options?.forEach(e=>{e.fields&&n(e.fields)})),i),c=(s={},Object.entries(l).forEach(e=>{let[a,i]=e;if("notice"===i.type)return;let n=((e,r)=>{let a="enum"===e.type?"Please select a valid option":"string"===e.type&&e.options?.length?"Please select an option":"This field is required";if(r)return e.required?r:t.Schema.Union(t.Schema.Literal(""),r);if("enum"===e.type&&e.options?.length){let r=e.options.map(e=>e.value).filter(e=>void 0!==e);if(0===r.length)return e.required?eG(a):t.Schema.String;let i=t.Schema.String.pipe(t.Schema.filter(e=>r.includes(e),{message:()=>a}));return e.required?i.annotations({message:()=>({message:a,override:!0})}):t.Schema.Union(t.Schema.Literal(""),i)}if(e.validation?.startsWith("regex:")){let r,i=e.validation.slice(6);try{r=new RegExp(i)}catch{return e.required?eG(a):t.Schema.String}let n=t.Schema.String.pipe(t.Schema.pattern(r,{message:()=>`The value must match the pattern ${i}`}));return e.required?n:t.Schema.Union(t.Schema.Literal(""),n)}if(e.validation?.startsWith("min_length:")){let r=Number.parseInt(e.validation.slice(11),10);if(Number.isNaN(r)||r<0)return e.required?eG(a):t.Schema.String;let i=t.Schema.String.pipe(t.Schema.filter(e=>e.length>=r,{message:()=>`The value must be at least ${r} characters long`}));return e.required?i:t.Schema.Union(t.Schema.Literal(""),i)}return e.required?eG(a):t.Schema.String})(i,eH?.[r]?.[a]),o=i.required&&!u.has(a);s[a]=o?n:t.Schema.optional(n)}),s);return a=t.Schema.Struct(c),0===(o=Object.entries(eK(e)).filter(e=>"enum"===e[1].type&&!!e[1].options?.length)).length?a:t.Schema.transformOrFail(a,a,{strict:!0,decode:(e,t,r)=>{let a=[],i=(t,i,n)=>{let s="required_when"in i?i.required_when:void 0;(i.required||s&&n===s)&&(!e[t]||""===e[t])&&a.push(new eB.Pointer(t,e,new eB.Missing(new e$.Type(r))))},n=(t,r)=>{if("enum"!==r.type||!r.options)return;let a=e[t];if(!a)return;let s=r.options.find(e=>e.value===a);s?.fields&&Object.entries(s.fields).forEach(t=>{let[r,a]=t;i(r,a),"string"===a.type&&a.fields&&Object.entries(a.fields).forEach(t=>{let[a,n]=t;i(a,n,e[r])}),"enum"===a.type&&a.options&&n(r,a)})};o.forEach(e=>{let[t,r]=e;n(t,r)});let s=a[0];return 0!==a.length&&s?eB.fail(new eB.Composite(r,e,[s,...a.slice(1)])):eB.succeed(e)},encode:e=>eB.succeed(e)})};function eZ(e){let r=Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,eJ(r,t)]}));return t.Schema.Struct(r)}e.s(["buildTldSchema",0,eJ,"constructSchemaFromFieldsSchema",()=>eZ],4982482),e.i(4982482),e.s(["BaseAndTldRegistrantFieldValues",()=>eL.BaseAndTldRegistrantFieldValues,"BaseAndTldRegistrantFieldValuesApiResource",()=>eL.BaseAndTldRegistrantFieldValuesApiResource,"BaseRegistrantFieldValues",()=>eL.BaseRegistrantFieldValues,"BaseResult",0,eC,"BoughtTooRecentlyError",()=>ea,"Cents",()=>b.Cents,"CentsFromDollars",()=>b.CentsFromDollars,"CheckoutOrderErrorExternal",0,ef,"ContactAlreadyVerifiedError",()=>ei,"CountryCode",()=>eq.CountryCode,"CreateOrderErrorExternal",0,ed,"DNSSECEnabledError",()=>en,"Dollars",()=>b.Dollars,"DollarsFromCents",()=>b.DollarsFromCents,"DomainAlreadyExistsError",()=>eo,"DomainAlreadyOwnedError",()=>L,"DomainAvailabilityCheckError",()=>N,"DomainCannotBeUnlockedUntilError",()=>el,"DomainInfoNotFoundError",()=>P,"DomainName",0,y,"DomainNotAvailableError",()=>z,"DomainNotFirstPartyError",()=>V,"DomainNotFoundError",()=>$,"DomainNotRenewableError",()=>G,"DomainOwnerMismatchError",()=>H,"DomainPriceCheckError",()=>D,"DomainTooShortError",()=>es,"DuplicateDomainsError",()=>ee,"DynamicRegistrantInformationRequiredError",()=>K,"E164PhoneNumber",()=>eW.E164PhoneNumber,"EditableOrderStatus",()=>i.EditableOrderStatus,"EditableOrderStatuses",()=>i.EditableOrderStatuses,"EmailAddress",()=>ej.EmailAddress,"ErrorResult",0,eA,"ExpectedPriceMismatchError",()=>U,"Forbidden",()=>S.Forbidden,"GetContactVerificationStatusErrorExternal",0,ek,"GetDomainPriceErrorExternal",0,eg,"GetOrderErrorExternal",0,ec,"GetPostcheckoutRegistrantEmailErrorExternal",0,eE,"GetRegistrantInfoErrorExternal",0,eS,"GetSearchTldsErrorExternal",()=>eP.GetSearchTldsErrorExternal,"GetTransferInStatusErrorExternal",0,ex,"InternalServerError",()=>a.InternalServerError,"InvalidDomainNameError",()=>g,"InvalidDynamicRegistrantInformationError",()=>J,"InvalidNameserverError",()=>I,"InvalidPurchaseIntentError",()=>B,"InvalidRegistrantInformationError",()=>et,"LimitInfo",()=>S.LimitInfo,"Nameserver",0,T,"NonEditableOrderStatus",()=>i.NonEditableOrderStatus,"NonEditableOrderStatuses",()=>i.NonEditableOrderStatuses,"NonTerminalResult",0,eF,"NotAuthorizedForScope",()=>S.NotAuthorizedForScope,"NotEnoughNameserversError",()=>er,"NotFound",()=>S.NotFound,"OrderAuthMismatchError",()=>W,"OrderDomainError",()=>i.OrderDomainError,"OrderDomainStatus",()=>i.OrderDomainStatus,"OrderEmptyError",()=>R,"OrderError",()=>i.OrderError,"OrderModeMismatchError",()=>q,"OrderModeValue",()=>i.OrderModeValue,"OrderNotFoundError",()=>C,"OrderStatus",()=>i.OrderStatus,"OrderStatusError",()=>j,"OrderStatuses",()=>i.OrderStatuses,"OrderTooExpensiveError",()=>A,"PriceType",0,eM,"RegistrantFieldValues",()=>eL.RegistrantFieldValues,"RegistrantFieldValuesByTld",()=>eL.RegistrantFieldValuesByTld,"RegistrantFields",()=>eL.RegistrantFields,"RegistrantFieldsByTld",()=>eL.RegistrantFieldsByTld,"RegistrantInformationRequiredError",()=>X,"RegistrarName",()=>eN.RegistrarName,"RemoveOrderItemErrorExternal",0,eh,"RenewDomainErrorExternal",0,ey,"ResendContactVerificationEmailErrorExternal",0,ew,"RetryAfter",()=>S.RetryAfter,"SearchPrice",()=>eD.SearchPrice,"SearchResult",0,eO,"SearchStreamInitialized",0,eT,"SearchStreamMessage",0,e_,"SearchTldPublicSerializable",()=>eD.SearchTldPublicSerializable,"SearchTlds",()=>eD.SearchTlds,"SearchTldsPublicSerializable",()=>eD.SearchTldsPublicSerializable,"StalePurchaseIntentError",()=>eu,"StripeCustomerIdNotFoundError",()=>M,"SubmitRegistrantInfoForOrderErrorExternal",0,em,"TeamNotFoundError",()=>_,"TeamNotProvidedError",()=>O,"TerminalResult",0,eR,"TldNotSupportedError",()=>Y,"TldOutage",()=>eU.TldOutage,"TldOutageError",()=>Q,"TldOutagePublicSerializable",()=>eU.TldOutagePublicSerializable,"TldOutageSerializable",()=>eU.TldOutageSerializable,"TldPrice",0,ez,"TooManyDomainsInOrderError",()=>F,"TooManyRequests",()=>S.TooManyRequests,"TransferInDomainErrorExternal",0,eb,"TransferInStatus",0,eI,"Unauthorized",()=>S.Unauthorized,"UpdateRegistrantInfoErrorExternal",0,ev,"UpsertOrderItemsErrorExternal",0,ep,"UpstreamDomainNotFoundError",()=>Z,"buildTldSchema",0,eJ,"constructSchemaFromFieldsSchema",()=>eZ,"registrantFieldValuesFromApiResource",()=>eL.registrantFieldValuesFromApiResource],1835458);var eQ=e.i(1835458);e.s(["Schemas",0,eQ],5208524)},5055193,e=>{"use strict";var t=e.i(8815901);e.s(["Option",0,t])},6893786,7983942,7203323,404148,e=>{"use strict";var t=e.i(7703391);e.s(["Schedule",0,t],6893786);var r=e.i(5283034);e.s(["Array",0,r],7983942);var a=e.i(578549);e.s(["Deferred",0,a],7203323);var i=e.i(6532885);e.s(["Ref",0,i],404148)},8358049,e=>{"use strict";var t=e.i(4434603);e.s(["Redacted",0,t])},1097465,e=>{"use strict";var t=e.i(7862555);e.s(["Chunk",0,t])},6912975,e=>{"use strict";var t=e.i(7518524);e.s(["Atom",0,t])},9977037,e=>{"use strict";var t=e.i(8909038);e.s(["Result",0,t])},3467418,e=>{"use strict";var t=e.i(4584424);let r=t.layerStorage(()=>sessionStorage),a=t.layerStorage(()=>localStorage);e.s(["layerLocalStorage",0,a,"layerSessionStorage",0,r],9741697);var i=e.i(9741697);e.s(["BrowserKeyValueStore",0,i],3467418)},9553766,e=>{"use strict";var t=e.i(4520167);let r=["relevance","length","price","alphabetical"],a=["all","available","premium"],i=t.Schema.Literal(...r),n=t.Schema.Literal(...a),s=t.Schema.Literal("auto","1","2","3");e.s(["COLUMNS_OPTIONS_DEFAULT",0,"auto","Columns",0,s,"FILTER_OPTIONS",0,a,"FILTER_OPTIONS_DEFAULT",0,"all","FILTER_OPTIONS_MAP",0,{all:"All",available:"Available",premium:"Premium"},"Filter",0,n,"SORT_OPTIONS",0,r,"SORT_OPTIONS_DEFAULT",0,"relevance","SORT_OPTIONS_MAP",0,{relevance:"Relevance",length:"Length",price:"Price",alphabetical:"Alphabetical"},"Sort",0,i])},5836125,1282437,1709267,e=>{"use strict";e.i(2957938);var t,r,a,i,n=e.i(5105823),s=e.i(5208524),o=e.i(8973927),l=e.i(5055193),u=e.i(6872829),c=e.i(4520167),d=e.i(6893786),p=e.i(7983942),h=e.i(1445448),f=e.i(7203323),m=e.i(5949828),g=e.i(404148),y=e.i(8358049),b=e.i(1097465),S=e.i(1524216),v=e.i(6912975),k=e.i(9977037),w=e.i(3467418),E=e.i(9553766),x=o,I=e.i(6021311),T=e.i(945364),T=T,C=e.i(5972454),R=e.i(3322401),F=e.i(7548658),A=e.i(5283034),O=e.i(5450905),_=e.i(7862555),M=e.i(3683485),D=e.i(1658800),N=e.i(4309139);let z=e=>new F.RequestResolverImpl(t=>e(t.map(e=>e.map(e=>e.request)))),P=e=>new F.RequestResolverImpl(t=>{if(t.length>1)return F.forEachSequentialDiscard(t,t=>{let r=t.filter(e=>!e.state.completed).map(e=>e.request);return A.isNonEmptyArray(r)?(0,D.invokeWithInterrupt)(e(r),t):F.void});if(1===t.length){let r=t[0].filter(e=>!e.state.completed).map(e=>e.request);return A.isNonEmptyArray(r)?e(r):F.void}return F.void}),L=(0,M.dual)(3,(e,t,r)=>new F.RequestResolverImpl(a=>F.acquireUseRelease(t,()=>e.runAll(a),r),_.make("Around",e,t,r))),U=(0,M.dual)(3,(e,t,r)=>new F.RequestResolverImpl(a=>{let i=a.flatMap(e=>e.map(e=>e.request));return F.acquireUseRelease(t(i),()=>e.runAll(a),e=>r(i,e))},_.make("AroundRequests",e,t,r))),j=(0,M.dual)(2,(e,t)=>new F.RequestResolverImpl(r=>t<1?F.die(new O.IllegalArgumentException("RequestResolver.batchN: n must be at least 1")):e.runAll(Array.from(_.map(A.reduce(r,_.empty(),(e,r)=>_.appendAll(e,_.chunksOf(_.unsafeFromArray(r),t))),e=>Array.from(e)))),_.make("BatchN",e,t))),W=(0,M.dual)(2,(e,t)=>new F.RequestResolverImpl(r=>F.mapInputContext(e.runAll(r),e=>t(e)),_.make("MapInputContext",e,t))),q=(0,M.dual)(3,(e,t,r)=>new F.RequestResolverImpl(a=>F.forEachSequential(a,a=>{let[i,n]=(0,M.pipe)(a,A.partitionMap(r));return(0,D.zipWithOptions)(e.runAll(Array.of(i)),t.runAll(Array.of(n)),()=>void 0,{concurrent:!0})}),_.make("EitherWith",e,t,r))),B=z(()=>R.never).identified("Never"),$=(0,M.dual)(2,(e,t)=>W(e,e=>t).identified("ProvideContext",e,t)),V=(0,M.dual)(2,(e,t)=>new F.RequestResolverImpl(r=>R.race(e.runAll(r),t.runAll(r))).identified("Race",e,t)),H=F.RequestResolverTypeId,G=F.isRequestResolver,K=e=>P(t=>R.forEach(t,t=>R.flatMap(R.exit(e(t)),e=>(0,N.complete)(t,e)),{concurrency:"unbounded",discard:!0})).identified("FromEffect",e),J=F.resolverLocally;e.s(["RequestResolverTypeId",0,H,"around",0,L,"aroundRequests",0,U,"batchN",0,j,"contextFromEffect",0,e=>R.contextWith(t=>$(e,t)),"contextFromServices",0,function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>R.contextWith(r=>$(e,C.pick(...t)(r)))},"eitherWith",0,q,"fromEffect",0,K,"fromEffectTagged",0,()=>e=>P(t=>{let r={},a=[];for(let e=0,i=t.length;e<i;e++)a.includes(t[e]._tag)?r[t[e]._tag].push(t[e]):(r[t[e]._tag]=[t[e]],a.push(t[e]._tag));return R.forEach(a,t=>R.matchCauseEffect(e[t](r[t]),{onFailure:e=>R.forEach(r[t],t=>(0,N.complete)(t,F.exitFail(e)),{discard:!0}),onSuccess:e=>R.forEach(r[t],(t,r)=>(0,N.complete)(t,F.exitSucceed(e[r])),{discard:!0})}),{concurrency:"unbounded",discard:!0})}).identified("FromEffectTagged",e),"fromFunction",0,e=>P(t=>F.forEachSequentialDiscard(t,t=>(0,N.complete)(t,F.exitSucceed(e(t))))).identified("FromFunction",e),"fromFunctionBatched",0,e=>P(t=>R.forEach(e(t),(e,r)=>(0,N.complete)(t[r],F.exitSucceed(e)),{discard:!0})).identified("FromFunctionBatched",e),"isRequestResolver",0,G,"locally",0,J,"make",0,z,"makeBatched",0,P,"makeWithEntry",0,e=>new F.RequestResolverImpl(t=>e(t)),"mapInputContext",0,W,"never",0,B,"provideContext",0,$,"race",0,V],2872692);var Z=e.i(2872692),Z=Z,Q=e.i(4511046),Y=m,X=f,ee=e.i(4584424),ee=ee,et=(e.i(1331084),e.i(6028004)),er=e.i(8815901),ea=e.i(5310088),ei=e.i(5160412),en=e.i(8643033),es=e.i(8973103),eo=(e.i(9227260),e.i(9552070));e.i(2424531),e.i(9973079);let el=Symbol.for("@effect/experimental/PersistenceError");class eu extends(0,en.TypeIdError)(el,"PersistenceError"){static make(e,t){return new eu({reason:"ParseError",method:e,error:t})}get message(){return eo.TreeFormatter.formatIssueSync(this.error)}}class ec extends(0,en.TypeIdError)(el,"PersistenceError"){static make(e,t){return new ec({reason:"BackingError",method:e,cause:t})}get message(){return this.reason}}let ed=(0,M.dual)(2,R.fnUntraced(function*(e,t){let r,a=t.maxBatchSize??1/0,i=yield*R.scope,n=yield*R.runtime().pipe(R.interruptible),s=ea.runFork(n),o=new Set,l=t=>R.withRequestCaching(R.forEach(t,t=>{let{request:r,resume:a}=t;return R.request(r,e).pipe(R.exit,R.map(a))},{batching:!0,discard:!0}),!1),u=R.sleep(t.window).pipe(R.flatMap(()=>{let e=o;return o=new Set,r=void 0,l(e)}));return yield*ei.addFinalizer(i,R.suspend(()=>r?et.interrupt(r):R.void)),K(e=>R.async(t=>{let i={request:e,resume:t};if(o.add(i),o.size>=a){let e=o;if(o=new Set,r){let e=er.getOrThrow(et.getCurrentFiber());r.unsafeInterruptAsFork(e.id()),r=void 0}s(l(e))}else r||(r=s(u));return R.sync(()=>{o.delete(i)})}))}));var ep=e.i(889957),eh=e.i(8718972);let ef=e=>{let t=window.location.origin;return e.startsWith("/api")?t+e:e.startsWith("/")?t+`/api${e}`:e};eh.ManagedRuntime.make(n.DomainsRegistrarRpcClient.layer({domainsSearchBaseUrl:ef("/api"),domainsRegistrarBaseUrl:ef("/api"),searchProtocol:"http"}));var em=e.i(2051545),eg=e.i(3302588),ey=e.i(2725743);let eb=x.Effect.unsafeMakeLatch();class eS extends Y.Data.TaggedError("SearchStreamNotInitializedError"){}class ev extends Y.Data.TaggedError("DomainSearchFailedError"){}let ek=g.Ref.unsafeMake(null);class ew extends x.Effect.Service()("DomainRequestMap",{sync:()=>{let e=new Map;return{getOrCreate:x.Effect.fnUntraced(function*(t){if(e.has(t))return e.get(t);let r=yield*X.Deferred.make();return e.set(t,r),r})}}}){}let eE=Z.makeBatched(e=>x.Effect.gen(function*(){let t=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;if(!p.Array.isNonEmptyReadonlyArray(e))return;yield*eT,yield*eb.await;let r=yield*g.Ref.get(ek);if(!r)return yield*x.Effect.fail(new eS);for(let a of(yield*t.search.requestDomains({domainNames:p.Array.map(e,e=>e.domain),sessionId:r}),e))yield*T.succeed(a,void 0)}).pipe(x.Effect.catchAll(t=>x.Effect.forEach(e,e=>T.fail(e,t)).pipe(x.Effect.asVoid)))).pipe(Z.contextFromEffect);class ex extends Q.Context.Tag("SubmitDomainAvailabilityRequestResolver")(){static layer=I.Layer.scoped(ex,x.Effect.flatMap(eE,ed({window:"10 millis"})))}class eI extends T.TaggedClass("SubmitDomainAvailabilityRequest"){}let eT=(t="/api/front-domains/checkpoint",r=x.Effect.runSync(x.Effect.makeSemaphore(1)),a=()=>{if((0,ey.isLoggedIn)()||"undefined"==typeof document)return"valid";let e=document.cookie.split(";"),t=e.find(e=>e.trim().startsWith("domains-checkpoint-token="))?.split("=")[1];if(!t)return"expired-or-invalid";try{let e=JSON.parse(atob(t.split(".")[1])),r=Math.floor(Date.now()/1e3);return!e.exp||e.exp-r<60?"expiring-soon":"valid"}catch{return"expired-or-invalid"}},x.Effect.gen(function*(){let e=yield*eg.HttpClient.HttpClient.pipe(x.Effect.map(eg.HttpClient.filterStatusOk)),r=a();if("expired-or-invalid"===r)yield*e.get(t);else if("expiring-soon"===r)yield*x.Effect.forkScoped(e.get(t));else if("valid"===r)return}).pipe(r.withPermitsIfAvailable(1)));I.Layer.mergeAll(ex.layer,ee.layerMemory,ep.layer,ew.Default).pipe(I.Layer.provideMerge(n.DomainsRegistrarRpcClient.layer({domainsSearchBaseUrl:ef("/api"),domainsRegistrarBaseUrl:ef("/api"),searchProtocol:"http"}).pipe(I.Layer.provideMerge(em.FetchHttpClient.layer))));let eC=I.Layer.mergeAll(ex.layer,w.BrowserKeyValueStore.layerLocalStorage,ep.layer,ew.Default).pipe(I.Layer.provideMerge(n.DomainsRegistrarRpcClient.layer({domainsSearchBaseUrl:ef("/api"),domainsRegistrarBaseUrl:ef("/api"),searchProtocol:"http"}).pipe(I.Layer.provideMerge(em.FetchHttpClient.layer)))),eR=I.Layer.suspend(()=>eC),eF=v.Atom.runtime(eR);Y.Data.taggedEnum();let eA=e=>({headers:{scope:e}});e.s(["DomainRequestMap",()=>ew,"DomainSearchFailedError",()=>ev,"SubmitDomainAvailabilityRequest",()=>eI,"SubmitDomainAvailabilityRequestResolver",()=>ex,"atomRuntime",0,eF,"currentSessionIdRef",0,ek,"ensureCookies",0,eT,"scopeHeader",0,eA,"streamOpenLatch",0,eb],1282437);var eO="basil",e_="https://js.stripe.com",eM="".concat(e_,"/").concat(eO,"/stripe.js"),eD=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,eN=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,ez=function(){for(var e=document.querySelectorAll('script[src^="'.concat(e_,'"]')),t=0;t<e.length;t++){var r,a=e[t];if(r=a.src,eD.test(r)||eN.test(r))return a}return null},eP=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",r=document.createElement("script");r.src="".concat(eM).concat(t);var a=document.head||document.body;if(!a)throw Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(r),r},eL=function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:t})},eU=null,ej=null,eW=null,eq=function(e,t,r){if(null===e)return null;var a,i=t[0].match(/^pk_test/),n=3===(a=e.version)?"v3":a;i&&n!==eO&&console.warn("Stripe.js@".concat(n," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(eO,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=e.apply(void 0,t);return eL(s,r),s},eB=!1,e$=function(){return i?i:i=(null!==eU?eU:(eU=new Promise(function(e,t){if("undefined"==typeof window||"undefined"==typeof document)return void e(null);if(window.Stripe,window.Stripe)return void e(window.Stripe);try{var r,a=ez();a?a&&null!==eW&&null!==ej&&(a.removeEventListener("load",eW),a.removeEventListener("error",ej),null==(r=a.parentNode)||r.removeChild(a),a=eP(null)):a=eP(null),eW=function(){window.Stripe?e(window.Stripe):t(Error("Stripe.js not available"))},ej=function(e){t(Error("Failed to load Stripe.js",{cause:e}))},a.addEventListener("load",eW),a.addEventListener("error",ej)}catch(e){t(e);return}})).catch(function(e){return eU=null,Promise.reject(e)})).catch(function(e){return i=null,Promise.reject(e)})};Promise.resolve().then(function(){return e$()}).catch(function(e){eB||console.warn(e)});var eV=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];eB=!0;var a=Date.now();return e$().then(function(e){return eq(e,t,a)})},eH=e.i(1509709);let eG=e=>""!==e.trim()&&e.includes(" ");function eK(e){return t=>t.pipe(o.Effect.tapError(t=>o.Effect.sync(()=>{"RpcClientError"===t._tag||"RequestError"===t._tag||"ResponseError"===t._tag?console.error("Transient network error",t):(0,eH.captureException)(t,{attributes:{functionName:e,tag:t._tag}})})))}e.s(["isAiSearchQuery",0,eG],1709267);let eJ=v.Atom.family(e=>v.Atom.make(k.Result.initial(!0)).pipe(v.Atom.withLabel(`domainStateRx(${e})`),v.Atom.keepAlive,v.Atom.setIdleTTL("1 minute"))),eZ=v.Atom.family(e=>v.Atom.writable(t=>t(eJ(e)),(t,r)=>{let a=t.get(eJ(e));k.Result.isSuccess(a)&&k.Result.isSuccess(r)&&"Terminal"===a.value._tag&&"NonTerminal"===r.value._tag||t.set(eJ(e),r)}).pipe(v.Atom.withLabel(`domainStateRx(${e})`))),eQ=v.Atom.family(e=>eF.atom(t=>o.Effect.gen(function*(){yield*eb.await,yield*o.Effect.request(new eI({domain:e}),ex);let t=yield*ew,r=yield*t.getOrCreate(e);yield*f.Deferred.await(r)}).pipe(eK("requestDomainRx"),o.Effect.retry({schedule:d.Schedule.fromDelays(250,750,3e3).pipe(d.Schedule.jittered),while:e=>S.Match.value(e).pipe(S.Match.tag("SearchStreamNotInitializedError",()=>!0),S.Match.tag("RequestError",()=>!0),S.Match.tag("ResponseError",()=>!0),S.Match.tag("RpcClientError",()=>!0),S.Match.tag("DomainSearchFailedError",()=>!0),S.Match.tag("TooManyRequests",()=>!1),S.Match.tag("NotAuthorizedForScope",()=>!1),S.Match.tag("Unauthorized",()=>!1),S.Match.exhaustive)}),o.Effect.catchAll(r=>o.Effect.sync(()=>t.set(eZ(e),k.Result.failure(h.Cause.fail(r))))))).pipe(v.Atom.withLabel(`requestDomainRx(${e})`),v.Atom.keepAlive,v.Atom.setIdleTTL("1 minute"))),eY=v.Atom.family(e=>{let{domain:t,enabled:r}=e;return eF.atom(e=>o.Effect.gen(function*(){return r&&e.once(eQ(t)),yield*e.result(eZ(t))})).pipe(v.Atom.withLabel(`optionallyDisabledDomainStateRx(${t})`))}),eX=eF.atom(e=>o.Effect.gen(function*(){let t=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;yield*eT;let r=t.search.openSearchStream(),a=yield*ew;yield*u.Stream.runForEach(r,t=>o.Effect.gen(function*(){if("SearchStreamInitialized"===t._tag)return yield*eb.open,yield*g.Ref.set(ek,t.sessionId),yield*o.Effect.void;{let r=yield*a.getOrCreate(t.domainName);r&&(yield*f.Deferred.succeed(r,void 0)),"Error"===t._tag?e.set(eZ(t.domainName),k.Result.failure(h.Cause.fail(new ev({cause:t})))):e.set(eZ(t.domainName),k.Result.success(t))}}))}).pipe(o.Effect.onExit(()=>o.Effect.zip(eb.close,g.Ref.set(ek,null))),eK("domainSearchStreamRx"),o.Effect.retry({schedule:d.Schedule.fromDelays(250,750,3e3).pipe(d.Schedule.jittered),while:e=>S.Match.value(e).pipe(S.Match.tag("RequestError",()=>!0),S.Match.tag("ResponseError",()=>!0),S.Match.tag("RpcClientError",()=>!0),S.Match.tag("InternalServerError",()=>!0),S.Match.tag("TooManyRequests",()=>!1),S.Match.tag("NotAuthorizedForScope",()=>!1),S.Match.tag("Unauthorized",()=>!1),S.Match.exhaustive)}))).pipe(v.Atom.withLabel("domainSearchStreamRx"),v.Atom.keepAlive),e0=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(!eG(e))return yield*o.Effect.succeed([]);let t=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return(yield*t.search.getAiDomainResults({query:e.trim()})).suggestions}).pipe(o.Effect.tapError(e=>o.Effect.logError("Error getting AI domain search results",e)),o.Effect.catchAll(e=>"TooManyRequests"===e._tag?e:o.Effect.succeed([])))).pipe(v.Atom.withLabel(`aiDomainSearchResultsRx(${e})`),v.Atom.keepAlive,v.Atom.setIdleTTL("1 minute"))),e1=v.Atom.kvs({runtime:eF,key:"domains:orderId",schema:c.Schema.Option(c.Schema.String),defaultValue:()=>l.Option.none()}).pipe(v.Atom.withLabel("orderIdRx")),e2=v.Atom.make(e=>o.Effect.gen(function*(){return yield*e(e1)})).pipe(v.Atom.withLabel("unwrappedOrderIdRx")),e3=eF.atom(e=>o.Effect.gen(function*(){let t=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient,r=yield*e.result(e2);return yield*t.orders.get({orderId:r})}).pipe(o.Effect.tapErrorTag("OrderAuthMismatchError",()=>o.Effect.sync(()=>e.set(e1,l.Option.none()))),o.Effect.retry({while:e=>"OrderAuthMismatchError"===e._tag}))).pipe(v.Atom.withLabel("orderStateRx"),v.Atom.optimistic,v.Atom.withReactivity(["orderState"])),e5=v.Atom.family(e=>eF.atom(()=>o.Effect.gen(function*(){let t=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*t.orders.get({orderId:e})})).pipe(v.Atom.withLabel(`postCheckoutOrderStateRx(${e})`),v.Atom.optimistic,v.Atom.withReactivity(["orderState"]))),e4=v.Atom.family(e=>v.Atom.make(t=>o.Effect.gen(function*(){return(yield*t.result(e3)).items.some(t=>t.domainName===e)}).pipe(o.Effect.catchTag("NoSuchElementException",()=>o.Effect.succeed(!1)))).pipe(v.Atom.withLabel(`itemInCartRx(${e})`))),e8=v.Atom.kvs({runtime:v.Atom.runtime(w.BrowserKeyValueStore.layerSessionStorage),key:"domains:searchParams",schema:c.Schema.Option(c.Schema.parseJson(c.Schema.Struct({q:c.Schema.String.pipe(c.Schema.optional),sort:E.Sort.pipe(c.Schema.optional),filter:E.Filter.pipe(c.Schema.optional),columns:E.Columns.pipe(c.Schema.optional)}))),defaultValue:()=>l.Option.none()}).pipe(v.Atom.withLabel("searchParamsSessionRx")),e6=v.Atom.family(e=>v.Atom.make(t=>o.Effect.gen(function*(){let r=yield*t.result(e5(e.orderId));return yield*p.Array.findFirst(r.items,t=>t.domainName===e.domain)})).pipe(v.Atom.withLabel(`postCheckoutDomainStateRx(${e.domain}, ${e.orderId})`))),e9=v.Atom.make(u.Stream.iterate(1,e=>e+1).pipe(u.Stream.schedule(d.Schedule.spaced("2 seconds")))).pipe(v.Atom.withLabel("pollSignalRx")),e7=v.Atom.family(e=>e5(e).pipe(v.Atom.makeRefreshOnSignal(e9),v.Atom.withLabel(`pollPostCheckoutStateRx(${e})`))),te=v.Atom.make(o.Effect.tryPromise(()=>eV(String("pk_test_51KWTJcBQYfoTMhVJkeKojfST4MsShve9XJ7Seqw7mgZaUCeO1DR4dR3EkrWFDqD0MG5IiZRYFygw6ZR8FnmZZKnn004vR9fkFq"))).pipe(o.Effect.catchAll(()=>o.Effect.succeed(null)))).pipe(v.Atom.withLabel("testStripeAtom"),v.Atom.keepAlive),tt=v.Atom.make(o.Effect.tryPromise(()=>eV(String("pk_live_alyEi3lN0kSwbdevK0nrGwTw"))).pipe(o.Effect.catchAll(()=>o.Effect.succeed(null)))).pipe(v.Atom.withLabel("liveStripeAtom"),v.Atom.keepAlive),tr=v.Atom.family(e=>v.Atom.make(t=>t("test"===e?te:tt)).pipe(v.Atom.withLabel(`stripeAtom(${e})`)));class ta extends m.Data.TaggedError("InvalidOrderError"){}let ti=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){let t=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient,r=yield*t.orders.get({orderId:e});return 1!==r.items.length?yield*o.Effect.fail(new ta({cause:"Order has multiple items"})):"failed"===r.status?{status:"failed",error:r.error}:{status:r.items[0].status,error:r.items[0].error}})).pipe(v.Atom.withLabel(`postRenewStateAtom(${e})`))),tn=v.Atom.family(e=>ti(e).pipe(v.Atom.makeRefreshOnSignal(e9),v.Atom.withLabel(`pollPostRenewStateRx(${e})`)));function ts(e,t){return e.code===t}let to=v.Atom.make(null).pipe(v.Atom.withLabel("scrollPositionRx"),v.Atom.keepAlive);class tl extends m.Data.Class{}let tu=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(null===e.domainName)return yield*o.Effect.never;let t=yield*s.Schemas.DomainName.fromString(e.domainName),r=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*r.domains.getPrice({domainName:t,purchaseType:"renewal",years:e.years})}).pipe(o.Effect.tapError(t=>o.Effect.sync(()=>{console.error("Failed to get renewal price for domain",e.domainName,t)})))).pipe(v.Atom.withServerValueInitial));class tc extends m.Data.Class{}let td=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(null===e.domainName)return yield*o.Effect.never;let t=yield*s.Schemas.DomainName.fromString(e.domainName),r=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*r.domains.getPrice({domainName:t,purchaseType:"transfer"})}).pipe(o.Effect.tapError(t=>o.Effect.sync(()=>{console.error("Failed to get transfer price for domain",e.domainName,t)})))).pipe(v.Atom.withServerValueInitial)),tp=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(null===e)return yield*o.Effect.never;let t=yield*s.Schemas.DomainName.fromString(e),r=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*r.domains.getPrice({domainName:t,purchaseType:"redemption"})})).pipe(v.Atom.withServerValueInitial));class th extends m.Data.Class{}let tf=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(null===e.domainName||null===e.scope)return yield*o.Effect.never;let t=yield*s.Schemas.DomainName.fromString(e.domainName),r=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*r.domains.getRegistrantInfo({domainName:t},eA(e.scope))}).pipe(o.Effect.tapError(t=>o.Effect.sync(()=>{console.error("Failed to fetch registrant info for domain",e.domainName,t)})))));class tm extends m.Data.Class{}let tg=v.Atom.family(e=>eF.atom(o.Effect.forEach(e.domainNames,t=>o.Effect.gen(function*(){if(null===e.scope)return yield*o.Effect.never;let r=yield*s.Schemas.DomainName.fromString(t),a=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*a.domains.getRegistrantInfo({domainName:r},eA(e.scope))}).pipe(o.Effect.tapError(e=>o.Effect.sync(()=>{console.error("failed to fetch registrant info for domain",t,e)})),o.Effect.map(e=>{let{registrantInfo:t}=e;return null!==t}),o.Effect.orElse(()=>o.Effect.succeed(!1))))));class ty extends m.Data.Class{}let tb=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(null===e.domainName||null===e.scope)return yield*o.Effect.never;let t=yield*s.Schemas.DomainName.fromString(e.domainName),r=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient,a=yield*r.domains.getAuthCode({domainName:t},eA(e.scope));return y.Redacted.value(a.authCode)}).pipe(o.Effect.tapError(t=>o.Effect.sync(()=>{console.error("Failed to fetch auth code for domain",e.domainName,t)})))));class tS extends m.Data.Class{}let tv=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(null===e.domainName||null===e.scope)return yield*o.Effect.never;let t=yield*s.Schemas.DomainName.fromString(e.domainName),r=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*r.domains.getContactVerificationStatus({domainName:t},eA(e.scope))}).pipe(o.Effect.tapError(t=>o.Effect.sync(()=>{console.error("Failed to get contact verification status for domain",e.domainName,t)})))));class tk extends m.Data.Class{}let tw=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(0===e.domainNames.length||null===e.scope)return[];let t=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*t.domains.getUnverifiedContacts({domainNames:b.Chunk.toReadonlyArray(b.Chunk.map(e.domainNames,e=>s.Schemas.DomainName.unsafeBrand(e)))},eA(e.scope))}).pipe(o.Effect.tapError(e=>o.Effect.sync(()=>{console.error("Failed to get unverified contacts",e)}))))),tE=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){let t=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*t.orders.getPostcheckoutRegistrantEmail({orderId:e})}).pipe(o.Effect.tapError(e=>o.Effect.sync(()=>{console.error("Failed to get postcheckout registrant email",e)})),o.Effect.orElse(()=>o.Effect.succeed({willSend:"maybe"}))))),tx=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(null===e)return yield*o.Effect.succeed(null);let t=e.split(".").slice(1).join("."),r=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*r.tlds.getTldOutage({tldName:t})}).pipe(o.Effect.tapError(t=>o.Effect.sync(()=>{console.error("Failed to check TLD outage for domain",e,t)})),o.Effect.orElse(()=>o.Effect.succeed(null)))).pipe(v.Atom.withLabel(`tldOutageAtom(${e})`)));class tI extends m.Data.Class{}let tT=v.Atom.family(e=>eF.atom(o.Effect.gen(function*(){if(null===e.domainName||null===e.scope)return yield*o.Effect.never;let t=yield*s.Schemas.DomainName.fromString(e.domainName),r=yield*n.DomainsRegistrarRpcClient.DomainsRegistrarRpcClient;return yield*r.domains.getTransferInStatus({domainName:t},eA(e.scope))}).pipe(o.Effect.tapError(t=>o.Effect.sync(()=>{console.error("Failed to get transfer in status for domain",e.domainName,t)})))));e.s(["ContactVerificationStateParams",()=>tS,"DomainAuthCodeParams",()=>ty,"DomainRegistrantInfoParams",()=>th,"DomainRenewalPriceParams",()=>tl,"DomainTransferInStatusParams",()=>tI,"DomainTransferPriceParams",()=>tc,"DomainsHaveRegistrantInfoParams",()=>tm,"UnverifiedContactsParams",()=>tk,"aiDomainSearchResultsRx",0,e0,"contactVerificationStateAtom",0,tv,"domainAuthCodeAtom",0,tb,"domainRedemptionPriceAtom",0,tp,"domainRegistrantInfoAtom",0,tf,"domainRenewalPriceAtom",0,tu,"domainSearchStreamRx",0,eX,"domainTransferInStatusAtom",0,tT,"domainTransferPriceAtom",0,td,"domainsHaveRegistrantInfoAtom",0,tg,"isSpecificOrderError",()=>ts,"itemInCartRx",0,e4,"matchSearchResult",0,(e,t)=>{let{onAvailable:r,onUnavailable:a}=t;return"available"===e.availability?r(e):a(e)},"optionallyDisabledDomainStateRx",0,eY,"orderIdRx",0,e1,"orderStateRx",0,e3,"pollPostCheckoutStateRx",0,e7,"pollPostRenewStateRx",0,tn,"pollSignalRx",0,e9,"postCheckoutDomainStateRx",0,e6,"postCheckoutOrderStateRx",0,e5,"postcheckoutRegistrantEmailAtom",0,tE,"scrollPositionRx",0,to,"searchParamsSessionRx",0,e8,"stripeAtom",0,tr,"tldOutageAtom",0,tx,"unverifiedContactsAtom",0,tw,"unwrappedOrderIdRx",0,e2],5836125)}]);

//# debugId=c77d4238-526f-d3ee-3e79-45b25f8c992c
//# sourceMappingURL=bcb978e7bb08d51f.js.map
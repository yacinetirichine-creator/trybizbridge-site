;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="badc6a1c-d2d2-e001-46fd-4c5bb2b17a08")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,634185,e=>{e.v({projectAvatar:"project-avatar-module__-Kyy1W__projectAvatar"})},9068678,e=>{"use strict";var t=e.i(1146226),l=e.i(9722978),i=e.i(672468),r=e.i(4585051),s=e.i(8042625),a=e.i(5338940),n=e.i(7710663),o=e.i(634185);function c(e){let{project:i,size:r=20,className:s,title:a,isLoading:n}=e,c=i?.latestDeployments?.[0];return(0,t.jsx)(d,{className:(0,l.clsx)(o.default.projectAvatar,s),deploymentId:c?.id,framework:i?.framework,isLoading:n,size:r,title:a})}function d(e){let{deploymentId:l,framework:i,size:s=20,className:a,title:o,isLoading:c}=e,{data:d,isLoading:m}=u(l),{data:p}=(0,n.useFrameworks)(),f=p?p.find(e=>e.slug===(i||null)):null,h=d?.src||f?.logo;return c||m||!h?(0,t.jsx)(r.Avatar,{className:a,placeholder:!0,size:s,title:o}):(0,t.jsx)(r.Avatar,{className:a,size:s,src:h,title:o})}let u=e=>{let{isReady:t,team:l}=(0,a.useTeam)();return(0,i.default)(e&&t?[e,"favicon"]:null,async e=>{let[t]=e;if(!t)return null;let i=await fetch(`/api/favicon${(0,s.encode)({deploymentId:t,teamId:l?.id})}`);if(!i.ok||204===i.status)return null;let r=await i.blob(),a=URL.createObjectURL(r);try{return{src:a,isSquare:await m(a)}}catch{return null}})},m=async e=>new Promise((t,l)=>{let i=document.createElement("canvas"),r=new Image;r.onload=()=>{let{width:e,height:l}=r;i.width=e,i.height=l;let s=i.getContext("2d");s?.drawImage(r,0,0,e,l);let a=(e,t)=>(s?.getImageData(e,t,1,1).data[3]??0)<255;for(let i=0;i<e;i++)if(a(i,0)||a(i,l-1))return t(!1);for(let i=0;i<l;i++)if(a(0,i)||a(e-1,i))return t(!1);t(!0)},r.onerror=()=>{l(Error("failed to load image"))},r.src=e});e.s(["DeploymentOrFrameworkAvatar",()=>d,"ProjectWithDeploymentAvatar",()=>c])},5056988,e=>{e.v({placeholder:"project-avatar-group-module__grezCa__placeholder",placeholderIcon:"project-avatar-group-module__grezCa__placeholderIcon",projectAvatar:"project-avatar-group-module__grezCa__projectAvatar"})},8248414,e=>{"use strict";var t=e.i(1146226),l=e.i(5468328),i=e.i(5169864),r=e.i(6060673),s=e.i(9068678),a=e.i(5056988);function n(e){let{projectIds:n,totalProjectsCount:o}=e,c=n?.length??0,d=c>3?3:c,u=c?n?.slice(0,d)??[]:[],{data:m,isLoading:p}=(0,r.useProjects)(d?u:null);if(!d)return null;let f=(o??c)-d;return!m||p?(0,t.jsx)(l.Tooltip,{text:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial max-h-[195px] overflow-auto",children:"...Loading"}),children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-center flex-initial",children:[u.map(e=>(0,t.jsx)(s.ProjectWithDeploymentAvatar,{className:a.default.projectAvatar,isLoading:!0,size:20},e)),f?(0,t.jsxs)("div",{className:a.default.placeholder,children:["+",f]}):null]})}):(0,t.jsx)(l.Tooltip,{text:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial max-h-[195px] overflow-auto",children:[m.map(e=>(0,t.jsx)(i.Fragment,{children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(s.ProjectWithDeploymentAvatar,{className:a.default.projectAvatar,project:e,size:20}),(0,t.jsx)("p",{className:"text-copy-14 geist-ellipsis",title:e.name,children:e.name})]})},e.id)),f>0?(0,t.jsx)(i.Fragment,{children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:(0,t.jsxs)("p",{className:"text-copy-14 geist-ellipsis",children:["+",f," projects"]})})},`last-${f}`):null]}),children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-center flex-initial",children:[m.map(e=>(0,t.jsx)(s.ProjectWithDeploymentAvatar,{className:a.default.projectAvatar,project:e,size:20,title:e.name},e.id)),f?(0,t.jsxs)("div",{className:a.default.placeholder,children:["+",f]}):null]})})}e.s(["ProjectAvatarGroup",()=>n])},8435318,e=>{e.v({command:"access-groups-combobox-module__1ugm8G__command",content:"access-groups-combobox-module__1ugm8G__content",item:"access-groups-combobox-module__1ugm8G__item",itemWithRole:"access-groups-combobox-module__1ugm8G__itemWithRole",list:"access-groups-combobox-module__1ugm8G__list"})},6517878,e=>{e.v({error:"project-role-selector-module__LJdD-W__error",menuFooter:"project-role-selector-module__LJdD-W__menuFooter",roleSelectorOpenMenu:"project-role-selector-module__LJdD-W__roleSelectorOpenMenu"})},6989368,8615377,e=>{"use strict";var t=e.i(1146226),l=e.i(5169864),i=e.i(2504781),r=e.i(5468328),s=e.i(2064047),a=e.i(8835183),n=e.i(5255926),o=e.i(8161149),c=e.i(2762633),d=e.i(5883567),u=e.i(7957251),m=e.i(9068678),p=e.i(6318858),f=e.i(2560270),h=e.i(8674454),x=e.i(6694387),j=e.i(4991687),g=e.i(8459493),_=e.i(57106),v=e.i(9722978),y=e.i(8129674),b=e.i(1235157),I=e.i(6517878);let R=[{role:"PROJECT_VIEWER",label:"Project Viewer",description:"Has read-only access to view"},{role:"PROJECT_DEVELOPER",label:"Project Developer",description:"Can create deployments and manage environment variables"},{role:"ADMIN",label:"Project Admin",description:"Can manage all aspects of a project including permissions"}],w={PROJECT_VIEWER:R[0],PROJECT_DEVELOPER:R[1],ADMIN:R[2]},E={role:"UNDEFINED",label:"Not Set",description:"This user will not have access to this project unless added via access group."},C={role:"UNDEFINED",label:"Not Set",description:"This user will only have developer access unless added via access group."};function A(e){let{value:l,className:i,onChange:s,disabled:a,menuWidth:n,menuButtonWidth:o,teamRole:c,buttonSize:d,allowSelectNoRole:u}=e,{isValidRoleCombination:m}=(0,y.useRoleUtils)(),w="CONTRIBUTOR"===c?E:C,A=u?[w,...R]:R;return(0,t.jsxs)(j.MenuContainer,{position:"bottom-end",children:[(0,t.jsx)(x.MenuButton,{align:"start","aria-label":"Select a project role",className:(0,v.clsx)(I.default.roleSelectorOpenMenu,i,l&&"UNDEFINED"!==l&&!m(c,l)&&I.default.error),disabled:a,shape:"square",size:d||"medium",style:{padding:"0 var(--geist-space-gap-half)",width:o},suffix:(0,t.jsx)(f.ChevronDown,{}),svgOnly:!0,type:"secondary",typeName:"button",children:A.find(e=>e.role===l)?.label}),(0,t.jsxs)(h.Menu,{style:{borderRadius:"4px"},width:n||300,children:[A.map(e=>{let{role:i,label:a,description:n}=e,o="UNDEFINED"!==i&&!m(c,i);return(0,t.jsx)("div",{children:(0,t.jsx)(r.Tooltip,{delayTime:300,disableTriggers:!o,position:"top",text:`This project role is not available to the ${b.rolesMeta[c].label}`,children:(0,t.jsx)(g.MenuItem,{disabled:o,onClick:()=>{if("UNDEFINED"===i){u&&s("UNDEFINED");return}i!==l&&s(i)},style:{height:"auto",padding:"var(--geist-space-gap-quarter)"},suffix:l===i?(0,t.jsx)(p.Check,{}):null,children:(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)("p",{className:(0,v.clsx)("text-copy-14",o?"text-gray-600":void 0),children:a}),(0,t.jsx)("p",{className:(0,v.clsx)("text-copy-14",o?"text-gray-600":"text-gray-900"),children:n})]})})})},i)}),(0,t.jsx)("div",{className:(0,v.clsx)("flex flex-col items-stretch justify-start flex-initial",I.default.menuFooter),children:(0,t.jsxs)("p",{className:"text-copy-14 text-gray-900",children:["Compare all"," ",(0,t.jsx)(_.Link,{external:!0,href:"/docs/rbac/access-roles/project-level-roles",variant:"highlight",children:"Project Roles"})]})})]})]})}e.s(["ProjectRoleSelector",()=>A,"projectRoles",0,R,"projectRolesMap",0,w],8615377);var N=e.i(3248258);function P(e){let{variant:o="compact",projectRoles:c,isLoading:p,loadingSkeletonProjectsCount:f=3,onAddProject:h,onRemoveProject:x,onSetProjectRoles:j,disabled:g,teamRole:_="CONTRIBUTOR",isOpen:y,setIsOpen:b}=e,[I,R]=(0,l.useState)(""),[w,E]=(0,l.useState)(),C=c.filter(e=>!I||e.project.name.toLowerCase().includes(I.toLowerCase())),P="CONTRIBUTOR"===_?"PROJECT_VIEWER":"ADMIN";return(0,t.jsxs)("div",{className:(0,v.default)("flex flex-col items-stretch justify-start flex-initial","search"===o?"gap-4":"gap-2"),children:["search"===o?(0,t.jsxs)("div",{className:(0,v.default)("flex flex-row items-stretch justify-start gap-2 flex-initial tailwind-preflight"),children:[(0,t.jsx)(a.SearchInput,{disabled:0===c.length,onChange:e=>{R(e.target.value),E(new Set)},placeholder:"Search…",value:I,width:"100%"}),(0,t.jsx)(N.SelectProjectCommand,{alreadySelected:c.map(e=>{let{project:t}=e;return t.id||""}),isOpen:y,onSelect:e=>{h&&h(e,P),j&&j([...c,{project:e,role:P}])},setIsOpen:b,children:(0,t.jsx)(i.Button,{"aria-label":"add row",disabled:g,onClick:()=>b(!0),type:"secondary",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(d.PlusCircle,{size:16})," Add More"]})})})]}):(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,t.jsx)("p",{className:"text-[16px] leading-[24px] font-medium",children:"Project Roles"}),(0,t.jsx)(N.SelectProjectCommand,{alreadySelected:c.map(e=>{let{project:t}=e;return t.id||""}),isOpen:y,onSelect:e=>{h&&h(e,P),j&&j([...c,{project:e,role:P}])},setIsOpen:b,children:(0,t.jsx)(i.Button,{"aria-label":"Add project role",onClick:()=>b(!0),style:{padding:"0",width:"var(--geist-form-small-height)",height:"var(--geist-form-small-height)"},svgOnly:!0,type:"tertiary",children:(0,t.jsx)(d.PlusCircle,{size:16})})})]}),p?(0,t.jsx)(s.Entity.List,{className:"shadow-sm",children:Array.from({length:f}).map((e,l)=>(0,t.jsx)(s.Entity,{left:(0,t.jsx)(n.Skeleton,{height:24,rounded:!0,width:24}),paddingY:2,right:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Skeleton,{children:(0,t.jsx)(A,{buttonSize:"small",disabled:!0,menuButtonWidth:"100%",onChange:e=>e,teamRole:_,value:"PROJECT_VIEWER"})}),(0,t.jsx)(n.Skeleton,{children:(0,t.jsx)(i.Button,{"aria-label":"Remove Project",disabled:!0,onClick:e=>e,shape:"square",size:"small",svgOnly:!0,type:"tertiary",children:(0,t.jsx)(u.MinusCircle,{size:16})})})]}),children:(0,t.jsx)(s.Entity.Content,{fill:!0,title:(0,t.jsx)(n.Skeleton,{height:20,width:100})})},`skeleton-${l}`))}):null,!p&&C.length?(0,t.jsx)(s.Entity.List,{className:"shadow-sm",children:C.map(e=>{let{project:l,role:a}=e,n=w?.has(l.id);return(0,t.jsxs)(s.Entity,{left:(0,t.jsx)(m.DeploymentOrFrameworkAvatar,{deploymentId:l.latestDeploymentId,framework:l.framework,size:22}),paddingY:2,right:(0,t.jsx)(r.Tooltip,{delayTime:300,disableTriggers:!g,text:"You need additional permissions to remove projects.",children:(0,t.jsx)(i.Button,{"aria-label":"Remove Project",disabled:g,onClick:()=>{if(n){let e=new Set(w);e.delete(l.id),E(e)}x&&x(l.id),j&&j(c.filter(e=>e.project.id!==l.id))},shape:"square",size:"small",svgOnly:!0,type:"tertiary",children:(0,t.jsx)(u.MinusCircle,{size:16})})}),children:[(0,t.jsx)(s.Entity.Content,{fill:!0,title:l.name}),(0,t.jsx)("div",{children:(0,t.jsx)(A,{buttonSize:"small",disabled:g,menuButtonWidth:"100%",onChange:e=>{h&&h(l,e),j&&j(c.map(t=>t.project.id===l.id?{project:l,role:e}:t))},teamRole:_,value:a})})]},l.id)})}):null,p||C.length?null:(0,t.jsx)(S,{compact:"compact"===o,disabled:g,search:I,setIsOpen:b})]})}function S(e){let{search:l,compact:r,disabled:s,setIsOpen:a}=e;return r?(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"No project roles selected."}):l?(0,t.jsx)(o.EmptyState.Root,{description:`No projects found for "${l}".`,gap:3,icon:(0,t.jsx)(o.EmptyState.Icon,{icon:(0,t.jsx)(c.GridSquare,{size:32})}),paddingY:24,title:"No projects found."}):(0,t.jsx)(o.EmptyState.Root,{description:"Add projects to this access group.",gap:3,icon:(0,t.jsx)(o.EmptyState.Icon,{icon:(0,t.jsx)(c.GridSquare,{size:32})}),paddingY:24,title:"No projects added yet",children:(0,t.jsx)(i.Button,{"aria-label":"Add Projects",disabled:s,onClick:()=>a(!0),size:"small",type:"secondary",children:"Add Projects"})})}e.s(["ProjectMultiselect",()=>P],6989368)},413518,e=>{"use strict";var t=e.i(277234),l=e.i(4244280),i=e.i(2405338),r=e.i(8042625);async function s(e){return(await (0,t.fetchAPI)(e,{method:"GET",throwOnHTTPError:!0,returnStatus:!0})).body}function a(e,t){let a=(0,r.encode)({teamId:e,business:"vercel"});return(0,i.default)(e?`${l.API_BILLING}/subscription${a}`:null,s,t)}e.s(["useBillingSubscription",()=>a])},7750276,e=>{"use strict";var t=e.i(5338940),l=e.i(588428),i=e.i(413518);function r(e,t,l){return!!e&&("webAnalytics"===t&&l?e.billing?.invoiceItems?.webAnalytics?.tier===l:"enabledInvoiceItems"in e&&(e.enabledInvoiceItems?.[t]?.enabled||!1))}function s(e){return a[e]()}let a={"project-rbac-access-groups":function(){let{team:e,isReady:i}=(0,t.useTeam)(),{isReady:r,value:s}=(0,l.useAccessGroupsOnProFlag)();return e?.billing?.plan==="pro"?{isReady:r&&i,value:!!s}:e?.billing?.plan==="enterprise"?{isReady:!0,value:!0}:{isReady:!0,value:!1}},"v0-team-seats":function(){let{team:e}=(0,t.useTeam)(),{data:l,isLoading:r}=(0,i.useBillingSubscription)(e?.slug);return e?.slug==="vercel"?{isReady:!0,value:!0}:{isReady:!r,value:!!l?.products.some(e=>"v0-team-seats"===e.slug||"v0-enterprise"===e.slug||"v0-enterprise-seats"===e.slug)}},saml:function(){let{team:e,isReady:l}=(0,t.useTeam)();return{isReady:l,value:r(e,"saml")}},dsync:function(){let{team:e,isReady:l}=(0,t.useTeam)();return{isReady:l,value:r(e,"dsync")||r(e,"saml")&&e?.billing?.plan==="enterprise"}},"multi-role-selector":function(){let{team:e,isReady:i}=(0,t.useTeam)(),{value:r,isReady:s}=(0,l.useLaunchDarklyTeamFeatureFlag)("rbac-update");return{isReady:i&&s,value:!!r&&e?.billing?.plan==="enterprise"}}};e.s(["useEntitlement",()=>s],7750276)},8129674,1640726,e=>{"use strict";var t=e.i(5169864),l=e.i(7735885),i=e.i(6357175),r=e.i(1235157),s=e.i(7750276),a=e.i(8587921),n=e.i(2405338),o=e.i(277234),c=e.i(5338940);function d(){let{opts:e,teamOverride:t,disabled:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{team:i}=(0,c.useTeam)(),r=t||i,s=(0,n.default)(()=>r&&!l?`/v1/teams/${r.id}/available-roles`:null,e=>(0,o.fetchAPI)(e,{throwOnHTTPError:!0}),{revalidateOnFocus:!1,...e}),{data:a}=s;if(!a)return{data:void 0,isLoading:!l,mutate:s.mutate};let d=a.teamRoles.map(e=>({role:e.role,includedTeamRoles:e.includedTeamRoles||[],includedExtendedPermissions:e.includedExtendedPermissions||[]})).sort((e,t)=>"BILLING"===e.role?1:"BILLING"===t.role?-1:"VIEWER_FOR_PLUS"===e.role||"VIEWER"===e.role?1:"VIEWER_FOR_PLUS"===t.role||"VIEWER"===t.role?-1:0),u=[];for(let e of a.teamRoles){let t=e.compatiblePermissions;if(t)for(let l of t){let t=u.find(e=>e.role===l);t?t.compatibleRoles.push(e.role):u.push({role:l,compatibleRoles:[e.role]})}}return{data:{teamRoles:d,teamPermissions:u.map(e=>{let t=a.teamRoles.filter(t=>t.includedExtendedPermissions?.includes(e.role)).map(e=>e.role);return{...e,includedIn:t}})},isLoading:!s.data,mutate:s.mutate}}function u(e){return e.uid?.startsWith("ghost_")?(e.github?.login||e.gitlab?.login||e.bitbucket?.login||e.username).replace("[bot]"," (bot)"):e.username}function m(e){return"number"==typeof e.accessRequestedAt&&!e.confirmed}function p(e){return!e.confirmed&&!!e.email}function f(e){return"OWNER"===e?"This user will have full access to the Team.":"This user will have limited access to your Team settings."}function h(){let e={DEVELOPER:{ADMIN:!0},CONTRIBUTOR:{PROJECT_VIEWER:!0,PROJECT_DEVELOPER:!0,ADMIN:!0}};return{validRoleCombinations:e,canHaveProjectRole:t=>void 0!==e[t],isValidRoleCombination:(t,l)=>e[t]?.[l]??!1,getDefaultProjectRole:t=>Object.keys(e[t]??{})[0]}}e.s(["useTeamAvailableRoles",()=>d],1640726);let x={CreateProject:{name:"Create Project",description:"Allows the user to create a new project."},FullProductionDeployment:{name:"Full Production Deployment",description:"Deploy to production from CLI, rollback and promote any deployment."},UsageViewer:{name:"Usage Viewer",description:"Read-only usage team-wide including prices and invoices."},EnvironmentManager:{name:"Environment Manager",description:"Create and manage project environments."},EnvVariableManager:{name:"Environment Variable Manager",description:"Create and manage environment variables."},IntegrationManager:{name:"Integration Manager",description:"Install and manage marketplace integrations."}};function j(e){let t=r.v0Roles.find(t=>e.teamPermissions?.includes(t));if(t)return{key:t,name:r.v0RolesMeta[t].name,description:r.v0RolesMeta[t].description}}function g(e){let{teamRoles:t,teamPermissions:l}=e;return{teamRoles:r.orderedTeamRoles.filter(e=>t?.includes(e)).map(e=>({key:e,label:r.rolesMeta[e].label,description:r.rolesMeta[e].description})),teamPermissions:l?.map(e=>({key:e,label:x[e]?.name||e,description:x[e]?.description}))??[]}}function _(){let{teamOverride:e,disabled:l,showLegacyRoles:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{data:s,isLoading:a,mutate:n}=d({teamOverride:e,disabled:l}),o=(0,t.useMemo)(()=>{if(!s)return[];let e=s.teamRoles.some(e=>"VIEWER"===e.role),t=s.teamRoles.some(e=>"VIEWER_FOR_PLUS"===e.role),l=e&&t,a=s.teamRoles;return l&&!i&&(a=s.teamRoles.filter(e=>"VIEWER"!==e.role)),a.map(e=>({role:e.role,includedTeamRoles:e.includedTeamRoles,includedExtendedPermissions:e.includedExtendedPermissions,label:l&&!0===i&&"VIEWER"===e.role?"Viewer (Legacy)":r.rolesMeta[e.role].label,description:r.rolesMeta[e.role].description}))},[s,i]),c=(0,t.useMemo)(()=>s?s.teamPermissions.filter(e=>!r.v0Roles.some(t=>e.role===t)).map(e=>({role:e.role,label:x[e.role]?.name||e.role,description:x[e.role]?.description,compatibleRoles:e.compatibleRoles,includedIn:e.includedIn})):[],[s]);return{teamRoles:o,teamPermissions:c,v0Roles:(0,t.useMemo)(()=>s?s.teamPermissions.filter(e=>r.v0Roles.some(t=>e.role===t)).map(e=>({role:e.role,label:x[e.role]?.name||e.role,description:x[e.role]?.description})):[],[s]),simplifyRoles:function(e,t){let l=e.filter(t=>o.filter(t=>e.includes(t.role)).every(e=>!e.includedTeamRoles.includes(t))),i=t.filter(e=>{let t=c.find(t=>t.role===e);return!!t&&t.compatibleRoles.some(e=>l.includes(e))&&!t.includedIn.some(e=>l.includes(e))});return{teamRoles:l,teamPermissions:i}},isReady:!a,mutate:n}}function v(e){let t=e.trim(),l=/^.*<(?<email>.+)>$/.exec(t);return l?.groups?.email?l.groups.email.trim():t}let y={"date-desc":"date_desc","name-asc":"name_asc","name-desc":"name_desc"};function b(e){let[r,n]=(0,t.useState)(""),[o,c]=(0,t.useState)("date-desc"),[d,u]=(0,t.useState)("ALL"),[m,p]=(0,t.useState)(),{value:f}=(0,s.useEntitlement)("v0-team-seats"),{data:h}=(0,a.default)({sort:y[o],limit:a.MEMBERS_LIMIT,role:"ALL"!==d?d:void 0,includeEntitlements:!!f}),[{data:x,mutate:j},{members:g,permissionRequests:_,...v}]=(0,a.useMembersInfinite)({},{sort:y[o],search:"members"===e&&h?.pagination.nextPageCursor&&r||void 0,role:"ALL"!==d?d:void 0,mfaStateFilter:m,includeEntitlements:!!f,includePermissionRequests:!0},!0,!0),[{mutate:b},{members:I,...R}]=(0,a.useSuggestedMembersInfinite)(),w=(0,t.useMemo)(()=>{if("pending"===e){var t,i;let e=x?.[0]?.emailInviteCodes??[];return t=r,i="ALL"!==d?e.filter(e=>e.role===d):e,t?new l.default(i,{shouldSort:!1,includeScore:!0,threshold:.25,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["email"]}).search(t).map(e=>{let{item:t}=e;return t}):i}return g},[g,x,e,d,r,I]),E=(0,t.useMemo)(()=>x?.[0]?.totalCount,[x]),C={applySort:c,roleFilter:d,setRoleFilter:u,mutate:j,performSearch:(0,i.useDebouncedCallback)(e=>{n(e)},300),search:r,sort:o,searchEnabled:!!h?.pagination.nextPageCursor,filterByMfaState:m,applyMfaFilter:p,permissionRequests:_,totalMembersCount:E},A=(0,t.useCallback)(async()=>{let[e]=await Promise.all([j(),b()]);return e},[b,j]);return"suggested"===e?{...C,...R,results:I,resultTotalCount:I.length,isLagging:!1,mutate:A}:{...C,...v,results:w,resultTotalCount:E}}e.s(["getMemberUsername",()=>u,"getMemberV0Role",()=>j,"getRolesInfo",()=>g,"isAccessRequested",()=>m,"isMember",0,e=>"uid"in e,"isUnconfirmed",()=>p,"parseEmailInput",()=>v,"roleWarningText",()=>f,"useAvailableRolesInfo",()=>_,"useRoleUtils",()=>h,"useSearch",()=>b],8129674)},2699603,e=>{"use strict";var t=e.i(1269010),l=e.i(277234),i=e.i(4244280),r=e.i(5338940),s=e.i(7750276);function a(){let{membersLimit:e,projectsLimit:a,projectId:o,search:c,limit:d=100}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1?arguments[1]:void 0,{team:m}=(0,r.useTeam)(),{value:p}=(0,s.useEntitlement)("project-rbac-access-groups"),f=(0,t.default)((t,l)=>{if(!m||null===o||!p)return null;let r=l?.pagination.next;if(0!==t&&!r)return null;let s=new URLSearchParams;return s.set("teamId",m.id),d&&s.set("limit",`${d}`),e&&s.set("membersLimit",`${e}`),a&&s.set("projectsLimit",`${a}`),o&&s.set("projectId",o),c&&s.set("search",c),r&&s.set("next",r),`${i.API_ACCESS_GROUPS}?${s.toString()}`},e=>(0,l.fetchAPI)(String(e),{throwOnHTTPError:!0}),u),h=f.data?.flatMap(e=>e.accessGroups),x=f.data?.[f.data.length-1]?.pagination.next;return{...f,accessGroups:h,accessGroupsWithRole:h?.filter(n),cursor:x}}function n(e){return"role"in e}e.s(["useAccessGroups",()=>a])},8391381,e=>{e.v({button:"command-module__eP91eq__button",disabled:"command-module__eP91eq__disabled",hidebutton:"command-module__eP91eq__hidebutton",listWrapper:"command-module__eP91eq__listWrapper"})},1236612,9261674,e=>{"use strict";var t=e.i(1146226),l=e.i(692265),i=e.i(5169864),r=e.i(1992190);let s=i.createContext({listId:"",inputId:"",inputValue:"",selectedIndex:0,inputRef:{current:null},filterList:null,listRef:{current:null},list:{current:[]},map:{current:{}},setInputValue:()=>void 0,setSelectedIndex:()=>void 0,force:()=>void 0});s.displayName="CommandContext";let a=(0,r.createDescendants)();var n=e.i(6143247),o=e.i(57106),c=e.i(935882),d=e.i(6226725),u=e.i(8391381),m=e.i(9338892);function p(){var e,t;let l,{selected:s=0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a,n]=i.useState(s),[o,c]=i.useState(""),d=i.useRef(null),u=i.useRef(null),{ref:p,...f}=(0,r.useDescendants)(),h=(e=f.map,t=o,(l=Object.values(e.current)).length?""===t?l:(0,m.matchSorter)(l,t,{keys:[e=>e.value]}):null);return{inputValue:o,setInputValue:function(e){"string"==typeof e?c(e):c(e.target.value),n(0)},selectedIndex:a,setSelectedIndex:n,filterList:h,listRef:p,contentRef:d,inputRef:u,...f}}function f(e){let{children:i,inputValue:r,setInputValue:a,selectedIndex:n,setSelectedIndex:o,contentRef:c,inputRef:d,...u}=e,m=(0,l.useId)(),p=(0,l.useId)();return(0,t.jsx)(s.Provider,{value:{listId:m,inputId:p,inputValue:r,setInputValue:a,selectedIndex:n,setSelectedIndex:o,inputRef:d,filterList:[],listRef:{current:null},list:{current:[]},map:{current:{}},force:()=>void 0,...u},children:i})}f.Item=function(e){let{className:l,children:c,callback:d,hideOnFilter:u,isStatic:m=!1,value:p,href:f,...h}=e,[x,j]=(0,i.useState)(""),g=!!h.isDocs;(0,i.useEffect)(()=>{let e=w.current;e&&j((e.textContent??"").trim())},[c]);let{selectedIndex:_,setSelectedIndex:v,filterList:y,list:b,map:I}=i.useContext(s),{index:R,ref:w,id:E}=(0,r.useDescendant)(a,{value:u?null:p||x,callback:d,...h}),C=!!I.current[E],A=b.current[_]?._internalId===E,N=Array.isArray(y)&&C?y.findIndex(e=>{let{_internalId:t}=e;return t===E}):void 0;return((0,i.useEffect)(()=>{if(A&&w.current){let e=w.current,t=e.parentElement;if(t?.hasAttribute("data-command-group")&&t.firstChild===e){let l=e.closest("[data-command-list-wrapper]");t.parentElement&&l?.scrollTop&&l.scrollTop>t.parentElement.offsetTop&&(l.scrollTop=t.parentElement.offsetTop)}e.scrollIntoView({block:"nearest"})}},[A]),g||-1!==N||m)?(0,t.jsx)("li",{...h,"aria-selected":A||void 0,"data-command-item":"","data-order":N,onClick:e=>{d?.(e)},onPointerMove:()=>{v(R)},ref:w,role:"option",className:(0,n.cn)("relative",l),children:f?(0,t.jsx)(o.Link,{href:f,className:"flex size-full items-center",children:c}):(0,t.jsx)(t.Fragment,{children:c})}):null},f.Group=function(e){let{children:r,heading:s,customHeading:a,className:n}=e,o=(0,l.useId)(),d=(0,i.useRef)(null),[u,m]=(0,i.useState)(!0);return(0,c.default)(()=>{d.current&&m(0!==d.current.children.length)}),(0,t.jsxs)("li",{role:"presentation",style:u?void 0:{display:"none"},children:[a?(0,t.jsx)("div",{id:o,children:a}):(0,t.jsx)("div",{className:n,"data-command-group-heading":"",id:o,children:s}),(0,t.jsx)("ul",{"aria-labelledby":o,"data-command-group":"",ref:d,role:"group",children:r})]})},f.Input=function(e){let{onKeyDown:l,disabled:r,...a}=e,{listId:n,inputId:o,inputValue:c,setInputValue:m,inputRef:p}=i.useContext(s),f=function(){let{setSelectedIndex:e,selectedIndex:t,list:l}=i.useContext(s);function r(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=Math.max(t-i,0);l.current[r]?e(r):e(0)}function a(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=Math.min(t+i,l.current.length-1);l.current[r]?e(r):e(l.current.length||0)}return i=>{switch(i.key){case"Home":i.preventDefault(),e(0);break;case"End":i.preventDefault(),e(l.current.length||0);break;case"ArrowDown":i.preventDefault(),i.shiftKey?a(5):a();break;case"ArrowUp":i.preventDefault(),i.shiftKey?r(5):r();break;case"Enter":i.preventDefault(),(l.current[t]?.callback)(i)}}}(),h=!!a.showClear;return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)("input",{onChange:m,onKeyDown:e=>{f(e),l?.(e)},ref:p,value:c,...a,"aria-autocomplete":"list","aria-controls":n,"aria-expanded":!0,"aria-haspopup":"listbox","aria-owns":n,autoComplete:"off",autoFocus:a.autoFocus??!0,"data-command-input":"",disabled:r,id:o,role:"combobox",spellCheck:!1,type:"text"}),!!h&&(0,t.jsx)("button",{className:""===c?u.default.hidebutton:u.default.button,onClick:()=>{m(""),p.current?.focus()},type:"button",children:(0,t.jsx)("span",{children:(0,t.jsx)(d.CrossCircle,{size:20})})})]})},f.List=function(e){let{children:l,maxHeight:r=300,emptyMessage:n,disableDynamicHeight:o,...d}=e,m=(0,i.useRef)(null),{listId:p,listRef:f,map:h,list:x,force:j,inputValue:g}=i.useContext(s);(0,c.default)(()=>{if(!f.current)return;let e=new Map,t=Array.from(f.current.querySelectorAll("[data-descendant], [data-command-separator]"));d.applySort&&t.sort((e,t)=>Number(e.getAttribute("data-order"))-Number(t.getAttribute("data-order"))),t.forEach(t=>{if(t.parentElement){t.parentElement.appendChild(t);let l=t.closest("[data-command-list] > *");l&&l!==t&&l!==f.current&&(e.has(l)||(f.current?.appendChild(l),e.set(l,!0)))}})},[g]),(0,c.default)(()=>{if(!f.current||!m.current||o)return;let e=Math.min(f.current.offsetHeight+1,r);m.current.style.height=`${1===e?0:e}px`});let _=(0,i.useMemo)(()=>({list:x,map:h,force:j}),[x,h,j]),{applySort:v,...y}=d;return(0,t.jsx)("div",{className:u.default.listWrapper,"data-command-list-wrapper":"",ref:m,children:(0,t.jsxs)("ul",{id:p,ref:f,role:"listbox",...y,"data-command-list":"",children:[0===x.current.length&&g.length>0&&(0,t.jsx)("div",{"data-command-empty":"",children:n}),(0,t.jsx)(a.Provider,{value:_,children:l})]})})},f.Separator=function(e){let{className:l}=e,{inputValue:r}=i.useContext(s),a=(0,i.useRef)(null);return((0,c.default)(()=>{let e=a.current;if(!e)return;let t=e.nextElementSibling;t&&t.hasAttribute("data-order")&&e.setAttribute("data-order",t.getAttribute("data-order"))}),r)?null:(0,t.jsx)("li",{className:l,"data-command-separator":"",ref:a,role:"separator"})},e.s(["Command",()=>f],1236612),e.s(["useCommand",()=>p],9261674)},84614,e=>{e.v({avatar:"multi-switcher-module__eIAjoG__avatar",close:"multi-switcher-module__eIAjoG__close",command:"multi-switcher-module__eIAjoG__command","command-overlay":"multi-switcher-module__eIAjoG__command-overlay",content:"multi-switcher-module__eIAjoG__content",crumb:"multi-switcher-module__eIAjoG__crumb","delayed-pointer-events":"multi-switcher-module__eIAjoG__delayed-pointer-events",disabled:"multi-switcher-module__eIAjoG__disabled",empty:"multi-switcher-module__eIAjoG__empty","fav-button":"multi-switcher-module__eIAjoG__fav-button",focused:"multi-switcher-module__eIAjoG__focused",hideOnMobile:"multi-switcher-module__eIAjoG__hideOnMobile",hideOutline:"multi-switcher-module__eIAjoG__hideOutline",hover:"multi-switcher-module__eIAjoG__hover","hover-content":"multi-switcher-module__eIAjoG__hover-content",infoCard:"multi-switcher-module__eIAjoG__infoCard",input:"multi-switcher-module__eIAjoG__input",itemWrapper:"multi-switcher-module__eIAjoG__itemWrapper",kbd:"multi-switcher-module__eIAjoG__kbd",list:"multi-switcher-module__eIAjoG__list",name:"multi-switcher-module__eIAjoG__name",open:"multi-switcher-module__eIAjoG__open",primary:"multi-switcher-module__eIAjoG__primary",protectedProject:"multi-switcher-module__eIAjoG__protectedProject",scopeLink:"multi-switcher-module__eIAjoG__scopeLink",scopeName:"multi-switcher-module__eIAjoG__scopeName",showAllBadges:"multi-switcher-module__eIAjoG__showAllBadges",showOnMobile:"multi-switcher-module__eIAjoG__showOnMobile",teamItem:"multi-switcher-module__eIAjoG__teamItem",trigger:"multi-switcher-module__eIAjoG__trigger"})},4180326,e=>{e.v({command:"project-multiselect-module__5R6Odq__command",content:"project-multiselect-module__5R6Odq__content",item:"project-multiselect-module__5R6Odq__item",list:"project-multiselect-module__5R6Odq__list",removeShadow:"project-multiselect-module__5R6Odq__removeShadow"})},3248258,e=>{"use strict";var t=e.i(1146226),l=e.i(5169864),i=e.i(9220646),r=e.i(2504781),s=e.i(9689002),a=e.i(8735244),n=e.i(1492947),o=e.i(2331152),c=e.i(9722978),d=e.i(3322724),u=e.i(2107254),m=e.i(1236612),p=e.i(9261674),f=e.i(84614),h=e.i(9068678),x=e.i(4180326);function j(e){let{alreadySelected:r=[],onSelect:s,children:a,isOpen:o,setIsOpen:c,extraOptions:m}=e,f=(0,d.useIsMobile)(),h=(0,p.useCommand)({selected:0}),[j,_]=(0,u.useProjectListInfinite)({limit:20,latestDeployments:1,search:h.inputValue});return((0,l.useEffect)(()=>{!_.initialDataLoaded||_.isReachingEnd||_.isLoadingMore||_.loadMore(),o||h.setInputValue("")},[o]),f)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Drawer,{onDismiss:()=>c(!1),show:o,children:(0,t.jsx)(g,{alreadySelected:r,commandProps:h,extraOptions:m,isSwrLoading:j.isLoading,onSelect:s,projectData:_,setIsOpen:c})}),a]}):(0,t.jsxs)(i.Root,{onOpenChange:e=>c(e),open:o,children:[(0,t.jsx)(i.Trigger,{asChild:!0,children:a}),(0,t.jsx)(i.Portal,{children:(0,t.jsx)(i.Content,{align:"start",className:x.default.content,side:"bottom",children:(0,t.jsx)(g,{alreadySelected:r,commandProps:h,extraOptions:m,isSwrLoading:j.isLoading,onSelect:s,projectData:_,setIsOpen:c})})})]})}function g(e){let{alreadySelected:i,commandProps:r,isSwrLoading:n,onSelect:d,projectData:u,setIsOpen:p,extraOptions:j}=e,g=(0,l.useMemo)(()=>[...j||[],...u.projects],[j,u.projects]).filter(e=>!i.includes(e.id)),y=n||u.isLoadingMore;return(0,t.jsx)("div",{className:(0,c.clsx)(f.default.command,f.default.primary,x.default.command,"tailwind"),children:(0,t.jsxs)(m.Command,{...r,children:[(0,t.jsxs)("div",{className:(0,c.clsx)("flex flex-row items-center justify-start flex-initial",f.default.input),children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial w-6",children:y?(0,t.jsx)(a.Spinner,{color:"var(--accents-3)"}):(0,t.jsx)(o.MagnifyingGlass,{color:"gray-500",size:20})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial grow",children:(0,t.jsx)(m.Command.Input,{placeholder:"Search projects…"})}),(0,t.jsx)(s.Kbd,{className:f.default.kbd,children:(0,t.jsx)("span",{className:"pr-1",children:"Esc"})})]}),(0,t.jsxs)(m.Command.List,{className:x.default.list,children:[0===g.length&&r.inputValue.length&&!n?(0,t.jsx)(v,{onClear:()=>{r.setInputValue("")},prompt:r.inputValue}):null,y||0!==g.length||r.inputValue.length?null:(0,t.jsx)(_,{}),g.map(e=>(0,t.jsx)(m.Command.Item,{callback:()=>{let t={id:e.id,name:e.name,latestDeploymentId:e.latestDeployments?.[0]?.id||void 0,framework:e.framework||void 0};d&&d(t),p(!1),r.setInputValue("")},className:(0,c.clsx)(x.default.item),value:e.name,children:(0,t.jsxs)("div",{title:e.name,className:"flex flex-row items-center justify-start gap-2 flex-initial w-full max-w-full",children:["custom-domain"===e.id&&"icon"in e?e.icon:(0,t.jsx)(h.ProjectWithDeploymentAvatar,{project:e,size:20}),(0,t.jsx)("p",{className:"text-copy-14 truncate flex-1",children:e.name})]})},e.id)),u.isReachingEnd?null:(0,t.jsx)(m.Command.Item,{callback:()=>{u.loadMore()},className:(0,c.clsx)(x.default.item),children:(0,t.jsx)("div",{className:"flex flex-col items-center justify-start flex-initial w-full",children:(0,t.jsx)("p",{className:"text-copy-14",children:u.isLoadingMore?"Loading…":"Load more"})})})]})]})})}function _(){return(0,t.jsx)("div",{className:"flex flex-col items-center justify-center gap-3 flex-initial p-4",children:(0,t.jsx)("p",{className:"text-copy-14 flex-1",children:"Every project that can be added has been added."})})}function v(e){let{onClear:l,prompt:i}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center gap-3 flex-initial p-4",children:[(0,t.jsxs)("p",{className:"text-copy-14 flex-1",children:['No results for "',i,'"']}),(0,t.jsx)(r.Button,{onClick:l,size:"small",type:"secondary",children:"Clear search"})]})}e.s(["SelectProjectCommand",()=>j])}]);

//# debugId=badc6a1c-d2d2-e001-46fd-4c5bb2b17a08
//# sourceMappingURL=4d9281fac75f1690.js.map
;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7c7be36e-ad39-8421-9355-44ca63f486de")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2970665,e=>{e.v("/_next/static/media/worker.34f91dca.ts")},2686817,e=>{"use strict";function t(e){return e}e.s(["swrRequest",()=>t])},5044530,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM10.5 5.5H5.5V10.5H10.5V5.5Z" fill="currentColor"/>');e.s(["StopCircle",0,t])},2720056,e=>{"use strict";var t=e.i(1146226),r=e.i(7549980),a=e.i(4585051),n=e.i(5255926),s=e.i(9722978),i=e.i(5169864),o=e.i(1138941),l=e.i(4396019),c=e.i(7898658);function d(e){let{size:r,project:a,teamId:n,image:s=!1,className:i,error:c}=e,d=(0,o.useFramework)(a),{deployment:p}=(0,l.useProjectProductionDeployment)(a?.id);return(0,t.jsx)(u,{className:i,deployment:p,framework:d,image:s,project:a,size:r,teamId:n,error:c})}function u(e){let{framework:o,deployment:l,project:d,teamId:u,size:p,image:m=!1,className:f,title:h,error:g}=e,[v,y]=(0,i.useState)(!1),{data:b,isLoading:j}=(0,c.default)({teamId:u,project:d});if(j||l&&void 0===b)return(0,t.jsx)(n.Skeleton,{height:p,rounded:!0,style:{flexShrink:0},width:p});let x=b?.src,w=h??o?.name??"logo";return x?v&&g?g:m?(0,t.jsx)(r.default,{alt:w,className:f,height:p,src:x,width:p}):(0,t.jsx)(a.Avatar,{className:(0,s.clsx)(f,{"bg-background-100/80 shadow-[0_0_0_1px] shadow-background-100 backdrop-blur-[2px]":!!o}),mask:!1,size:p,src:x,title:w,onError:()=>y(!0)}):(0,t.jsx)(a.Avatar,{className:f,placeholder:!0,size:p})}e.s(["ProjectAvatar",()=>d])},6439983,e=>{"use strict";var t=e.i(9171423),r=e.i(8042625),a=e.i(1903235);let n=async(e,t,r)=>{let n=(0,a.getPermutationKey)(e);if(t.knownPermutations.has(n))return;t.knownPermutations.add(n),t.pendingPermutations.add(n);let{string:i,type:o}=e;try{await s[o](i,t,r)}catch(e){t.knownPermutations.delete(n),console.log(e)}finally{t.pendingPermutations.delete(n),r()}},s={account:async(e,t)=>{},team:async(e,t)=>{},project:async(e,n,s)=>{if(!(await Promise.allSettled([(0,t.fetchApi)(`/api/v2/dashboard/projects${(0,r.encode)({search:e,teamId:n.params.team,limit:10})}`,{throwOnHTTPError:!0}).then(e=>{if(!e||"object"!=typeof e)throw Error("Invalid projects API response");for(let t of e.projects||[])(0,a.addProject)(n,t);s()}),(0,t.fetchApi)(`/api/dashboard/find/projects${(0,r.encode)({query:e,limit:10})}`,{throwOnHTTPError:!0}).then(e=>{if(!e||"object"!=typeof e)throw Error("Invalid projects API response");for(let t of e.projects)(0,a.addProject)(n,t);s()})])).some(e=>"fulfilled"===e.status))throw Error("Failed to fetch projects")},deployment:async(e,a)=>{let n=await (0,t.fetchApi)(`/api/v1/dashboard/find/branches${(0,r.encode)({query:e,teamId:a.params.team})}`,{throwOnHTTPError:!0});if(!n||"object"!=typeof n)throw Error("Invalid projects API response");for(let e of n.branches){let t=e.project.deployment.status;if("CANCELED"===t)continue;let r=a.projects.get(e.project.id)?.name;if(!r)continue;let n=e.project.deployment.id.replace("dpl_","");a.deployments.set(n,{id:n,readyState:t,meta:{githubDeployment:"1",gitCommitRef:e.branch},createdAt:0,url:"",aliasAssigned:!0}),a.activeBranches.set(`${e.project.id}_${e.branch}`,{projectId:e.project.id,project:r,branch:e.branch,deployment:n})}}};e.s(["fetchParamPermutation",0,n])},7254823,e=>{"use strict";var t=e.i(1146226),r=e.i(5169864),a=e.i(9722978),n=e.i(9689002),s=e.i(8735244),i=e.i(2331152),o=e.i(5044530),l=e.i(8866156),c=e.i(7837522),d=e.i(7780974),u=e.i(5155984);let p="find-bar-activated";function m(e){let{variant:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g,{}),(0,t.jsx)(r.Suspense,{fallback:(0,t.jsx)(h,{variant:a}),children:(0,t.jsx)(u.CompatRouterAllowedWithoutSuspense,{children:(0,t.jsx)(f,{variant:a})})})]})}function f(e){let{variant:u="header"}=e,{isOpen:m,toggle:f,open:h,prompt:g}=(0,l.useFind)(),v=(0,r.useRef)(null),{track:y}=(0,c.useTrackActivity)();return(0,r.useEffect)(()=>{let e=e=>{let t=e.metaKey||e.ctrlKey;if(t&&"p"===e.key.toLowerCase())e.preventDefault(),e.stopPropagation(),m||y(d.VercelActivityAction.FindModalOpened,{via:"keyboard"}),f(v.current);else{let r;t||"f"!==e.key.toLowerCase()||(r=document.activeElement)&&("INPUT"===r.tagName||"TEXTAREA"===r.tagName||"VERCEL-LIVE-FEEDBACK"===r.tagName||r.getAttribute("contenteditable"))||(window.dispatchEvent(new CustomEvent(p)),e.preventDefault(),e.stopPropagation(),m||y(d.VercelActivityAction.FindModalOpened,{via:"keyboard"}),h(v.current))}};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[h,f,y,m]),(0,t.jsxs)("button",{className:(0,a.clsx)("relative z-[calc(var(--header-zindex)_+_1)] cursor-pointer overflow-visible border-0 bg-transparent p-0 [webkit-tap-highlight-color:transparent] focus-visible:outline-focus focus-visible:outline-2 focus-visible:outline-offset-[3px] rounded-full lg:rounded","header"===u&&"mr-px size-[30px] lg:m-0 lg:h-8 lg:w-40 xl:w-48","sidebar"===u&&"h-9 w-full",!g.cancel&&"lg:cursor-text",!m&&"pointer-events-auto",m&&"invisible"),onClick:()=>{g.cancel?g.cancel():(m||y(d.VercelActivityAction.FindModalOpened,{via:"pointer"}),h(v.current))},ref:v,type:"button",children:[(0,t.jsx)("span",{className:"absolute inset-0 origin-top-left rounded-full border-none bg-background-100 outline outline-1 outline-gray-alpha-300 lg:rounded","data-bg-layer":!0}),(0,t.jsxs)("span",{className:"relative flex flex-row items-center",children:[(0,t.jsx)("span",{className:(0,a.clsx)("grid place-content-center text-gray-1000 lg:text-gray-900","header"===u&&"size-[30px] lg:size-8","sidebar"===u&&"size-9"),"data-search-icon":!0,children:"idle"===g.status?(0,t.jsx)(i.MagnifyingGlass,{className:"animate-partial-fade-in"}):(0,t.jsx)(s.Spinner,{className:"animate-partial-fade-in"})}),(0,t.jsx)("span",{className:(0,a.clsx)("text-copy-14 hidden flex-1 animate-partial-fade-in text-left text-gray-800 lg:flex","sidebar"===u&&"pl-0.5"),"data-placeholder":!0,children:"idle"===g.status?"Find…":"thinking"===g.status?"Thinking…":"Navigating…"},g.status),(0,t.jsx)("span",{className:(0,a.clsx)("hidden place-content-center pointer-coarse:hidden lg:grid","header"===u&&"size-8","sidebar"===u&&"size-9"),children:"idle"===g.status?(0,t.jsx)(n.Kbd,{className:"!m-0 animate-partial-fade-in",small:!0,children:"F"}):(0,t.jsx)(o.StopCircle,{className:"animate-partial-fade-in",color:"gray-900"})})]})]})}function h(e){let{variant:r="header"}=e;return(0,t.jsxs)("button",{className:(0,a.clsx)("relative z-[calc(var(--header-zindex)_+_1)] cursor-pointer overflow-visible border-0 bg-transparent p-0 [webkit-tap-highlight-color:transparent]","header"===r&&"mr-px size-[30px] lg:m-0 lg:h-8 lg:w-40 xl:w-48","sidebar"===r&&"h-9 w-full","lg:cursor-text"),disabled:!0,type:"button",children:[(0,t.jsx)("span",{className:"absolute inset-0 origin-top-left rounded-full border-none bg-background-100 outline outline-1 outline-gray-alpha-300 lg:rounded","data-bg-layer":!0}),(0,t.jsxs)("span",{className:"relative flex flex-row items-center",children:[(0,t.jsx)("span",{className:(0,a.clsx)("grid place-content-center text-gray-1000 lg:text-gray-900","header"===r&&"size-[30px] lg:size-8","sidebar"===r&&"size-9"),"data-search-icon":!0,children:(0,t.jsx)(i.MagnifyingGlass,{className:"animate-partial-fade-in"})}),(0,t.jsx)("span",{className:(0,a.clsx)("text-copy-14 hidden flex-1 animate-partial-fade-in text-left text-gray-800 lg:flex","sidebar"===r&&"pl-0.5"),"data-placeholder":!0,children:"Find…"}),(0,t.jsx)("span",{className:(0,a.clsx)("hidden place-content-center pointer-coarse:hidden lg:grid","header"===r&&"size-8","sidebar"===r&&"size-9"),children:(0,t.jsx)(n.Kbd,{className:"!m-0 animate-partial-fade-in",small:!0,children:"F"})})]})]})}function g(){let{prompt:e}=(0,l.useFind)();return"thinking"===e.status?(0,t.jsx)("div",{className:"pointer-events-none fixed inset-x-0 top-0 z-[calc(var(--header-zindex)_+_1)] overflow-hidden",style:{height:32},children:(0,t.jsx)("div",{className:"absolute bottom-0 left-1/2 w-full -translate-x-1/2",style:{height:32},children:(0,t.jsx)("div",{className:"absolute inset-0 bg-background-100",style:{mask:"radial-gradient(ellipse at 50% -20%, #000 16%, transparent 72%)"},children:(0,t.jsx)("div",{className:"absolute inset-0 overflow-hidden",children:(0,t.jsx)("div",{className:"pointer-events-none absolute -inset-2.5 overflow-hidden text-white blur-2xl invert transition-opacity duration-500 dark:text-black dark:opacity-70 dark:invert-0",style:{transform:"translate3d(0, 0, 0)","--background-color":"var(--ds-background-200)","--duration":"23s","--gaps":"repeating-linear-gradient(110deg, var(--background-color) 0%, var(--background-color) 7%, transparent 10%, transparent 12%, var(--background-color) 19%)","--lights":"repeating-linear-gradient(110deg, var(--ds-teal-500) 10%, var(--ds-blue-700) 15%, var(--ds-purple-700) 20%, var(--ds-pink-700) 25%, var(--ds-amber-700) 30%)",backgroundImage:"var(--gaps), var(--lights)",backgroundSize:"120%, 200%",backgroundPosition:"50% 50%, 50% 50%"},children:(0,t.jsx)("div",{className:"absolute h-full w-[300%] mix-blend-difference motion-safe:animate-northern-lights",style:{backgroundImage:"var(--gaps), var(--lights)",backgroundSize:"100%, 100%",backgroundPosition:"50% 50%"}})})})})})}):null}e.s(["EVENT_FIND_OPENED_VIA_F",0,p,"FindBar",()=>m])},5664773,e=>{"use strict";var t=e.i(1146226),r=e.i(5610834),a=e.i(2773220),n=e.i(7171047);function s(){let e=(0,r.usePathname)();return e?.startsWith("/account")||e?.startsWith("/domains")?null:(0,t.jsx)(a.NotificationsProviderAndPopover,{})}function i(){return(0,t.jsx)("div",{className:"grid place-content-center size-[30px] rounded-full border border-solid border-gray-300",children:(0,t.jsx)(n.Bell,{})})}e.s(["NotificationsButton",()=>s,"NotificationsButtonSkeleton",()=>i])},2938727,e=>{e.v(e.b(["static/chunks/da042267ae6de8b4.js","static/chunks/turbopack-ac8e5451c3bd67e7.js"]))},4577993,e=>{"use strict";var t=e.i(1146226),r=e.i(5169864),a=e.i(5610834),n=e.i(6143247),s=e.i(57106),i=e.i(4394511),o=e.i(8866156),l=e.i(7420728),c=e.i(3181399),d=e.i(6439983),u=e.i(4585051),p=e.i(9689002),m=e.i(8735244),f=e.i(8216525),h=e.i(1438473),g=e.i(2331152),v=e.i(2259462),y=e.i(2712781),b=e.i(6942035),j=e.i(4240811),x=e.i(2720056),w=e.i(2695633),k=e.i(1903235);let E=(e,t)=>{let r=(0,k.detectScopeType)(e.route);if("unknown"===r)throw Error(`Unknown scope type for route: ${e.route}`);let a={type:r,search:"",hash:"",...e};return{type:"dash",score:0,page:a,params:t,href:(0,k.createHref)(a,t)}},N=e=>({type:"prompt",score:0,href:`prompt:${e}`,query:e}),S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;for(let r=t;r--;)e.sort(()=>Math.sign(Math.random()-.5));return e},A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,r=new Set,a=[],n=0,s=0;for(let i=0;;++i){let o=i%e.length,l=e[o].shift();if(!l){if(++s===e.length)break;continue}let c=a[o];if(c||(c=[],a[o]=c),s=0,r.has(l.href)){--i;continue}if(r.add(l.href),c.push(l),++n===t)break}return a.flat()};var P=e.i(8213147),C=e.i(7837522),R=e.i(7780974),I=e.i(60582);function L(e){let{variant:r}=e,{isOpen:a}=(0,o.useFind)();return a?(0,t.jsx)($,{variant:r}):null}function $(s){let{variant:l="header"}=s,{open:c}=(0,P.useNavDocs)(),{close:u,refresh:f,refreshRef:h,memoryRef:v,fromRef:y,modalRef:j,prompt:x}=(0,o.useFind)(),{track:w}=(0,C.useTrackActivity)(),L=(0,r.useMemo)(()=>{if("sidebar"===l)return"4px";let e=y.current;if(!e)return"32px";let t=Math.max(32,16+window.innerWidth-384-e.getBoundingClientRect().left);return`${Math.round(t)}px`},[y,l]),$=(0,r.useMemo)(()=>{var e;let t,r,a;return A((a=e=v.current,[(e=>{let t=[];e:for(let r of e.recentPreviews)for(let a of r.previews){if(e.params.project&&a.project!==e.params.project)continue;let r=E({route:"/[teamSlug]/[project]/[id]"},{team:e.params.team,project:a.project,id:a.deployment});if(6===t.push(r))break e}return t})(e),(e=>{let t=[];{let r=e.frecency.scopes.find(e=>!e.includes("/")),a="";e.params.team&&"/[teamSlug]"!==e.route?a=e.params.team:r&&(a=r);let n=e.frecency.scopes.find(e=>e.includes("/")),s="",i="";for(let r of(e.params.project?(s=e.params.project,i=e.params.team||a):n&&([i,s]=n.split("/")),e.frecency.routes)){let n;if(r in e.routes){if(r.startsWith("/[teamSlug]/[project]")){if(!s)continue;n={team:i,project:s}}else{if(!a)continue;n={team:a}}t.push(E({route:r},n))}}}if(e.params.project)"/[teamSlug]/[project]"!==e.route?t.push(E({route:"/[teamSlug]/[project]"},{team:e.params.team,project:e.params.project})):t.push(E({route:"/[teamSlug]/[project]/deployments"},{team:e.params.team,project:e.params.project}));else for(let[r]of Array.from(e.projectWeights.entries()).sort((e,t)=>t[1]-e[1])){let a=e.projects.get(r);if(!a||a.owner!==e.params.team)continue;let n=E({route:"/[teamSlug]/[project]"},{team:e.params.team,project:a.name});if(6===t.push(n))break}return e.params.team&&"/[teamSlug]"!==e.route&&t.push(E({route:"/[teamSlug]"},{team:e.params.team})),t})(e),(e=>{let t=[];for(let[r,a]of Object.entries(e.routes)){let n={},s=(0,k.detectScopeType)(r);if("project"===s){if(!e.params.project)continue;n.project=e.params.project,n.team=e.params.team}else if("team"===s){if(!e.params.team)continue;n.team=e.params.team}else if("account"!==s)continue;for(let[e,s]of(a.promote&&t.push(E({route:r},n)),Object.entries(a.search||{})))s.promote&&t.push(E({route:r,search:e},n));for(let[n,s]of Object.entries(a.hash||{}))s.promote&&t.push(E({route:r,hash:n},e.params))}return S(t)})(e),(t=e.routes[e.route],!(r=t?.docs)?[]:[{type:"docs",title:t.label,href:`/docs${r}`,score:0}]),(e=>{let t=[],{project:r,team:a}=e.params;if(a){let a=new Set,n=new Set;for(let t of(r&&(a.add(r),n.add(""),n.add(r)),e.recentPreviews))for(let e of t.previews)a.add(e.project),n.add(e.project);for(let[t,r]of e.projectWeights){if(r<1.1)continue;let s=e.projects.get(t)?.name;s&&(a.add(s),n.add(s))}for(let e of n)t.push(`${e} visitors this week`.trim(),`${e} bounce rate last week`.trim(),`failed requests${e?` on ${e}`:""}`,`finished builds${e?` for ${e}`:""}`,`How do I add another domain${e?` to ${e}`:""}`,`${e} production deployments`.trim(),`${e} visits this morning`.trim()),e&&t.push(`${e} usage`);r&&t.push("how do I set up oidc?","how do I turn on fluid compute?"),t.push("successful production deployments","failing production deployments","queued production deployments","what did we deploy today?","how do I add a domain?")}else t.push("What teams am I on?");return S(t).slice(0,1).map(N)})(e)].map(e=>e.filter(e=>e.href!==a.href))))},[v]),[z,M]=(0,r.useState)([]),[F,D]=(0,r.useState)(0),q=(0,r.useRef)(F);q.current=F;let O=(0,r.useRef)(0),_=(0,r.useRef)(0),B=(0,r.useRef)(void 0);(0,r.useEffect)(()=>{let t,r=new Worker(e.r(2938727));B.current=r;let a="";return r.addEventListener("message",e=>{let r=e.data;if(r.requestId<_.current)return;_.current=r.requestId;let{results:n,permutations:s}=r,i=n;if(a===r.query&&t){i=t.slice();let e=t.filter((e,t)=>t!==q.current&&!n.some(t=>t.href===e.href)),r=n.filter(e=>!t?.some(t=>t.href===e.href));for(let a=0;a<n.length;++a){let n=t[a];if(!n||e.includes(n)){let e=r.shift();if(!e)break;i[a]=e}}}a=r.query,t=i,M(i);let o=()=>{for(let e of s)(0,d.fetchParamPermutation)(e,v.current,f)};(0,k.normalizeParam)(String(r.query.at(-1))).length?W.current=setTimeout(o,250):o()}),()=>{B.current?.terminate(),B.current=void 0}},[v,f]),(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&u()},t=!1,r=e=>{t=!j.current?.contains(e.target)},a=e=>{if(e.metaKey||e.ctrlKey||e.button)return;let r=e.target;if(!j.current?.contains(r)){t&&setTimeout(()=>u());return}r.closest("a[href],button")&&setTimeout(()=>u())};return window.addEventListener("keydown",e),window.addEventListener("pointerdown",r,!0),window.addEventListener("click",a,!0),()=>{window.removeEventListener("keydown",e),window.removeEventListener("pointerdown",r,!0),window.removeEventListener("click",a,!0)}},[u,j]);let W=(0,r.useRef)(0),K=(0,r.useCallback)(e=>{let t=e.target.value;if(!t.trim()){h.current=void 0,_.current=++O.current,M([]);return}clearTimeout(W.current),h.current=()=>{let e={requestId:++O.current,query:t,memory:v.current};B.current?.postMessage(e)},f(),D(0)},[v,h,f]),V=(0,i.useOnNavigate)(),H=(0,a.useRouter)();(0,r.useEffect)(()=>{let e=!1,t=-1,r=()=>{e=!0,-1!==t&&(D(t),t=-1)},a=r=>{let a=r.target;if(!j.current?.contains(a))return;let n=a.closest("a[href],button");if(!n)return;let s=Number(n.dataset.index||-1);-1===s||F!==s&&(e?(D(s),e=!1):t=s)},n=e=>{let{key:t}=e;if("Enter"===t){e.preventDefault(),e.stopPropagation();let t=(z.length?z:$)[F];w(R.VercelActivityAction.FindModalResultSelected,{resultType:t.type,route:"dash"===t.type?t.page.route:void 0,via:"keyboard"}),"prompt"===t.type?x.start(t.query):"docs"===t.type&&window.innerWidth>=960?c(t.href):(V(t.href),H.push(t.href)),u();return}let r=Number("ArrowDown"===t)-Number("ArrowUp"===t);r&&(e.preventDefault(),e.stopPropagation(),D(Math.max(0,Math.min(F+r,(z.length||$.length)-1))))};return window.addEventListener("pointermove",r),window.addEventListener("pointerover",a),window.addEventListener("keydown",n),()=>{window.removeEventListener("pointermove",r),window.removeEventListener("pointerover",a),window.removeEventListener("keydown",n)}},[H,u,z,$,F,j,x,c,V,w]),(0,r.useEffect)(()=>()=>{h.current=void 0},[h]),(0,r.useLayoutEffect)(()=>{if(window.innerWidth<=960||matchMedia("(prefers-reduced-motion: reduce)").matches)return;let e=y.current,t=j.current;if(e&&t){let r,a,n,s;(r=t.closest("[data-backdrop]"))&&r.animate([{backgroundColor:"transparent"},{}],{duration:300,easing:"ease"}),(()=>{let r=e.querySelector("[data-search-icon] > *"),a=t.querySelector("[data-search-icon] > *");if(!r||!a||a.getAnimations().length)return;let n=r.getBoundingClientRect(),s=a.getBoundingClientRect();a.animate([{transform:`translateX(${n.left-s.left}px)`},{transform:"none"}],{duration:150,easing:"ease"})})(),(()=>{let r=t.querySelector("[data-bg-layer]");if(!r||r.getAnimations().length)return;let a=e.getBoundingClientRect(),n=r.getBoundingClientRect();r.animate([{transform:`translate(${a.left-n.left}px,${a.top-n.top}px) scale(${a.width/n.width},${a.height/n.height})`},{transform:"none"}],{duration:150,easing:"ease"})})(),(()=>{let r=e.querySelector("[data-placeholder]"),a=t.querySelector("input");if(!r||!a||a.getAnimations().length)return;let n=r.getBoundingClientRect(),s=a.getBoundingClientRect();a.animate([{transform:`translateX(${n.left-s.left}px)`},{transform:"none"}],{duration:150,easing:"ease"})})(),(a=t.querySelector("label"))&&!a.getAnimations().length&&a.animate([{borderBottomColor:"transparent"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"}),(n=t.querySelector("[data-results-list]"))&&!n.getAnimations().length&&n.animate([{opacity:"0"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"}),(s=t.querySelector("kbd"))&&!s.getAnimations().length&&s.animate([{opacity:"0",transform:"translateX(-20%) scale(0.95)"},{}],{delay:50,duration:250,easing:"ease",fill:"backwards"})}},[y,j]);let G=!!(z.length&&v.current.pendingPermutations.size);return(0,t.jsx)("div",{className:(0,n.cn)("fixed inset-0 z-[10000]",I.IS_DASH?"bg-background-100 lg:bg-background-100/60":"bg-background-100/60"),"data-backdrop":!0,children:(0,t.jsx)("div",{className:(0,n.cn)("fixed inset-0 flex flex-col items-center justify-start","header"===l&&"md:items-end md:pr-[var(--x-offset)] md:pt-2","sidebar"===l&&"md:items-start md:pl-[var(--x-offset)] md:pt-[calc(var(--navbar-height)-6px)]"),style:{"--x-offset":L},children:(0,t.jsx)("div",{className:(0,n.cn)("h-screen w-screen md:h-[384px] md:max-w-96 md:p-0",I.IS_DASH?"p-0":"p-2"),children:(0,t.jsxs)("div",{className:"relative flex flex-col",ref:j,children:[(0,t.jsx)("div",{className:(0,n.cn)("absolute -inset-px origin-top-left",I.IS_DASH?"lg:material-modal":"material-modal"),"data-bg-layer":!0}),(0,t.jsxs)("label",{className:(0,n.cn)("relative flex flex-row items-center border-0 border-b border-solid border-gray-300"),children:[(0,t.jsx)("div",{className:"grid size-12 place-content-center","data-search-icon":!0,children:(0,t.jsx)(g.MagnifyingGlass,{color:"gray-900"})}),(0,t.jsx)("input",{className:"text-copy-14 h-12 flex-1 border-0 border-none bg-transparent py-4 pl-0 pr-4 outline-none",onChange:K,placeholder:"Find…",ref:e=>{e?.focus()},width:"100%"}),(0,t.jsx)("button",{"aria-label":"Close",className:"grid size-12 cursor-pointer place-content-center border-none bg-transparent outline-none",onClick:()=>u(),type:"button",children:G?(0,t.jsx)(m.Spinner,{className:"animate-partial-fade-in"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Kbd,{className:"!ml-0 mr-1.5 pointer-coarse:hidden",small:!0,children:"Esc"}),(0,t.jsx)(b.Cross,{className:"pointer-fine:hidden",color:"gray-900"})]})})]}),(0,t.jsx)("div",{className:"relative h-[18.5rem] overflow-y-auto overflow-x-clip md:overflow-y-clip","data-results-list":!0,children:(0,t.jsxs)("div",{className:"flex flex-col p-1",children:[(z.length?z:$).map((e,r)=>(0,t.jsx)(T,{index:r,result:e,memory:v.current},e.href)),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-x-1 top-1 h-12 rounded bg-gray-alpha-100",style:{transform:`translateY(${3*F}rem)`,transition:"transform 0.1s ease"}})]})})]})})})})}function T(e){let{index:r,memory:a,result:n}=e,{label:s,icon:i,prefix:o,avatar:l}=D(n,a),c=q(n,a);return(0,t.jsxs)(z,{className:"flex h-12 flex-none flex-row items-center rounded p-0 active:bg-gray-100",index:r,result:n,children:[(0,t.jsx)("span",{"aria-hidden":!0,className:"grid size-11 flex-none place-content-center",children:(0,t.jsxs)("div",{className:"relative",children:[o||(0,t.jsx)(i,{color:"gray-900"}),l?(0,t.jsx)("div",{className:"absolute left-full top-full -ml-2 -mt-2 grid size-auto place-content-center rounded-full bg-background-100 p-0.5",children:l}):null]})}),(0,t.jsxs)("div",{className:"flex flex-1 select-none flex-col overflow-hidden pr-2",children:[(0,t.jsx)("div",{className:"text-label-13 h-4 truncate",children:(0,t.jsx)("strong",{children:s})}),(0,t.jsx)("div",{className:"text-label-13 h-4 truncate text-gray-900",children:c})]})]})}function z(e){let{className:r,index:a,result:n,children:s}=e;return"prompt"===n.type?(0,t.jsx)(F,{className:r,index:a,result:n,children:s}):(0,t.jsx)(M,{className:r,index:a,result:n,children:s})}function M(e){let{className:a,index:n,result:i,children:o}=e,{open:l}=(0,P.useNavDocs)(),{track:c}=(0,C.useTrackActivity)(),d="dash"===i.type?i.page.route:void 0,u=(0,r.useCallback)(e=>{c(R.VercelActivityAction.FindModalResultSelected,{resultType:i.type,route:d,via:"pointer"}),"docs"!==i.type||e.button||e.ctrlKey||e.metaKey||window.innerWidth<960||(l(i.href),e.preventDefault())},[l,i.href,i.type,c,d]);return(0,t.jsx)(s.Link,{className:a,"data-index":n,href:i.href,onClick:u,tab:"docs"===i.type,children:o})}function F(e){let{className:a,index:s,result:i,children:l}=e,{prompt:c}=(0,o.useFind)(),{track:d}=(0,C.useTrackActivity)(),u=(0,r.useCallback)(()=>{d(R.VercelActivityAction.FindModalResultSelected,{resultType:i.type,via:"pointer"}),c.start(i.query)},[i.query,i.type,c,d]);return(0,t.jsx)("button",{className:(0,n.cn)("cursor-pointer border-none bg-transparent text-left outline-none",a),"data-index":s,onClick:u,type:"button",children:l})}let D=(e,r)=>{let a;switch(e.type){case"prompt":return{icon:y.Sparkles,label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-gray-900",children:"“"}),e.query,(0,t.jsx)("span",{className:"text-gray-900",children:"”"})]})};case"docs":return{icon:v.File,label:e.title};case"dash":{let n,s=l.Routes[e.page.route],i=s;e.page.search&&(i=i.search[e.page.search]),e.page.hash&&(i=i.hash[e.page.hash]);let o="",d=e.params.team===r.params.team,p=e.params.project===r.params.project,m=d&&(p||!e.params.project),g=r.teams.get(e.params.team||"");g&&(a=e=>(0,t.jsx)(u.Avatar,{hash:g.avatar,size:e,teamId:g.id}));let v=e.params.project||"",y=r.slugs.get(e.params.team||"")?.get(v);if(y&&(a=r=>(0,t.jsx)(x.ProjectAvatar,{error:(0,t.jsx)(j.ChevronCircleRightFill,{size:Math.min(r,16),color:"gray-900"}),teamId:e.params.team,project:{id:y,name:v},size:r})),"/[teamSlug]"===e.page.route)g&&(o=g.name);else if("/[teamSlug]/[project]"===e.page.route)o=v;else if("deployment"===e.page.type){let s=e.params.id||"",i=r.deployments.get(s);if(i&&(a&&!m?(n=a(21),a=()=>(0,t.jsx)(f.DeploymentStatus,{deployment:i})):n=(0,t.jsx)(f.DeploymentStatus,{deployment:i})),"/[teamSlug]/[project]/[id]"===e.page.route){if(O(e,r))o="Production Deployment";else if(i){let e=(0,w.getGitMeta)(i.meta);e?.branchName&&(o=e.branchName)}}}return a&&(i?.label==="Overview"?(n=a(21),a=void 0):m&&(a=void 0)),{avatar:a?.(12),icon:c.RouteIcons[i?.label||""]??c.RouteIcons[s?.label||""]??c.RouteIcons[i?.group||""]??c.RouteIcons[s?.group||""]??(a?j.ChevronCircleRightFill:h.ArrowRight),prefix:n,label:o||i?.label||_(e.page.route)}}}},q=(e,t)=>(0,r.useMemo)(()=>{switch(e.type){case"prompt":return"Navigation Assistant";case"docs":return"Documentation"}let r=[],a=!1,n=e.params.team||"",s=e.params.project||"";if(n&&n===t.params.team||"/[teamSlug]"===e.page.route?r.push("Team"):e.params.team&&(r.push(t.teams.get(n)?.name||"Team"),a=!0),s&&s===t.params.project?(r.splice(0),r.push("Project")):"/[teamSlug]/[project]"===e.page.route?a||(r.splice(0),r.push("Project")):s&&(n===t.params.team&&r.splice(0),r.push(s),a=!0),"deployment"===e.page.type)if(O(e,t)||a);else if("/[teamSlug]/[project]/[id]"===e.page.route)r.splice(0),r.push("Latest Deployment");else{let a=t.deployments.get(e.params.id||""),n=(0,w.getGitMeta)(a?.meta);r.splice(0),n?.branchName?r.push(n.branchName):r.push("Deployment")}else e.params.id&&(r.splice(0),r.push("Deployment"));if(!a){let t=l.Routes[e.page.route];t&&((e.page.search||e.page.hash)&&r.push(t.label),t.group&&t.group!==t.label&&r.push(t.group))}return r.join(" / ")||""},[e,t]),O=(e,t)=>"dash"===e.type&&t.projectDeployments.get(e.params.project||"")?.id.replace("dpl_","")===e.params.id,_=e=>{let t=e.split("/").pop();return!t||t.startsWith("[")?"":t.replace(/(?:^|-)(?<word>.*?)(?=-|$)/g,(e,t)=>`${t.substring(0,1).toUpperCase()}${t.substring(1)}`)};e.s(["FindModal",()=>L],4577993)},7622583,e=>{"use strict";var t=e.i(5169864),r=e.i(5610834),a=e.i(2405338),n=e.i(9171423),s=e.i(8042625),i=e.i(5338940),o=e.i(2686817),l=e.i(6161994),c=e.i(2695633),d=e.i(8866156),u=e.i(7497619),p=e.i(1903235);e.i(2957938);class m{name;onInit;version;constructor({name:e,init:t,version:r}){this.name=e,this.onInit=t,this.version=r}open(){return"indexedDB"in globalThis?new Promise((e,t)=>{let r=globalThis.indexedDB.open(this.name,this.version);r.addEventListener("upgradeneeded",e=>{let t=e.target;this.onInit(t.result,e)}),r.addEventListener("error",e=>{let r=e.target;t(Error(r.error?.message))}),r.addEventListener("success",t=>{e(t.target.result)})}):Promise.reject("IndexedDB is not supported in this context")}async store(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readwrite";return(await this.open()).transaction(e,t).objectStore(e)}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,a)=>{"object"==typeof t?this.getAll(e,{...t,limit:1}).then(e=>r(e[0])):this.store(e,"readonly").then(e=>{let n=e.get(t);n.addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}getKey(e,t){return new Promise((r,a)=>{this.store(e,"readonly").then(e=>{let n=e.index(t.index).getKey(t.query);n.addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}getAll(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((r,a)=>{(async()=>{let n,s=await this.store(e,"readonly");t.index&&(s=s.index(t.index)),(n=t.query?s.getAll(t.query,t.limit):s.getAll(null,t.limit)).addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})()})}async iterateOver(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=await this.store(e,"readonly");return r.index&&(a=a.index(r.index)),new Promise((e,n)=>{let s;(s=r.query?a.openCursor(r.query,r.direction):a.openCursor(null,r.direction)).addEventListener("success",async r=>{let a=r.target?.result;a&&!1!==await t(a.value)?a.continue():e()}),s.addEventListener("error",e=>{let t=e.target;n(Error(t.error?.message))})})}async take(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[];return await this.iterateOver(e,e=>r.push(e)!==t.limit,t),r}add(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let n=e.add(t);n.addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}put(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let n=e.put(t);n.addEventListener("success",e=>{r(e.target.result)}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}async set(e,t){let r=t[(await this.store(e)).keyPath];if(!r)throw Error(`Cannot set an object in store "${e}" without an id`);await this.get(e,r)?await this.put(e,t):await this.add(e,t)}delete(e,t){return new Promise((r,a)=>{this.store(e).then(e=>{let n=e.delete(t);n.addEventListener("success",()=>{r()}),n.addEventListener("error",e=>{let t=e.target;a(Error(t.error?.message))})})})}clear(){return indexedDB.deleteDatabase(this.name)}}let f=(e,t)=>{h(e.createObjectStore(t.name,{keyPath:t.keyPath??"id"}),t.props)},h=(e,t)=>{for(let r of t)e.createIndex(r,r)},g=()=>new m({name:"vcf-frecency",version:1,init:(e,t)=>{t.oldVersion<1&&(f(e,{name:"Routes",props:["route","visits","updatedAt"],keyPath:"route"}),f(e,{name:"Scopes",props:["scope","team","project","visits","updatedAt"],keyPath:"scope"}))}});var v=e.i(7420728);let y="requestIdleCallback"in globalThis?requestIdleCallback:setTimeout,b=async(e,t,r)=>{try{let a=g(),n=new Date,s=await a.get("Routes",e);s||(s={route:e,visits:0,updatedAt:n}),++s.visits,s.updatedAt=n,await a.set("Routes",s);let i=r?`${t}/${r}`:t,o=await a.get("Scopes",i);o||(o={scope:i,team:t,project:r,visits:0,updatedAt:n}),++o.visits,o.updatedAt=n,await a.set("Scopes",o)}catch(e){}},j=(e,t)=>{let r=e.reduce((e,t)=>e+t.visits,0),a=new Map;for(let e of t)a.set(e,e.updatedAt.valueOf());let n=e.map(e=>[e,Math.round(3*e.visits/r)]);return n.sort((e,t)=>t[1]-e[1]||(a.get(t[0])||0)-(a.get(e[0])||0)||t[0].visits-e[0].visits),n.map(e=>e[0])},x=async()=>{try{let e=g(),[t,r,a,n]=await Promise.all([e.take("Routes",{index:"visits",direction:"prev",limit:10}),e.take("Routes",{index:"updatedAt",direction:"prev",limit:10}),e.take("Scopes",{index:"visits",direction:"prev",limit:10}),e.take("Scopes",{index:"updatedAt",direction:"prev",limit:10})]),s=j(t,r).map(e=>e.route),i=j(a,n).map(e=>e.scope);return{routes:s,scopes:i}}catch(e){return{routes:[],scopes:[]}}};var w=e.i(6190050);let k=(e,t)=>`${e}${t?(0,s.encode)(t):""}`;class E{db;constructor(){this.db=new m({name:"vcf-cache",version:1,init:(e,t)=>{var r;t.oldVersion<1&&(r={name:"Routes",props:["key","route","version","updatedAt"],keyPath:"key"},((e,t)=>{for(let r of t)e.createIndex(r,r)})(e.createObjectStore(r.name,{keyPath:r.keyPath??"id"}),r.props))}})}async get(e){try{let t=k(e.route,e.params),r=await this.db.get("Routes",t);if(r?.version!==1)return null;return r.data}catch(e){return null}}async list(e){try{return(await this.db.take("Routes",{index:"route",query:e.route,direction:"prev",limit:e.limit})).filter(t=>t.version===e.version).map(e=>e.data)}catch(e){return[]}}async set(e){try{let t=k(e.route,e.params);await this.db.put("Routes",{key:t,route:e.route,version:e.version,params:e.params,data:e.data,updatedAt:new Date})}catch(e){}}clear(){try{this.db.clear()}catch(e){}}}let N=()=>new E;function S(){let e,m,f,{memoryRef:h,refresh:g}=(0,d.useFind)(),j=(0,r.useParams)(),k=j?.teamSlug;k!==h.current.params.team&&(h.current.isLoadingProjects=!0),(0,t.useEffect)(()=>{let e=h.current,t=N();(async()=>{let r=await t.get({route:"teams",version:1});if(r)for(let t of r)e.teams.set(t.slug,t),e.teamIds.set(t.id,t.slug);for(let r of(await t.list({route:"projects",version:2})).flat())e.projectWeights.set(r.id,r.isFavorite?1.1:1.01),(0,p.addProject)(e,r);g()})()},[h,g]),(0,t.useEffect)(()=>{if(!k)return;let e=h.current;e.mfe.clear(),(async()=>{e.isLoadingProjects=!0;let t=await (0,n.fetchApi)(`/api/v2/dashboard/projects${(0,s.encode)({favorites:1,teamId:k,limit:25})}`,{throwOnHTTPError:!1});if(e.isLoadingProjects=!1,!t||"object"!=typeof t)return;for(let r of t.projects||[])(0,p.addProject)(e,r),e.projectWeights.set(r.id,1.01);let r=new Set;for(let a of t.favorites||[])e.inferred.project||(e.inferred.project=a.name),(0,p.addProject)(e,a),e.projectWeights.set(a.id,1.1),r.add(a.id);if(e.inferred.project||(e.inferred.project=t.projects?.[0]?.name),g(),!t.projects)return;let a=e.teams.get(k)?.id;a&&N().set({route:"projects",params:{team:k},version:2,data:t.projects.map(e=>({ownerId:a,id:e.id,name:e.name,domain:e.domain||"",framework:e.framework||"",createdAt:0,updatedAt:e.updatedAt,isFavorite:r.has(e.id)}))})})()},[h,g,k]);let E=(0,t.useCallback)(async()=>{h.current.frecency=await x()},[h]);(0,t.useEffect)(()=>void E(),[E]);let S=((e=(0,t.useRef)(E)).current=E,m=(0,t.useRef)(void 0),f=(0,t.useRef)(0),(0,t.useCallback)(function(){for(var t=arguments.length,r=Array(t),a=0;a<t;a++)r[a]=arguments[a];if(clearTimeout(f.current),!(e=>{if(!(e in v.Routes)||e.startsWith("/[teamSlug]/~/account"))return!1;let t=new Set(Array.from(e.matchAll(/\[(?<param>.*?)\]/g)).map(e=>e[1]));if(!t.size)return!1;for(let e of t)if("teamSlug"!==e&&"project"!==e)return!1;return!0})(r[0])){let t=m.current;if(!t)return;m.current=void 0,y(()=>{b(...t).then(()=>e.current?.())});return}m.current=r,f.current=setTimeout(()=>{b(...r).then(()=>e.current?.()),m.current=void 0},3e4)},[])),A=(0,w.useRoute)(),P=(0,r.useSearchParams)();(0,t.useEffect)(()=>{if(!A||!j)return;let e="/"!==h.current.href&&h.current.route!==A;h.current.route=A,h.current.href=`${location.pathname}${location.search}${location.hash}`;let t=u.RouteFilters[A];t&&P?h.current.filters=t.decode(Object.fromEntries(P.entries())):h.current.filters={},g(),e&&S(A,j.teamSlug,j.project||null)},[A,P,h,g,S,j]);let C=(0,i.useSortedTeams)();(0,t.useEffect)(()=>{for(let e of C){let t=h.current;t.teams.set(e.slug,e),t.teamIds.set(e.id,e.slug)}g(),N().set({route:"teams",version:1,data:C})},[h,g,C]);let R=function(e){let{data:r}=(0,a.default)(e?(0,o.swrRequest)(`/api/recents${(0,s.encode)({type:"preview",teamId:e,hydrateLimit:30,limit:7})}`):"",async e=>{if(!e)return[];let t=await (0,n.fetchApi)(e);return"object"==typeof t&&t?t.filter(e=>e.payload.items.length>0):[]},{revalidateIfStale:!1,revalidateOnFocus:!0});return(0,t.useMemo)(()=>r||[],[r])}(k);(0,t.useEffect)(()=>{let e=h.current;for(let t of(e.recentPreviews.splice(0),R)){let r=t.payload.items,a=r[0];if(!a)continue;let n=(0,c.getGitMeta)(a.deployment.meta),s={branch:n?.branchName||"",commit:n?.commitMessage||"",pr:a.prMetadata,previews:[]};for(let t of(e.recentPreviews.push(s),r)){if(t!==a&&"CANCELED"===t.deployment.readyState)continue;let r=t.deployment.id.replace("dpl_","");s.previews.push({project:t.project.name,deployment:r}),e.deployments.set(r,t.deployment),e.projects.has(t.project.name)||(0,p.addProject)(e,t.project);let n={projectId:t.project.id,project:t.project.name,branch:s.branch,deployment:r};e.activeBranches.set(`${t.project.id}_${s.branch}`,n)}}},[h,g,R]);let{data:I}=(0,l.useMicrofrontendsGroups)();return(0,t.useEffect)(()=>{if(!I)return;let e=h.current,t=e.params.team;if(t){for(let{group:r,projects:a}of I.groups)for(let n of(e.mfe.set(r.name,a.map(e=>e.name)),a))e.projects.set(n.id,{owner:t,name:n.name});g()}},[h,g,I]),(0,t.useEffect)(()=>{if(!j)return;let e=h.current;e.params.team=j.teamSlug,e.params.project=j.project,e.params.id=j.id,e.inferred.team=j.teamSlug,j.project&&(e.inferred.project=j.project),g()},[h,j,g]),null}e.s(["SearchMemorySync",()=>S],7622583)}]);

//# debugId=7c7be36e-ad39-8421-9355-44ca63f486de
//# sourceMappingURL=c4563961dafabb83.js.map
;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b6ac06b7-2a23-6a6f-84e2-26cefa9541be")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1412448,e=>{"use strict";var t=e.i(2405338),i=e.i(8042625),n=e.i(277234),r=e.i(4244280),s=e.i(9668517),a=e.i(7917902),o=e.i(1717203),l=e.i(7557283);function c(){let{enabled:e,throwOnHTTPError:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,s.useTeamSlug)(),{account:u}=(0,a.useAccount)(),{can:m,isLoading:f}=(0,o.default)(),y=m(l.Action.Read,l.Resource.BillingInvoice),p=(e??!0)&&!!u&&!f&&y;return(0,t.default)(()=>p&&u?.billing?.plan!=="hobby"?`${r.API_STRIPE_NEXT_INVOICE}${(0,i.encode)({slug:d})}`:null,e=>(0,n.fetchAPI)(e,{throwOnHTTPError:c??!0}),{shouldRetryOnError:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1})}e.s(["useUpcomingUsage",()=>c])},3343142,e=>{"use strict";var t=e.i(8042625),i=e.i(277234),n=e.i(4244280),r=e.i(8248823);let s=async e=>{let s,{data:a}=e,o=(s=new Map,a.fields.forEach(e=>{switch(e.type){case"text":if(!e.value)return;s.set(e.id,e.value);break;case"select":{let t=[];e.options.forEach(e=>{if(e.selected){if(e.reveals)return void t.push(`${e.id}: ${e.reveals.value??""}`);t.push(e.id)}}),s.set(e.id,t.join("; "));break}default:(0,r.exhaustivenessCheck)(e)}}),{name:a.surveyName,person:{email:a.user?.email,id:a.user?.uid},...a.team?.id&&{team:{id:a.team.id}},form:Object.fromEntries(s)});try{return await (0,i.fetchAPI)(`${n.API_SURVEYS}${(0,t.encode)({teamId:o.team?.id})}`,{method:"POST",body:JSON.stringify(o)})}catch(e){console.error(e)}};e.s(["createSurveyEntry",0,s])},613694,e=>{"use strict";var t=e.i(4905664),i=e.i(3738416);function n(e,n,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Date;if(!n||!r)return e;let a=(0,t.differenceInDays)(r.end,r.start);return Math.round(e*Math.min(1,(0,t.differenceInDays)(r.end,function(e,t){let n=(0,i.startOfDay)(t),[r,s]=n.toLocaleDateString("en-US",{timeZone:e,timeZoneName:"longOffset",day:"2-digit",month:"2-digit",year:"numeric"}).split(", "),[a,o,l]=[(n.getMonth()+1).toString().padStart(2,"0"),n.getDate().toString().padStart(2,"0"),n.getFullYear()],c=s.replace("GMT","");return new Date(`${l}-${a}-${o}T00:00:00.00${c}`)}("America/Los_Angeles",s))/a))}e.s(["prorateAmount",()=>n])},4905664,e=>{"use strict";var t=e.i(539392),i=e.i(870429);function n(e,n,s){let[a,o]=(0,t.normalizeDates)(s?.in,e,n),l=r(a,o),c=Math.abs((0,i.differenceInCalendarDays)(a,o));a.setDate(a.getDate()-l*c);let d=Number(r(a,o)===-l),u=l*(c-d);return 0===u?0:u}function r(e,t){let i=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return i<0?-1:i>0?1:i}e.s(["differenceInDays",()=>n])},2400041,e=>{e.v({container:"entities-module__AKr3mW__container",list:"entities-module__AKr3mW__list"})},7137701,e=>{e.v({container:"entity-content-module__Sb84Kq__container",textContent:"entity-content-module__Sb84Kq__textContent"})},200487,e=>{e.v({button:"entity-module___Tgnpa__button",left:"entity-module___Tgnpa__left",right:"entity-module___Tgnpa__right"})},2064047,e=>{"use strict";var t=e.i(1146226),i=e.i(9722978),n=e.i(9508212),r=e.i(2400041),s=e.i(1344973),a=e.i(7137701);let o={truncate:!0,weight:600},l={truncate:!0,color:"gray-900"};function c(e){let{title:i,description:r,avatar:c,width:d,fill:u=!1,...m}=e,f="string"==typeof i?(0,t.jsx)(s.Text,{...o,children:i}):i,y="string"==typeof r?(0,t.jsx)(s.Text,{...l,children:r}):r;return(0,t.jsxs)(n.Stack,{align:"center",className:a.default.container,direction:"row",flex:u?1:void 0,gap:2,style:{"--width":d},...m,children:[f||y?(0,t.jsxs)(n.Stack,{className:a.default.textContent,flex:1,children:[i?f:null,r?y:null]}):null,c||null]})}c.TitleTextProps=o,c.DescriptionTextProps=l,c.SkeletonProps={boxHeight:20,height:14,width:"40%",show:!0};var d=e.i(200487);let u=e=>{let{as:r,children:s,className:a,left:o,right:l,rightProps:c,footer:u,onClick:m,padding:f=4,...y}=e,p=r??(m?"button":"li");return(0,t.jsxs)(n.Stack,{as:p,className:(0,i.clsx)(a,"button"===p&&d.default.button),onClick:m,padding:f,...y,children:[(0,t.jsxs)(n.Stack,{align:"center",as:"section",direction:"row",gap:4,children:[o||s?(0,t.jsxs)(n.Stack,{align:"center",className:(0,i.clsx)("left",d.default.left),direction:"row",flex:1,gap:4,children:[o,s]}):null,l?(0,t.jsx)(n.Stack,{align:"center",className:(0,i.clsx)("right",d.default.right),direction:"row",gap:4,...c,children:l}):null]}),u||null]})};u.Content=c,u.List=function(e){let{children:s,className:a,header:o,style:l,ref:c}=e;return o?(0,t.jsxs)(n.Stack,{gap:3,children:[o,(0,t.jsx)("ul",{className:(0,i.clsx)(r.default.container,r.default.list,a),ref:c,style:l,children:s})]}):(0,t.jsx)("ul",{className:(0,i.clsx)(r.default.container,r.default.list,a),ref:c,style:l,children:s})},e.s(["Entity",0,u],2064047)},9358876,e=>{"use strict";e.s(["pluralize",0,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=1!==t?`${e}s`:e;return i&&(n=`${t} ${n}`),n}])},2151290,e=>{e.v({container:"index-module__L77N5G__container",icon:"index-module__L77N5G__icon"})},9736132,e=>{"use strict";var t=e.i(1146226),i=e.i(5255926),n=e.i(4585051),r=e.i(1138941),s=e.i(2151290),a=e.i(9722978);function o(e){let{project:i,size:o=24,isDisabled:c=!1}=e,d=(0,r.useFramework)(i);return d?(0,t.jsx)(n.Avatar,{className:(0,a.clsx)(s.default.icon,c&&"grayscale(100%) opacity-40"),size:o,src:d.logo,title:`${d.name}`}):(0,t.jsx)(l,{})}function l(e){let{size:n=24}=e;return(0,t.jsx)(i.Skeleton,{height:n,rounded:!0,style:{flexShrink:0},width:24})}e.s(["FrameworkAvatar",()=>o,"FrameworkAvatarSkeleton",()=>l])},6998974,e=>{"use strict";let t={"speedInsights.sampling":new Set([1]),"billing.proratedAddOns":new Set([2])};function i(e,i){let n;if(!e)return!1;if("plan"in e)n=e;else{if(!e.billing)return!1;n=e.billing}return t[i].has(n.billingVersion)}e.s(["billingFeatureSupported",()=>i])},7982125,e=>{e.v({fixedHeight:"index-module__aVxx7q__fixedHeight"})},8548383,3515598,9773598,7719396,e=>{"use strict";var t=e.i(1146226),i=e.i(7557283);function n(e,t){let i=r[e];return"string"==typeof i?i:t?i[t]??i.modal:i.fieldset}let r={passwordProtection:"Advanced Deployment Protection",concurrentBuilds:{fieldset:"Additional Concurrent Builds",modal:"Concurrent Builds"},previewDeploymentSuffix:"Preview Deployment Suffix",analytics:"Speed Insights",monitoring:"Monitoring",observabilityBase:{postConfirmConfiguration:"Configure Observability Plus",fieldset:"Observability Plus",modal:"Observability Plus"},webAnalytics:"Web Analytics Plus",saml:"SAML SSO",hipaaAddon:"HIPAA BAA",onDemandConcurrentBuilds:"On-Demand Concurrent Builds",microfrontendsProject:"Microfrontends Projects",bulkRedirect:"Bulk Redirects",securityPlus:"Security Plus"},s={passwordProtection:"Allows you to provide fine-grained control over who can access your deployments. Includes Password Protection, Deployment Protection Exceptions, and Private Production Deployments for all projects.",concurrentBuilds:"Determines how many builds you can run at the same time. By increasing the number ($50 per Slot, per month), you are increasing the level of concurrency (maximum 12).",previewDeploymentSuffix:(0,t.jsxs)(t.Fragment,{children:["Choose your own custom domain for Preview Deployments, in place of the default ",(0,t.jsx)("code",{children:".vercel.app"})," suffix."]}),analytics:"Detailed view of your website's performance metrics, facilitating informed decisions for its optimization.",monitoring:"Monitoring is a query editor that allows you to visualize errors, debug bandwidth issues, and monitor usage and web traffic for the past 30 days.",observabilityBase:"Gain comprehensive visibility into your application's health and performance.",webAnalytics:"Get more insights on your website's visitors with a longer reporting window, more custom event properties, and advanced UI features.",saml:"Enable SAML Single Sign-On (SSO) for your team to provide secure, centralized authentication through your identity provider.",hipaaAddon:"Enter into a Business Associate Agreement (BAA) with Vercel to enable storing, processing, or transmitting Protected Health Information (PHI) in compliance with HIPAA.",onDemandConcurrentBuilds:"On-Demand concurrent builds provides dynamic scaling of builds, allowing projects to temporarily increase their build capacity when needed.",microfrontendsProject:"Build and compose independent applications as a single experience for users.",bulkRedirect:"Increase the max number of redirects that can be added to your projects.",securityPlus:"Enable Security Plus to protect your applications from common security threats."},a={passwordProtection:i.Resource.PasswordProtection,concurrentBuilds:i.Resource.ConcurrentBuilds,previewDeploymentSuffix:i.Resource.PreviewDeploymentSuffix,analytics:i.Resource.SpeedInsights,monitoring:i.Resource.MonitoringSettings,observabilityBase:i.Resource.ObservabilityConfiguration,webAnalytics:i.Resource.WebAnalytics,saml:i.Resource.BillingInformation,hipaaAddon:i.Resource.BillingInformation,onDemandConcurrentBuilds:i.Resource.ConcurrentBuilds,microfrontendsProject:i.Resource.TeamMicrofrontends,bulkRedirect:i.Resource.BillingPlan,securityPlus:i.Resource.SecurityPlusConfiguration};e.s(["ADD_ON_DESCRIPTIONS",0,s,"ADD_ON_DISPLAY_NAMES",0,r,"ADD_ON_IDS",0,{passwordProtection:"advanced-deployment-protection",concurrentBuilds:"concurrent-builds",previewDeploymentSuffix:"preview-deployment-suffix",analytics:"speed-insights",monitoring:"monitoring",observabilityBase:"observability",webAnalytics:"web-analytics",saml:"saml-sso",hipaaAddon:"hipaa-baa",onDemandConcurrentBuilds:"on-demand-concurrent-builds",microfrontendsProject:"microfrontends-project",bulkRedirect:"bulk-redirect",securityPlus:"security-plus"},"ADD_ON_LEARN_MORE_LINKS",0,{passwordProtection:"/docs/security/deployment-protection#advanced-deployment-protection",concurrentBuilds:"/docs/deployments/concurrent-builds",previewDeploymentSuffix:"/docs/deployments/generated-urls#preview-deployment-suffix",analytics:"/docs/speed-insights",monitoring:"/docs/observability/monitoring",observabilityBase:"/docs/observability",webAnalytics:"/docs/analytics",saml:"/docs/saml",hipaaAddon:"/docs/security/shared-responsibility",onDemandConcurrentBuilds:"/docs/builds/managing-builds#on-demand-concurrent-builds",microfrontendsProject:"/docs/microfrontends",bulkRedirect:"/docs/redirects#bulk-redirects",securityPlus:"/docs/security/security-plus"},"ADD_ON_PERMISSIONS",0,a,"getAddOnDisplayName",()=>n],8548383);var o=e.i(6891161),l=e.i(7982125);function c(e){let{name:i,disable:r,closeModal:s,loading:a,customCopy:c,overrideContent:d,invoiceItem:u,newQuantity:m,includedQuantity:f}=e,y=m===(f??0);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.Modal.Body,{className:"analytics"===i?l.default.fixedHeight:void 0,children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial pb-4",children:(0,t.jsxs)(o.Modal.Title,{children:[y?"Turn off":"Decrease"," ",n(i)]})}),d??(0,t.jsx)(o.Modal.Subtitle,{children:(0,t.jsxs)("span",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial pt-2 my-4",style:{margin:0},children:[y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["Your team is currently utilizing"," ",(0,t.jsx)("b",{children:n(i)}),"."]}),(0,t.jsx)("p",{className:"text-copy-14",children:c??"Disabling it will prevent your team members from accessing it in the dashboard and turn off any related functionality immediately."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["By clicking ",(0,t.jsx)("b",{children:"Confirm"}),", your team will update from having"," ",(0,t.jsxs)("b",{children:[u.quantity," ",n(i,"configure")]})," ","to having"," ",(0,t.jsxs)("b",{children:[m," ",n(i,"configure")]}),"."]}),(0,t.jsx)("p",{className:"text-copy-14",children:"This is effective immediately upon confirmation."})]}),(0,t.jsx)("p",{className:"text-copy-14",children:"Are you sure you want to proceed?"})]})})]}),(0,t.jsxs)(o.Modal.Actions,{children:[(0,t.jsx)(o.Modal.Action,{fullWidth:!!d,onClick:()=>s("disable"),type:"secondary",children:"Cancel"}),d?null:(0,t.jsx)(o.Modal.Action,{buttonType:"button",loading:a,onClick:r,children:"Confirm"})]})]})}e.s(["DisableModalBody",()=>c],3515598);var d=e.i(5169864),u=e.i(6143247),m=e.i(9358876),f=e.i(2466450),y=e.i(613694);let p="Confirm and Pay";function g(e){let{lineItems:i,currency:n,nonProratedCustomCopy:r,customCopy:s,invoiceItem:a,name:o,addOnValue:l,prorate:c,billingPeriod:g,unit:h,includedQuantity:x,confirmLabel:b=p}=e,v=(0,d.useMemo)(()=>{if("analytics"===o)return l.map(e=>({name:e.name,price:a.price}));if(x){let e=Math.max(l-a.quantity,0);if(e>0)return[...i,{name:`${e} additional ${(0,m.pluralize)(h??"item",e)}`,price:a.price*e}]}return i},[l,x,a,i,o,h]),{subscriptionQuantityDelta:j,immediateQuantityDelta:C}=(0,d.useMemo)(()=>{if("analytics"===o){let e=l.filter(e=>{let t=e.speedInsights??e.analytics,i=t?.disabledAt;return!i||!g||i<=g.start});return{subscriptionQuantityDelta:l.length,immediateQuantityDelta:e.length}}let e=1;return"number"==typeof l&&(e=l),{subscriptionQuantityDelta:e-a.quantity,immediateQuantityDelta:e-(a.highestQuantity??a.quantity)}},[l,g,a.highestQuantity,a.quantity,o]),A=j*a.price,_=(0,y.prorateAmount)(C*a.price,c,g),D=(0,d.useMemo)(()=>{if(!c)return(0,t.jsxs)(t.Fragment,{children:["By clicking ",(0,t.jsx)("b",{children:b}),", the amount of"," ",(0,t.jsx)("b",{children:(0,f.formatCurrency)(A,n)})," will be added to your invoice",r??".",s]});let e=(0,t.jsxs)(t.Fragment,{children:["By clicking ",(0,t.jsx)("b",{children:b}),", the amount of"," ",(0,t.jsx)("b",{children:(0,f.formatCurrency)(A,n)})," will be added to your subscription"]});return 0===_?(0,t.jsxs)(t.Fragment,{children:[e,". ",s]}):_>0?(0,t.jsxs)(t.Fragment,{children:[e," and your credit card will be charged"," ",(0,t.jsxs)("b",{children:[(0,f.formatCurrency)(_,n)," immediately"]})," for the remaining days in your billing cycle.",s]}):(0,t.jsxs)(t.Fragment,{children:[e," and there will be no immediate charge because you have already enabled this within your current billing cycle.",s]})},[n,r,s,_,c,A,b]);return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"py-2",children:D}),v.map(e=>{let{name:i,price:r,removal:s=!1,priceDescriptor:o="/ month",shortDescription:l,discountPrice:c,discountDescriptor:d}=e,m=void 0!==c;return(0,t.jsxs)("div",{className:"flex flex-col py-4 border-b border-b-gray-400 text-sm text-gray-800",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:(0,u.cn)("font-medium mr-auto",s&&"line-through"),children:i}),m?(0,t.jsxs)("div",{className:"inline-flex gap-1 text-blue-700 font-medium",children:[(0,t.jsx)("span",{children:(0,f.formatCurrency)(c,n)}),d]}):null,(0,t.jsxs)("div",{className:"inline-flex gap-1",children:[(0,t.jsx)("span",{className:(0,u.cn)((s||m)&&"line-through"),children:(0,f.formatCurrency)("from_invoice_item"===r?a.price:r,n)}),o]})]},i),l]},i)}),(0,t.jsxs)("div",{className:"flex py-4 gap-1 text-sm font-medium",children:[(0,t.jsx)("span",{className:"mr-auto",children:"Total"}),(0,t.jsxs)("span",{children:[(0,f.formatCurrency)(A,n)," / month"]})]}),(0,t.jsx)("span",{className:"text-xs text-right text-gray-900",children:"* Plus applicable tax and fees"})]})}e.s(["ConfirmationInvoice",()=>g,"defaultConfirmLabel",0,p],9773598);var h=e.i(119294),x=e.i(6352514);let b={toggle_on:x.AnalyticsEvent.ADD_ONS_TOGGLE_ENABLE_CLICKED,toggle_off:x.AnalyticsEvent.ADD_ONS_TOGGLE_DISABLE_CLICKED,open_update_modal:x.AnalyticsEvent.ADD_ONS_OPEN_UPDATE_MODAL,learn_more:x.AnalyticsEvent.ADD_ONS_LEARN_MORE_CLICKED,exit_modal:x.AnalyticsEvent.ADD_ONS_MODAL_EXITED,change_step:x.AnalyticsEvent.ADD_ONS_MODAL_STEP_CHANGED,enable:x.AnalyticsEvent.ADD_ONS_ENABLED,update:x.AnalyticsEvent.ADD_ONS_UPDATED,disable:x.AnalyticsEvent.ADD_ONS_DISABLED,more_details:x.AnalyticsEvent.ADD_ONS_MORE_DETAILS_EXPANDED,project_list_cta:x.AnalyticsEvent.ADD_ONS_PROJECT_LIST_CTA_CLICKED};e.s(["trackAddOnEvent",0,e=>{let{eventName:t,addOn:i,source:n,step:s,value:a}=e,o=b[t],l=r[i];h.analytics.track(o,{addOn:"string"==typeof l?l:l.modal,source:n,step:s,value:a})}],7719396)},364898,9477971,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),n=e.i(6891161),r=e.i(455575),s=e.i(7917902),a=e.i(1412448),o=e.i(2466450);e.i(1585898);var l=e.i(2066827),c=e.i(3343142),d=e.i(6998974),u=e.i(8548383),m=e.i(3515598),f=e.i(9773598),y=e.i(2064047),p=e.i(57106),g=e.i(4450694),h=e.i(7719396),x=e.i(9736132),b=e.i(2151290),v=e.i(9722978);function j(e){let{addOn:i,description:n,ctaCopy:r,ctaHrefBase:s,team:a}=e,{data:o,isLoading:l}=(0,g.useSpeedInsightsEnabledProjects)(),c=o?.projects||[],d=a?.slug;return(0,t.jsxs)("div",{className:(0,v.default)("flex flex-col items-stretch justify-start gap-6 flex-initial",b.default.stack),children:[(0,t.jsx)("p",{className:"text-copy-14",children:n}),l||!d?(0,t.jsx)(C,{ctaCopy:r}):(0,t.jsx)(t.Fragment,{children:c.length>0?(0,t.jsx)(y.Entity.List,{className:b.default.container,children:c.map(e=>(0,t.jsxs)(y.Entity,{padding:2,children:[(0,t.jsx)(y.Entity.Content,{fill:!0,title:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:[(0,t.jsx)(x.FrameworkAvatar,{project:e}),(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium",children:e.name})]})}),(0,t.jsx)(y.Entity.Content,{title:(0,t.jsx)(p.ButtonLink,{href:`/${d}/${e.name}${s||""}`,onClick:()=>(0,h.trackAddOnEvent)({eventName:"project_list_cta",source:"billing-settings-add-ons",value:`/${d}/${e.name}${s||""}`,addOn:i}),type:"secondary",children:r})})]},e.id))}):null})]})}function C(e){let{ctaCopy:i}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)(y.Entity.List,{children:[(0,t.jsxs)(y.Entity,{padding:2,children:[(0,t.jsx)(y.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(x.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(y.Entity.Content,{title:(0,t.jsx)(p.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(y.Entity,{padding:2,children:[(0,t.jsx)(y.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(x.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(y.Entity.Content,{title:(0,t.jsx)(p.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]}),(0,t.jsxs)(y.Entity,{padding:2,children:[(0,t.jsx)(y.Entity.Content,{fill:!0,title:(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-2 flex-initial pl-1",children:(0,t.jsx)(x.FrameworkAvatarSkeleton,{})})}),(0,t.jsx)(y.Entity.Content,{title:(0,t.jsx)(p.ButtonLink,{disabled:!0,href:"/",type:"secondary",children:i})})]})]}),(0,t.jsx)(p.ButtonLink,{disabled:!0,href:"/",type:"secondary",width:"100%"})]})}function A(e){let{instructions:i,children:n}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[i?(0,t.jsx)("p",{className:"text-copy-14",children:i}):null,n]})}e.s(["ProjectList",()=>j],9477971);var _=e.i(7982125);function D(e){let{name:n,price:l,enable:c,disable:u,isEnabled:m,enableSteps:f,disableSteps:y,analyticsEventSource:p,update:g,currentAddOnValue:h,includedQuantity:x,unit:b,onStart:v,onSuccess:j,onClose:C}=e,A=(0,r.useToasts)(),{team:_,user:D,isLoading:w,mutate:E}=(0,s.useAccount)(),N=(0,d.billingFeatureSupported)(_,"billing.proratedAddOns"),P=(0,i.useMemo)(()=>{let e=_?.billing?.invoiceItems?.[n],t=e&&"highestQuantity"in e?e.highestQuantity:null;return"webAnalytics"!==n&&e?e:{price:l,quantity:e?.quantity??x??0,highestQuantity:t??x??0}},[x,n,l,_?.billing?.invoiceItems]),[O,k]=(0,i.useState)(null),{mutate:M}=(0,a.useUpcomingUsage)({enabled:!!O}),I=(0,i.useCallback)(()=>Promise.race([E(),M()]),[E,M]),B=m?.(_)??(P.quantity>(x??0)||!!_?.enabledInvoiceItems?.[n]?.enabled),L=_?.billing?.currency,T=(0,i.useMemo)(()=>(0,o.formatCurrency)(P.price,L),[P,L]),[R,$]=(0,i.useState)(h),F=(0,i.useCallback)(e=>{e&&$(e),k("enableOrUpdate")},[$,k]),q=(0,i.useCallback)(()=>{"analytics"!==n&&$(x??0),k("disable")},[$,k,x,n]),H=(0,i.useMemo)(()=>null!==O?(0,t.jsx)(S,{addOnValue:R,analyticsSource:p,currency:L,disable:u,disableSteps:y,enable:c,enableSteps:f,includedQuantity:x,invoiceItem:P,isEnabled:B,modalType:O,mutate:I,name:n,onClose:C,onStart:v,onSuccess:j,prorate:N,setAddOnValue:$,setModalType:k,team:_,toasts:A,unit:b,update:g}):null,[O,R,p,L,u,y,c,f,x,P,B,I,n,C,v,j,N,_,A,b,g]);return!w&&D&&_?{isEnabled:B,AddOnModal:H,openEnableOrUpdateModal:F,openDisableModal:q,formattedPrice:T}:{isEnabled:!1,formattedPrice:T}}function S(e){let{prorate:r,addOnValue:s,analyticsSource:a,currency:o,disable:d,enable:y,isEnabled:p,mutate:g,name:x,invoiceItem:b,setAddOnValue:v,modalType:C,setModalType:D,enableSteps:S,disableSteps:w,team:E,toasts:N,update:P,unit:O,includedQuantity:k,onStart:M,onSuccess:I,onClose:B}=e,L=(0,i.useMemo)(()=>"number"==typeof s?s:Array.isArray(s)?s.length:0,[s]),[T,R]=(0,i.useState)(!1),[$,F]=(0,i.useState)(function(e,t,i){if("enableOrUpdate"===t){if("postConfirmConfiguration"in e&&i)return"postConfirmConfiguration";if("configure"in e)return"configure"}else if("disable"===t)return"disable";return"confirm"}(S,C,p)),[q,H]=(0,i.useState)(null),U=(0,i.useCallback)(e=>{F(e),(0,h.trackAddOnEvent)({eventName:"change_step",addOn:x,source:a,step:e,value:s})},[s,a,x]),Q=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(s&&!p||"disable"===e)&&v(void 0),(0,h.trackAddOnEvent)({eventName:"exit_modal",addOn:x,source:a,step:e,value:s}),D(null),B?.(t)},[s,a,p,x,v,D,B]),K=(0,i.useCallback)(async()=>{if(E&&d){M?.();try{R(!0),await d({team:E,addOnValue:s}),await g(),I?.(),N.success(`Disabled ${(0,u.getAddOnDisplayName)(x,$)}.`),(0,h.trackAddOnEvent)({eventName:"disable",addOn:x,source:a})}catch(e){Q($),e instanceof Error?N.error(e.message):N.error(`We ran into an unexpected issue disabling ${(0,u.getAddOnDisplayName)(x,$)}. Please try again later.`)}finally{R(!1)}}},[E,Q,d,s,g,N,x,a,$,I,M]),G=(0,i.useCallback)(async()=>{if(E){M?.();try{return p&&P?(H(null),await P({team:E,addOnValue:s})):await y({team:E,addOnValue:s}),await g(),I?.(),N.success(`${p?"Updated":"Enabled"} ${(0,u.getAddOnDisplayName)(x,$)}.`),(0,h.trackAddOnEvent)({eventName:p&&P?"update":"enable",addOn:x,source:a,value:s}),!0}catch(e){p&&"previewDeploymentSuffix"===x?H(e instanceof Error?e.message:"Unexpected error updating Preview Deployment Suffix"):(Q($),e instanceof Error?N.error(e.message):N.error(`We ran into an unexpected issue enabling ${(0,u.getAddOnDisplayName)(x,$)}. Please try again later.`))}}},[E,p,P,s,y,g,N,x,a,Q,$,I,M]),V=(0,i.useCallback)(()=>{switch($){case"configure":Q("configure",!0);break;case"confirm":"configure"in S?U("configure"):Q("confirm",!0);break;case"postConfirmProjectList":Q("postConfirmProjectList",!0);break;case"postConfirmConfiguration":Q("postConfirmConfiguration",!0);break;default:D(null)}},[$,Q,S,D,U]),z=(0,i.useMemo)(()=>{switch($){case"postConfirmConfiguration":case"configure":return"Cancel";case"confirm":if("configure"in S||S.externalConfiguration)return"Back";return"Cancel"}},[$,S]),W=(0,i.useCallback)(async()=>{switch($){case"configure":r&&"number"==typeof s&&s<b.quantity?U("disable"):U("confirm");break;case"confirm":R(!0),await G(),R(!1),"postConfirmProjectList"in S?U("postConfirmProjectList"):"postConfirmConfiguration"in S?U("postConfirmConfiguration"):Q("confirm");break;case"postConfirmProjectList":Q("postConfirmProjectList");break;case"postConfirmConfiguration":{if(!P){Q("postConfirmConfiguration");break}R(!0);let e=await G();R(!1),e&&Q("postConfirmConfiguration");break}case"disable":await K(),"exitSurvey"in w?U("exitSurvey"):Q("disable");break;case"exitSurvey":Q("exitSurvey");break;default:D(null)}},[$,r,s,b.quantity,G,S,Q,D,U,P,K,w]),Y=(0,i.useMemo)(()=>{switch($){case"configure":return"Next";case"confirm":return S[$]?.confirmLabel??f.defaultConfirmLabel;case"postConfirmProjectList":return"Close";case"postConfirmConfiguration":if(!P)return"Close";return"Save"}},[$,P,S]),X=(0,i.useMemo)(()=>{switch($){case"postConfirmConfiguration":case"configure":{let e=S[$]?.content;if(!e){U("confirm");break}let i=S[$]?.instructions||"";return(0,t.jsx)(A,{instructions:i,children:"function"==typeof e?(0,t.jsx)(e,{addOnValue:s,configureError:q,setAddOnValue:v}):e})}case"confirm":{let e=S[$];return(0,t.jsx)(f.ConfirmationInvoice,{addOnValue:s,billingPeriod:E?.billing?.period??null,currency:o,customCopy:e.customCopy,includedQuantity:k,invoiceItem:b,lineItems:e.lineItems,name:x,nonProratedCustomCopy:e.nonProratedCustomCopy,prorate:r,unit:O,confirmLabel:e.confirmLabel})}case"postConfirmProjectList":return(0,t.jsx)(j,{addOn:x,ctaCopy:S[$]?.ctaCopy,ctaHrefBase:S[$]?.ctaHrefBase,description:S[$]?.description,team:E})}},[$,x,S,E,s,q,v,U,o,k,b,r,O]),J=(0,i.useMemo)(()=>"configure"===$&&(!!("number"==typeof s&&s===b.quantity||Array.isArray(s)&&0===s.length)||!s),[s,b.quantity,$]),Z="postConfirmProjectList"===$||"postConfirmConfiguration"===$&&!P;return"exitSurvey"===$?(0,t.jsx)(l.SurveyModal,{active:!0,enableSkip:!0,onDismiss:()=>{Q($)},onSubmit:async e=>{await W(),e.hasResponses&&await (0,c.createSurveyEntry)({data:e})},setActive:()=>{},showThankYouToast:!1,submitOnSkip:!0,surveyInfo:w[$]}):(0,t.jsx)(n.Modal.Modal,{active:!0,allowOverflow:!0,onClickOutside:()=>Q($),style:{maxHeight:"540px"},width:"540px",children:"disable"===$?(0,t.jsx)(m.DisableModalBody,{closeModal:Q,customCopy:w[$].customDisableCopy,disable:W,includedQuantity:k,invoiceItem:b,loading:T,name:x,newQuantity:L,overrideContent:w[$].customDisableModal}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.Modal.Body,{className:"analytics"===x?_.default.fixedHeight:void 0,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial pb-4",children:(0,t.jsxs)(n.Modal.Title,{children:[(0,u.getAddOnDisplayName)(x,$),"postConfirmProjectList"===$?" Added":""]})}),X]})}),(0,t.jsxs)(n.Modal.Actions,{children:[Z?null:(0,t.jsx)(n.Modal.Action,{onClick:V,type:"secondary",children:z}),(0,t.jsx)(n.Modal.Action,{disabled:J,fullWidth:Z,loading:T,onClick:W,children:Y})]})]})})}e.s(["useTogglePaidAddOn",()=>D],364898)}]);

//# debugId=b6ac06b7-2a23-6a6f-84e2-26cefa9541be
//# sourceMappingURL=0c5626d93775b715.js.map
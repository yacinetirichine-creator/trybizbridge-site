;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b0da0590-d06b-6229-5524-6efa42a10194")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3538015,e=>{"use strict";let t=JSON.stringify({name:"",description:"",active:!0,conditionGroup:[{conditions:[{type:"path",op:"eq",value:""}]}],action:{mitigate:{action:"rate_limit",rateLimit:{action:"rate_limit",algo:"fixed_window",window:"60",limit:"100",keys:["ip"]}}}}),a={sys_dos_mitigation:{label:"DDoS Mitigation",groupBy:"System",rank:11},ip_blocking:{label:"IP Blocking",groupBy:"System",rank:12}},l={owasp_anomaly_detection:{label:"OWASP Anomaly Detection",groupBy:"System",rank:3,keys:["gen","java","ma","sd"]},owasp_xss_detection:{label:"OWASP XSS Detection",groupBy:"System",rank:4,keys:["xss"]},owasp_sqli_detection:{label:"OWASP SQL Injection Detection",groupBy:"System",rank:5,keys:["sqli"]},owasp_rfi_detection:{label:"OWASP RFI Detection",groupBy:"System",rank:6,keys:["rfi"]},owasp_lfi_detection:{label:"OWASP LFI Detection",groupBy:"System",rank:7,keys:["lfi"]},owasp_rce_detection:{label:"OWASP RCE Detection",groupBy:"System",rank:8,keys:["rce"]},owasp_php_detection:{label:"OWASP PHP Injection Detection",groupBy:"System",rank:9,keys:["php"]},owasp_session_fixation_detection:{label:"OWASP Session Fixation Detection",groupBy:"System",rank:10,keys:["sf"]}},i={default_web_traffic:{label:"Allowed Requests",groupBy:"System",rank:1},challenge_mode:{label:"Attack Mode",groupBy:"System",rank:2},...l,...a},r={hobby:{customRules:3,ipBlocks:10,ipBypass:0,rateLimit:1},pro:{customRules:40,ipBlocks:100,ipBypass:25,rateLimit:40},enterprise:{customRules:1e3,ipBlocks:1e3,ipBypass:100,rateLimit:1e3}},s={pro:{customRules:{title:"Need more custom rules?",description:"Upgrade to Enterprise Plan"},ipBlocks:{title:"Need to block more IPs?",description:"Upgrade to Enterprise Plan"},ipBypass:{title:"Need to allow more IPs?",description:"Upgrade to Enterprise Plan"},rateLimit:{title:"Need more rate limit rules?",description:"Upgrade to Enterprise Plan"}},hobby:{customRules:{title:"Need more custom rules?",description:`Upgrade to pro to add up to ${r.pro.customRules} custom rules`},ipBlocks:{title:"Need to block more IPs?",description:`Upgrade to pro to block up to ${r.pro.ipBlocks} IPs`},ipBypass:{title:"Need to setup an IP bypass?",description:`Upgrade to pro to allow up to ${r.pro.ipBypass} IPs`},rateLimit:{title:"Need more rate limit rules?",description:`Upgrade to pro to add up to ${r.pro.rateLimit} rate limit rules`}}},n=[{label:i.default_web_traffic.label,value:"default_web_traffic",action:"allow"},{label:i.challenge_mode.label,value:"challenge_mode",action:"challenge"},...Object.entries(a).map(e=>{let[t,a]=e;return{label:a.label,value:t,action:"deny"}})],o=Object.entries(i).reduce((e,t)=>{let[a,l]=t;return Object.assign(e,{[a]:l.rank})},{});function d(e,t){let[a]=e.split("$"),[l]=t.split("$"),i=o[a],r=o[l];return i&&r?i-r:i?-i:r||e.localeCompare(t)}function c(e){return e in a}function u(e){return Object.entries(l).reduce((t,a)=>{let[l,i]=a,r=e.filter(e=>i.keys.includes(e.id)&&e.active);if(r.length>0){let e=Array.from(r.reduce((e,t)=>(e.add(t.action),e),new Set));t.push({label:i.label,value:l,action:e.join(" / ")})}return t},[])}function m(e,t){let a=[{value:"log",label:"Log",subtext:"Log traffic and do nothing more"},{value:"deny",label:t?"Deny (403)":"Deny",subtext:"Block traffic from accessing your site"},{value:"challenge",label:"Challenge",subtext:"Verify traffic at a security checkpoint before allowing access to your site"}];return t||a.push({value:"bypass",label:"Bypass",subtext:"Bypass existing rules and allow traffic access to your site"}),e&&a.push({value:"rate_limit",label:t?"Too Many Requests (429)":"Rate Limit",subtext:"Enforce frequency limitations on traffic"}),t||a.push({value:"redirect",label:"Redirect",subtext:"Redirect traffic to a different page"}),a}e.s(["allowedFirewallActions",()=>m,"defaultFilter",0,[{label:"User Agent",value:"clientUserAgent"},{label:"Country",value:"clientIpCountry"},{label:"IP Address",value:"clientIp"},{label:"Request Path",value:"requestPath"},{label:"Vercel Region",value:"edgeNetworkRegion"},{label:"Route",value:"sourcePath"},{label:"JA4 Digest",value:"clientJa4Digest"},{label:"Host",value:"requestHostname"}],"defaultShowSystemRules",0,n,"firewallPlanLimits",0,r,"isLimitedSystemRule",()=>c,"owaspToCrsConfig",()=>u,"planLimitText",0,s,"rateLimitTemplate",0,t,"ruleToMappings",0,i,"stableSort",()=>d,"systemFilter",0,[{label:"IP Address",value:"clientIp"},{label:"Country",value:"clientIpCountry"},{label:"JA4 Digest",value:"clientJa4Digest"},{label:"Host",value:"requestHostname"}]])},5963711,7212454,e=>{"use strict";var t=e.i(4708200),a=e.i(3863657),l=e.i(6493958),i=e.i(3538015);function r(e){return e?e.rules.filter(e=>"value"in e&&e.value.action?.mitigate?.action==="rate_limit"&&!!e.value.action.mitigate.rateLimit&&!!e.value.active).length:0}function s(e,l,i,r){let s=new Map,n=e=>{let i=[];for(let a of l){let l=e[a];if(null==l||("wafAction"===a?l=m(l||"allow"):"wafRuleId"===a&&(l||="default_web_traffic"),!l&&r.groupBy===a))return t.hideDataKey;i.push(l)}return i.join(a.SEPARATOR)},o=!0,d=new Set;for(let a of e){let e=n(a);e!==t.hideDataKey&&(o=!1),s.has(e)||e===t.hideDataKey||s.set(e,[]);let l=a.timestamp;d.add(l.toISOString()),s.get(e)?.push({...a,date:l,key:e})}if(l.every(e=>["wafRuleId","wafAction"].includes(e))){let e=Array.from(d.values()).map(e=>new Date(e));for(let t of i){let l=[t.value,t.action].join(a.SEPARATOR);s.has(l)||"all_rules"===t.value||s.set(l,e.map(e=>({date:e,timestamp:e,key:l,value:0})))}}return o?new Map:s}function n(e){return(0,l.countFormatter)(e,"short-precision").replace(/\s/g,"")}function o(e,t){let a=e.find(e=>e.value===t);return a?a.label:t}function d(e){let{teamPlan:t,config:a,bypassRules:l,type:s}=e;if(!t)return!0;let n=i.firewallPlanLimits[t][s];return"ipBypass"===s?"hobby"===t||!!l&&l.length>=n:null!==a&&(void 0===a||("ipBlocks"===s?a.currentConfig.ips.length>=n:"rateLimit"===s?r(a)>=n:a.rules.length>=n))}function c(e){switch(e){case"ip":case"ja4":return!0;default:return e.startsWith("header:")}}function u(e){let t=e,a=0;for(;t;)a+=t.offsetTop,t=t.offsetParent;return a}function m(e){return"rate-limit"===e?"rate_limit":e}function p(e){return"rate_limit"===e?"rate-limit":e}function h(e){return void 0===e?"":m(e).replace("_"," ")}function x(e){return RegExp(`(Others(${a.SEPARATOR})?)+`).test(e)}function f(e){return"string"==typeof e&&(e.startsWith("rule_")||"deployment_defined_rules"===e)}function g(e){return"default_web_traffic"===e?"":"managed_bot_filter"===e?"managed_bot_protection":e}e.s(["countRateLimitRules",()=>r],7212454),e.s(["denormalizeFirewallAction",()=>p,"formatFirewallActionForDisplay",()=>h,"formatShortPrecision",()=>n,"formatTableHeader",()=>o,"getOffsetTop",()=>u,"getSonarSeriesData",()=>s,"isCustomRuleId",()=>f,"isOthersAggregate",()=>x,"isPlanLimitReached",()=>d,"isValidEdgeRateLimitKey",()=>c,"normalizeFirewallAction",()=>m,"wafRuleId",()=>g],5963711)},8626589,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M7.24058 1.8685L7.35907 1.12792L5.87791 0.89093L5.75942 1.63151L5.22046 5H2.5H1.75V6.5H2.5H4.98046L4.42046 10H2.5H1.75V11.5H2.5H4.18046L3.75942 14.1315L3.64093 14.8721L5.12209 15.1091L5.24058 14.3685L5.69954 11.5H9.18046L8.75942 14.1315L8.64093 14.8721L10.1221 15.1091L10.2406 14.3685L10.6995 11.5H13.5H14.25V10H13.5H10.9395L11.4995 6.5H13.5H14.25V5H13.5H11.7395L12.2406 1.8685L12.3591 1.12792L10.8779 0.89093L10.7594 1.63151L10.2205 5H6.73954L7.24058 1.8685ZM9.98046 6.5H6.49954L5.93954 10H9.42046L9.98046 6.5Z" fill="currentColor"/>');e.s(["Hash",0,t])},9937599,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M11.5253 10.2634L8 13.8578L4.47471 10.2634C2.50843 8.25857 2.50843 4.99627 4.47471 2.99144C6.42507 1.00285 9.57493 1.00285 11.5253 2.99144C13.4916 4.99627 13.4916 8.25857 11.5253 10.2634ZM12.5962 11.3137L9.05051 14.9289L8 16L6.94949 14.9289L3.40381 11.3137C0.865397 8.72554 0.865399 4.52929 3.40381 1.94113C5.94222 -0.647042 10.0578 -0.647042 12.5962 1.94113C15.1346 4.52929 15.1346 8.72554 12.5962 11.3137ZM9 6.5C9 7.05228 8.55228 7.5 8 7.5C7.44772 7.5 7 7.05228 7 6.5C7 5.94772 7.44772 5.5 8 5.5C8.55228 5.5 9 5.94772 9 6.5ZM8 9C9.38071 9 10.5 7.88071 10.5 6.5C10.5 5.11929 9.38071 4 8 4C6.61929 4 5.5 5.11929 5.5 6.5C5.5 7.88071 6.61929 9 8 9Z" fill="currentColor"/>');e.s(["Location",0,t])},5812308,e=>{"use strict";e.i(3512434);var t=e.i(9835407),a=e.i(423255);let l=t.z.string().nullable(),i=t.z.string().min(1,"Requires a value"),r=t.z.string().min(1,"Requires a value").refine(e=>RegExp("^(?!-)[A-Za-z0-9-]{1,63}(?<!-)(?:\\.(?!-)[A-Za-z0-9-]{1,63}(?<!-))*$").test(e),{message:"Invalid host name provided"}),s=t.z.string().min(1,"Requires a value").refine(e=>{try{return new RegExp(e),!0}catch(e){return!1}},{message:"Invalid regular expression provided"}),n=t.z.string().min(1,"Requires a value").superRefine((e,l)=>{if(!a.default.isIP(e)){if(a.default.isIPRange(e)){let[a,i]=e.split("/"),r=Number.parseInt(i,10);return a.includes(".")?r<0?void l.addIssue({code:t.z.ZodIssueCode.custom,message:"IPv4 CIDR cannot have a net mask less than /0"}):{isValid:!0,errorMsg:""}:void(r>32&&l.addIssue({code:t.z.ZodIssueCode.custom,message:"IPv6 CIDR cannot have a net mask greater than /32"}))}l.addIssue({code:t.z.ZodIssueCode.custom,message:"Invalid IP address or CIDR"})}}),o=t.z.string().min(1,"Requires a value").refine(e=>e.startsWith("/"),'Path must start with a "/"').refine(e=>{try{return new URL(e,"https://example.com"),!0}catch{return!1}},"Path must be a valid URL path"),d=t.z.string().min(1,"Requires a value").refine(e=>/^\d+$/.test(e));e.s(["digitSchema",0,d,"hostnameSchema",0,r,"ipAndCidrsSchema",0,n,"optionalString",0,l,"pathSchema",0,o,"regexSchema",0,s,"stringSchema",0,i])},6284227,e=>{"use strict";var t=e.i(5812308);let a={value:"sub",label:"Contains",schema:t.stringSchema},l={value:"!sub",label:"Does not contain",schema:t.stringSchema},i={value:"pre",label:"Starts with",schema:t.stringSchema},r={value:"!pre",label:"Does not start with",schema:t.stringSchema},s={value:"suf",label:"Ends with",schema:t.stringSchema},n={value:"!suf",label:"Does not end with",schema:t.stringSchema},o={value:"re",label:"Matches expression",schema:t.regexSchema},d={value:"!re",label:"Does not match expression",schema:t.regexSchema},c={value:"ex",label:"Exists",schema:t.optionalString},u={value:"!ex",label:"Does not exist",schema:t.optionalString};e.s(["keyExistsOperator",0,[c,u],"stringMatchOperators",0,[a,l,i,r,s,n,o,d],"stringOperators",0,[{value:"eq",label:"Equals"},{value:"!eq",label:"Does not equal"},{value:"inc",label:"Is any of"},{value:"!inc",label:"Is not any of"}],"withIdOperator",0,{value:"eq",label:"with rate limit ID"}])},2627313,e=>{"use strict";var t=e.i(1146226),a=e.i(5169864);let l=(0,a.createContext)(null);function i(){let e=(0,a.useContext)(l);if(null===e)throw Error("Filter context should be wrapped in Provider");return e}function r(e){let{children:i,state:r,index:s,moduleConfig:n,groupId:o}=e,d=(0,a.useMemo)(()=>({state:r,moduleConfig:n,index:s,groupId:o}),[r,n,s,o]);return(0,t.jsx)(l.Provider,{value:d,children:i})}l.displayName="ItemStateContextProvider",e.s(["FilterItemStateProvider",()=>r,"useItemStateContext",()=>i])},467779,e=>{"use strict";var t=e.i(1146226),a=e.i(5169864),l=e.i(4055164),i=e.i(9544652);let r=(0,a.createContext)(null);function s(){let e=(0,a.useContext)(r);if(null===e)throw Error("Filter context should be wrapped in Provider");return(0,l.useStore)(e)}function n(e){let{children:a,disabled:l,store:s}=e;return(0,t.jsx)(r.Provider,{value:s,children:(0,t.jsx)(i.DisabledContext.Provider,{value:!!l,children:a})})}r.displayName="FilterContextProvider",n.displayName="FilterProvider",e.s(["FilterProvider",()=>n,"useFilterContext",()=>s])},3957279,e=>{"use strict";var t=e.i(1146226),a=e.i(9689002),l=e.i(3869281),i=e.i(3306538),r=e.i(9220646),s=e.i(8145419),n=e.i(9550268),o=e.i(5883567),d=e.i(5169864),c=e.i(9722978);let u={values:[],valueSet:new Set,initialSet:new Set,options:[]};function m(e,t){switch(t.type){case"INITIALIZE":return{...e,...t.payload};case"TOGGLE_VALUE":{let{item:a,allowMulti:l}=t.payload,i=new Set(e.valueSet);if(i.has(a.value))return i.delete(a.value),{...e,values:e.values.filter(e=>e.value!==a.value),valueSet:i,initialSet:l?e.initialSet:new Set([])};return i.add(a.value),{...e,values:l?[...e.values,a]:[a],valueSet:l?i:new Set([a.value]),initialSet:l?e.initialSet:new Set}}case"ADD_NEW":{let a=new Set(e.valueSet),l=new Set(e.initialSet),i=Array.isArray(t.payload.item)?t.payload.item.map(e=>({value:e,label:`"${e}"`})):[{value:t.payload.item,label:`"${t.payload.item}"`}];return i.forEach(e=>{l.add(e.value),a.add(e.value)}),{...e,values:t.payload.allowMulti?[...e.values,...i]:i,valueSet:t.payload.allowMulti?a:new Set(i.map(e=>e.value)),initialSet:t.payload.allowMulti?l:new Set(i.map(e=>e.value))}}case"CLOSE_SELECT":{let t=new Set(e.values.map(e=>e.value));return{...e,initialSet:t}}default:return e}}function p(e){let{errors:o,initialValue:p,allowAdd:x,allowMulti:f=!1,filterName:g,disabled:y,onChange:v,getOptions:b,labels:w,placeholder:j,updateOnChange:C}=e,[S,N]=(0,d.useReducer)(m,u),[I,_]=(0,d.useState)(!1),[A,L]=(0,d.useState)(""),T=(0,d.useRef)(null);(0,d.useEffect)(()=>{(async()=>{let e=Array.isArray(p)?p:[p],t=new Set(e.map(e=>`${e}`)),a=new Set(t),l=[],i=[];if(void 0===b)l=e.map(e=>({value:`${e}`,label:`"${e}"`}));else{if(i=await b(),x)for(let t of e.filter(Boolean))i.some(e=>e.value===`${t}`)||i.push({value:`${t}`,label:w?.[t]||`"${t}"`});l=i.filter(e=>t.has(e.value))}N({type:"INITIALIZE",payload:{values:l,valueSet:t,initialSet:a,options:i}})})()},[p,x,f,g,b,o,w]);let k=(0,d.useMemo)(()=>o?new Set(o.map(e=>e.value)):new Set,[o]),E=(0,d.useMemo)(()=>S.values.filter(e=>S.valueSet.has(e.value)),[S.values,S.valueSet]),O=S.values.filter(e=>S.initialSet.has(e.value)),R=(0,d.useCallback)(e=>{N({type:"TOGGLE_VALUE",payload:e})},[]),P=(0,d.useMemo)(()=>Array.from(new Set([...S.options,...S.values])),[S.options,S.values]),D=(0,d.useCallback)(e=>{v?.(e)},[v]);(0,d.useEffect)(()=>{C&&D([...S.valueSet])},[S.valueSet,D,C]);let z=P.filter(e=>S.initialSet.has(e.value)),M=S.options.filter(e=>!S.initialSet.has(e.value));return(0,t.jsxs)(r.Root,{onOpenChange:e=>{e||(N({type:"CLOSE_SELECT"}),L(""),v?.([...S.valueSet])),_(e)},open:I,children:[(0,t.jsx)(r.Anchor,{className:"flex w-full items-center",children:(0,t.jsx)(r.Trigger,{className:(0,c.clsx)("my-0 size-full min-h-[32px] items-center rounded border-gray-alpha-400 bg-background-100 px-3 py-0 outline outline-1 outline-gray-alpha-400 data-[state=open]:bg-gray-100 data-[state=open]:shadow-focus-border focus-visible:shadow-focus-ring disabled:border-gray-400 disabled:bg-gray-100 disabled:text-gray-700",{"data-[state=open]:shadow-focus-border data-[state=open]:border-gray-alpha-400 shadow-[0_0_0_1px_var(--ds-red-900),0_0_0_4px_var(--ds-red-300)]":o}),disabled:y,children:(0,t.jsxs)("div",{className:"flex h-full items-center gap-x-2",children:[(0,t.jsx)("span",{children:(0,t.jsx)(n.ListUnordered,{size:16})}),(0,t.jsx)("div",{className:"grid",children:(0,t.jsxs)("p",{className:"text-copy-14 truncate text-inherit","aria-disabled":y,children:[f&&E.length>0?(0,t.jsx)("span",{className:"text-sm text-gray-900",children:`${E.length} ${1===E.length?g:function(e){for(let[t,a]of[[/ss$/,"sses"],[/s$/,"s"],[/s$/,"es"],[/(?![aeiou])y$/,"ies"]])if(t.test(e))return e.replace(t,a);return`${e}s`}(g)}: `}):null,E.length>0?E.map((e,a)=>k.has(e.value)?(0,t.jsxs)("span",{className:"text-red-900",children:[e.label.replaceAll('"',""),`${a<E.length-1?", ":""}`]},e.value):`${e.label.replaceAll('"',"")}${a<E.length-1?", ":""}`):(0,t.jsx)("span",{className:"text-gray-700",children:`Add option${f?"s":""}`})]})})]})})}),(0,t.jsx)(r.Portal,{children:(0,t.jsx)(r.Content,{className:"tailwind-preflight",side:"bottom",sideOffset:8,children:(0,t.jsxs)(s.Command,{className:"w-[var(--radix-popover-trigger-width)] min-w-[320px] justify-between rounded-lg border-gray-alpha-400 bg-background-100 shadow-menu",children:[(0,t.jsxs)("div",{className:(0,c.clsx)("-mb-px flex w-full items-center justify-between px-4 py-3",(O.length>0||A||S.options.length>0)&&"border-b"),children:[(0,t.jsx)(s.Command.Input,{className:"w-full border-none bg-transparent text-sm outline-none",onPaste:e=>{if(!x)return;e.preventDefault();let t=e.clipboardData.getData("text").split("\n").map(e=>e.trim());f?N({type:"ADD_NEW",payload:{item:t,allowMulti:f}}):N({type:"ADD_NEW",payload:{item:t[0],allowMulti:f}})},onValueChange:L,placeholder:j&&j.length>0?j:"Search…",ref:T,value:A}),(0,t.jsx)(a.Kbd,{small:!0,children:"Esc"})]}),(0,t.jsxs)(s.Command.List,{className:"flex max-h-[288px] flex-col gap-y-5 overflow-y-auto border-gray-alpha-400",children:[O.length>0?(0,t.jsx)(s.Command.Group,{className:"p-2",children:z.map(e=>(0,t.jsx)(s.Command.Item,{className:"w-full rounded *:aria-selected:bg-gray-100 data-[selected=true]:bg-gray-100 hover:bg-gray-100 focus-visible:bg-gray-100 active:bg-gray-100",onSelect:()=>R({item:e,allowMulti:f}),value:`${e.label}-${e.value}`,children:(0,t.jsxs)("div",{className:"flex w-full gap-2 rounded p-2",children:[(0,t.jsx)(l.Checkbox,{checked:S.valueSet.has(e.value),className:"pointer-events-none gap-1 text-sm",onChange:()=>{},tabIndex:-1,children:e.label}),k.has(e.value)?(0,t.jsx)(i.Badge,{size:"sm",variant:"red-subtle",children:"Invalid Option"}):null]})},e.value))}):null,M.length>0?(0,t.jsx)(s.Command.Group,{className:(0,c.clsx)("p-2",M.length&&"border-t"),children:M.map(e=>(0,t.jsx)(s.Command.Item,{className:"w-full rounded *:aria-selected:bg-gray-100 data-[selected=true]:bg-gray-100 hover:bg-gray-100 focus:bg-gray-100 active:bg-gray-100",onSelect:()=>R({item:e,allowMulti:f}),value:`${e.label}-${e.value}`,children:(0,t.jsx)("div",{className:"w-full rounded p-2",children:(0,t.jsx)(l.Checkbox,{checked:S.valueSet.has(e.value),className:"pointer-events-none gap-1 text-sm",onChange:()=>{},tabIndex:-1,children:e.label})})},`${e.value}-${e.label}`))}):[],(0,t.jsx)(s.Command.Group,{children:x?(0,t.jsx)(h,{onAddNew:e=>{N({type:"ADD_NEW",payload:{item:e,allowMulti:f}}),T.current?.focus(),L("")},search:A}):null}),A.length?(0,t.jsx)(s.Command.Empty,{className:"px-4 py-3 text-sm text-gray-900",children:`No results match "${A}"`}):null]}),(0,t.jsx)(s.Command.Group,{className:"border-t border-gray-alpha-400 p-2",children:(0,t.jsx)(s.Command.Item,{className:"cursor-default rounded p-2 aria-disabled:opacity-100",children:(0,t.jsxs)("span",{className:"text-xs text-gray-700",children:["Limits are calculated by the combination of"," ",(0,t.jsx)("strong",{children:"all"})," selected keys"]})})})]})})})]})}function h(e){let{search:a,onAddNew:l}=e;return 0===a.length?null:(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)(s.Command.Item,{"aria-label":`add ${a}`,className:"w-full rounded *:aria-selected:bg-gray-100 data-[selected=true]:bg-gray-100 hover:bg-gray-100 focus:bg-gray-100 active:bg-gray-100",onSelect:()=>l(a),children:(0,t.jsxs)("div",{className:"flex items-center  gap-x-2 rounded p-2 text-gray-900",children:[(0,t.jsx)(o.PlusCircle,{size:14}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:`Add "${a}"`})]})})})}e.s(["FilterSelectComponent",()=>p])},1900286,e=>{"use strict";var t=e.i(364533);function a(e){return["inc","!inc","ninc"].includes(e)}function l(e){return["ex","!ex","nex"].includes(e)}function i(e,t){return e.moduleMap.get(t)}function r(e){let l=Array.from(Object.keys(e)),i=new Map(Object.entries(e)),r=l[0],s=i.get(r);return s?{defaultState:[{id:(0,t.v4)(),filters:[{filterId:r,value:s.allowMultiSelect||a(s.allowedOperators[0].value)?[]:"",operator:s.allowedOperators[0].value,fieldId:(0,t.v4)(),...s.allowKey?{key:""}:{}}]}],moduleKeys:l,moduleMap:i}:{moduleKeys:l,moduleMap:i}}function s(e,t){let a=[];for(;e.length;){let{path:l,message:i}=e[0];if(Array.isArray(t)){let e=t[Number(l[0])];a.push({value:e,error:i})}else a.push({value:t,error:i});e.shift()}return a}e.s(["getDefaultState",()=>r,"getFieldModule",()=>i,"isExistsOperator",()=>l,"isMultiOperator",()=>a,"isZodError",0,e=>Array.isArray(e?.errors),"mapZodErrorToValue",()=>s,"parseErrorSchema",0,e=>{let t={};for(;e.length;){let a=e[0],{code:l,message:i,path:r}=a,s=r.join(".");if(!t[s])if("unionErrors"in a){let e=a.unionErrors[0].errors[0];t[s]={message:e.message,type:e.code}}else t[s]={message:i,type:l};"unionErrors"in a&&a.unionErrors.forEach(t=>t.errors.forEach(t=>e.push(t))),e.shift()}return t}])},6783963,e=>{"use strict";var t=e.i(5169864);e.i(3512434);var a=e.i(9835407),l=e.i(6461317),i=e.i(1900286),r=e.i(5812308);let s={algo:"fixed_window",window:"60",limit:"100",keys:["ip"]};function n(e){return e.rateLimit.keys.includes("header:x-vercel-rate-limit-key")}function o(e,t){switch(t.type){case"INITIALIZE":case"INITIALIZE_TEAM_PLAN":return{...e,...t.payload};case"UPDATE_FILTER":{if(t.payload.some(e=>"rate_limit_api_id"===e.filterId))return{...e,rateLimit:{...e.rateLimit,keys:["header:x-vercel-rate-limit-key"]},type:"rate_limit",action:"rate_limit"};let a=e.rateLimit.keys.filter(e=>"header:x-vercel-rate-limit-key"!==e);if(0===a.length&&a.push("ip"),!e.wasActionSet)return{...e,type:"default",action:"log",rateLimit:{...e.rateLimit,keys:a}};return{...e,rateLimit:{...e.rateLimit,keys:a}}}case"UPDATE_ACTION":if("rate_limit"!==e.type&&"rate_limit"===t.payload.action)return{...e,action:t.payload.action,type:"rate_limit",showRateLimitModal:!1,wasActionSet:!0};return{...e,action:t.payload.action,wasActionSet:!0};case"UPDATE_NAME":return{...e,name:t.payload.name};case"UPDATE_DESCRIPTION":return{...e,description:t.payload.description};case"UPDATE_RATE_LIMIT":return{...e,rateLimit:t.payload.rateLimit};case"REMOVE_RATE_LIMIT":return{...e,type:"default",action:"rate_limit"!==e.action?e.action:"log"};case"UPDATE_REDIRECT":return{...e,redirectTo:t.payload.redirectTo};case"UPDATE_ACTION_DURACTION":return{...e,actionDuration:t.payload.actionDuration};case"VALIDATE":try{let t=u.parse(e);return{...e,...t,errors:{},isSubmitted:!0}}catch(a){if((0,i.isZodError)(a)){let r=(0,i.parseErrorSchema)(a.errors),s=t.payload?.fieldName;if(s){let t=(0,l.default)(r,s);return{...e,errors:{...e.errors||{},[s]:t}}}return{...e,errors:r,isSubmitted:!0}}}return e;default:return e}}let d={type:"default",action:"log",actionDuration:null,showRateLimitModal:!0,showUpgradeModal:!1,name:"",description:"",rateLimit:s,isSubmitted:!1,wasActionSet:!1};function c(e){let{selectedRule:a,teamPlan:l,showRateLimitModal:i,showUpgradeModal:r,templateAction:n}=e,[c,m]=(0,t.useReducer)(o,{...d,showRateLimitModal:i,showUpgradeModal:r});(0,t.useEffect)(()=>{if(l&&!a)return void("rate_limit"===n?m({type:"INITIALIZE",payload:{teamPlan:l,showRateLimitModal:i,showUpgradeModal:r,type:"rate_limit",action:"rate_limit",name:"",description:"",rateLimit:s,isSubmitted:!1,actionDuration:null,wasActionSet:!0}}):m({type:"INITIALIZE_TEAM_PLAN",payload:{teamPlan:l,showRateLimitModal:i}}));if(!a)return;let e=a.action?.mitigate?.rateLimit,t=a.action?.mitigate?.action==="rate_limit"?a.action.mitigate.rateLimit?.action||"log":a.action?.mitigate?.action||"log";m({type:"INITIALIZE",payload:{teamPlan:l,showRateLimitModal:i,showUpgradeModal:r,type:a.action?.mitigate?.action==="rate_limit"?"rate_limit":"default",action:t,name:a.name,description:a.description||"",redirectTo:a.action?.mitigate?.redirect?.location,rateLimit:e?{algo:e.algo,limit:`${e.limit}`,window:`${e.window}`,keys:e.keys}:s,isSubmitted:!1,actionDuration:a.action?.mitigate?.actionDuration||null,wasActionSet:!0}})},[a,m,l,i,r,n]);let p=(0,t.useCallback)(()=>{try{return m({type:"VALIDATE"}),u.parse(c)}catch(e){return null}},[c]);return[c,m,p]}let u=a.z.object({teamPlan:a.z.enum(["pro","enterprise","hobby"]).optional(),type:a.z.enum(["rate_limit","default"]),action:a.z.enum(["challenge","deny","log","bypass","rate_limit","redirect"]),name:a.z.string().min(1,"Name is required"),description:a.z.string().optional(),rateLimit:a.z.object({algo:a.z.enum(["fixed_window","token_bucket"]),window:a.z.coerce.number().min(10),limit:a.z.coerce.number().min(1).max(1e7),keys:a.z.array(a.z.string().superRefine((e,t)=>{!["ip","ja4"].includes(e)&&(e.startsWith("header:")||t.addIssue({code:a.z.ZodIssueCode.custom,message:"Key must start with header:"}))}))}).passthrough().optional(),redirectTo:a.z.union([a.z.string().url(),r.pathSchema]).optional()}).passthrough().superRefine((e,t)=>{if("rate_limit"===e.type){let l="enterprise"===e.teamPlan?3600:600;e.rateLimit?e.rateLimit.window>l&&t.addIssue({code:a.z.ZodIssueCode.too_big,inclusive:!0,maximum:l,message:`Window must not exceed ${l} seconds`,path:["rateLimit","window"],type:"number"}):t.addIssue({code:a.z.ZodIssueCode.custom,message:"Rate limit is required",path:["rateLimit"]})}"redirect"!==e.action||e.redirectTo||t.addIssue({code:a.z.ZodIssueCode.custom,message:"Redirect to is required",path:["redirectTo"]})});e.s(["isApiControlledRateLimit",()=>n,"useRuleBuilderState",()=>c])},3771277,8229016,e=>{"use strict";var t=e.i(1146226),a=e.i(9650453),l=e.i(588428),i=e.i(9722978),r=e.i(3306538),s=e.i(2504781),n=e.i(6881349),o=e.i(3500331),d=e.i(8674454),c=e.i(6694387),u=e.i(4991687),m=e.i(5326905),p=e.i(8459493),h=e.i(5257834),x=e.i(2713868),f=e.i(5468328),g=e.i(5232300),y=e.i(455575),v=e.i(9544652),b=e.i(6318858),w=e.i(2560270),j=e.i(7749365),C=e.i(109803),S=e.i(923772),N=e.i(5169864),I=e.i(2627313),_=e.i(467779),A=e.i(3957279),L=e.i(1900286);e.i(6483798);var T=e.i(8287059),k=e.i(3538015),E=e.i(6783963),O=e.i(6891161);function R(e){let{isLoading:a,open:l,onClose:i,onConfirm:r}=e;return(0,t.jsxs)(O.Modal.Modal,{active:l,onClickOutside:i,children:[(0,t.jsxs)(O.Modal.Body,{className:"tailwind-preflight",children:[(0,t.jsx)(O.Modal.Header,{children:(0,t.jsx)(O.Modal.Title,{children:"Rate Limit Pricing"})}),(0,t.jsx)(O.Modal.P,{children:"Rate limiting is enforced at the network edge, adding less than 1ms of latency to requests. Only allowed requests are charged. Blocked requests based on your rule are free."}),(0,t.jsxs)("div",{className:"flex flex-col text-gray-900 divide-y",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between py-2",children:[(0,t.jsx)("p",{children:"Allowed Request"}),(0,t.jsx)("p",{children:"$0.50 per 1M"})]}),(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between py-2",children:[(0,t.jsx)("p",{children:"Blocked Requests"}),(0,t.jsx)("p",{children:"Free"})]})]})]}),(0,t.jsxs)(O.Modal.Actions,{children:[(0,t.jsx)(O.Modal.Action,{onClick:i,type:"secondary",children:"Cancel"}),(0,t.jsx)(O.Modal.Action,{loading:a,onClick:r,children:"Continue"})]})]})}e.s(["RateLimitModal",()=>R],8229016);var P=e.i(5963711),D=e.i(9386557);function z(e){var a,l;let r,{className:s,disabled:n,error:o,id:d,onChange:c,value:u,...m}=e,[p,h]=(0,N.useState)(u?.toString()??""),x=(0,N.useRef)(null),g=(0,N.useRef)(null),y=(0,N.useCallback)(()=>{let{current:e}=g,{current:t}=x,a=getComputedStyle(document.documentElement).getPropertyValue("--geist-form-small-height");e&&t&&(e.style.height=a||"40px",e.style.height=`${e.scrollHeight}px`,t.style.height=e.style.height)},[x,g]);a=g,l=y,r=(0,N.useRef)(null),(0,N.useEffect)(()=>{let e=a.current;if(e&&"undefined"!=typeof ResizeObserver)return r.current=new ResizeObserver(l),r.current.observe(e),()=>{r.current?.disconnect()}},[l,a]),(0,N.useEffect)(y,[p]);let v=(0,N.useMemo)(()=>{let e=p.startsWith(" "),t=p.endsWith(" ");return e&&t?"This value starts and ends with whitespace.":e?"This value starts with whitespace.":t?"This value ends with whitespace.":null},[p]),b=(0,N.useMemo)(()=>p.split(/( )/).filter(Boolean),[p]),w=(0,N.useMemo)(()=>n?"cursor-not-allowed text-gray-700 bg-gray-100 shadow-[0_0_0_1px_var(--ds-gray-400),_0_0_0_1px_var(--ds-background-200)]":o?"shadow-[0_0_0_1px_var(--ds-red-900),0_0_0_4px_var(--ds-red-300)] hover:shadow-[0_0_0_1px_var(--ds-red-900),0_0_0_4px_var(--ds-red-500)] focus-within:!shadow-[0_0_0_1px_var(--ds-red-900),0_0_0_4px_var(--ds-red-300)]":"shadow-[0_0_0_1px_var(--border-color,var(--ds-gray-alpha-400))] hover:shadow-[0_0_0_1px_var(--ds-gray-alpha-500)] focus-within:!shadow-[0_0_0_1px_var(--ds-gray-alpha-600),0px_0px_0px_4px_#00000029]",[o,n]);return(0,t.jsxs)("div",{className:(0,i.clsx)(`
      w-full grid grid-cols-1 grid-rows-1 items-center rounded px-2 transition-shadow
      *:text-sm *:font-mono relative *:p-0 *:py-2 *:rounded *:leading-none *:tracking-normal *:col-span-full *:row-span-full
      `,{[w]:!0,[s??""]:!!s}),id:d,children:[(0,t.jsx)("textarea",{ref:g,className:"text-transparent caret-foreground resize-none overflow-hidden outline-none z-10 bg-transparent",value:p,onChange:e=>{h(e.target.value),c?.(e)},disabled:n,...m,spellCheck:"false",autoComplete:"off"}),(0,t.jsx)("p",{ref:x,className:"text-foreground pointer-events-none wrap-break-word whitespace-pre-wrap",children:b.map((e,a)=>" "!==e?(0,t.jsx)("span",{children:e}):(0,t.jsx)("span",{className:(0,i.clsx)("relative after:content-['⎵'] after:absolute after:-left-[1px] after:top-1.5 after:text-[0.8rem]  text-gray-900",{"text-geist-warning bg-amber-100":0===a||a===b.length-1}),children:" "}))}),(0,t.jsx)("div",{className:(0,i.clsx)("absolute right-0 bottom-0 translate-y-1.5 translate-x-0.5 z-10 transition-opacity duration-75",v?"pointer-events-auto opacity-1":"opacity-0 pointer-events-none"),children:(0,t.jsx)(f.Tooltip,{position:"top",text:v,tabIndex:-1,children:(0,t.jsx)(D.WarningFill,{color:"amber-600"})})})]})}var M=e.i(57106);function B(){let e=(0,_.useFilterContext)(),{state:a,moduleConfig:l}=(0,I.useItemStateContext)(),i=(0,v.useDisabled)(),r=l.allowedOperators.find(e=>e.value===a.operator)?.label;return(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial w-full @lg-page:max-w-[175px]",children:l.allowedOperators.length>1?(0,t.jsxs)(u.MenuContainer,{position:"bottom-start",children:[(0,t.jsx)(c.MenuButton,{align:"flex-grow","aria-label":`Operator ${r||""}`,disabled:i,size:"small",suffix:(0,t.jsx)(w.ChevronDown,{}),type:"secondary",width:"100%",children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start flex-1 w-full",children:(0,t.jsx)("span",{children:r??""})})}),(0,t.jsx)(d.Menu,{className:"w-full overflow-y-auto lg:min-w-[200px]",portalClassName:"tailwind-preflight",useNewListHeightBehavior:{maxHeight:240,numberOfChildren:l.allowedOperators.length},children:l.allowedOperators.map(l=>(0,t.jsx)(p.MenuItem,{onClick:()=>{e.updateCondition(a.fieldId,{type:"operator",value:l.value})},value:l.value,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-3 flex-1",children:[(0,t.jsx)("div",{className:"flex flex-row items-center justify-start flex-1",children:(0,t.jsx)("span",{children:l.label})}),l.value===a.operator?(0,t.jsx)(b.Check,{}):null]})},l.value))})]}):(0,t.jsx)(c.MenuButton,{align:"flex-grow","aria-label":`Operator ${r||""}`,disabled:!0,size:"small",type:"secondary",width:"100%",children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start flex-1 w-full",children:(0,t.jsx)("span",{children:r??""})})})})}function $(){let e=(0,_.useFilterContext)(),{state:a,moduleConfig:l}=(0,I.useItemStateContext)(),i=(0,v.useDisabled)(),r=!!l.resolveValues,s=(0,L.isMultiOperator)(a.operator),n=(0,L.isExistsOperator)(a.operator),o=l.placeholder?.value||"";"re"===a.operator&&(o="Type a regular expression..");let d=e.allErrors[`${a.fieldId}-value`];if(r||s)return(0,t.jsx)(A.FilterSelectComponent,{allowAdd:l.allowCustomValue||s&&!r||!1,allowMulti:s,disabled:i,errors:d,filterName:l.title,getOptions:l.resolveValues,initialValue:a.value,onChange:t=>{s?e.updateCondition(a.fieldId,{type:"value",value:t}):e.updateCondition(a.fieldId,{type:"value",value:t[0]})},placeholder:o});let c=Array.isArray(a.value)?`${a.value.length>0?a.value[0]:""}`:`${a.value}`;return(0,t.jsx)(z,{className:"w-full",disabled:!!n||i,error:d?"errors":null,id:a.fieldId,name:`${a.filterId}-${a.fieldId}`,onChange:t=>e.updateCondition(a.fieldId,{type:"value",value:t.target.value}),placeholder:n?"Any value":o,value:n?"":c})}function H(e){let{initialState:a,onChange:l,teamPlan:r}=e,s=(0,v.useDisabled)(),n=(0,_.useFilterContext)(),o=n.state;return(0,t.jsxs)("div",{className:"mt-2 min-h-[320px] w-full rounded border border-gray-alpha-400 bg-background-200 p-10",children:[o.map((e,a,l)=>(0,t.jsxs)(N.Fragment,{children:[e.filters.map((a,l,r)=>(0,t.jsx)("div",{className:(0,i.clsx)("flex flex-col gap-2 @lg-page:flex-row @lg-page:items-center",{"mb-2":l!==r.length-1}),children:(0,t.jsx)(V,{groupId:e.id,index:l,state:a})},a.fieldId)),a!==l.length-1?(0,t.jsxs)("div",{className:"relative flex w-full items-center justify-center",children:[(0,t.jsx)("div",{className:"h-[80px] w-px bg-gray-400"}),(0,t.jsx)(x.SplitButton,{buttonProps:{disabled:!0,size:"small",type:"secondary"},className:"absolute",menuButtonLabel:"Add a condition or condition group",menuItems:(0,t.jsx)(x.SplitButtonMenuItem,{description:"Add a condition",menuItemProps:{disabled:s,onClick:()=>n.addCondition(a)},title:"AND"}),menuProps:{width:230},children:"OR"})]}):null]},`group-${e.id}`)),(0,t.jsx)(ee,{isButton:!0}),"rate_limit"===a.type?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K,{initialState:a,onChange:l,teamPlan:r}),(0,t.jsx)(ee,{})]}):null,(0,t.jsx)(W,{initialState:a,onChange:l,teamPlan:r})]})}function U(){let e=(0,_.useFilterContext)(),{state:a,moduleConfig:l}=(0,I.useItemStateContext)(),i=l.placeholder?.key||"",r=e.allErrors[`${a.fieldId}-key`],s=(0,v.useDisabled)();return(0,t.jsx)(t.Fragment,{children:l.allowKey?(0,t.jsx)("div",{className:"w-full @lg-page:max-w-[175px]",children:(0,t.jsx)(o.Input,{className:"w-full",disabled:s,error:r?"error":void 0,id:a.fieldId,name:`${a.filterId}-${a.fieldId}-key`,onChange:t=>e.updateCondition(a.fieldId,{type:"key",value:t.target.value}),placeholder:i,showErrorMessage:!1,size:"small",value:a.key,width:"100%"})}):null})}function F(){let e=(0,_.useFilterContext)(),{state:l,moduleConfig:i}=(0,I.useItemStateContext)(),r=(0,v.useDisabled)(),s=(0,N.useMemo)(()=>e.moduleKeys.map(t=>{let a=(0,L.getFieldModule)(e,t);return{label:a.title,value:t,icon:a.icon,description:a.description,deprecated:a.deprecated}}),[e]);return(0,t.jsxs)("div",{className:"jsx-4f438cb26d60b0d9 flex flex-col items-stretch justify-start flex-initial w-full tailwind-preflight",children:[(0,t.jsx)(a.default,{id:"4f438cb26d60b0d9",children:".firewall-components-module-configuration-components-module-select-component [class*=combobox-module]>button{min-height:var(--geist-form-small-height,32px)!important;max-height:var(--geist-form-small-height,32px)!important;height:var(--geist-form-small-height,32px)!important}"}),(0,t.jsxs)(n.Combobox,{"aria-label":`rule type ${i.title}`,disabled:r,noRawSelectedValue:!0,onChange:t=>{t&&e.updateCondition(l.fieldId,{type:"filter",value:t})},placeholder:"Select attribute…",prefixIcon:i.icon,size:"small",value:l.filterId,width:"100%",className:"firewall-components-module-configuration-components-module-select-component",children:[(0,t.jsx)(n.Combobox.Input,{}),(0,t.jsx)(n.Combobox.List,{className:"overflow-x-hidden",children:(0,t.jsxs)(t.Fragment,{children:[s.filter(e=>!e.deprecated?.(l.filterId)).map(e=>{let{value:a,label:l,icon:i,description:r}=e;return(0,t.jsx)(n.Combobox.Option,{label:l,value:a,className:"!h-auto min-h-0 max-h-40 !p-2.5",children:(0,t.jsxs)("div",{className:"jsx-4f438cb26d60b0d9 flex flex-col gap-1",children:[(0,t.jsxs)("header",{className:"jsx-4f438cb26d60b0d9 flex gap-2",children:[i?(0,t.jsx)("span",{className:"jsx-4f438cb26d60b0d9",children:i}):null,(0,t.jsx)("p",{className:"jsx-4f438cb26d60b0d9 font-medium text-gray-1000",children:l})]}),r?(0,t.jsx)("p",{className:"jsx-4f438cb26d60b0d9 text-label-13 text-gray-900",children:r}):null]})},a)}),(0,t.jsx)("div",{className:"jsx-4f438cb26d60b0d9 sticky top-0",children:(0,t.jsx)(M.Link,{className:"flex justify-between text-label-12 bg-background-200 hover:bg-gray-100 transition-colors text-gray-900 p-2.5 w-[calc(100%+20px)] -translate-x-2 -translate-y-2 rounded-t-md",external:!0,href:"/docs/vercel-firewall/vercel-waf/rule-configuration",children:"Rule Configuration Docs"})})]})})]})]})}function q(){let e=(0,_.useFilterContext)(),{state:a,index:l,groupId:i}=(0,I.useItemStateContext)(),r=(0,v.useDisabled)(),n=e.state.find(e=>e.id===i),o=e.state.length>1||(n?.filters??[]).length>1;return(0,t.jsxs)("div",{className:"min-h-[80px] w-full rounded-md border bg-white p-6 flex flex-col @lg-page:flex-row gap-3 items-start",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center w-full @lg-page:max-w-[240px]",children:[(0,t.jsx)("p",{className:"text-copy-14 text-left capitalize",children:0===l?"if":"and"}),(0,t.jsx)(F,{}),o?(0,t.jsx)(s.Button,{"aria-label":"remove rule",disabled:r,onClick:()=>{n?.filters.length===1?e.deleteConditionGroup(i):e.deleteCondition(a.fieldId)},shape:"square",size:"small",svgOnly:!0,type:"error",typeName:"button",className:"size-[30px]",children:(0,t.jsx)(S.Trash,{size:16})}):null]}),(0,t.jsx)(U,{}),(0,t.jsx)(B,{}),(0,t.jsx)($,{})]})}function V(e){let{index:a,state:l,groupId:i}=e,r=(0,_.useFilterContext)(),s=(0,L.getFieldModule)(r,l.filterId);return s?(0,t.jsx)(I.FilterItemStateProvider,{groupId:i,index:a,moduleConfig:s,state:l,children:(0,t.jsx)(s.Component,{})}):null}function W(e){let{initialState:a,onChange:r,teamPlan:s}=e,n=(0,v.useDisabled)(),m=(0,l.useFirewallRateLimitTeamFlag)(),h=(0,T.useOpenUpgradeModal)(),[x,f]=(0,N.useState)(!1),g=(0,y.useToasts)(),[j,C]=(0,N.useState)(!1),S=(0,N.useMemo)(()=>(0,k.allowedFirewallActions)(!0,"rate_limit"===a.type),[a.type]),I=S.find(e=>e.value===a.action)?.label;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-start gap-3 flex-initial h-fit grow rounded-md border bg-white p-6 @lg-page:h-[80px]",children:[(0,t.jsxs)("div",{className:"flex w-full flex-1 flex-row items-center gap-x-3",children:[(0,t.jsx)("p",{className:"text-copy-14 capitalize",children:"then"}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsxs)(u.MenuContainer,{position:"bottom-start",children:[(0,t.jsx)(c.MenuButton,{align:"flex-grow","aria-label":`Action to take based on created rules ${I||""}`,disabled:n,size:"small",suffix:(0,t.jsx)(w.ChevronDown,{}),type:"secondary",width:"100%",children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start flex-1 w-full",children:(0,t.jsx)("span",{children:I||""})})}),(0,t.jsx)(d.Menu,{className:"w-full min-w-[300px] lg:min-w-[400px]",portalClassName:"tailwind-preflight",children:S.map(e=>{let{value:l,label:n,subtext:o,badge:d}=e;return(0,t.jsxs)(p.MenuItem,{height:70,innerMenuItemClassName:(0,i.clsx)("min-h-[60px]"),onClick:()=>{"hobby"===s&&"rate_limit"===l&&a.showUpgradeModal?h({source:"firewall-rate-limit",onConversionSuccess:()=>{r({type:"UPDATE_ACTION",payload:{action:l}})}}):"rate_limit"!==a.type&&"rate_limit"===l&&a.showRateLimitModal&&!m.value?f(!0):r({type:"UPDATE_ACTION",payload:{action:l}})},value:l,children:[(0,t.jsx)("div",{className:"flex flex-row items-center justify-between gap-3 flex-1",children:(0,t.jsx)("div",{className:"flex flex-col",children:(0,t.jsxs)("div",{className:"flex flex-col gap-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)("p",{className:"font-medium text-gray-1000",children:n}),d||null]}),(0,t.jsx)("p",{className:"text-[13px] font-normal text-gray-900",children:o})]})})}),l===a.action?(0,t.jsx)(b.Check,{}):null]},l)})})]})})]}),"hobby"!==s&&["deny","challenge","rate_limit"].includes(a.action)?(0,t.jsx)(Z,{initialState:a,onChange:r}):null,"redirect"===a.action?(0,t.jsxs)("div",{className:"flex h-[80px] w-full flex-1 flex-row items-center gap-x-3",children:[(0,t.jsx)("p",{className:"text-copy-14 w-full max-w-[36px] @lg-page:max-w-[12px]",children:"to"}),(0,t.jsx)(o.Input,{"aria-label":"redirect location",className:"w-full @lg-page:min-w-[565px]",disabled:n,error:a.errors?.redirectTo?"error":void 0,onBlur:()=>r({type:"VALIDATE",payload:{fieldName:"redirectTo"}}),onChange:e=>r({type:"UPDATE_REDIRECT",payload:{redirectTo:e.target.value}}),placeholder:"https://",showErrorMessage:!1,size:"small",value:a.redirectTo||"",width:"100%"})]}):null]}),(0,t.jsx)(R,{isLoading:j,onClose:()=>f(!1),onConfirm:()=>{C(!0);try{r({type:"UPDATE_ACTION",payload:{action:"rate_limit"}})}catch(e){g.error(e.message)}finally{C(!1),f(!1)}},open:x})]})}function Z(e){let{initialState:a,onChange:l}=e,r=(0,v.useDisabled)()||(0,E.isApiControlledRateLimit)(a),s=(0,N.useMemo)(()=>[{value:"1m",label:"1 minute"},{value:"5m",label:"5 minutes"},{value:"15m",label:"15 minutes"},{value:"30m",label:"30 minutes"},{value:"1h",label:"1 hour"}],[]),n=s.find(e=>e.value===a.actionDuration)?.label,o=null===a.actionDuration;return(0,t.jsxs)("div",{className:"flex w-full items-center gap-x-3 lg:w-fit",children:[o?null:(0,t.jsx)("p",{className:"w-full max-w-[36px] lg:max-w-4",children:"for"}),(0,t.jsx)("div",{className:"w-full lg:min-w-[190px] lg:max-w-[190px]",children:(0,t.jsxs)(u.MenuContainer,{position:"bottom-start",children:[(0,t.jsx)(G,{children:(0,t.jsx)(c.MenuButton,{align:"flex-grow","aria-label":"Timeframe for action",disabled:r,size:"small",suffix:o?null:(0,t.jsx)(w.ChevronDown,{}),type:"secondary",width:"100%",children:(0,t.jsx)("div",{className:(0,i.clsx)("flex flex-row items-center gap-2 flex-1 w-full",o?"justify-between":""),children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(j.Clock,{size:16}),(0,t.jsx)("span",{children:"Add Persistent Action"})]}):(0,t.jsx)("span",{className:"text-left",children:n})})})}),(0,t.jsxs)(d.Menu,{className:"w-full min-w-[180px] lg:min-w-[180px]",portalClassName:"tailwind-preflight",children:[s.map(e=>{let{value:r,label:s}=e;return(0,t.jsx)(p.MenuItem,{height:40,innerMenuItemClassName:(0,i.clsx)("min-h-[40px]"),onClick:()=>{l({type:"UPDATE_ACTION_DURACTION",payload:{actionDuration:r}})},value:r,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-3 flex-1",children:[(0,t.jsx)("div",{className:"flex flex-col items-center justify-start flex-initial",children:s}),r===a.actionDuration?(0,t.jsx)(b.Check,{}):null]})},r)}),o?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.MenuDivider,{}),(0,t.jsx)(p.MenuItem,{height:40,innerMenuItemClassName:(0,i.clsx)("mt-1 min-h-[40px] text-red-800"),onClick:()=>{l({type:"UPDATE_ACTION_DURACTION",payload:{actionDuration:null}})},value:"",children:"Remove Timeframe"})]})]})]})})]})}function G(e){let{children:a}=e,{state:{open:l}}=(0,g.useMenu)();return(0,t.jsx)(f.Tooltip,{className:"w-full",delay:!1,desktopOnly:!0,forceHide:l,position:"top",text:(0,t.jsxs)("p",{className:"flex h-full flex-col justify-start text-left",children:[(0,t.jsx)("span",{className:"text-left text-gray-900",children:"Optional"}),"Prevent further activity from a client device generating requests that match this rule for a specified time"]}),children:a})}function K(e){let{initialState:a,onChange:l,teamPlan:i}=e,[r,n]=(0,N.useState)(a.rateLimit.algo),[d,c]=(0,N.useState)(`${a.rateLimit.window}`),[u,m]=(0,N.useState)(`${a.rateLimit.limit}`),[p,h]=(0,N.useState)([...a.rateLimit.keys]),x=(0,v.useDisabled)();(0,N.useEffect)(()=>{l({type:"UPDATE_RATE_LIMIT",payload:{rateLimit:{algo:r,window:d,limit:u,keys:p}}})},[r,p,u,l,d]);let[g,y]=(0,N.useMemo)(()=>"enterprise"===i?[10,3600]:[10,600],[i]);return(0,t.jsx)("div",{className:"flex w-full",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row items-center justify-start gap-3 flex-initial w-full grow rounded-md border bg-white p-6 lg:h-[80px]",children:[(0,t.jsx)("div",{className:"w-full lg:max-w-fit",children:(0,t.jsx)("p",{className:"text-copy-14 text-nowrap text-left",children:"Rate Limit"})}),(0,t.jsx)("div",{className:"flex flex-col items-start justify-start gap-1 flex-initial w-full lg:max-w-[175px]",children:(0,t.jsx)(J,{initialAlgorithm:r,onChangeAlgorithm:n,teamPlan:i})}),(0,t.jsx)("div",{className:"flex flex-col items-start justify-start gap-1 flex-initial w-full lg:max-w-[132px]",children:(0,t.jsx)(f.Tooltip,{className:"w-full",delay:!1,desktopOnly:!0,position:"top",text:`Time window for rate limit in seconds (min: ${g}, max: ${y})`,children:(0,t.jsx)(o.Input,{"aria-label":`time window for rate limit in seconds (min: ${g}, max: ${y})`,className:"w-full",disabled:x,error:a.errors?.["rateLimit.window"]?"error":void 0,id:"rate-limit-window",name:"Window",onBlur:()=>l({type:"VALIDATE",payload:{fieldName:"rateLimit.window"}}),onChange:e=>{c(e.target.value)},showErrorMessage:!1,size:"small",suffix:"seconds",value:d.toString(),width:"100%"})})}),(0,t.jsx)("div",{className:"flex flex-col items-start justify-start gap-1 flex-initial w-full lg:max-w-[132px]",children:(0,t.jsx)(f.Tooltip,{className:"w-full",delay:!1,desktopOnly:!0,position:"top",text:`Request Limit
(min: 1, max: 10,000,000)`,children:(0,t.jsx)(o.Input,{"aria-label":"request rate limit",className:"w-full",disabled:x,error:a.errors?.["rateLimit.limit"]?"error":void 0,id:"rate-limit-limit",name:"Limit",onBlur:()=>l({type:"VALIDATE",payload:{fieldName:"rateLimit.limit"}}),onChange:e=>{m(e.target.value)},showErrorMessage:!1,size:"small",suffix:"requests",value:u.toString(),width:"100%"})})}),(0,t.jsx)("div",{className:"flex flex-col items-start justify-start gap-1 flex-initial w-full",children:(0,t.jsx)(f.Tooltip,{className:"w-full",delay:!1,desktopOnly:!0,position:"top",text:"Rate Limit By",children:(0,t.jsx)(Y,{apiControlled:(0,E.isApiControlledRateLimit)(a),initialKeys:a.rateLimit.keys,onChangeKeys:e=>{h(e)},readOnly:(0,E.isApiControlledRateLimit)(a)})})}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:(0,t.jsx)(s.Button,{"aria-label":"remove rule",className:"hidden min-w-[32px] lg:block",disabled:x||(0,E.isApiControlledRateLimit)(a),onClick:()=>l({type:"REMOVE_RATE_LIMIT"}),shape:"square",size:"small",svgOnly:!0,type:"error",children:(0,t.jsx)(S.Trash,{size:16})})})]})})}function J(e){let{initialAlgorithm:a,onChangeAlgorithm:l,teamPlan:s}=e,[n,o]=(0,N.useState)(a||"fixed_window"),x=(0,v.useDisabled)();(0,N.useEffect)(()=>{l(n)},[l,n]);let g=(0,N.useMemo)(()=>[{value:"fixed_window",label:"Fixed Window",disabled:!1,badge:null,subtext:"Use when strict limits are necessary and bursts at the time boundaries are okay"},{value:"token_bucket",label:"Token Bucket",disabled:"enterprise"!==s,badge:"enterprise"!==s?(0,t.jsx)(r.Badge,{size:"sm",variant:"purple-subtle",children:"Enterprise Only"}):null,subtext:"Use when occasional bursts need to be accommodated without exceeding average rate limits"}],[s]),y=g.find(e=>e.value===n)?.label;return(0,t.jsxs)(u.MenuContainer,{position:"bottom-start",children:[(0,t.jsx)(f.Tooltip,{className:"w-full",delay:!1,desktopOnly:!0,position:"top",text:"Algorithm",children:(0,t.jsx)(c.MenuButton,{align:"flex-grow","aria-label":`Rate limit algorithm ${y||""}`,disabled:x,size:"small",suffix:(0,t.jsx)(w.ChevronDown,{}),type:"secondary",width:"100%",children:(0,t.jsx)("div",{className:"flex flex-row items-center justify-start flex-1 w-full",children:(0,t.jsx)("span",{children:y||""})})})}),(0,t.jsxs)(d.Menu,{className:"w-full lg:min-w-[400px]",portalClassName:"tailwind-preflight",children:[g.map(e=>{let{value:a,label:l,subtext:r,disabled:s,badge:d}=e;return(0,t.jsx)(p.MenuItem,{disabled:s,innerMenuItemClassName:(0,i.clsx)("min-h-[78px] aria-disabled:bg-gray-100 aria-disabled:opacity-60"),onClick:()=>{o(a)},value:a,children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between gap-3 flex-1",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-1 flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-1",children:[(0,t.jsx)("p",{className:"font-medium text-gray-1000",children:l}),d||null]}),(0,t.jsx)("p",{className:"text-[13px] font-normal text-gray-900",children:r})]}),n===a?(0,t.jsx)(b.Check,{}):null]})},a)}),(0,t.jsx)(m.MenuDivider,{}),(0,t.jsx)(h.MenuLink,{href:"/docs/security/vercel-waf",innerMenuItemClassName:"min-h-[40px]",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-gray-1000",children:"Learn more about rate limits"}),(0,t.jsx)("span",{children:(0,t.jsx)(C.External,{size:16})})]})})]})]})}let Q={"header:x-vercel-rate-limit-key":"API controlled"},X=[{value:"ip",label:"IP Address"},{value:"ja4",label:"JA4 Digest"},{value:"header:user-agent",label:"User Agent"}];function Y(e){let{apiControlled:a,initialKeys:l,onChangeKeys:i,readOnly:r}=e,[s,n]=(0,N.useState)(l||["ip"]),[o,d]=(0,N.useState)(a);(0,N.useEffect)(()=>{a!==o&&(n(l||["ip"]),d(a))},[a,o,l]);let c=(0,v.useDisabled)()||r;return(0,N.useEffect)(()=>{i(s)},[i,s]),(0,t.jsx)(A.FilterSelectComponent,{allowAdd:!0,allowMulti:!0,disabled:c,filterName:"Keys",getOptions:()=>X,initialValue:s,labels:Q,onChange:e=>{let t=e.map(e=>e.trim().toLowerCase()).filter(P.isValidEdgeRateLimitKey);t.length||t.push("ip"),n(t)},placeholder:"e.g. header:authorization"})}function ee(e){let{isButton:a}=e,l=(0,v.useDisabled)(),r=(0,_.useFilterContext)();return(0,t.jsxs)("div",{className:"relative flex w-full items-center justify-center",children:[(0,t.jsx)("div",{className:(0,i.clsx)("w-px bg-gray-400",a?"h-[80px]":"h-[40px]")}),a?(0,t.jsx)(x.SplitButton,{buttonProps:{disabled:l,onClick:()=>r.addCondition(r.state.length-1),size:"small",type:"secondary"},className:"absolute",menuButtonLabel:"Add a condition or condition group",menuItems:(0,t.jsx)(x.SplitButtonMenuItem,{description:"Add a condition group",menuItemProps:{disabled:l,onClick:r.addConditionGroup},title:"OR"}),menuProps:{width:230},children:"AND"}):null]})}e.s(["BaseComponent",()=>q,"FilterBuilder",()=>H],3771277)},5120783,e=>{"use strict";var t=e.i(1146226),a=e.i(9937599),l=e.i(8626589),i=e.i(8486711),r=e.i(764581),s=e.i(2375916);e.i(3512434);var n=e.i(9835407),o=e.i(1637579),d=e.i(1361980),c=e.i(5812308),u=e.i(6284227),m=e.i(3771277);let p=[...u.stringOperators,...u.stringMatchOperators],h={title:"Country",icon:(0,t.jsx)(a.Location,{}),Component:m.BaseComponent,description:"Client country derived from IP address",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Country cannot be empty")]),resolveValues:()=>d.default.getCountries().map(e=>({label:e.name,value:e.iso2.toUpperCase()})),allowedOperators:u.stringOperators,placeholder:{value:"Type a country name.."}},x={title:"Hostname",icon:(0,t.jsx)(r.WindowGlobe,{}),Component:m.BaseComponent,description:"Hostname of the incoming request",schema:n.z.union([c.hostnameSchema,n.z.array(c.hostnameSchema).min(1,"Hostname cannot be empty")]),allowedOperators:p,placeholder:{value:"Type a hostname.."}},f={title:"Request Header",icon:(0,t.jsx)(l.Hash,{}),Component:m.BaseComponent,description:"HTTP header key and value from request",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Request header cannot be empty")]),allowedOperators:[...p,...u.keyExistsOperator],allowKey:!0,placeholder:{value:"Type a value..",key:"X-Request-Header"}},g={title:"IP Address",icon:(0,t.jsx)(r.WindowGlobe,{}),Component:m.BaseComponent,description:"Client IP address or CIDR block",schema:n.z.union([c.ipAndCidrsSchema,n.z.array(c.ipAndCidrsSchema).min(1,"IP address cannot be empty")]),allowedOperators:u.stringOperators,placeholder:{value:"e.g. 10.0.0.1, 10.0.0.1/32"}},y={title:"Method",icon:(0,t.jsx)(l.Hash,{}),Component:m.BaseComponent,description:"HTTP method of the incoming request",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Method cannot be empty")]),resolveValues:()=>[{label:"GET",value:"GET"},{label:"HEAD",value:"HEAD"},{label:"POST",value:"POST"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"},{label:"PUT",value:"PUT"},{label:"CONNECT",value:"CONNECT"},{label:"OPTIONS",value:"OPTIONS"},{label:"TRACE",value:"TRACE"},{label:"DEBUG",value:"DEBUG"},{label:"QUERY",value:"QUERY"}],allowedOperators:u.stringOperators},v={title:"Environment",icon:(0,t.jsx)(r.WindowGlobe,{}),Component:m.BaseComponent,description:"Vercel deployment environment",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Vercel environment cannot be empty")]),resolveValues:()=>[{label:"Preview",value:"preview"},{label:"Production",value:"production"}],allowedOperators:u.stringOperators},b={title:"Request Path",icon:(0,t.jsx)(i.Route,{}),Component:m.BaseComponent,description:"Normalized URL path of the request excluding query",schema:n.z.union([c.pathSchema,n.z.array(c.pathSchema).min(1,"Path cannot be empty")]),allowedOperators:p,placeholder:{value:"e.g. /api, /signup/new"}},w={title:"Route",icon:(0,t.jsx)(i.Route,{}),Component:m.BaseComponent,description:"Framework determined route pattern",schema:n.z.union([c.pathSchema,n.z.array(c.pathSchema).min(1,"Path cannot be empty")]),allowedOperators:p,placeholder:{value:"e.g. /blog/[slug]"}},j={title:"Server Action Name",icon:(0,t.jsx)(i.Route,{}),Component:m.BaseComponent,description:"Next.js server action invoked",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Server action name cannot be empty")]),allowedOperators:p,placeholder:{value:"e.g. app/lib/action.ts#getLogin"}},C={title:"Raw Path",icon:(0,t.jsx)(i.Route,{}),Component:m.BaseComponent,description:"Raw URL path of the request excluding query",schema:n.z.union([c.pathSchema,n.z.array(c.pathSchema).min(1,"Path cannot be empty")]),allowedOperators:p,placeholder:{value:"e.g. /api/, /signup/new/"}},S={title:"User Agent",icon:(0,t.jsx)(l.Hash,{}),Component:m.BaseComponent,description:"HTTP User-Agent header from client",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"User Agent cannot be empty")]),allowedOperators:p,placeholder:{value:"e.g. curl"}},N={title:"Query",icon:(0,t.jsx)(l.Hash,{}),Component:m.BaseComponent,description:"Query parameter key and value",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Query cannot be empty")]),allowedOperators:[...p,...u.keyExistsOperator],allowKey:!0,placeholder:{key:"e.g. id, postId",value:"Type a value.."}},I={title:"Cookie",icon:(0,t.jsx)(l.Hash,{}),Component:m.BaseComponent,description:"Cookie name and value from request",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Cookie cannot be empty")]),allowedOperators:[...p,...u.keyExistsOperator],allowKey:!0,placeholder:{key:"Cookie-Name",value:"Type a value.."}},_={title:"Continent",icon:(0,t.jsx)(a.Location,{}),Component:m.BaseComponent,description:"Client continent derived from IP address",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Continent cannot be empty")]),resolveValues:()=>[{label:"Africa",value:"AF"},{label:"Antarctica",value:"AN"},{label:"Asia",value:"AS"},{label:"Europe",value:"EU"},{label:"North America",value:"NA"},{label:"Oceania",value:"OC"},{label:"South America",value:"SA"}],allowedOperators:u.stringOperators},A={title:"City",icon:(0,t.jsx)(a.Location,{}),Component:m.BaseComponent,description:"Client city derived from IP address",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"City cannot be empty")]),allowedOperators:p,placeholder:{value:"Type a city name.."}},L={title:"State",icon:(0,t.jsx)(a.Location,{}),Component:m.BaseComponent,description:"Client state derived from IP address",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"State cannot be empty")]),allowedOperators:p,placeholder:{value:"Type a state abbreviation.."}},T={title:"AS Number",icon:(0,t.jsx)(a.Location,{}),Component:m.BaseComponent,description:"Autonomous System Number from client IP",schema:n.z.union([c.digitSchema,n.z.array(c.digitSchema).min(1,"AS Number cannot be empty")]),allowedOperators:p,placeholder:{value:"Digits only, ex. 12345"}},k={title:"Vercel Region",icon:(0,t.jsx)(a.Location,{}),Component:m.BaseComponent,description:"Vercel region that handled request",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Vercel Region cannot be empty")]),resolveValues:()=>Object.values(o.regions).map(e=>({label:`${e.key} - ${e.name}`,value:e.key})),allowedOperators:u.stringOperators},E={title:"Protocol",icon:(0,t.jsx)(r.WindowGlobe,{}),Component:m.BaseComponent,description:"HTTP protocol version",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Protocol cannot be empty")]),resolveValues:()=>[{label:"HTTP/1.1",value:"HTTP/1.1"},{label:"HTTP/2.0",value:"HTTP/2.0"}],allowedOperators:u.stringOperators},O={title:"JA3 Digest",icon:(0,t.jsx)(s.Shield,{}),Component:m.BaseComponent,description:"JA3 TLS fingerprint of client connection",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"JA3 cannot be empty")]),allowedOperators:p,placeholder:{value:"Type a value.."},allowedPlans:["enterprise"]},R={path:b,route:w,server_action:j,raw_path:C,method:y,user_agent:S,header:f,query:N,cookie:I,host:x,environment:v,ip_address:g,protocol:E,region:k,geo_continent:_,geo_country:h,geo_country_region:L,geo_city:A,geo_as_number:T,ja4_digest:{title:"JA4 Digest",icon:(0,t.jsx)(s.Shield,{}),Component:m.BaseComponent,description:"JA4 TLS fingerprint of client connection",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"JA4 cannot be empty")]),allowedOperators:p,placeholder:{value:"Type a value.."}},ja3_digest:O,rate_limit_api_id:{title:"@vercel/firewall",icon:(0,t.jsx)(s.Shield,{}),Component:m.BaseComponent,description:"Rate limit ID from @vercel/firewall package",schema:n.z.union([c.stringSchema,n.z.array(c.stringSchema).min(1,"Rate-limit ID cannot be empty")]),allowedOperators:[u.withIdOperator],placeholder:{value:"Rate limit ID"}},target_path:{...w,deprecated:e=>"target_path"!==e}};e.s(["baseModules",0,R])}]);

//# debugId=b0da0590-d06b-6229-5524-6efa42a10194
//# sourceMappingURL=5521a05c770875a3.js.map
;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="e5fe08c6-785b-ec5d-b46c-f387ff5184dd")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7114658,e=>{"use strict";var t=e.i(9979783),i=e.i(4244280),s=e.i(119294),l=e.i(6352514),r=e.i(4597921),n=e.i(9668517),a=e.i(28552);e.i(3182268);var o=e.i(7849855),c=e.i(455575),d=e.i(3769024);function u(){let{data:e,mutate:t,isLoading:i,isValidating:s,error:l}=(0,a.useObservabilityConfiguration)(),r=(0,n.useTeamSlug)(),{projectSlug:u}=(0,o.useProjectSlug)();return{isObservabilityPlusForProjectsFlagEnabled:m(),toggleObservabilityPlusForProject:async i=>{let{projectName:s,disabled:l}=i;if(r)try{let i=await b({teamIdOrSlug:r,projectIdOrName:s,disabled:l});if(c.toasts.success(`Observability Plus ${l?"excluded":"included"} on ${s}`),!e)return;let n=i.disabledAt?[...e.observabilityPlus.excludedProjects||[],{...i,name:s}]:e.observabilityPlus.excludedProjects?.filter(e=>e.id!==i.id);await t({observabilityPlus:{...e.observabilityPlus,excludedProjects:n}})}catch(e){c.toasts.error("An error occurred while updating the project status."),await t()}},excludedProjects:e?e.observabilityPlus.excludedProjects??[]:void 0,isCurrentProjectExcluded:!!e&&!(0,d.hasObservabilityPlusAccess)(e?.observabilityPlus,u),isValidating:s,isLoading:i||!e&&!l,hasObservabilityPlus:e?.observabilityPlus.enabled??!1}}function m(){return(0,r.useServerFlag)("enable-observability-plus-for-projects",!1)}async function b(e){let{teamIdOrSlug:r,projectIdOrName:n,disabled:a}=e,o=await (0,t.typedFetchData)(i.API_OBSERVABILITY_CONFIGURATION_FOR_PROJECT,"put",{teamId:r,projectIdOrName:n},{disabled:a},{throwOnHTTPError:!0});return s.analytics.track(a?l.AnalyticsEvent.OBSERVABILITY_PLUS_PROJECT_DISABLED:l.AnalyticsEvent.OBSERVABILITY_PLUS_PROJECT_ENABLED,{projectIdOrName:n,teamIdOrSlug:r}),o}e.s(["useObservabilityPlusForProjects",()=>u,"useObservabilityPlusForProjectsFlag",()=>m],7114658)},794055,e=>{"use strict";var t=e.i(1146226),i=e.i(6143247);function s(e){let{className:s,colors:l=["#DE2670","#8E4EC6","#6CDA76","#12A594","#0070F3"]}=e;return(0,t.jsx)("div",{className:(0,i.cn)("absolute left-0 right-0 top-0 overflow-hidden rounded-t-[11px] opacity-30 dark:opacity-60",s),children:(0,t.jsxs)("svg",{width:"678",height:"77",viewBox:"0 0 678 77",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-auto",children:[(0,t.jsxs)("g",{clipPath:"url(#clip0_124_1530)",children:[(0,t.jsx)("g",{filter:"url(#filter0_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"172.5",cy:"2",rx:"122.5",ry:"30",fill:l[0],fillOpacity:"0.4"})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter1_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"440",cy:"-8",rx:"164",ry:"30",fill:l[1]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter2_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"692",cy:"14.5",rx:"164",ry:"42.5",fill:l[2]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter3_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"755.5",cy:"14.5",rx:"68.5",ry:"37.5",fill:l[3]})}),(0,t.jsx)("g",{opacity:"0.3",filter:"url(#filter4_f_124_1530)",children:(0,t.jsx)("ellipse",{cx:"9",cy:"20",rx:"164",ry:"30",fill:l[4]})})]}),(0,t.jsxs)("defs",{children:[(0,t.jsxs)("filter",{id:"filter0_f_124_1530",x:"16.1",y:"-61.9",width:"312.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter1_f_124_1530",x:"242.1",y:"-79.9",width:"395.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter2_f_124_1530",x:"494.1",y:"-61.9",width:"395.8",height:"152.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter3_f_124_1530",x:"653.1",y:"-56.9",width:"204.8",height:"142.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsxs)("filter",{id:"filter4_f_124_1530",x:"-188.9",y:"-43.9",width:"395.8",height:"127.8",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,t.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,t.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),(0,t.jsx)("feGaussianBlur",{stdDeviation:"16.95",result:"effect1_foregroundBlur_124_1530"})]}),(0,t.jsx)("clipPath",{id:"clip0_124_1530",children:(0,t.jsx)("rect",{width:"678",height:"77",rx:"11",fill:"white"})})]})]})})}e.s(["NorthernLights",()=>s])},199192,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M6.74999 3.93933L7.28032 4.46966L10.1035 7.29288C10.4941 7.68341 10.4941 8.31657 10.1035 8.7071L7.28032 11.5303L6.74999 12.0607L5.68933 11L6.21966 10.4697L8.68933 7.99999L6.21966 5.53032L5.68933 4.99999L6.74999 3.93933Z" fill="currentColor"/>');e.s(["ChevronRightSmall",0,t])},2175076,6464673,e=>{"use strict";var t=e.i(2405338),i=e.i(277234),s=e.i(4244280),l=e.i(5338940);function r(){let{isReady:e,team:r}=(0,l.useTeam)();return(0,t.default)(()=>r&&e?`${s.API_MONITORING_SETTINGS}?teamId=${encodeURIComponent(r.id)}`:null,e=>(0,i.fetchAPI)(e,{throwOnHTTPError:!0}))}function n(e){return e.billing?.plan==="enterprise"?{days:90}:{days:30}}function a(e,t){return e.billing?.plan==="enterprise"&&"5min"===t?{minutes:5}:{hours:1}}function o(e){let{team:t,monitoringAccessOverrideFlag:i}=e,s=t.enabledInvoiceItems?.monitoring?.enabled||!1;return i||t.billing?.plan==="enterprise"||s}e.s(["useMonitoringSettings",()=>r],2175076),e.s(["getMaxRetention",()=>n,"getMinGranularity",()=>a,"isEntitledToMonitoring",()=>o],6464673)},854682,e=>{"use strict";var t=e.i(5338940),i=e.i(588428),s=e.i(2175076),l=e.i(28552),r=e.i(6464673);e.i(3182268);var n=e.i(7849855),a=e.i(7017723),o=e.i(3769024);function c(){let{isReady:e,team:c}=(0,t.useTeam)(),{projectSlug:d}=(0,n.useProjectSlug)(),u=(0,a.useIsImpersonating)(),{value:m,isReady:b}=(0,i.useMonitoringOverrideTeamFlag)(),{isLoading:g,data:x}=(0,s.useMonitoringSettings)(),{isLoading:p,data:f,mutate:h,isValidating:y}=(0,l.useObservabilityConfiguration)();return{mutate:h,ready:e&&b&&!g&&!p,...function(e){let{team:t,monitoringSettings:i,monitoringOverrideFlag:s,observabilityConfiguration:l}=e,n=((t?.billing?.plan==="enterprise"?i?.isEnabled||s:t&&(0,r.isEntitledToMonitoring)({team:t,monitoringAccessOverrideFlag:s||!1}))||s)??!1,a=l?.observabilityPlus.enabled??!1;return{hasMonitoringAccess:n||a,hasOnlyMonitoring:n}}({team:c,monitoringOverrideFlag:m,monitoringSettings:x,observabilityConfiguration:f}),hasObservabilityPlusAccess:f?.observabilityPlus.enabled??!1,hasObservabilityPlusSubscribed:f?.observabilityPlus?.subscribed??!1,isValidating:y,observabilityConfiguration:f,hasObservabilityPlusAccessOnCurrentProject:(0,o.hasObservabilityPlusAccess)(f?.observabilityPlus,d,u),impersonating:u,applyPromotion:f?.observabilityPlus?.eligiblePromotion==="BFCM-2025"}}e.s(["useHasObservabilityPlus",()=>c],854682)},6048454,7111873,e=>{"use strict";let t;function i(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s="string"==typeof e?(t??=new TextEncoder).encode(e):e,l=i+0x165667b1|0,r=0;if(s.length>=16){let e=[i+0x9e3779b1+0x85ebca77|0,i+0x85ebca77|0,i+0|0,i-0x9e3779b1|0],t=s.length-16,n=0;for(r=0;(0xfffffff0&r)<=t;r+=4){let t=r,i=0x85ebca77*(s[t+0]+(s[t+1]<<8))+((s[t+2]+(s[t+3]<<8))*0x85ebca77<<16),l=e[n]+i|0,a=65535&(l=l<<13|l>>>19),o=l>>>16;e[n]=0x9e3779b1*a+(0x9e3779b1*o<<16)|0,n=n+1&3}l=(e[0]<<1|e[0]>>>31)+(e[1]<<7|e[1]>>>25)+(e[2]<<12|e[2]>>>20)+(e[3]<<18|e[3]>>>14)|0}l=l+s.length|0;let n=s.length-4;for(;r<=n;r+=4){let e=r;l=(65535&(l=(l=l+(0xc2b2ae3d*(s[e+0]+(s[e+1]<<8))+((s[e+2]+(s[e+3]<<8))*0xc2b2ae3d<<16))|0)<<17|l>>>15))*0x27d4eb2f+((l>>>16)*0x27d4eb2f<<16)|0}for(;r<s.length;++r)l+=0x165667b1*s[r],l=(65535&(l=l<<11|l>>>21))*0x9e3779b1+((l>>>16)*0x9e3779b1<<16)|0;return l^=l>>>15,l=((65535&l)*0x85ebca77|0)+((l>>>16)*0x85ebca77<<16),l^=l>>>13,l=((65535&l)*0xc2b2ae3d|0)+((l>>>16)*0xc2b2ae3d<<16),(l^=l>>>16)<0?l+0x100000000:l}e.s(["xxHash32",()=>i],7111873),e.s([],6048454)},1233856,e=>{"use strict";var t=e.i(268049);e.i(2243470);var i=e.i(696150),s=e.i(7432042);function l(e,l){let r=(0,t.milliseconds)(l);if(r<=(0,s.default)("1d"))return new Date(Math.floor(e.getTime()/r)*r);let n=Object.keys(l)[0]?.slice(0,-1);if("week"!==n&&"month"!==n&&"year"!==n)throw Error(`Unsupported duration ${JSON.stringify(l)}`);return i.DateTime.fromMillis(e.getTime(),{zone:"UTC"}).startOf(n).toJSDate()}function r(e,t){let s=l(e,t);return s.getTime()===e.getTime()?s:i.DateTime.fromJSDate(s,{zone:"UTC"}).plus(t).toJSDate()}function n(e){return{...e,data:e.data?.map(e=>({...e,timestamp:new Date(e.timestamp)}))}}function a(e){return e.summary.some(e=>Object.values(e).includes("Others"))}e.i(6048454);let o=Symbol("FIRST_ROLLUP");function c(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if(!e?.rollups)return null;let i=t===o?Object.keys(e.rollups)[0]:t;if(!i)return null;let s=e.rollups[i];return s?{name:i,...s}:null}e.s(["FIRST_ROLLUP",0,o,"endOfDuration",()=>r,"fromApiSonarResult",()=>n,"getRollup",()=>c,"hasOthers",()=>a,"startOfDuration",()=>l])},7017723,e=>{"use strict";var t=e.i(5169864),i=e.i(512540);e.s(["useIsImpersonating",0,()=>{let[e,s]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{s("1"===i.default.get("vercel_impersonate"))},[]),e}])},3769024,e=>{"use strict";function t(e,t,i){return!!e&&(!!i||!!e.enabled&&(!t||!e.excludedProjects?.some(e=>e.name===t||e.id===t)))}e.s(["hasObservabilityPlusAccess",()=>t])},28552,e=>{"use strict";var t=e.i(4603164),i=e.i(4244280),s=e.i(5338940);function l(){let{isReady:e,team:l}=(0,s.useTeam)();return(0,t.useTypedSWR)(i.API_OBSERVABILITY_CONFIGURATION,l&&e?{teamId:l.id}:null)}e.s(["useObservabilityConfiguration",()=>l])},5269510,e=>{"use strict";function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"&",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"=",s=[];for(let t in e)if(Object.hasOwn(e,t)){let l=e[t];if(Array.isArray(l))for(let e of l)null!=e&&s.push(`${encodeURIComponent(t)}${i}${encodeURIComponent(e.toString())}`);else null!=l&&s.push(`${encodeURIComponent(t)}${i}${encodeURIComponent(l.toString())}`)}return s.join(t)}e.s(["stringify",()=>t])},9667097,e=>{"use strict";var t=e.i(1233856),i=e.i(9171423),s=e.i(4244280),l=e.i(5269510);async function r(e){let r=await (0,i.fetchApi)(`${s.API_OBSERVABILITY_METRICS}?${(0,l.stringify)(n(e.scope))}`,{method:"POST",body:JSON.stringify(e),throwOnHTTPError:!0});if(null===r||"object"!=typeof r)throw Error("Failed to fetch sonar data");return(0,t.fromApiSonarResult)(r)}function n(e){return"team-with-slug"===e.type||"project-with-slug"===e.type?{slug:e.teamSlug}:{ownerId:e.ownerId}}e.s(["getSonarData",()=>r,"getSonarTeamParam",()=>n],9667097)},4496450,e=>{"use strict";function t(e){return!i(e?.billing?.planIteration)}function i(e){return!e||"legacy"===e}e.s(["isLegacyPlanIteration",()=>i,"isOnUnbundledPricingPlan",()=>t])},7749365,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M14.5 8C14.5 11.5899 11.5899 14.5 8 14.5C4.41015 14.5 1.5 11.5899 1.5 8C1.5 4.41015 4.41015 1.5 8 1.5C11.5899 1.5 14.5 4.41015 14.5 8ZM16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM8.75 4.75V4H7.25V4.75V7.875C7.25 8.18976 7.39819 8.48615 7.65 8.675L9.55 10.1L10.15 10.55L11.05 9.35L10.45 8.9L8.75 7.625V4.75Z" fill="currentColor"/>');e.s(["Clock",0,t])},539392,e=>{"use strict";var t=e.i(9487122);function i(e){for(var i=arguments.length,s=Array(i>1?i-1:0),l=1;l<i;l++)s[l-1]=arguments[l];let r=t.constructFrom.bind(null,e||s.find(e=>"object"==typeof e));return s.map(r)}e.s(["normalizeDates",()=>i])},2632713,e=>{"use strict";var t=e.i(516467);function i(e){let i=(0,t.toDate)(e),s=new Date(Date.UTC(i.getFullYear(),i.getMonth(),i.getDate(),i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()));return s.setUTCFullYear(i.getFullYear()),e-s}e.s(["getTimezoneOffsetInMilliseconds",()=>i])},870429,e=>{"use strict";var t=e.i(2632713),i=e.i(539392),s=e.i(1511518),l=e.i(3738416);function r(e,r,n){let[a,o]=(0,i.normalizeDates)(n?.in,e,r),c=(0,l.startOfDay)(a),d=(0,l.startOfDay)(o);return Math.round((c-(0,t.getTimezoneOffsetInMilliseconds)(c)-(d-(0,t.getTimezoneOffsetInMilliseconds)(d)))/s.millisecondsInDay)}e.s(["differenceInCalendarDays",()=>r])},1438473,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M9.53033 2.21968L9 1.68935L7.93934 2.75001L8.46967 3.28034L12.4393 7.25001H1.75H1V8.75001H1.75H12.4393L8.46967 12.7197L7.93934 13.25L9 14.3107L9.53033 13.7803L14.6036 8.70711C14.9941 8.31659 14.9941 7.68342 14.6036 7.2929L9.53033 2.21968Z" fill="currentColor"/>');e.s(["ArrowRight",0,t])},2466450,e=>{"use strict";let t={long:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,maximumFractionDigits:3}),short:e=>new Intl.NumberFormat("en-US",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0})};function i(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"usd",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"auto",l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=Number(e)*l,n=100;return"string"==typeof e&&(n=1),"auto"===s&&(s=r%n==0?"short":"long"),(0,t[s])(i).format(r/n)}e.s(["formatCurrency",()=>i])},5202960,6880199,e=>{"use strict";var t=e.i(4244280),i=e.i(9979783),s=e.i(119294),l=e.i(6352514);async function r(e){let{team:r,source:n,enableTeam:a}=e,o=(await (0,i.typedFetchData)(t.API_OBSERVABILITY_CONFIGURATION,"patch",{teamId:r.id},{teamEnabled:a})).teamEnabled===a;return o&&s.analytics.track(a?l.AnalyticsEvent.OBSERVABILITY_PLUS_ENABLED:l.AnalyticsEvent.OBSERVABILITY_PLUS_DISABLED,{teamId:r.id,plan:r.billing?.plan,source:n}),o}e.s(["patchObservabilityConfiguration",()=>r],6880199),e.s([],5202960)},1509029,e=>{"use strict";var t=e.i(7432042);let i=(0,t.default)("32d"),s=(0,t.default)("25h"),l=(0,t.default)("4d"),r=(0,t.default)("14h");e.s(["FreeEntRetention",0,l,"FreeHobbyRetention",0,r,"FreeProRetention",0,s,"MeteredEvents",0,["incomingRequest","outgoingRequest","functionExecution","middlewareInvocation","aiGatewayRequest"],"PlusRetention",0,i])},5568858,3570807,e=>{"use strict";var t=e.i(1146226),i=e.i(8522580);e.i(2957938);var s=e.i(3769024),l=e.i(7432042),r=e.i(672468),n=e.i(5338940),a=e.i(1233856),o=e.i(1509029),c=e.i(9667097);async function d(e){let{teamId:t}=e,i=(0,a.startOfDuration)(new Date,{days:1}),s=new Date(i.getTime()-(0,l.default)("7d")),r=await Promise.all(o.MeteredEvents.map(async e=>{let l=await (0,c.getSonarData)({scope:{type:"owner",ownerId:t},reason:"observability_usage_estimate",event:e,rollups:{count:{measure:"count",aggregation:"sum"}},granularity:{days:1},startTime:s,endTime:i,groupBy:["projectId"],limit:5});return{event:e,data:l}})),n=new Map,d={totalEvents:0,eventBreakdown:{}};for(let{event:e,data:t}of r)for(let i of t.summary){let t=n.get(i.projectId)??0,s=Math.round((i.count??0)*4.25);n.set(i.projectId,t+s),d.totalEvents+=s,d.eventBreakdown[e]=(d.eventBreakdown[e]??0)+s}let u=r.flatMap(e=>{let{event:t,data:i}=e;return i.data.map(e=>{let{timestamp:i,count:s}=e;return{event:t,timestamp:i,value:4.25*Number(s)}})});return{eventBreakdown:d.eventBreakdown,totalEvents:Math.round(d.totalEvents),timeseries:u,eventsByProject:Array.from(n.entries()).map(e=>{let[t,i]=e;return{projectId:t,events:i}}).sort((e,t)=>t.events-e.events)}}var u=e.i(7114658),m=e.i(9736132),b=e.i(6060673),g=e.i(3869281),x=e.i(5255926),p=e.i(5169864),f=e.i(9722978);function h(){let{excludedProjects:e}=(0,u.useObservabilityPlusForProjects)(),{data:t}=function(){let{team:e}=(0,n.useTeam)();return(0,r.default)(e?.id,()=>e?d({teamId:e.id}):null)}(),{data:i}=(0,b.useProjects)(t&&e?Array.from(new Set([...e.map(e=>{let{id:t}=e;return t}),...t.eventsByProject.map(e=>{let{projectId:t}=e;return t}).slice(0,6)])):void 0,{config:{keepPreviousData:!0}});return{totalEvents:t?.eventsByProject?t.eventsByProject.reduce((t,i)=>{var l;let{projectId:r,events:n}=i;return void 0!==(l=(0,s.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},r)?t+n:t)?+l:void 0},0):void 0,excludedProjects:i?.filter(t=>!(0,s.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},t.id)),includedProjects:i?.filter(t=>(0,s.hasObservabilityPlusAccess)({excludedProjects:e,enabled:!0},t.id)),observabilityUsage:t,totalExcludedProjects:e?.length??0}}function y(e){let{observabilityUsage:i,excludedProjects:s,includedProjects:l,canConfigure:r}=e,[n,a]=(0,p.useTransition)(),{toggleObservabilityPlusForProject:o}=(0,u.useObservabilityPlusForProjects)();return(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(v,{leftColumnTitle:"Top 5 Projects *",rightColumnTitle:"~ Events in the last 30 days",children:l&&i?l.map(e=>{let s=i.eventsByProject.find(t=>t.projectId===e.id);return(0,t.jsx)(j,{disabled:n||!r,project:e,isIncluded:!0,onStatusChanged:()=>{a(async()=>{await o({projectName:e.name,disabled:!0})})},description:s?.events.toLocaleString()},e.id)}):(0,t.jsx)(t.Fragment,{children:Array.from(Array(s?.length??3).keys()).map(e=>(0,t.jsx)(j,{},e))})}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-700",children:"* Other projects can be excluded in their Observability page"})]}),(0,t.jsx)(v,{leftColumnTitle:"Excluded Projects",children:s?.map(e=>(0,t.jsx)(j,{disabled:n||!r,project:e,isIncluded:!1,onStatusChanged:()=>{a(async()=>{await o({projectName:e.name,disabled:!1})})},description:"Excluded"},e.id))})]})}function v(e){let{children:i,leftColumnTitle:s,rightColumnTitle:l}=e;return(0,t.jsxs)("div",{className:" flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 pb-1",children:[(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000",children:s}),l?(0,t.jsx)("p",{className:"text-[14px] leading-[20px] font-medium text-gray-1000 text-right",children:l}):null]}),(0,t.jsx)("div",{className:"divide-1 divide-solid divide-x-0 divide-y",children:i})]})}function j(e){let{project:i,onStatusChanged:s,isIncluded:l,description:r,disabled:n}=e;return(0,t.jsx)("div",{className:"col-span-2 border-[var(--ds-gray-200)] tabular-nums",children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-2 py-2",children:[(0,t.jsxs)("div",{className:"flex cursor-pointer items-center justify-center gap-2",onClick:s,children:[(0,t.jsx)(g.Checkbox,{checked:l,disabled:n,onChange:s}),i?(0,t.jsx)(m.FrameworkAvatar,{isDisabled:!l,size:20,project:i}):(0,t.jsx)(m.FrameworkAvatarSkeleton,{size:20}),i?(0,t.jsx)("p",{className:(0,f.default)("text-copy-14",l?"text-gray-900":"text-gray-700"),children:i.name}):(0,t.jsx)(x.Skeleton,{width:50,height:20})]}),i?(0,t.jsx)("p",{className:(0,f.default)("text-copy-14 text-right",l?"text-gray-900":"text-gray-700"),children:r}):(0,t.jsx)(x.Skeleton,{width:50,height:20})]})})}e.s(["ProjectListWithUsageEvents",()=>y,"useIncludedAndExcludedProjectWithUsageEvents",()=>h],3570807);let P={surveyName:"Disable Observability Plus User Feedback",surveySlug:"disable-observability-plus-user-feedback",surveySteps:[{title:"Observability Plus has been disabled",description:"Help us improve by sharing your feedback.",fields:[{type:"select",id:"reasons-why",label:"Any reasons for disabling Observability Plus?",selectMultiple:!0,options:[{id:"missing-features",label:"Missing features",reveals:{id:"what-were-you-missing",label:"What were you missing?"}},{id:"too-expensive",label:"Too expensive",reveals:{id:"missing-controls",label:"What controls are missing?"}},{id:"prefer-another-product",label:"I prefer another product",reveals:{id:"preferred-product",label:"Which product do you prefer?"}},{id:"not-working-as-expected",label:"It is not working as expected",reveals:{id:"what-was-not-working",label:"What was not working?"}},{id:"just-looking-around",label:"I was just looking around"},{id:"other",label:"Other",reveals:{id:"other-reason",label:"Additional comments"}}]}]}]};var w=e.i(854682);e.i(5202960);var O=e.i(6880199),I=e.i(7917902),N=e.i(1717203),C=e.i(7557283),S=e.i(364898),F=e.i(4496450);function A(){let e=h(),{can:i,isLoading:s}=(0,N.default)(),l=!s&&i(C.Action.Update,C.Resource.ObservabilityConfiguration);return(0,t.jsx)(y,{...e,canConfigure:l})}e.s(["useToggleObservabilityPlus",0,e=>{let s,{team:l}=(0,I.useAccount)(),{hasOnlyMonitoring:r,hasObservabilityPlusAccess:n,mutate:a,applyPromotion:o}=(0,w.useHasObservabilityPlus)(),{excludedProjects:c,isObservabilityPlusForProjectsFlagEnabled:d}=(0,u.useObservabilityPlusForProjects)(),m={...function(e){let{hasOnlyMonitoring:s,team:l,source:r,refresh:n,skipPostConfirm:a,applyPromotion:o}=e,c=(0,t.jsxs)(t.Fragment,{children:["By disabling Observability Plus, you will immediately lose access to all advanced metrics. Only included metrics with limited retention window will be accessible.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),(0,t.jsx)(i.Note,{type:"warning",children:"Data collected while Observability Plus was disabled will not be visible if you re-enable it."}),(0,t.jsx)("br",{})]}),d={name:"observabilityBase",price:1e3*!o,enable:async()=>{l&&(await (0,O.patchObservabilityConfiguration)({team:l,enableTeam:!0,source:r}),await n())},enableSteps:{externalConfiguration:!0,confirm:{lineItems:[...s?[{name:"Monitoring with 250K data points",price:1e3,removal:!0}]:[],{name:"Observability Plus with 1M events",price:"from_invoice_item",discountPrice:o?0:void 0,discountDescriptor:o?"during first month":void 0},{name:"On-demand events",price:120,priceDescriptor:"per 1M events",discountPrice:o?0:void 0,discountDescriptor:o?(0,t.jsx)("span",{className:"text-blue-700",children:"during first month"}):void 0}],nonProratedCustomCopy:o?void 0:(0,t.jsxs)(t.Fragment,{children:[" ","and your credit card will be charged ",(0,t.jsx)("b",{children:"immediately"}),"."]}),customCopy:(0,t.jsxs)(t.Fragment,{children:[" ","Charges for on-demand events will be billed to your credit card as accrued.",o&&(0,t.jsxs)(i.Note,{fill:!0,type:"success",className:"mt-4",children:["Limited time: Get"," ",(0,t.jsx)("span",{className:"font-bold",children:"your first month"})," of Observability Plus for free."]})]}),confirmLabel:o?"Confirm":void 0}},disableSteps:{disable:{customDisableCopy:(0,t.jsxs)(t.Fragment,{children:[c,"Disabling will take effect now, regardless of your billing cycle."]})},exitSurvey:P},disable:async()=>{l&&(await (0,O.patchObservabilityConfiguration)({team:l,enableTeam:!1,source:r}),await n())}};return l?.billing?.plan==="enterprise"&&(0,F.isLegacyPlanIteration)(l?.billing?.planIteration)&&(d.disableSteps.disable.customDisableModal=(0,t.jsxs)(t.Fragment,{children:[c,"Please reach out to your account executive to disable Observability Plus."]})),a||(d.enableSteps.postConfirmConfiguration={instructions:null,content:(0,t.jsx)(A,{})}),d}({hasOnlyMonitoring:r,team:l,refresh:a,source:e.analyticsEventSource,skipPostConfirm:e.skipPostConfirm,applyPromotion:o}),...e,isEnabled:()=>n},{isEnabled:b,openEnableOrUpdateModal:g,openDisableModal:x,AddOnModal:p,formattedPrice:f}=(0,S.useTogglePaidAddOn)(m);return d&&(s=c?.length?`${c.length} project${1===c.length?"":"s"} excluded`:"Manage projects"),{addOn:m,isObservabilityPlusEnabled:b,enableObservabilityPlus:g,disableObservabilityPlus:x,ObservabilityPlusModal:p,pricingCopy:`${f} / month`,configureUIText:s}}],5568858)},6728635,2630141,e=>{"use strict";var t=e.i(1146226);e.i(6483798);var i=e.i(8287059),s=e.i(854682),l=e.i(5568858),r=e.i(6232213),n=e.i(5338940),a=e.i(5610834),o=e.i(5169864);e.i(2957938);var c=e.i(1509029),d=e.i(7114658),u=e.i(57106),m=e.i(1717203),b=e.i(7557283),g=e.i(9722978),x=e.i(3306538),p=e.i(6891161),f=e.i(8522580),h=e.i(5255926),y=e.i(5468328),v=e.i(1438473),j=e.i(199192),P=e.i(2988836),w=e.i(7749365),O=e.i(4333930),I=e.i(3228096),N=e.i(787358),C=e.i(762945),S=e.i(218692),F=e.i(6675233),A=e.i(4099936),k=e.i(682502),E=e.i(150374),T=e.i(455575),_=e.i(4055164);e.i(5202960);var B=e.i(6880199),M=e.i(4496450);let L=Object.fromEntries(Object.entries({p75DurationMs:"function-performance",functionDurationMs:"function-performance"}).map(e=>{let[t,i]=e;return[t.toLowerCase(),i]}));function U(e){return L[e.toLowerCase()]}let D={step:"choose",isEnabling:!1},R=(0,_.create)((e,t)=>({step:"closed",team:null,projectId:null,plan:"hobby",isTrialing:!1,isEnabling:!1,isLegacyEnt:!1,hasOnlyMonitoring:!1,openedFrom:!1,setProps:t=>{let{team:i,...s}=t,l=i?.billing?.plan??"hobby";e({...s,team:i,plan:l,isTrialing:"pro"===l&&i?.billing?.status==="trialing"})},open:function(){let{from:i="observability",via:s,upgradeUseCase:l}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{team:r,onOpen:n,isTrialing:a,plan:o}=t(),c=r?.billing?.plan==="enterprise"&&!(0,M.isOnUnbundledPricingPlan)(r);e({...D,source:s,upgradeUseCase:l,openedFrom:i,isLegacyEnt:c}),n?.({from:i||void 0,via:s,legacyEnt:c,teamUpgrade:a||"hobby"===o,upgradeUseCase:l})},close:()=>{e({step:"closed"})},doNext:async()=>{let{isEnabling:i,isLegacyEnt:s,isTrialing:l,plan:r,step:n,team:a,onContactSupport:o,onOpenTeamUpgrade:c,onSuccess:d,onConversion:u,source:m,onNext:b,openedFrom:g,upgradeUseCase:x}=t();if(a&&!i){if("choose"===n&&"pro"===r&&!l){b?.({from:g||void 0,via:m,teamUpgrade:!1,upgradeUseCase:x}),e({step:"paid-addon"});return}if("choose"===n){if("hobby"===r||l)b?.({from:g||void 0,via:m,teamUpgrade:!0,upgradeUseCase:x}),c?.({addOn:{additionalConfigurations:{team:a,source:"enable-modal"},type:"observabilityPlus"},disabledSteps:["team-members"],forceImmediateUpgrade:l,source:`observability-enable-modal${m?`-${m}`:""}`,teamHint:a.id,trialBehavior:"disallow-trial",onConversionSuccess:()=>{u?.({from:g||void 0,via:m,teamUpgrade:!0,upgradeUseCase:x}),d?.({team:a})},onAbandon:t=>{t&&e({step:"closed"})}});else if(s)b?.({from:g||void 0,via:m,legacyEnt:!0,upgradeUseCase:x}),o?.({team:a});else if("enterprise"===r){b?.({from:g||void 0,via:m,upgradeUseCase:x}),e({isEnabling:!0});try{await (0,B.patchObservabilityConfiguration)({team:a,enableTeam:!0,source:"enable-modal"}),T.toasts.success("Enabled Observability Plus.")}catch(t){e({isEnabling:!1}),T.toasts.error(`Failed to enable Observability Plus${t instanceof Error?`: ${t.message}`:""}`);return}d?.({team:a}),u?.({from:g||void 0,via:m,teamUpgrade:!1,upgradeUseCase:x})}e({step:"closed",isEnabling:!1})}}}}));e.s(["getUpgradeUseCaseForColumn",()=>U,"useModalState",0,R,"useOpenEnableModal",0,()=>R(e=>e.open)],2630141);var G=e.i(3570807),$=e.i(794055),q=e.i(6143247);let H={incomingRequest:{label:"Edge Requests",description:"All requests received by the Vercel Edge Network"},outgoingRequest:{label:"External API Requests",description:"All HTTP requests made by your functions to external APIs"},functionExecution:{label:"Function Executions",description:"All executions of your Serverless and Edge Functions"},middlewareInvocation:{label:"Middleware Invocations",description:"All Edge and Node.js Middleware invocations"},aiGatewayRequest:{label:"AI Gateway Requests",description:"All requests made to the AI Gateway"}},V=e=>{let t=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2,maximumFractionDigits:2}).format(e);return t.endsWith(".00")?t.slice(0,-3):t},W=e=>{let t=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(e),i=t.endsWith(".00")?t.slice(0,-3):t;return`${i} MIU`},z=[{icon:C.Warning,title:"Anomaly Alerts",description:"Get notified when a function starts failing or usage spikes."},{icon:w.Clock,title:"30 days retention",description:"Explore data of the past 30 days across Observability and Logs."},{icon:S.LineChart,title:"Custom Queries",description:"Find exactly what you are looking for with custom queries."},{icon:E.Notebook,title:"Notebooks",description:"Save and share queries to collaborate with your team."},{icon:I.Globe,title:"External APIs Insights",description:"Dig deep into external API requests made by your functions."},{icon:O.FunctionSquare,title:"Advanced Insights",description:"Unlock insights into latency, middleware, and external APIs."}],Y={"function-performance":{title:["Get insights into ",{text:"Function Performance",icon:O.FunctionSquare}]},function:{title:["Get deeper insights into ",{text:"Functions",icon:O.FunctionSquare}]},"middleware-performance":{title:["Get insights into ",{text:"Middleware Performance",icon:N.FunctionMiddleware}]},"external-apis":{title:["Get insights into ",{text:"External APIs",icon:I.Globe}]},retention:{title:["Unlock ",{text:"30 days of retention",icon:w.Clock}]},"anomaly-alerts":{title:["Be alerted when ",{text:"Anomalies",icon:C.Warning}," arise"],color:"amber"},"query-builder":{title:["Explore your data using ",{text:"Queries",icon:S.LineChart}],color:"pink"},"bot-insights":{title:["Get insights into ",{text:"Bots",icon:F.Robot}]},"blob-insights":{title:["Get deeper insights into ",{text:"Blob",icon:A.Blob}]},rewrites:{title:["Get insights into ",{text:"External Rewrites",icon:k.ArrowCrossed}]}};function J(e){let{upgradeUseCase:i}=e,s=Y[i],l=s.color||"blue";return(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold leading-relaxed",children:s.title.map(e=>"string"==typeof e?(0,t.jsx)("span",{children:e},e):(0,t.jsxs)("span",{className:(0,g.clsx)("inline-flex items-center gap-1 rounded-sm px-1.5 text-[1.4rem] translate-y-px","blue"===l&&"text-blue-700 bg-blue-100","amber"===l&&"text-amber-800 bg-amber-100","pink"===l&&"text-pink-700 bg-pink-100"),children:[e.icon&&(0,t.jsx)(e.icon,{size:18}),e.text]},e.text))}),(0,t.jsx)("div",{className:"text-2xl font-semibold",children:"with Observability Plus"})]})}function Z(){return(0,t.jsx)("div",{className:"grid grid-cols-2 gap-x-8 gap-y-7 px-1 py-3 mb-4",children:z.map(e=>{let i=e.icon;return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(i,{color:"gray-900",size:16}),(0,t.jsx)("span",{className:"text-[15px] font-semibold text-gray-1000",children:e.title})]}),(0,t.jsx)("p",{className:"text-[14px] leading-relaxed text-gray-900",children:e.description})]},e.title)})})}function K(e){let{metric:i,count:s,loading:l}=e,r=H[i];return(0,t.jsxs)(o.default.Fragment,{children:[(0,t.jsxs)("span",{className:"flex items-center gap-1 text-sm text-gray-900",children:[r.label,r.description?(0,t.jsx)(y.Tooltip,{text:r.description,children:(0,t.jsx)(P.InformationFillSmall,{color:"gray-900"})}):null]}),l||void 0===s?(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(h.Skeleton,{height:10,width:35})}):(0,t.jsx)("span",{className:"text-right text-sm text-gray-900",children:(+s).toLocaleString()})]},i)}function Q(e){let{onClose:i,applyPromotion:s}=e,l=(0,G.useIncludedAndExcludedProjectWithUsageEvents)(),{observabilityUsage:r,totalExcludedProjects:n,totalEvents:a}=l,y=(0,d.useObservabilityPlusForProjectsFlag)(),{doNext:v,hasOnlyMonitoring:P,team:w,plan:O,upgradeUseCase:I}=R(),N=R(ee),C=R(e=>e.isLegacyEnt),S=R(et),{can:F,isLoading:A}=(0,m.default)(),k=(0,o.useMemo)(()=>!A&&F(b.Action.Update,b.Resource.ObservabilityConfiguration),[A,F]),E="enterprise"===O,T=E&&!(0,M.isLegacyPlanIteration)(w?.billing?.planIteration)?W:V,_=void 0!==a?Math.max(0,a-1e6):void 0,B=void 0!==_?_/1e6*1.2:void 0,L=void 0!==B?10*!E+B:void 0;return(0,t.jsxs)(p.Modal.Modal,{width:640,active:!0,onClickOutside:i,children:[(0,t.jsxs)(p.Modal.Body,{className:(0,q.cn)("tailwind-preflight","[--modal-padding:1.5rem_!important] md:[--modal-padding:3rem_!important]"),children:[I?(0,t.jsx)("div",{className:(0,g.clsx)("h-24 w-full absolute top-0 inset-x-0 to-transparent bg-gradient-to-b hidden md:block","amber"===Y[I].color?"from-amber-100":"pink"===Y[I].color?"from-pink-100":"from-blue-100")}):(0,t.jsx)($.NorthernLights,{className:"hidden md:block"}),(0,t.jsx)(p.Modal.Header,{children:(0,t.jsx)(p.Modal.Title,{className:"px-1 relative",children:I?(0,t.jsx)(J,{upgradeUseCase:I}):S})}),(0,t.jsx)(Z,{}),(0,t.jsxs)("div",{className:"mb-4",children:["Get more information about"," ",(0,t.jsx)(u.Link,{external:!0,href:"/docs/observability/observability-plus",variant:"highlight",children:"Observability Plus"}),"."]}),s&&(0,t.jsxs)(f.Note,{fill:!0,type:"success",label:!1,className:"my-4",children:[(0,t.jsx)(x.Badge,{className:"mr-2 bg-blue-800",capitalize:!1,children:"Black Friday / Cyber Monday"}),"Get ",(0,t.jsx)("span",{className:"font-bold",children:"your first month"})," of Observability Plus for free."]}),y?(0,t.jsx)("div",{className:"mt-2 flex flex-col",children:(0,t.jsxs)("details",{className:"group -mx-2 overflow-hidden rounded border",children:[(0,t.jsxs)("summary",{className:"flex cursor-pointer list-none items-center justify-between p-3 transition-opacity hover:opacity-80 leading-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"transition-transform group-open:rotate-90",children:(0,t.jsx)(j.ChevronRightSmall,{})}),(0,t.jsx)("span",{className:"font-medium text-gray-1000",children:"Included Projects"})]}),(0,t.jsx)("span",{className:"flex items-center gap-1 text-gray-900",children:n>0?`${n} Project${n>1?"s":""} excluded `:"All Projects"})]}),(0,t.jsx)("div",{className:"col-span-2 border-t bg-background-200 p-3 py-3.5 pl-9 tabular-nums space-y-2",children:(0,t.jsx)(G.ProjectListWithUsageEvents,{...l,canConfigure:k})})]})}):null,(0,t.jsxs)("div",{className:"mt-2 flex flex-col",children:[(0,t.jsxs)("details",{className:"group -mx-2 overflow-hidden rounded border",children:[(0,t.jsxs)("summary",{className:"flex cursor-pointer list-none items-center justify-between p-3 transition-opacity hover:opacity-80 leading-5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"transition-transform group-open:rotate-90",children:(0,t.jsx)(j.ChevronRightSmall,{})}),(0,t.jsxs)("span",{className:"font-medium text-gray-1000",children:[P?"Observability":""," Cost Estimate*",(0,t.jsxs)("div",{className:"text-label-13 text-gray-900 leading-[18px]",children:[E?null:(0,t.jsxs)(t.Fragment,{children:[T(10)," per month + "]}),T(1.2)," per million events"]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[s?(0,t.jsx)("span",{className:"text-blue-700 font-medium",children:"First month free"}):null,(0,t.jsxs)("span",{className:(0,q.cn)("flex items-center gap-1",s?"text-gray-900":"font-medium text-gray-1000"),children:[void 0!==L?`${s?"then ":""}~ ${T(L)}`:(0,t.jsx)(h.Skeleton,{height:18,width:30})," ",(0,t.jsx)("span",{children:"/ month"})]})]})]}),(0,t.jsxs)("div",{className:"",children:[(0,t.jsxs)("div",{className:(0,g.clsx)("ml-0 grid grid-cols-[2fr,1fr] items-center gap-x-1 gap-y-3 border-t border-dashed p-3 pl-9"),children:[E?null:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-sm",children:"Base Price"}),w?.billing?.planIteration!=="plus"&&(0,t.jsx)("span",{className:"text-label-13 text-gray-900",children:"Includes 1 million events, across all projects"})]}),(0,t.jsxs)("span",{className:"text-right text-sm text-gray-900",children:[T(10)," / month"]})]}),(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"text-gray-1000 text-sm",children:"Additional Events"}),(0,t.jsxs)("span",{className:"text-xs text-gray-900",children:[(0,t.jsx)("span",{children:void 0!==_?_?_.toLocaleString("en-US",{notation:"compact",maximumFractionDigits:2}):"0":(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(h.Skeleton,{className:"mr-2 inline-block h-2 w-16 translate-y-0.5",height:12,width:20})})})," ","additional events Ã— ",T(1.2)," per million"]})]}),(0,t.jsx)("span",{className:"text-right text-gray-900",children:void 0!==B?B?T(B):"No additional cost":(0,t.jsx)(h.Skeleton,{className:"inline-block",height:18,width:30})})]}),(0,t.jsx)("div",{className:"col-span-2 border-t bg-background-200 p-3 py-3.5 pl-9 tabular-nums space-y-2",children:y?(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-1000",children:"Total events in the last 30 days"}),void 0!==a?(0,t.jsx)("span",{className:"text-right text-sm text-gray-1000",children:a.toLocaleString()}):(0,t.jsx)(h.Skeleton,{height:18,width:50})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-1000",children:"Total events in the last 30 days"}),void 0!==a?(0,t.jsx)("span",{className:"text-right text-sm text-gray-1000",children:a.toLocaleString()}):(0,t.jsx)(h.Skeleton,{height:18,width:50})]}),(0,t.jsx)("div",{className:"grid grid-cols-[2fr,1fr] gap-x-4 gap-y-1",children:r?.eventBreakdown?Object.entries(r.eventBreakdown).map(e=>{let[i,s]=e;return(0,t.jsx)(K,{count:s,metric:i},i)}):(0,t.jsx)(t.Fragment,{children:c.MeteredEvents.map(e=>(0,t.jsx)(K,{loading:!0,metric:e},e))})})]})})]}),(0,t.jsx)("div",{className:"px-4 text-gray-800 pb-2 text-xs bg-background-200 pl-10",children:"* Estimate is based on your team's activity over the last 30 days. The actual cost will vary depending on future usage patterns."})]}),P?(0,t.jsxs)(f.Note,{className:"-mx-2 mt-6",type:"violet",fill:!0,children:["By migrating, your team's existing Monitoring package will be replaced by Observability Plus","pro"===O?(0,t.jsx)(t.Fragment,{children:". The price per million events has already been reduced to $1.20. The base fee remains $10."}):null]}):null,"hobby"===O?(0,t.jsx)(f.Note,{className:"-mx-2 mt-8",type:"violet",fill:!0,children:"Upgrading to Observability Plus requires a paid plan."}):null,C?(0,t.jsx)(f.Note,{className:"-mx-2 mt-2",type:"cyan",children:"To enable Observability Plus, please contact your account executive."}):null]})]}),(0,t.jsxs)(p.Modal.Actions,{children:[(0,t.jsx)(p.Modal.Action,{onClick:i,type:"secondary",children:"Dismiss"}),!C&&(0,t.jsx)(X,{text:k?void 0:"Please ask your team owners",children:(0,t.jsx)(p.Modal.Action,{disabled:!k,loading:N.loading,onClick:()=>void v(),suffix:N.suffix,type:N.type,children:N.label})})]})]})}function X(e){let{text:i,children:s}=e;return i?(0,t.jsx)(y.Tooltip,{text:i,children:s}):s}function ee(e){let{plan:i,hasOnlyMonitoring:s,isEnabling:l}=e;return"enterprise"===i?{loading:l,label:s?"Confirm and Migrate":"Confirm"}:{label:"Continue",suffix:(0,t.jsx)(v.ArrowRight,{})}}function et(e){let{plan:t,hasOnlyMonitoring:i}=e;return i?"Migrate from Monitoring to Observability Plus":"hobby"===t?"Upgrade to Pro and Observability Plus":"Upgrade to Observability Plus"}e.i(3182268);var ei=e.i(7849855);function es(e){let{onClose:i}=e,{projectSlug:s}=(0,ei.useProjectSlug)(),{toggleObservabilityPlusForProject:l}=(0,d.useObservabilityPlusForProjects)(),[r,n]=(0,o.useTransition)();return(0,t.jsxs)(p.Modal.Modal,{active:!0,onClickOutside:i,children:[(0,t.jsxs)(p.Modal.Body,{className:"tailwind-preflight",children:[(0,t.jsx)(p.Modal.Header,{children:(0,t.jsx)(p.Modal.Title,{className:"px-1",children:"Include Project in Observability Plus"})}),(0,t.jsxs)("p",{className:"text-copy-14",children:["Include ",(0,t.jsx)("span",{className:"font-medium",children:s})," in Observability Plus to unlock advanced features. This will incur additional event usage."]})]}),(0,t.jsxs)(p.Modal.Actions,{children:[(0,t.jsx)(p.Modal.Action,{onClick:i,type:"secondary",children:"Cancel"}),(0,t.jsx)(p.Modal.Action,{loading:r,onClick:()=>{s&&n(async()=>{await l({projectName:s,disabled:!1}),i()})},children:"Include Project"})]})]})}var el=e.i(7073483),er=e.i(7837522),en=e.i(7780974);function ea(){let{setProps:e,step:c,close:d,open:u,openedFrom:m,source:b,upgradeUseCase:g}=R(),{team:x}=(0,n.useTeam)(),p=(0,a.useRouter)(),{track:f}=(0,er.useTrackActivity)(),{hasOnlyMonitoring:h,mutate:y,hasObservabilityPlusAccessOnCurrentProject:v,hasObservabilityPlusAccess:j,ready:P,applyPromotion:w}=(0,s.useHasObservabilityPlus)(),O=(0,o.useCallback)(()=>{y(),p.refresh()},[p,y]),I=(0,o.useCallback)(e=>{p.push(`/help?teamSlug=${e.team.slug}`)},[p]),{enableObservabilityPlus:N,ObservabilityPlusModal:C}=(0,l.useToggleObservabilityPlus)({analyticsEventSource:"enable-modal",onSuccess:()=>{O(),k({from:m||void 0,via:b,teamUpgrade:!1,upgradeUseCase:g})},onClose:e=>{d(),e&&u({from:m||void 0,via:b,upgradeUseCase:g})},skipPostConfirm:!0}),S=(0,i.useOpenUpgradeModal)(),F=(0,o.useCallback)(e=>{f(en.VercelActivityAction.ObservabilityPlusModalOpened,e),(0,el.track)("Observability Upsell Clicked",{region:e.via??e.from??null,upgradeUseCase:e.upgradeUseCase??null})},[f]),A=(0,o.useCallback)(e=>{f(en.VercelActivityAction.ObservabilityPlusModalContinued,e)},[f]),k=(0,o.useCallback)(e=>{f(en.VercelActivityAction.ObservabilityPlusModalConverted,e),(0,el.track)("Observability Plus Conversion",{via:e.via??null,from:e.from??null,region:e.via??e.from??null,upgradeUseCase:e.upgradeUseCase??null,plan:x?.billing?.plan??"hobby"}),(0,r.postToStatsigClient)({events:[{eventName:"observability_plus_conversion",metadata:{via:e.via??""}}]})},[f,x?.billing?.plan]);return((0,o.useEffect)(()=>e({team:x,hasOnlyMonitoring:h,onContactSupport:I,onOpenTeamUpgrade:S,onSuccess:O,onOpen:F,onNext:A,onConversion:k}),[h,I,S,O,e,x,F,A,k]),(0,o.useEffect)(()=>{"paid-addon"===c&&N?.()},[N,c]),"choose"===c&&P&&j&&!v)?(0,t.jsx)(es,{onClose:d}):(0,t.jsxs)(t.Fragment,{children:["choose"===c?(0,t.jsx)(Q,{onClose:d,applyPromotion:w}):null,"paid-addon"===c?C:null]})}e.s(["EnableModal",()=>ea],6728635)}]);

//# debugId=e5fe08c6-785b-ec5d-b46c-f387ff5184dd
//# sourceMappingURL=2f27fb24a08feff4.js.map
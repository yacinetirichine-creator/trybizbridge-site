;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="fe9cfc92-6873-9940-0c6c-19d5de0fc33b")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2653412,(e,t,n)=>{var r=e.i(2957938);!function(n){var i=Object.hasOwnProperty,s=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},o="object"==typeof r.default&&"function"==typeof r.default.nextTick,a="function"==typeof Symbol,l="object"==typeof Reflect,c="function"==typeof setImmediate?setImmediate:setTimeout,u=a?l&&"function"==typeof Reflect.ownKeys?Reflect.ownKeys:function(e){var t=Object.getOwnPropertyNames(e);return t.push.apply(t,Object.getOwnPropertySymbols(e)),t}:Object.keys;function h(){this._events={},this._conf&&d.call(this,this._conf)}function d(e){e&&(this._conf=e,e.delimiter&&(this.delimiter=e.delimiter),e.maxListeners!==n&&(this._maxListeners=e.maxListeners),e.wildcard&&(this.wildcard=e.wildcard),e.newListener&&(this._newListener=e.newListener),e.removeListener&&(this._removeListener=e.removeListener),e.verboseMemoryLeak&&(this.verboseMemoryLeak=e.verboseMemoryLeak),e.ignoreErrors&&(this.ignoreErrors=e.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function f(e,t){var n="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(n+=" Event name: "+t+"."),void 0!==r.default&&r.default.emitWarning){var i=Error(n);i.name="MaxListenersExceededWarning",i.emitter=this,i.count=e,r.default.emitWarning(i)}else console.error(n),console.trace&&console.trace()}var p=function(e,t,n){var r=arguments.length;switch(r){case 0:return[];case 1:return[e];case 2:return[e,t];case 3:return[e,t,n];default:for(var i=Array(r);r--;)i[r]=arguments[r];return i}};function m(e,t){for(var r={},i=e.length,s=t?value.length:0,o=0;o<i;o++)r[e[o]]=o<s?t[o]:n;return r}function g(e,t,n){if(this._emitter=e,this._target=t,this._listeners={},this._listenersCount=0,(n.on||n.off)&&(r=n.on,i=n.off),t.addEventListener?(r=t.addEventListener,i=t.removeEventListener):t.addListener?(r=t.addListener,i=t.removeListener):t.on&&(r=t.on,i=t.off),!r&&!i)throw Error("target does not implement any known event API");if("function"!=typeof r)throw TypeError("on method must be a function");if("function"!=typeof i)throw TypeError("off method must be a function");this._on=r,this._off=i;var r,i,s=e._observers;s?s.push(this):e._observers=[this]}function v(e,t,r,s){var o,a,l,c=Object.assign({},t);if(!e)return c;if("object"!=typeof e)throw TypeError("options must be an object");var u=Object.keys(e),h=u.length;function d(e){throw Error('Invalid "'+o+'" option value'+(e?". Reason: "+e:""))}for(var f=0;f<h;f++){if(o=u[f],!s&&!i.call(t,o))throw Error('Unknown "'+o+'" option');n!==(a=e[o])&&(l=r[o],c[o]=l?l(a,d):a)}return c}function y(e,t){return"function"==typeof e&&e.hasOwnProperty("prototype")||t("value must be a constructor"),e}function b(e){var t="value must be type of "+e.join("|"),n=e.length,r=e[0],i=e[1];return 1===n?function(e,n){if(typeof e===r)return e;n(t)}:2===n?function(e,n){var s=typeof e;if(s===r||s===i)return e;n(t)}:function(r,i){for(var s=typeof r,o=n;o-- >0;)if(s===e[o])return r;i(t)}}Object.assign(g.prototype,{subscribe:function(e,t,n){var r=this,i=this._target,s=this._emitter,o=this._listeners,a=function(){var r=p.apply(null,arguments),o={data:r,name:t,original:e};if(n){!1!==n.call(i,o)&&s.emit.apply(s,[o.name].concat(r));return}s.emit.apply(s,[t].concat(r))};if(o[e])throw Error("Event '"+e+"' is already listening");this._listenersCount++,s._newListener&&s._removeListener&&!r._onNewListener?(this._onNewListener=function(n){n===t&&null===o[e]&&(o[e]=a,r._on.call(i,e,a))},s.on("newListener",this._onNewListener),this._onRemoveListener=function(n){n===t&&!s.hasListeners(n)&&o[e]&&(o[e]=null,r._off.call(i,e,a))},o[e]=null,s.on("removeListener",this._onRemoveListener)):(o[e]=a,r._on.call(i,e,a))},unsubscribe:function(e){var t,n,r,i=this,s=this._listeners,o=this._emitter,a=this._off,l=this._target;if(e&&"string"!=typeof e)throw TypeError("event must be a string");function c(){i._onNewListener&&(o.off("newListener",i._onNewListener),o.off("removeListener",i._onRemoveListener),i._onNewListener=null,i._onRemoveListener=null);var e=k.call(o,i);o._observers.splice(e,1)}if(e){if(!(t=s[e]))return;a.call(l,e,t),delete s[e],--this._listenersCount||c()}else{for(r=(n=u(s)).length;r-- >0;)e=n[r],a.call(l,e,s[e]);this._listeners={},this._listenersCount=0,c()}}});var _=b(["function"]),w=b(["object","function"]);function E(e,t,n){var r,i,s,o=0,a=new e(function(l,c,u){function h(){i&&(i=null),o&&(clearTimeout(o),o=0)}r=!(n=v(n,{timeout:0,overload:!1},{timeout:function(e,t){return("number"!=typeof(e*=1)||e<0||!Number.isFinite(e))&&t("timeout must be a positive number"),e}})).overload&&"function"==typeof e.prototype.cancel&&"function"==typeof u;var d=function(e){h(),l(e)},f=function(e){h(),c(e)};r?t(d,f,u):(i=[function(e){f(e||Error("canceled"))}],t(d,f,function(e){if(s)throw Error("Unable to subscribe on cancel event asynchronously");if("function"!=typeof e)throw TypeError("onCancel callback must be a function");i.push(e)}),s=!0),n.timeout>0&&(o=setTimeout(function(){var e=Error("timeout");e.code="ETIMEDOUT",o=0,a.cancel(e),c(e)},n.timeout))});return r||(a.cancel=function(e){if(i){for(var t=i.length,n=1;n<t;n++)i[n](e);i[0](e),i=null}}),a}function k(e){var t=this._observers;if(!t)return -1;for(var n=t.length,r=0;r<n;r++)if(t[r]._target===e)return r;return -1}function C(e,t,n,r,i){if(!n)return null;if(0===r){var s=typeof t;if("string"===s){var o,a,l=0,c=0,h=this.delimiter,d=h.length;if(-1!==(a=t.indexOf(h))){o=[,,,,,];do o[l++]=t.slice(c,a),c=a+d;while(-1!==(a=t.indexOf(h,c)))o[l++]=t.slice(c),t=o,i=l}else t=[t],i=1}else"object"===s?i=t.length:(t=[t],i=1)}var f,p,m,g,v,y,b,_=null,w=t[r],E=t[r+1];if(r===i)n._listeners&&("function"==typeof n._listeners?e&&e.push(n._listeners):e&&e.push.apply(e,n._listeners),_=[n]);else if("*"===w){for(a=(y=u(n)).length;a-- >0;)"_listeners"!==(f=y[a])&&(b=C(e,t,n[f],r+1,i))&&(_?_.push.apply(_,b):_=b);return _}else if("**"===w){for((v=r+1===i||r+2===i&&"*"===E)&&n._listeners&&(_=C(e,t,n,i,i)),a=(y=u(n)).length;a-- >0;)"_listeners"!==(f=y[a])&&("*"===f||"**"===f?(n[f]._listeners&&!v&&(b=C(e,t,n[f],i,i))&&(_?_.push.apply(_,b):_=b),b=C(e,t,n[f],r,i)):b=f===E?C(e,t,n[f],r+2,i):C(e,t,n[f],r,i),b&&(_?_.push.apply(_,b):_=b));return _}else n[w]&&(_=C(e,t,n[w],r+1,i));if((p=n["*"])&&C(e,t,p,r+1,i),m=n["**"])if(r<i)for(m._listeners&&C(e,t,m,i,i),a=(y=u(m)).length;a-- >0;)"_listeners"!==(f=y[a])&&(f===E?C(e,t,m[f],r+2,i):f===w?C(e,t,m[f],r+1,i):((g={})[f]=m[f],C(e,t,{"**":g},r+1,i)));else m._listeners?C(e,t,m,i,i):m["*"]&&m["*"]._listeners&&C(e,t,m["*"],i,i);return _}function T(e,t,n){var r,i,s=0,o=0,a=this.delimiter,l=a.length;if("string"==typeof e)if(-1!==(r=e.indexOf(a))){i=[,,,,,];do i[s++]=e.slice(o,r),o=r+l;while(-1!==(r=e.indexOf(a,o)))i[s++]=e.slice(o)}else i=[e],s=1;else i=e,s=e.length;if(s>1){for(r=0;r+1<s;r++)if("**"===i[r]&&"**"===i[r+1])return}var c,u=this.listenerTree;for(r=0;r<s;r++)if(u=u[c=i[r]]||(u[c]={}),r===s-1){u._listeners?("function"==typeof u._listeners&&(u._listeners=[u._listeners]),n?u._listeners.unshift(t):u._listeners.push(t),!u._listeners.warned&&this._maxListeners>0&&u._listeners.length>this._maxListeners&&(u._listeners.warned=!0,f.call(this,u._listeners.length,c))):u._listeners=t;break}return!0}function R(e,t,n,r){for(var i,s,o,a,l=u(e),c=l.length,h=e._listeners;c-- >0;)i=e[s=l[c]],o="_listeners"===s?n:n?n.concat(s):[s],a=r||"symbol"==typeof s,h&&t.push(a?o:o.join(this.delimiter)),"object"==typeof i&&R.call(this,i,t,o,a);return t}function S(e){for(var t,n,r,i=u(e),s=i.length;s-- >0;)(t=e[n=i[s]])&&(r=!0,"_listeners"===n||S(t)||delete e[n]);return r}function O(e,t,n){this.emitter=e,this.event=t,this.listener=n}function A(e,t,i){if(!0===i)a=!0;else if(!1===i)s=!0;else{if(!i||"object"!=typeof i)throw TypeError("options should be an object or true");var s=i.async,a=i.promisify,l=i.nextTick,u=i.objectify}if(s||l||a){var h=t,d=t._origin||t;if(l&&!o)throw Error("process.nextTick is not supported");n===a&&(a="AsyncFunction"===t.constructor.name),(t=function(){var e=arguments,t=this,n=this.event;return a?l?Promise.resolve():new Promise(function(e){c(e)}).then(function(){return t.event=n,h.apply(t,e)}):(l?r.default.nextTick:c)(function(){t.event=n,h.apply(t,e)})})._async=!0,t._origin=d}return[t,u?new O(this,e,t):this]}function L(e){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,d.call(this,e)}O.prototype.off=function(){return this.emitter.off(this.event,this.listener),this},L.EventEmitter2=L,L.prototype.listenTo=function(e,t,r){if("object"!=typeof e)throw TypeError("target musts be an object");var i=this;return r=v(r,{on:n,off:n,reducers:n},{on:_,off:_,reducers:w}),function(t){if("object"!=typeof t)throw TypeError("events must be an object");var n,s,o=r.reducers,a=k.call(i,e);n=-1===a?new g(i,e,r):i._observers[a];for(var l=u(t),c=l.length,h="function"==typeof o,d=0;d<c;d++)s=l[d],n.subscribe(s,t[s]||s,h?o:o&&o[s])}(s(t)?m(t):"string"==typeof t?m(t.split(/\s+/)):t),this},L.prototype.stopListeningTo=function(e,t){var n,r=this._observers;if(!r)return!1;var i=r.length,s=!1;if(e&&"object"!=typeof e)throw TypeError("target should be an object");for(;i-- >0;)n=r[i],e&&n._target!==e||(n.unsubscribe(t),s=!0);return s},L.prototype.delimiter=".",L.prototype.setMaxListeners=function(e){n!==e&&(this._maxListeners=e,this._conf||(this._conf={}),this._conf.maxListeners=e)},L.prototype.getMaxListeners=function(){return this._maxListeners},L.prototype.event="",L.prototype.once=function(e,t,n){return this._once(e,t,!1,n)},L.prototype.prependOnceListener=function(e,t,n){return this._once(e,t,!0,n)},L.prototype._once=function(e,t,n,r){return this._many(e,1,t,n,r)},L.prototype.many=function(e,t,n,r){return this._many(e,t,n,!1,r)},L.prototype.prependMany=function(e,t,n,r){return this._many(e,t,n,!0,r)},L.prototype._many=function(e,t,n,r,i){var s=this;if("function"!=typeof n)throw Error("many only accepts instances of Function");function o(){return 0==--t&&s.off(e,o),n.apply(this,arguments)}return o._origin=n,this._on(e,o,r,i)},L.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,n,r,i,s,o,l=arguments[0],c=this.wildcard;if("newListener"===l&&!this._newListener&&!this._events.newListener)return!1;if(c&&(o=l,"newListener"!==l&&"removeListener"!==l&&"object"==typeof l)){if(t=l.length,a){for(n=0;n<t;n++)if("symbol"==typeof l[n]){i=!0;break}}i||(l=l.join(this.delimiter))}var u=arguments.length;if(this._all&&this._all.length)for(n=0,t=(s=this._all.slice()).length;n<t;n++)switch(this.event=l,u){case 1:s[n].call(this,l);break;case 2:s[n].call(this,l,arguments[1]);break;case 3:s[n].call(this,l,arguments[1],arguments[2]);break;default:s[n].apply(this,arguments)}if(c)s=[],C.call(this,s,o,this.listenerTree,0,t);else{if("function"==typeof(s=this._events[l])){switch(this.event=l,u){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:for(r=1,e=Array(u-1);r<u;r++)e[r-1]=arguments[r];s.apply(this,e)}return!0}s&&(s=s.slice())}if(s&&s.length){if(u>3)for(r=1,e=Array(u-1);r<u;r++)e[r-1]=arguments[r];for(n=0,t=s.length;n<t;n++)switch(this.event=l,u){case 1:s[n].call(this);break;case 2:s[n].call(this,arguments[1]);break;case 3:s[n].call(this,arguments[1],arguments[2]);break;default:s[n].apply(this,e)}return!0}if(!this.ignoreErrors&&!this._all&&"error"===l)if(arguments[1]instanceof Error)throw arguments[1];else throw Error("Uncaught, unspecified 'error' event.");return!!this._all},L.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||h.call(this);var e,t,n,r,i,s,o,l=arguments[0],c=this.wildcard;if("newListener"===l&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(c&&(s=l,"newListener"!==l&&"removeListener"!==l&&"object"==typeof l)){if(t=l.length,a){for(n=0;n<t;n++)if("symbol"==typeof l[n]){o=!0;break}}o||(l=l.join(this.delimiter))}var u=[],d=arguments.length;if(this._all)for(n=0,t=this._all.length;n<t;n++)switch(this.event=l,d){case 1:u.push(this._all[n].call(this,l));break;case 2:u.push(this._all[n].call(this,l,arguments[1]));break;case 3:u.push(this._all[n].call(this,l,arguments[1],arguments[2]));break;default:u.push(this._all[n].apply(this,arguments))}if(c?(i=[],C.call(this,i,s,this.listenerTree,0)):i=this._events[l],"function"==typeof i)switch(this.event=l,d){case 1:u.push(i.call(this));break;case 2:u.push(i.call(this,arguments[1]));break;case 3:u.push(i.call(this,arguments[1],arguments[2]));break;default:for(r=1,e=Array(d-1);r<d;r++)e[r-1]=arguments[r];u.push(i.apply(this,e))}else if(i&&i.length){if(i=i.slice(),d>3)for(r=1,e=Array(d-1);r<d;r++)e[r-1]=arguments[r];for(n=0,t=i.length;n<t;n++)switch(this.event=l,d){case 1:u.push(i[n].call(this));break;case 2:u.push(i[n].call(this,arguments[1]));break;case 3:u.push(i[n].call(this,arguments[1],arguments[2]));break;default:u.push(i[n].apply(this,e))}}else if(!this.ignoreErrors&&!this._all&&"error"===l)if(arguments[1]instanceof Error)return Promise.reject(arguments[1]);else return Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(u)},L.prototype.on=function(e,t,n){return this._on(e,t,!1,n)},L.prototype.prependListener=function(e,t,n){return this._on(e,t,!0,n)},L.prototype.onAny=function(e){return this._onAny(e,!1)},L.prototype.prependAny=function(e){return this._onAny(e,!0)},L.prototype.addListener=L.prototype.on,L.prototype._onAny=function(e,t){if("function"!=typeof e)throw Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},L.prototype._on=function(e,t,r,i){if("function"==typeof e)return this._onAny(e,t),this;if("function"!=typeof t)throw Error("on only accepts instances of Function");this._events||h.call(this);var s,o=this;return(n!==i&&(t=(s=A.call(this,e,t,i))[0],o=s[1]),this._newListener&&this.emit("newListener",e,t),this.wildcard)?T.call(this,e,t,r):this._events[e]?("function"==typeof this._events[e]&&(this._events[e]=[this._events[e]]),r?this._events[e].unshift(t):this._events[e].push(t),!this._events[e].warned&&this._maxListeners>0&&this._events[e].length>this._maxListeners&&(this._events[e].warned=!0,f.call(this,this._events[e].length,e))):this._events[e]=t,o},L.prototype.off=function(e,t){if("function"!=typeof t)throw Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var i="string"==typeof e?e.split(this.delimiter):e.slice();if(!(r=C.call(this,null,i,this.listenerTree,0)))return this}else{if(!this._events[e])return this;n=this._events[e],r.push({_listeners:n})}for(var o=0;o<r.length;o++){var a=r[o];if(s(n=a._listeners)){for(var l=-1,c=0,u=n.length;c<u;c++)if(n[c]===t||n[c].listener&&n[c].listener===t||n[c]._origin&&n[c]._origin===t){l=c;break}if(l<0)continue;return this.wildcard?a._listeners.splice(l,1):this._events[e].splice(l,1),0===n.length&&(this.wildcard?delete a._listeners:delete this._events[e]),this._removeListener&&this.emit("removeListener",e,t),this}(n===t||n.listener&&n.listener===t||n._origin&&n._origin===t)&&(this.wildcard?delete a._listeners:delete this._events[e],this._removeListener&&this.emit("removeListener",e,t))}return this.listenerTree&&S(this.listenerTree),this},L.prototype.offAny=function(e){var t,n=0,r=0;if(e&&this._all&&this._all.length>0){for(n=0,r=(t=this._all).length;n<r;n++)if(e===t[n]){t.splice(n,1),this._removeListener&&this.emit("removeListenerAny",e);break}}else{if(t=this._all,this._removeListener)for(n=0,r=t.length;n<r;n++)this.emit("removeListenerAny",t[n]);this._all=[]}return this},L.prototype.removeListener=L.prototype.off,L.prototype.removeAllListeners=function(e){if(n===e)return this._events&&h.call(this),this;if(this.wildcard){var t,r=C.call(this,null,e,this.listenerTree,0);if(!r)return this;for(t=0;t<r.length;t++)r[t]._listeners=null;this.listenerTree&&S(this.listenerTree)}else this._events&&(this._events[e]=null);return this},L.prototype.listeners=function(e){var t,r,i,s,o,a=this._events;if(n===e){if(this.wildcard)throw Error("event name required for wildcard emitter");if(!a)return[];for(s=(t=u(a)).length,i=[];s-- >0;)"function"==typeof(r=a[t[s]])?i.push(r):i.push.apply(i,r);return i}if(this.wildcard){if(!(o=this.listenerTree))return[];var l=[],c="string"==typeof e?e.split(this.delimiter):e.slice();return C.call(this,l,c,o,0),l}return a&&(r=a[e])?"function"==typeof r?[r]:r:[]},L.prototype.eventNames=function(e){var t=this._events;return this.wildcard?R.call(this,this.listenerTree,[],null,e):t?u(t):[]},L.prototype.listenerCount=function(e){return this.listeners(e).length},L.prototype.hasListeners=function(e){if(this.wildcard){var t=[],r="string"==typeof e?e.split(this.delimiter):e.slice();return C.call(this,t,r,this.listenerTree,0),t.length>0}var i=this._events,s=this._all;return!!(s&&s.length||i&&(n===e?u(i).length:i[e]))},L.prototype.listenersAny=function(){return this._all?this._all:[]},L.prototype.waitFor=function(e,t){var r=this,i=typeof t;return"number"===i?t={timeout:t}:"function"===i&&(t={filter:t}),E((t=v(t,{timeout:0,filter:n,handleError:!1,Promise:Promise,overload:!1},{filter:_,Promise:y})).Promise,function(n,i,s){function o(){var s=t.filter;if(!s||s.apply(r,arguments))if(r.off(e,o),t.handleError){var a=arguments[0];a?i(a):n(p.apply(null,arguments).slice(1))}else n(p.apply(null,arguments))}s(function(){r.off(e,o)}),r._on(e,o,!1)},{timeout:t.timeout,overload:t.overload})};var j=L.prototype;if(Object.defineProperties(L,{defaultMaxListeners:{get:function(){return j._maxListeners},set:function(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw TypeError("n must be a non-negative number");j._maxListeners=e},enumerable:!0},once:{value:function(e,t,n){return E((n=v(n,{Promise:Promise,timeout:0,overload:!1},{Promise:y})).Promise,function(n,r,i){if("function"==typeof e.addEventListener){s=function(){n(p.apply(null,arguments))},i(function(){e.removeEventListener(t,s)}),e.addEventListener(t,s,{once:!0});return}var s,o,a=function(){o&&e.removeListener("error",o),n(p.apply(null,arguments))};"error"!==t&&(o=function(n){e.removeListener(t,a),r(n)},e.once("error",o)),i(function(){o&&e.removeListener("error",o),e.removeListener(t,a)}),e.once(t,a)},{timeout:n.timeout,overload:n.overload})},writable:!0,configurable:!0}}),Object.defineProperties(j,{_maxListeners:{value:10,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),"function"==typeof define&&define.amd)e.r,n!==L&&e.v(L);else t.exports=L}()},7328992,(e,t,n)=>{"use strict";var r=["ETIMEDOUT","ECONNRESET","EADDRINUSE","ESOCKETTIMEDOUT","ECONNREFUSED","EPIPE","EHOSTUNREACH","EAI_AGAIN"],i=["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED"];t.exports=function(e){return!e||!e.code||-1!==r.indexOf(e.code)||-1===i.indexOf(e.code)}},4628740,(e,t,n)=>{"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isNetworkError=o,n.isRetryableError=c,n.isSafeRequestError=u,n.isIdempotentRequestError=h,n.isNetworkOrIdempotentRequestError=d,n.exponentialDelay=f,n.default=m;var r,i=(r=e.r(7328992))&&r.__esModule?r:{default:r},s="axios-retry";function o(e){return!e.response&&!!e.code&&"ECONNABORTED"!==e.code&&(0,i.default)(e)}var a=["get","head","options"],l=a.concat(["put","delete"]);function c(e){return"ECONNABORTED"!==e.code&&(!e.response||e.response.status>=500&&e.response.status<=599)}function u(e){return!!e.config&&c(e)&&-1!==a.indexOf(e.config.method)}function h(e){return!!e.config&&c(e)&&-1!==l.indexOf(e.config.method)}function d(e){return o(e)||h(e)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=100*Math.pow(2,e),n=.2*t*Math.random();return t+n}function p(e){var t=e[s]||{};return t.retryCount=t.retryCount||0,e[s]=t,t}function m(e,t){e.interceptors.request.use(function(e){return p(e).lastRequestTime=Date.now(),e}),e.interceptors.response.use(null,function(n){var r=n.config;if(!r)return Promise.reject(n);var i=Object.assign({},t,r[s]),o=i.retries,a=i.retryCondition,l=void 0===a?d:a,c=i.retryDelay,u=i.shouldResetTimeout,h=p(r);if(l(n)&&h.retryCount<(void 0===o?3:o)){h.retryCount+=1;var f=(void 0===c?function(){return 0}:c)(h.retryCount,n);if(e.defaults.agent===r.agent&&delete r.agent,e.defaults.httpAgent===r.httpAgent&&delete r.httpAgent,e.defaults.httpsAgent===r.httpsAgent&&delete r.httpsAgent,!(void 0!==u&&u)&&r.timeout&&h.lastRequestTime){var m=Date.now()-h.lastRequestTime;r.timeout=Math.max(r.timeout-m-f,1)}return r.transformRequest=[function(e){return e}],new Promise(function(t){return setTimeout(function(){return t(e(r))},f)})}return Promise.reject(n)})}m.isNetworkError=o,m.isSafeRequestError=u,m.isIdempotentRequestError=h,m.isNetworkOrIdempotentRequestError=d,m.exponentialDelay=f,m.isRetryableError=c},542979,(e,t,n)=>{t.exports=e.r(4628740).default},3351853,(e,t,n)=>{var r=0/0,i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt,c=e.g&&e.g.Object===Object&&e.g,u="object"==typeof self&&self&&self.Object===Object&&self,h=c||u||Function("return this")(),d=Object.prototype.toString,f=Math.max,p=Math.min,m=function(){return h.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==d.call(t))return r;if(g(e)){var t,n="function"==typeof e.valueOf?e.valueOf():e;e=g(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var c=o.test(e);return c||a.test(e)?l(e.slice(2),c?2:8):s.test(e)?r:+e}t.exports=function(e,t,n){var r,i,s,o,a,l,c=0,u=!1,h=!1,d=!0;if("function"!=typeof e)throw TypeError("Expected a function");function y(t){var n=r,s=i;return r=i=void 0,c=t,o=e.apply(s,n)}function b(e){var n=e-l,r=e-c;return void 0===l||n>=t||n<0||h&&r>=s}function _(){var e,n,r,i=m();if(b(i))return w(i);a=setTimeout(_,(e=i-l,n=i-c,r=t-e,h?p(r,s-n):r))}function w(e){return(a=void 0,d&&r)?y(e):(r=i=void 0,o)}function E(){var e,n=m(),s=b(n);if(r=arguments,i=this,l=n,s){if(void 0===a)return c=e=l,a=setTimeout(_,t),u?y(e):o;if(h)return a=setTimeout(_,t),y(l)}return void 0===a&&(a=setTimeout(_,t)),o}return t=v(t)||0,g(n)&&(u=!!n.leading,s=(h="maxWait"in n)?f(v(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),E.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=l=i=a=void 0},E.flush=function(){return void 0===a?o:w(m())},E}},5601342,9357228,4228477,4810515,e=>{"use strict";let t,n,r,i,s;e.i(2957938);var o=e.i(1146226),a=e.i(5169864);let l={translations:{archiveNotification:"Archive this notification",markAllAsRead:"Mark all as read",notifications:"Notifications",emptyFeedTitle:"No notifications yet",emptyFeedBody:"We'll let you know when we've got something new for you.",all:"All",unread:"Unread",read:"Read",unseen:"Unseen",slackConnectChannel:"Connect channel",slackChannelId:"Slack channel ID",slackConnecting:"Connecting to Slack...",slackDisconnecting:"Disconnecting...",slackConnect:"Connect to Slack",slackConnected:"Connected",slackConnectContainerDescription:"Connect to get notifications in your Slack workspace.",slackSearchbarDisconnected:"Slack is not connected.",slackSearchbarMultipleChannels:"Multiple channels connected",slackSearchbarNoChannelsConnected:"Search channels",slackSearchbarNoChannelsFound:"No slack channels.",slackSearchbarChannelsError:"Error fetching channels.",slackSearchChannels:"Search channels",slackConnectionErrorExists:"Try reconnecting to Slack to find and select channels from your workspace.",slackConnectionErrorOccurred:"There was an error connecting to Slack. Try reconnecting to find and select channels from your workspace.",slackChannelAlreadyConnected:"Error: already connected",slackError:"Error",slackDisconnect:"Disconnect",slackChannelSetError:"Error setting channel.",slackAccessTokenNotSet:"Access token not set.",slackReconnect:"Reconnect"},locale:"en"},c=a.default.createContext(l);var u=e.i(2653412),h=((t=h||{}).loading="loading",t.fetchMore="fetchMore",t.ready="ready",t.error="error",t);let d={shouldSetPage:!0,shouldAppend:!1},f={items:[],metadata:{total_count:0,unread_count:0,unseen_count:0},pageInfo:{before:null,after:null,page_size:50}};var p=Object.defineProperty,m=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?p(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,n};let g={archived:"exclude"};class v{constructor(e,t,n){m(this,"userFeedId"),m(this,"channel"),m(this,"broadcaster"),m(this,"defaultOptions"),m(this,"broadcastChannel"),m(this,"disconnectTimer",null),m(this,"hasSubscribedToRealTimeUpdates",!1),m(this,"visibilityChangeHandler",()=>{}),m(this,"visibilityChangeListenerConnected",!1),m(this,"store"),this.knock=e,this.feedId=t,this.feedId=t,this.userFeedId=this.buildUserFeedId(),this.store=function(){var e;let t,n,r,i,s,o;return e=e=>({...f,networkStatus:h.ready,loading:!1,setNetworkStatus:t=>e(()=>({networkStatus:t,loading:t===h.loading})),setResult:function(t){let{entries:n,meta:r,page_info:i}=t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d;return e(e=>{let t;return{items:s.shouldAppend?(t={},e.items.concat(n).reduce((e,n)=>t[n.id]?e:(t[n.id]=!0,[...e,n]),[])).sort((e,t)=>new Date(t.inserted_at).getTime()-new Date(e.inserted_at).getTime()):n,metadata:r,pageInfo:s.shouldSetPage?i:e.pageInfo,loading:!1,networkStatus:h.ready}})},setMetadata:t=>e(()=>({metadata:t})),resetStore:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.metadata;return e(()=>({...f,metadata:t}))},setItemAttrs:(t,n)=>{let r=t.reduce((e,t)=>({...e,[t]:n}),{});return e(e=>({items:e.items.map(e=>r[e.id]?{...e,...r[e.id]}:e)}))}}),n=new Set,r=(e,r)=>{let i="function"==typeof e?e(t):e;if(i!==t){let e=t;t=r?i:Object.assign({},t,i),n.forEach(n=>n(t,e))}},i=()=>t,s=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=r(t);function a(){let n=r(t);if(!s(o,n)){let t=o;e(o=n,t)}}return n.add(a),()=>n.delete(a)},o={setState:r,getState:i,subscribe:(e,t,r)=>t||r?s(e,t,r):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()},t=e(r,i,o),o}(),this.broadcaster=new u.default({wildcard:!0,delimiter:"."}),this.defaultOptions={...g,...n},this.knock.log(`[Feed] Initialized a feed on channel ${t}`),this.initializeRealtimeConnection(),this.setupBroadcastChannel()}reinitialize(){this.userFeedId=this.buildUserFeedId(),this.initializeRealtimeConnection(),this.setupBroadcastChannel()}teardown(){this.knock.log("[Feed] Tearing down feed instance"),this.channel&&(this.channel.leave(),this.channel.off("new-message")),this.teardownAutoSocketManager(),this.disconnectTimer&&(clearTimeout(this.disconnectTimer),this.disconnectTimer=null),this.broadcastChannel&&this.broadcastChannel.close()}dispose(){this.knock.log("[Feed] Disposing of feed instance"),this.teardown(),this.broadcaster.removeAllListeners(),this.knock.feeds.removeInstance(this)}listenForUpdates(){this.knock.log("[Feed] Connecting to real-time service"),this.hasSubscribedToRealTimeUpdates=!0;let e=this.knock.client().socket;e&&!e.isConnected()&&e.connect(),this.channel&&["closed","errored"].includes(this.channel.state)&&this.channel.join()}on(e,t){this.broadcaster.on(e,t)}off(e,t){this.broadcaster.off(e,t)}getState(){return this.store.getState()}async markAsSeen(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"seen",{seen_at:t},"unseen_count"),this.makeStatusUpdate(e,"seen")}async markAllAsSeen(){let{metadata:e,items:t,...n}=this.store.getState();if("unseen"===this.defaultOptions.status)n.resetStore({...e,total_count:0,unseen_count:0});else{n.setMetadata({...e,unseen_count:0});let r={seen_at:new Date().toISOString()},i=t.map(e=>e.id);n.setItemAttrs(i,r)}let r=await this.makeBulkStatusUpdate("seen");return this.emitEvent("all_seen",t),r}async markAsUnseen(e){return this.optimisticallyPerformStatusUpdate(e,"unseen",{seen_at:null},"unseen_count"),this.makeStatusUpdate(e,"unseen")}async markAsRead(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"read",{read_at:t},"unread_count"),this.makeStatusUpdate(e,"read")}async markAllAsRead(){let{metadata:e,items:t,...n}=this.store.getState();if("unread"===this.defaultOptions.status)n.resetStore({...e,total_count:0,unread_count:0});else{n.setMetadata({...e,unread_count:0});let r={read_at:new Date().toISOString()},i=t.map(e=>e.id);n.setItemAttrs(i,r)}let r=await this.makeBulkStatusUpdate("read");return this.emitEvent("all_read",t),r}async markAsUnread(e){return this.optimisticallyPerformStatusUpdate(e,"unread",{read_at:null},"unread_count"),this.makeStatusUpdate(e,"unread")}async markAsInteracted(e){let t=new Date().toISOString();return this.optimisticallyPerformStatusUpdate(e,"interacted",{read_at:t,interacted_at:t},"unread_count"),this.makeStatusUpdate(e,"interacted")}async markAsArchived(e){let t=this.store.getState(),n="exclude"===this.defaultOptions.archived,r=Array.isArray(e)?e:[e],i=r.map(e=>e.id);if(n){let e=r.filter(e=>!e.seen_at).length,n=r.filter(e=>!e.read_at).length,s={...t.metadata,total_count:t.metadata.total_count-r.length,unseen_count:t.metadata.unseen_count-e,unread_count:t.metadata.unread_count-n},o=t.items.filter(e=>!i.includes(e.id));t.setResult({entries:o,meta:s,page_info:t.pageInfo})}else t.setItemAttrs(i,{archived_at:new Date().toISOString()});return this.makeStatusUpdate(e,"archived")}async markAllAsArchived(){let{items:e,...t}=this.store.getState();if("exclude"===this.defaultOptions.archived)t.resetStore();else{let n=e.map(e=>e.id);t.setItemAttrs(n,{archived_at:new Date().toISOString()})}let n=await this.makeBulkStatusUpdate("archive");return this.emitEvent("all_archived",e),n}async markAsUnarchived(e){return this.optimisticallyPerformStatusUpdate(e,"unarchived",{archived_at:null}),this.makeStatusUpdate(e,"unarchived")}async fetch(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{networkStatus:t,...n}=this.store.getState();if(["loading","fetchMore"].includes(t))return;n.setNetworkStatus(e.__loadingType??h.loading);let r={...this.defaultOptions,...e,__loadingType:void 0,__fetchSource:void 0,__experimentalCrossBrowserUpdates:void 0,auto_manage_socket_connection:void 0,auto_manage_socket_connection_delay:void 0},i=await this.knock.client().makeRequest({method:"GET",url:`/v1/users/${this.knock.userId}/feeds/${this.feedId}`,params:r});if("error"===i.statusCode||!i.body)return n.setNetworkStatus(h.error),{status:i.statusCode,data:i.error||i.body};let s={entries:i.body.entries,meta:i.body.meta,page_info:i.body.page_info};e.before?n.setResult(s,{shouldSetPage:!1,shouldAppend:!0}):e.after?n.setResult(s,{shouldSetPage:!0,shouldAppend:!0}):n.setResult(s),this.broadcast("messages.new",s);let o="socket"===e.__fetchSource?"items.received.realtime":"items.received.page",a={items:s.entries,metadata:s.meta,event:o};return this.broadcast(a.event,a),{data:s,status:i.statusCode}}async fetchNextPage(){let{pageInfo:e}=this.store.getState();e.after&&this.fetch({after:e.after,__loadingType:h.fetchMore})}broadcast(e,t){this.broadcaster.emit(e,t)}async onNewMessageReceived(e){let{metadata:t}=e;this.knock.log("[Feed] Received new real-time message");let{items:n,...r}=this.store.getState(),i=n[0];r.setMetadata(t),this.fetch({before:null==i?void 0:i.__cursor,__fetchSource:"socket"})}buildUserFeedId(){return`${this.feedId}:${this.knock.userId}`}optimisticallyPerformStatusUpdate(e,t,n,r){let i=this.store.getState(),s=Array.isArray(e)?e:[e],o=s.map(e=>e.id);if(r){let{metadata:e}=i,n=s.filter(e=>{switch(t){case"seen":return null===e.seen_at;case"unseen":return null!==e.seen_at;case"read":case"interacted":return null===e.read_at;case"unread":return null!==e.read_at;default:return!0}}),o=t.startsWith("un")?n.length:-n.length;i.setMetadata({...e,[r]:Math.max(0,e[r]+o)})}i.setItemAttrs(o,n)}async makeStatusUpdate(e,t){let n=Array.isArray(e)?e:[e],r=n.map(e=>e.id),i=await this.knock.messages.batchUpdateStatuses(r,t);return this.emitEvent(t,n),i}async makeBulkStatusUpdate(e){let t={user_ids:[this.knock.userId],engagement_status:"all"!==this.defaultOptions.status?this.defaultOptions.status:void 0,archived:this.defaultOptions.archived,has_tenant:this.defaultOptions.has_tenant,tenants:this.defaultOptions.tenant?[this.defaultOptions.tenant]:void 0};return await this.knock.messages.bulkUpdateAllStatusesInChannel({channelId:this.feedId,status:e,options:t})}setupBroadcastChannel(){this.broadcastChannel="u">typeof self&&"BroadcastChannel"in self?new BroadcastChannel(`knock:feed:${this.userFeedId}`):null,this.broadcastChannel&&!0===this.defaultOptions.__experimentalCrossBrowserUpdates&&(this.broadcastChannel.onmessage=e=>{switch(e.data.type){case"items:archived":case"items:unarchived":case"items:seen":case"items:unseen":case"items:read":case"items:unread":case"items:all_read":case"items:all_seen":case"items:all_archived":return this.fetch();default:return null}})}broadcastOverChannel(e,t){if(this.broadcastChannel)try{let n=JSON.parse(JSON.stringify(t));this.broadcastChannel.postMessage({type:e,payload:n})}catch(t){console.warn(`Could not broadcast ${e}, got error: ${t}`)}}initializeRealtimeConnection(){let{socket:e}=this.knock.client();e&&(this.channel=e.channel(`feeds:${this.userFeedId}`,this.defaultOptions),this.channel.on("new-message",e=>this.onNewMessageReceived(e)),this.defaultOptions.auto_manage_socket_connection&&this.setupAutoSocketManager(),this.hasSubscribedToRealTimeUpdates&&(e.isConnected()||e.connect(),this.channel.join()))}setupAutoSocketManager(){typeof document>"u"||this.visibilityChangeListenerConnected||(this.visibilityChangeHandler=this.handleVisibilityChange.bind(this),this.visibilityChangeListenerConnected=!0,document.addEventListener("visibilitychange",this.visibilityChangeHandler))}teardownAutoSocketManager(){typeof document>"u"||(document.removeEventListener("visibilitychange",this.visibilityChangeHandler),this.visibilityChangeListenerConnected=!1)}emitEvent(e,t){this.broadcaster.emit(`items.${e}`,{items:t}),this.broadcaster.emit(`items:${e}`,{items:t}),this.broadcastOverChannel(`items:${e}`,{items:t})}handleVisibilityChange(){var e;let t=this.defaultOptions.auto_manage_socket_connection_delay??2e3,n=this.knock.client();"hidden"===document.visibilityState?this.disconnectTimer=setTimeout(()=>{var e;null==(e=n.socket)||e.disconnect(),this.disconnectTimer=null},t):"visible"===document.visibilityState&&(this.disconnectTimer&&(clearTimeout(this.disconnectTimer),this.disconnectTimer=null),null!=(e=n.socket)&&e.isConnected()||this.initializeRealtimeConnection())}}var y=Object.defineProperty,b=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?y(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,n};class _{constructor(e){b(this,"instance"),b(this,"feedInstances",[]),this.instance=e}initialize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new v(this.instance,e,t);return this.feedInstances.push(n),n}removeInstance(e){this.feedInstances=this.feedInstances.filter(t=>t!==e)}teardownInstances(){for(let e of this.feedInstances)e.teardown()}reinitializeInstances(){for(let e of this.feedInstances)e.reinitialize()}}class w extends Error{}function E(e,t){return function(){return e.apply(t,arguments)}}w.prototype.name="InvalidTokenError";let{toString:k}=Object.prototype,{getPrototypeOf:C}=Object,T=(n=Object.create(null),e=>{let t=k.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}),R=e=>(e=e.toLowerCase(),t=>T(t)===e),S=e=>t=>typeof t===e,{isArray:O}=Array,A=S("undefined"),L=R("ArrayBuffer"),j=S("string"),N=S("function"),P=S("number"),I=e=>null!==e&&"object"==typeof e,x=e=>{if("object"!==T(e))return!1;let t=C(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},U=R("Date"),D=R("File"),$=R("Blob"),F=R("FileList"),M=R("URLSearchParams");function B(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if("object"!=typeof e&&(e=[e]),O(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{let r,s=i?Object.getOwnPropertyNames(e):Object.keys(e),o=s.length;for(n=0;n<o;n++)r=s[n],t.call(null,e[r],r,e)}}function q(e,t){let n;t=t.toLowerCase();let r=Object.keys(e),i=r.length;for(;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}let H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:e.g,z=e=>!A(e)&&e!==H,K=(r="undefined"!=typeof Uint8Array&&C(Uint8Array),e=>r&&e instanceof r),W=R("HTMLFormElement"),G=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),J=R("RegExp"),V=(e,t)=>{let n=Object.getOwnPropertyDescriptors(e),r={};B(n,(n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)}),Object.defineProperties(e,r)},Y="abcdefghijklmnopqrstuvwxyz",X="0123456789",Z={DIGIT:X,ALPHA:Y,ALPHA_DIGIT:Y+Y.toUpperCase()+X},Q=R("AsyncFunction"),ee={isArray:O,isArrayBuffer:L,isBuffer:function(e){return null!==e&&!A(e)&&null!==e.constructor&&!A(e.constructor)&&N(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||N(e.append)&&("formdata"===(t=T(e))||"object"===t&&N(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&L(e.buffer)},isString:j,isNumber:P,isBoolean:e=>!0===e||!1===e,isObject:I,isPlainObject:x,isUndefined:A,isDate:U,isFile:D,isBlob:$,isRegExp:J,isFunction:N,isStream:e=>I(e)&&N(e.pipe),isURLSearchParams:M,isTypedArray:K,isFileList:F,forEach:B,merge:function e(){let{caseless:t}=z(this)&&this||{},n={},r=(r,i)=>{let s=t&&q(n,i)||i;x(n[s])&&x(r)?n[s]=e(n[s],r):x(r)?n[s]=e({},r):O(r)?n[s]=r.slice():n[s]=r};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&B(arguments[e],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return B(t,(t,r)=>{n&&N(t)?e[r]=E(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o,a={};if(t=t||{},null==e)return t;do{for(s=(i=Object.getOwnPropertyNames(e)).length;s-- >0;)o=i[s],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=!1!==n&&C(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype)return t},kindOf:T,kindOfTest:R,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;let r=e.indexOf(t,n);return -1!==r&&r===n},toArray:e=>{if(!e)return null;if(O(e))return e;let t=e.length;if(!P(t))return null;let n=Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{let n,r=(e&&e[Symbol.iterator]).call(e);for(;(n=r.next())&&!n.done;){let r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let n,r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:W,hasOwnProperty:G,hasOwnProp:G,reduceDescriptors:V,freezeMethods:e=>{V(e,(t,n)=>{if(N(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;if(N(e[n])){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},toObjectSet:(e,t)=>{let n={};return(O(e)?e:String(e).split(t)).forEach(e=>{n[e]=!0}),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e*=1)?e:t,findKey:q,global:H,isContextDefined:z,ALPHABET:Z,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Z.ALPHA_DIGIT,n="",{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&N(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),n=(e,r)=>{if(I(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;let i=O(e)?[]:{};return B(e,(e,t)=>{let s=n(e,r+1);A(s)||(i[t]=s)}),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:Q,isThenable:e=>e&&(I(e)||N(e))&&N(e.then)&&N(e.catch)};var et=e.i(2174061);function en(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}ee.inherits(en,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let er=en.prototype,ei={};function es(e){return ee.isPlainObject(e)||ee.isArray(e)}function eo(e){return ee.endsWith(e,"[]")?e.slice(0,-2):e}function ea(e,t,n){return e?e.concat(t).map(function(e,t){return e=eo(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{ei[e]={value:e}}),Object.defineProperties(en,ei),Object.defineProperty(er,"isAxiosError",{value:!0}),en.from=(e,t,n,r,i,s)=>{let o=Object.create(er);return ee.toFlatObject(e,o,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),en.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};let el=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)}),ec=function(e,t,n){if(!ee.isObject(e))throw TypeError("target must be an object");t=t||new FormData;let r=(n=ee.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ee.isUndefined(t[e])})).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&ee.isSpecCompliantForm(t);if(!ee.isFunction(i))throw TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ee.isDate(e))return e.toISOString();if(!a&&ee.isBlob(e))throw new en("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(e)||ee.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):et.Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"==typeof e)if(ee.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else{var c;if(ee.isArray(e)&&(c=e,ee.isArray(c)&&!c.some(es))||(ee.isFileList(e)||ee.endsWith(n,"[]"))&&(a=ee.toArray(e)))return n=eo(n),a.forEach(function(e,r){ee.isUndefined(e)||null===e||t.append(!0===o?ea([n],r,s):null===o?n:n+"[]",l(e))}),!1}return!!es(e)||(t.append(ea(i,n,s),l(e)),!1)}let u=[],h=Object.assign(el,{defaultVisitor:c,convertValue:l,isVisitable:es});if(!ee.isObject(e))throw TypeError("data must be an object");return!function e(n,r){if(!ee.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),ee.forEach(n,function(n,s){!0===(!(ee.isUndefined(n)||null===n)&&i.call(t,n,ee.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function eu(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function eh(e,t){this._pairs=[],e&&ec(e,this,t)}let ed=eh.prototype;function ef(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ep(e,t,n){let r;if(!t)return e;let i=n&&n.encode||ef,s=n&&n.serialize;if(r=s?s(t,n):ee.isURLSearchParams(t)?t.toString():new eh(t,n).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}ed.append=function(e,t){this._pairs.push([e,t])},ed.toString=function(e){let t=e?function(t){return e.call(this,t,eu)}:eu;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};let em=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(t){null!==t&&e(t)})}},eg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ev="undefined"!=typeof URLSearchParams?URLSearchParams:eh,ey="undefined"!=typeof FormData?FormData:null,eb="undefined"!=typeof Blob?Blob:null,e_="undefined"!=typeof window&&"undefined"!=typeof document,ew=(i="undefined"!=typeof navigator&&navigator.product,e_&&0>["ReactNative","NativeScript","NS"].indexOf(i)),eE="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;e.s(["hasBrowserEnv",()=>e_,"hasStandardBrowserEnv",()=>ew,"hasStandardBrowserWebWorkerEnv",()=>eE],5108898);let ek={...e.i(5108898),isBrowser:!0,classes:{URLSearchParams:ev,FormData:ey,Blob:eb},protocols:["http","https","file","blob","url","data"]},eC=function(e){if(ee.isFormData(e)&&ee.isFunction(e.entries)){let t={};return ee.forEachEntry(e,(e,n)=>{!function e(t,n,r,i){let s=t[i++];if("__proto__"===s)return!0;let o=Number.isFinite(+s),a=i>=t.length;return(s=!s&&ee.isArray(r)?r.length:s,a)?ee.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n:(r[s]&&ee.isObject(r[s])||(r[s]=[]),e(t,n,r[s],i)&&ee.isArray(r[s])&&(r[s]=function(e){let t,n,r={},i=Object.keys(e),s=i.length;for(t=0;t<s;t++)r[n=i[t]]=e[n];return r}(r[s]))),!o}(ee.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),n,t,0)}),t}return null},eT={transitional:eg,adapter:["xhr","http"],transformRequest:[function(e,t){let n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,s=ee.isObject(e);if(s&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return i?JSON.stringify(eC(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1){var o,a;return(o=e,a=this.formSerializer,ec(o,new ek.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return ek.isNode&&ee.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},a))).toString()}if((n=ee.isFileList(e))||r.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return ec(n?{"files[]":e}:e,t&&new t,this.formSerializer)}}if(s||i){t.setContentType("application/json",!1);var l=e;if(ee.isString(l))try{return(0,JSON.parse)(l),ee.trim(l)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(l)}return e}],transformResponse:[function(e){let t=this.transitional||eT.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&ee.isString(e)&&(n&&!this.responseType||r)){let n=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!n&&r){if("SyntaxError"===e.name)throw en.from(e,en.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ek.classes.FormData,Blob:ek.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],e=>{eT.headers[e]={}});let eR=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),eS=Symbol("internals");function eO(e){return e&&String(e).trim().toLowerCase()}function eA(e){return!1===e||null==e?e:ee.isArray(e)?e.map(eA):String(e)}function eL(e,t,n,r,i){if(ee.isFunction(r))return r.call(this,t,n);if(i&&(t=n),ee.isString(t)){if(ee.isString(r))return -1!==t.indexOf(r);if(ee.isRegExp(r))return r.test(t)}}class ej{constructor(e){e&&this.set(e)}set(e,t,n){let r=this;function i(e,t,n){let i=eO(t);if(!i)throw Error("header name must be a non-empty string");let s=ee.findKey(r,i);s&&void 0!==r[s]&&!0!==n&&(void 0!==n||!1===r[s])||(r[s||t]=eA(e))}let s=(e,t)=>ee.forEach(e,(e,n)=>i(e,n,t));if(ee.isPlainObject(e)||e instanceof this.constructor)s(e,t);else{let r;if(ee.isString(e)&&(e=e.trim())&&(r=e,!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim()))){var o;let n,r,i,a;s((a={},(o=e)&&o.split("\n").forEach(function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||a[n]&&eR[n]||("set-cookie"===n?a[n]?a[n].push(r):a[n]=[r]:a[n]=a[n]?a[n]+", "+r:r)}),a),t)}else null!=e&&i(t,e,n)}return this}get(e,t){if(e=eO(e)){let n=ee.findKey(this,e);if(n){let e=this[n];if(!t)return e;if(!0===t){let t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=r.exec(e);)n[t[1]]=t[2];return n}if(ee.isFunction(t))return t.call(this,e,n);if(ee.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=eO(e)){let n=ee.findKey(this,e);return!!(n&&void 0!==this[n]&&(!t||eL(this,this[n],n,t)))}return!1}delete(e,t){let n=this,r=!1;function i(e){if(e=eO(e)){let i=ee.findKey(n,e);i&&(!t||eL(n,n[i],i,t))&&(delete n[i],r=!0)}}return ee.isArray(e)?e.forEach(i):i(e),r}clear(e){let t=Object.keys(this),n=t.length,r=!1;for(;n--;){let i=t[n];(!e||eL(this,this[i],i,e,!0))&&(delete this[i],r=!0)}return r}normalize(e){let t=this,n={};return ee.forEach(this,(r,i)=>{let s=ee.findKey(n,i);if(s){t[s]=eA(r),delete t[i];return}let o=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n):String(i).trim();o!==i&&delete t[i],t[o]=eA(r),n[o]=!0}),this}concat(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){let t=Object.create(null);return ee.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ee.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i=new this(e);return n.forEach(e=>i.set(e)),i}static accessor(e){let t=(this[eS]=this[eS]={accessors:{}}).accessors,n=this.prototype;function r(e){let r=eO(e);if(!t[r]){let i;i=ee.toCamelCase(" "+e),["get","set","has"].forEach(t=>{Object.defineProperty(n,t+i,{value:function(n,r,i){return this[t].call(this,e,n,r,i)},configurable:!0})}),t[r]=!0}}return ee.isArray(e)?e.forEach(r):r(e),this}}function eN(e,t){let n=this||eT,r=t||n,i=ej.from(r.headers),s=r.data;return ee.forEach(e,function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function eP(e){return!!(e&&e.__CANCEL__)}function eI(e,t,n){en.call(this,null==e?"canceled":e,en.ERR_CANCELED,t,n),this.name="CanceledError"}ej.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ee.reduceDescriptors(ej.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),ee.freezeMethods(ej),ee.inherits(eI,en,{__CANCEL__:!0});let ex=ek.hasStandardBrowserEnv?{write(e,t,n,r,i,s){let o=[e+"="+encodeURIComponent(t)];ee.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ee.isString(r)&&o.push("path="+r),ee.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function eU(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e:t}let eD=ek.hasStandardBrowserEnv?function(){let e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){let r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){let n=ee.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},e$=function(e,t){let n,r=Array(e=e||10),i=Array(e),s=0,o=0;return t=void 0!==t?t:1e3,function(a){let l=Date.now(),c=i[o];n||(n=l),r[s]=a,i[s]=l;let u=o,h=0;for(;u!==s;)h+=r[u++],u%=e;if((s=(s+1)%e)===o&&(o=(o+1)%e),l-n<t)return;let d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function eF(e,t){let n=0,r=e$(50,250);return i=>{let s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;let c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}let eM={http:null,xhr:"undefined"!=typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){let r,i,s,o=e.data,a=ej.from(e.headers).normalize(),{responseType:l,withXSRFToken:c}=e;function u(){e.cancelToken&&e.cancelToken.unsubscribe(i),e.signal&&e.signal.removeEventListener("abort",i)}if(ee.isFormData(o)){if(ek.hasStandardBrowserEnv||ek.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if(!1!==(s=a.getContentType())){let[e,...t]=s?s.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}}let h=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(t+":"+n))}let d=eU(e.baseURL,e.url);function f(){let r;if(!h)return;let i=ej.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders()),s={data:l&&"text"!==l&&"json"!==l?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:i,config:e,request:h};r=s.config.validateStatus,!s.status||!r||r(s.status)?function(e){t(e),u()}(s):function(e){n(e),u()}(new en("Request failed with status code "+s.status,[en.ERR_BAD_REQUEST,en.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)),h=null}if(h.open(e.method.toUpperCase(),ep(d,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){!h||4!==h.readyState||(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(n(new en("Request aborted",en.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new en("Network Error",en.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||eg;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new en(t,r.clarifyTimeoutError?en.ETIMEDOUT:en.ECONNABORTED,e,h)),h=null},ek.hasStandardBrowserEnv&&(c&&ee.isFunction(c)&&(c=c(e)),c||!1!==c&&eD(d))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&ex.read(e.xsrfCookieName);t&&a.set(e.xsrfHeaderName,t)}void 0===o&&a.setContentType(null),"setRequestHeader"in h&&ee.forEach(a.toJSON(),function(e,t){h.setRequestHeader(t,e)}),ee.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),l&&"json"!==l&&(h.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",eF(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",eF(e.onUploadProgress)),(e.cancelToken||e.signal)&&(i=t=>{h&&(n(!t||t.type?new eI(null,e,h):t),h.abort(),h=null)},e.cancelToken&&e.cancelToken.subscribe(i),e.signal&&(e.signal.aborted?i():e.signal.addEventListener("abort",i)));let p=(r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(d))&&r[1]||"";p&&-1===ek.protocols.indexOf(p)?n(new en("Unsupported protocol "+p+":",en.ERR_BAD_REQUEST,e)):h.send(o||null)})}};ee.forEach(eM,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let eB=e=>`- ${e}`,eq=e=>ee.isFunction(e)||null===e||!1===e,eH=e=>{let t,n,{length:r}=e=ee.isArray(e)?e:[e],i={};for(let s=0;s<r;s++){let r;if(n=t=e[s],!eq(t)&&void 0===(n=eM[(r=String(t)).toLowerCase()]))throw new en(`Unknown adapter '${r}'`);if(n)break;i[r||"#"+s]=n}if(!n){let e=Object.entries(i).map(e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")});throw new en("There is no suitable adapter to dispatch the request "+(r?e.length>1?"since :\n"+e.map(eB).join("\n"):" "+eB(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return n};function ez(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new eI(null,e)}function eK(e){return ez(e),e.headers=ej.from(e.headers),e.data=eN.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),eH(e.adapter||eT.adapter)(e).then(function(t){return ez(e),t.data=eN.call(e,e.transformResponse,t),t.headers=ej.from(t.headers),t},function(t){return!eP(t)&&(ez(e),t&&t.response&&(t.response.data=eN.call(e,e.transformResponse,t.response),t.response.headers=ej.from(t.response.headers))),Promise.reject(t)})}let eW=e=>e instanceof ej?e.toJSON():e;function eG(e,t){t=t||{};let n={};function r(e,t,n){return ee.isPlainObject(e)&&ee.isPlainObject(t)?ee.merge.call({caseless:n},e,t):ee.isPlainObject(t)?ee.merge({},t):ee.isArray(t)?t.slice():t}function i(e,t,n){return ee.isUndefined(t)?ee.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!ee.isUndefined(t))return r(void 0,t)}function o(e,t){return ee.isUndefined(t)?ee.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}let l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(eW(e),eW(t),!0)};return ee.forEach(Object.keys(Object.assign({},e,t)),function(r){let s=l[r]||i,o=s(e[r],t[r],r);ee.isUndefined(o)&&s!==a||(n[r]=o)}),n}let eJ="1.6.7",eV={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{eV[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});let eY={};eV.transitional=function(e,t,n){function r(e,t){return"[Axios v"+eJ+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new en(r(i," has been removed"+(t?" in "+t:"")),en.ERR_DEPRECATED);return t&&!eY[i]&&(eY[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};let eX=function(e,t,n){if("object"!=typeof e)throw new en("options must be an object",en.ERR_BAD_OPTION_VALUE);let r=Object.keys(e),i=r.length;for(;i-- >0;){let s=r[i],o=t[s];if(o){let t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new en("option "+s+" must be "+n,en.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new en("Unknown option "+s,en.ERR_BAD_OPTION)}};class eZ{constructor(e){this.defaults=e,this.interceptors={request:new em,response:new em}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=Error();let n=t.stack?t.stack.replace(/^.+\n/,""):"";e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}throw e}}_request(e,t){let n,r;"string"==typeof e?(t=t||{}).url=e:t=e||{};let{transitional:i,paramsSerializer:s,headers:o}=t=eG(this.defaults,t);void 0!==i&&eX(i,{silentJSONParsing:eV.transitional(eV.boolean),forcedJSONParsing:eV.transitional(eV.boolean),clarifyTimeoutError:eV.transitional(eV.boolean)},!1),null!=s&&(ee.isFunction(s)?t.paramsSerializer={serialize:s}:eX(s,{encode:eV.function,serialize:eV.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=o&&ee.merge(o.common,o[t.method]);o&&ee.forEach(["delete","get","head","post","put","patch","common"],e=>{delete o[e]}),t.headers=ej.concat(a,o);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let h=0;if(!c){let e=[eK.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,u),r=e.length,n=Promise.resolve(t);h<r;)n=n.then(e[h++],e[h++]);return n}r=l.length;let d=t;for(h=0;h<r;){let e=l[h++],t=l[h++];try{d=e(d)}catch(e){t.call(this,e);break}}try{n=eK.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,r=u.length;h<r;)n=n.then(u[h++],u[h++]);return n}getUri(e){return ep(eU((e=eG(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ee.forEach(["delete","get","head","options"],function(e){eZ.prototype[e]=function(t,n){return this.request(eG(n||{},{method:e,url:t,data:(n||{}).data}))}}),ee.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,i){return this.request(eG(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}eZ.prototype[e]=t(),eZ.prototype[e+"Form"]=t(!0)});class eQ{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t,r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,i){n.reason||(n.reason=new eI(e,r,i),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new eQ(function(t){e=t}),cancel:e}}}let e0={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(e0).forEach(e=>{let[t,n]=e;e0[n]=t});let e1=function e(t){let n=new eZ(t),r=E(eZ.prototype.request,n);return ee.extend(r,eZ.prototype,n,{allOwnKeys:!0}),ee.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(eG(t,n))},r}(eT);e1.Axios=eZ,e1.CanceledError=eI,e1.CancelToken=eQ,e1.isCancel=eP,e1.VERSION=eJ,e1.toFormData=ec,e1.AxiosError=en,e1.Cancel=e1.CanceledError,e1.all=function(e){return Promise.all(e)},e1.spread=function(e){return function(t){return e.apply(null,t)}},e1.isAxiosError=function(e){return ee.isObject(e)&&!0===e.isAxiosError},e1.mergeConfig=eG,e1.AxiosHeaders=ej,e1.formToJSON=e=>eC(ee.isHTMLForm(e)?new FormData(e):e),e1.getAdapter=eH,e1.HttpStatusCode=e0,e1.default=e1;var e4=e.i(542979),e2=e=>"function"==typeof e?e:function(){return e},e9="undefined"!=typeof window?window:null,e5=("undefined"!=typeof self?self:null)||e9||e5,e3="closed",e8="errored",e7="joined",e6="joining",te="leaving",tt="phx_close",tn="phx_error",tr="phx_reply",ti="phx_leave",ts="websocket",to=class{constructor(e,t,n,r){this.channel=e,this.event=t,this.payload=n||function(){return{}},this.receivedResp=null,this.timeout=r,this.timeoutTimer=null,this.recHooks=[],this.sent=!1}resend(e){this.timeout=e,this.reset(),this.send()}send(){this.hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload(),ref:this.ref,join_ref:this.channel.joinRef()}))}receive(e,t){return this.hasReceived(e)&&t(this.receivedResp.response),this.recHooks.push({status:e,callback:t}),this}reset(){this.cancelRefEvent(),this.ref=null,this.refEvent=null,this.receivedResp=null,this.sent=!1}matchReceive(e){let{status:t,response:n,_ref:r}=e;this.recHooks.filter(e=>e.status===t).forEach(e=>e.callback(n))}cancelRefEvent(){this.refEvent&&this.channel.off(this.refEvent)}cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=null}startTimeout(){this.timeoutTimer&&this.cancelTimeout(),this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this.cancelRefEvent(),this.cancelTimeout(),this.receivedResp=e,this.matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}trigger(e,t){this.channel.trigger(this.refEvent,{status:e,response:t})}},ta=class{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=null,this.tries=0}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}},tl=class{constructor(e,t,n){this.state=e3,this.topic=e,this.params=e2(t||{}),this.socket=n,this.bindings=[],this.bindingRef=0,this.timeout=this.socket.timeout,this.joinedOnce=!1,this.joinPush=new to(this,"phx_join",this.params,this.timeout),this.pushBuffer=[],this.stateChangeRefs=[],this.rejoinTimer=new ta(()=>{this.socket.isConnected()&&this.rejoin()},this.socket.rejoinAfterMs),this.stateChangeRefs.push(this.socket.onError(()=>this.rejoinTimer.reset())),this.stateChangeRefs.push(this.socket.onOpen(()=>{this.rejoinTimer.reset(),this.isErrored()&&this.rejoin()})),this.joinPush.receive("ok",()=>{this.state=e7,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this.joinPush.receive("error",()=>{this.state=e8,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.hasLogger()&&this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=e3,this.socket.remove(this)}),this.onError(e=>{this.socket.hasLogger()&&this.socket.log("channel",`error ${this.topic}`,e),this.isJoining()&&this.joinPush.reset(),this.state=e8,this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.joinPush.receive("timeout",()=>{this.socket.hasLogger()&&this.socket.log("channel",`timeout ${this.topic} (${this.joinRef()})`,this.joinPush.timeout),new to(this,ti,e2({}),this.timeout).send(),this.state=e8,this.joinPush.reset(),this.socket.isConnected()&&this.rejoinTimer.scheduleTimeout()}),this.on(tr,(e,t)=>{this.trigger(this.replyEventName(t),e)})}join(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;if(!this.joinedOnce)return this.timeout=e,this.joinedOnce=!0,this.rejoin(),this.joinPush;throw Error("tried to join multiple times. 'join' can only be called a single time per channel instance")}onClose(e){this.on(tt,e)}onError(e){return this.on(tn,t=>e(t))}on(e,t){let n=this.bindingRef++;return this.bindings.push({event:e,ref:n,callback:t}),n}off(e,t){this.bindings=this.bindings.filter(n=>n.event!==e||void 0!==t&&t!==n.ref)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(t=t||{},!this.joinedOnce)throw Error(`tried to push '${e}' to '${this.topic}' before joining. Use channel.join() before pushing events`);let r=new to(this,e,function(){return t},n);return this.canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}leave(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.rejoinTimer.reset(),this.joinPush.cancelTimeout(),this.state=te;let t=()=>{this.socket.hasLogger()&&this.socket.log("channel",`leave ${this.topic}`),this.trigger(tt,"leave")},n=new to(this,ti,e2({}),e);return n.receive("ok",()=>t()).receive("timeout",()=>t()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,t,n){return t}isMember(e,t,n,r){return this.topic===e&&(!r||r===this.joinRef()||(this.socket.hasLogger()&&this.socket.log("channel","dropping outdated message",{topic:e,event:t,payload:n,joinRef:r}),!1))}joinRef(){return this.joinPush.ref}rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=e6,this.joinPush.resend(e))}trigger(e,t,n,r){let i=this.onMessage(e,t,n,r);if(t&&!i)throw Error("channel onMessage callbacks must return the payload, modified or unmodified");let s=this.bindings.filter(t=>t.event===e);for(let e=0;e<s.length;e++)s[e].callback(i,n,r||this.joinRef())}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===e3}isErrored(){return this.state===e8}isJoined(){return this.state===e7}isJoining(){return this.state===e6}isLeaving(){return this.state===te}},tc=class{static request(e,t,n,r,i,s,o){if(e5.XDomainRequest){let n=new e5.XDomainRequest;return this.xdomainRequest(n,e,t,r,i,s,o)}{let a=new e5.XMLHttpRequest;return this.xhrRequest(a,e,t,n,r,i,s,o)}}static xdomainRequest(e,t,n,r,i,s,o){return e.timeout=i,e.open(t,n),e.onload=()=>{let t=this.parseJSON(e.responseText);o&&o(t)},s&&(e.ontimeout=s),e.onprogress=()=>{},e.send(r),e}static xhrRequest(e,t,n,r,i,s,o,a){return e.open(t,n,!0),e.timeout=s,e.setRequestHeader("Content-Type",r),e.onerror=()=>a&&a(null),e.onreadystatechange=()=>{4===e.readyState&&a&&a(this.parseJSON(e.responseText))},o&&(e.ontimeout=o),e.send(i),e}static parseJSON(e){if(!e||""===e)return null;try{return JSON.parse(e)}catch(t){return console&&console.log("failed to parse JSON response",e),null}}static serialize(e,t){let n=[];for(var r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;let i=t?`${t}[${r}]`:r,s=e[r];"object"==typeof s?n.push(this.serialize(s,i)):n.push(encodeURIComponent(i)+"="+encodeURIComponent(s))}return n.join("&")}static appendParams(e,t){if(0===Object.keys(t).length)return e;let n=e.match(/\?/)?"&":"?";return`${e}${n}${this.serialize(t)}`}},tu=class{constructor(e){this.endPoint=null,this.token=null,this.skipHeartbeat=!0,this.reqs=new Set,this.onopen=function(){},this.onerror=function(){},this.onmessage=function(){},this.onclose=function(){},this.pollEndpoint=this.normalizeEndpoint(e),this.readyState=0,this.poll()}normalizeEndpoint(e){return e.replace("ws://","http://").replace("wss://","https://").replace(RegExp("(.*)/"+ts),"$1/longpoll")}endpointURL(){return tc.appendParams(this.pollEndpoint,{token:this.token})}closeAndRetry(e,t,n){this.close(e,t,n),this.readyState=0}ontimeout(){this.onerror("timeout"),this.closeAndRetry(1005,"timeout",!1)}isActive(){return 1===this.readyState||0===this.readyState}poll(){this.ajax("GET",null,()=>this.ontimeout(),e=>{if(e){var{status:t,token:n,messages:r}=e;this.token=n}else t=0;switch(t){case 200:r.forEach(e=>{setTimeout(()=>this.onmessage({data:e}),0)}),this.poll();break;case 204:this.poll();break;case 410:this.readyState=1,this.onopen({}),this.poll();break;case 403:this.onerror(403),this.close(1008,"forbidden",!1);break;case 0:case 500:this.onerror(500),this.closeAndRetry(1011,"internal server error",500);break;default:throw Error(`unhandled poll status ${t}`)}})}send(e){this.ajax("POST",e,()=>this.onerror("timeout"),e=>{e&&200===e.status||(this.onerror(e&&e.status),this.closeAndRetry(1011,"internal server error",!1))})}close(e,t,n){for(let e of this.reqs)e.abort();this.readyState=3;let r=Object.assign({code:1e3,reason:void 0,wasClean:!0},{code:e,reason:t,wasClean:n});"undefined"!=typeof CloseEvent?this.onclose(new CloseEvent("close",r)):this.onclose(r)}ajax(e,t,n,r){let i,s=()=>{this.reqs.delete(i),n()};i=tc.request(e,this.endpointURL(),"application/json",t,this.timeout,s,e=>{this.reqs.delete(i),this.isActive()&&r(e)}),this.reqs.add(i)}},th={HEADER_LENGTH:1,META_LENGTH:4,KINDS:{push:0,reply:1,broadcast:2},encode(e,t){return e.payload.constructor===ArrayBuffer?t(this.binaryEncode(e)):t(JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload]))},decode(e,t){if(e.constructor===ArrayBuffer)return t(this.binaryDecode(e));{let[n,r,i,s,o]=JSON.parse(e);return t({join_ref:n,ref:r,topic:i,event:s,payload:o})}},binaryEncode(e){let{join_ref:t,ref:n,event:r,topic:i,payload:s}=e,o=this.META_LENGTH+t.length+n.length+i.length+r.length,a=new ArrayBuffer(this.HEADER_LENGTH+o),l=new DataView(a),c=0;l.setUint8(c++,this.KINDS.push),l.setUint8(c++,t.length),l.setUint8(c++,n.length),l.setUint8(c++,i.length),l.setUint8(c++,r.length),Array.from(t,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(n,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(i,e=>l.setUint8(c++,e.charCodeAt(0))),Array.from(r,e=>l.setUint8(c++,e.charCodeAt(0)));var u=new Uint8Array(a.byteLength+s.byteLength);return u.set(new Uint8Array(a),0),u.set(new Uint8Array(s),a.byteLength),u.buffer},binaryDecode(e){let t=new DataView(e),n=t.getUint8(0),r=new TextDecoder;switch(n){case this.KINDS.push:return this.decodePush(e,t,r);case this.KINDS.reply:return this.decodeReply(e,t,r);case this.KINDS.broadcast:return this.decodeBroadcast(e,t,r)}},decodePush(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=t.getUint8(3),o=this.HEADER_LENGTH+this.META_LENGTH-1,a=n.decode(e.slice(o,o+r));o+=r;let l=n.decode(e.slice(o,o+i));o+=i;let c=n.decode(e.slice(o,o+s));return o+=s,{join_ref:a,ref:null,topic:l,event:c,payload:e.slice(o,e.byteLength)}},decodeReply(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=t.getUint8(3),o=t.getUint8(4),a=this.HEADER_LENGTH+this.META_LENGTH,l=n.decode(e.slice(a,a+r));a+=r;let c=n.decode(e.slice(a,a+i));a+=i;let u=n.decode(e.slice(a,a+s));a+=s;let h=n.decode(e.slice(a,a+o));return a+=o,{join_ref:l,ref:c,topic:u,event:tr,payload:{status:h,response:e.slice(a,e.byteLength)}}},decodeBroadcast(e,t,n){let r=t.getUint8(1),i=t.getUint8(2),s=this.HEADER_LENGTH+2,o=n.decode(e.slice(s,s+r));s+=r;let a=n.decode(e.slice(s,s+i));return s+=i,{join_ref:null,ref:null,topic:o,event:a,payload:e.slice(s,e.byteLength)}}},td=class{constructor(e,t={}){this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.channels=[],this.sendBuffer=[],this.ref=0,this.timeout=t.timeout||1e4,this.transport=t.transport||e5.WebSocket||tu,this.establishedConnections=0,this.defaultEncoder=th.encode.bind(th),this.defaultDecoder=th.decode.bind(th),this.closeWasClean=!1,this.binaryType=t.binaryType||"arraybuffer",this.connectClock=1,this.transport!==tu?(this.encode=t.encode||this.defaultEncoder,this.decode=t.decode||this.defaultDecoder):(this.encode=this.defaultEncoder,this.decode=this.defaultDecoder);let n=null;e9&&e9.addEventListener&&(e9.addEventListener("pagehide",e=>{this.conn&&(this.disconnect(),n=this.connectClock)}),e9.addEventListener("pageshow",e=>{n===this.connectClock&&(n=null,this.connect())})),this.heartbeatIntervalMs=t.heartbeatIntervalMs||3e4,this.rejoinAfterMs=e=>t.rejoinAfterMs?t.rejoinAfterMs(e):[1e3,2e3,5e3][e-1]||1e4,this.reconnectAfterMs=e=>t.reconnectAfterMs?t.reconnectAfterMs(e):[10,50,100,150,200,250,500,1e3,2e3][e-1]||5e3,this.logger=t.logger||null,this.longpollerTimeout=t.longpollerTimeout||2e4,this.params=e2(t.params||{}),this.endPoint=`${e}/${ts}`,this.vsn=t.vsn||"2.0.0",this.heartbeatTimeoutTimer=null,this.heartbeatTimer=null,this.pendingHeartbeatRef=null,this.reconnectTimer=new ta(()=>{this.teardown(()=>this.connect())},this.reconnectAfterMs)}getLongPollTransport(){return tu}replaceTransport(e){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.sendBuffer=[],this.conn&&(this.conn.close(),this.conn=null),this.transport=e}protocol(){return location.protocol.match(/^https/)?"wss":"ws"}endPointURL(){let e=tc.appendParams(tc.appendParams(this.endPoint,this.params()),{vsn:this.vsn});return"/"!==e.charAt(0)?e:"/"===e.charAt(1)?`${this.protocol()}:${e}`:`${this.protocol()}://${location.host}${e}`}disconnect(e,t,n){this.connectClock++,this.closeWasClean=!0,this.reconnectTimer.reset(),this.teardown(e,t,n)}connect(e){e&&(console&&console.log("passing params to connect is deprecated. Instead pass :params to the Socket constructor"),this.params=e2(e)),this.conn||(this.connectClock++,this.closeWasClean=!1,this.conn=new this.transport(this.endPointURL()),this.conn.binaryType=this.binaryType,this.conn.timeout=this.longpollerTimeout,this.conn.onopen=()=>this.onConnOpen(),this.conn.onerror=e=>this.onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this.onConnClose(e))}log(e,t,n){this.logger(e,t,n)}hasLogger(){return null!==this.logger}onOpen(e){let t=this.makeRef();return this.stateChangeCallbacks.open.push([t,e]),t}onClose(e){let t=this.makeRef();return this.stateChangeCallbacks.close.push([t,e]),t}onError(e){let t=this.makeRef();return this.stateChangeCallbacks.error.push([t,e]),t}onMessage(e){let t=this.makeRef();return this.stateChangeCallbacks.message.push([t,e]),t}ping(e){if(!this.isConnected())return!1;let t=this.makeRef(),n=Date.now();this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:t});let r=this.onMessage(i=>{i.ref===t&&(this.off([r]),e(Date.now()-n))});return!0}clearHeartbeats(){clearTimeout(this.heartbeatTimer),clearTimeout(this.heartbeatTimeoutTimer)}onConnOpen(){this.hasLogger()&&this.log("transport",`connected to ${this.endPointURL()}`),this.closeWasClean=!1,this.establishedConnections++,this.flushSendBuffer(),this.reconnectTimer.reset(),this.resetHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>{let[,t]=e;return t()})}heartbeatTimeout(){this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null,this.hasLogger()&&this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.triggerChanError(),this.closeWasClean=!1,this.teardown(()=>this.reconnectTimer.scheduleTimeout(),1e3,"heartbeat timeout"))}resetHeartbeat(){this.conn&&this.conn.skipHeartbeat||(this.pendingHeartbeatRef=null,this.clearHeartbeats(),this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs))}teardown(e,t,n){if(!this.conn)return e&&e();this.waitForBufferDone(()=>{this.conn&&(t?this.conn.close(t,n||""):this.conn.close()),this.waitForSocketClosed(()=>{this.conn&&(this.conn.onopen=function(){},this.conn.onerror=function(){},this.conn.onmessage=function(){},this.conn.onclose=function(){},this.conn=null),e&&e()})})}waitForBufferDone(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==t&&this.conn&&this.conn.bufferedAmount?setTimeout(()=>{this.waitForBufferDone(e,t+1)},150*t):e()}waitForSocketClosed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;5!==t&&this.conn&&3!==this.conn.readyState?setTimeout(()=>{this.waitForSocketClosed(e,t+1)},150*t):e()}onConnClose(e){let t=e&&e.code;this.hasLogger()&&this.log("transport","close",e),this.triggerChanError(),this.clearHeartbeats(),this.closeWasClean||1e3===t||this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>{let[,n]=t;return n(e)})}onConnError(e){this.hasLogger()&&this.log("transport",e);let t=this.transport,n=this.establishedConnections;this.stateChangeCallbacks.error.forEach(r=>{let[,i]=r;i(e,t,n)}),(t===this.transport||n>0)&&this.triggerChanError()}triggerChanError(){this.channels.forEach(e=>{e.isErrored()||e.isLeaving()||e.isClosed()||e.trigger(tn)})}connectionState(){switch(this.conn&&this.conn.readyState){case 0:return"connecting";case 1:return"open";case 2:return"closing";default:return"closed"}}isConnected(){return"open"===this.connectionState()}remove(e){this.off(e.stateChangeRefs),this.channels=this.channels.filter(t=>t.joinRef()!==e.joinRef())}off(e){for(let t in this.stateChangeCallbacks)this.stateChangeCallbacks[t]=this.stateChangeCallbacks[t].filter(t=>{let[n]=t;return -1===e.indexOf(n)})}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new tl(e,t,this);return this.channels.push(n),n}push(e){if(this.hasLogger()){let{topic:t,event:n,payload:r,ref:i,join_ref:s}=e;this.log("push",`${t} ${n} (${s}, ${i})`,r)}this.isConnected()?this.encode(e,e=>this.conn.send(e)):this.sendBuffer.push(()=>this.encode(e,e=>this.conn.send(e)))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}sendHeartbeat(){(!this.pendingHeartbeatRef||this.isConnected())&&(this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatTimeoutTimer=setTimeout(()=>this.heartbeatTimeout(),this.heartbeatIntervalMs))}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}onConnMessage(e){this.decode(e.data,e=>{let{topic:t,event:n,payload:r,ref:i,join_ref:s}=e;i&&i===this.pendingHeartbeatRef&&(this.clearHeartbeats(),this.pendingHeartbeatRef=null,this.heartbeatTimer=setTimeout(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)),this.hasLogger()&&this.log("receive",`${r.status||""} ${t} ${n} ${i&&"("+i+")"||""}`,r);for(let e=0;e<this.channels.length;e++){let o=this.channels[e];o.isMember(t,n,r,s)&&o.trigger(n,r,i,s)}for(let t=0;t<this.stateChangeCallbacks.message.length;t++){let[,n]=this.stateChangeCallbacks.message[t];n(e)}})}leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t.isJoined()||t.isJoining()));t&&(this.hasLogger()&&this.log("transport",`leaving duplicate topic "${e}"`),t.leave())}},tf=Object.defineProperty,tp=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?tf(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,n};class tm{constructor(e){tp(this,"host"),tp(this,"apiKey"),tp(this,"userToken"),tp(this,"axiosClient"),tp(this,"socket"),this.host=e.host,this.apiKey=e.apiKey,this.userToken=e.userToken||null,this.axiosClient=e1.create({baseURL:this.host,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,"X-Knock-User-Token":this.userToken}}),"u">typeof window&&(this.socket=new td(`${this.host.replace("http","ws")}/ws/v1`,{params:{user_token:this.userToken,api_key:this.apiKey}})),(0,e4.default)(this.axiosClient,{retries:3,retryCondition:this.canRetryRequest,retryDelay:e4.default.exponentialDelay})}async makeRequest(e){try{let t=await this.axiosClient(e);return{statusCode:t.status<300?"ok":"error",body:t.data,error:void 0,status:t.status}}catch(e){return console.error(e),{statusCode:"error",status:500,body:void 0,error:e}}}canRetryRequest(e){return!!e4.default.isNetworkError(e)||!!e.response&&(e.response.status>=500&&e.response.status<=599||429===e.response.status)}}var tg=Object.defineProperty;class tv{constructor(e){((e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?tg(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(this,"knock"),this.knock=e}async get(e){let t=await this.knock.client().makeRequest({method:"GET",url:`/v1/messages/${e}`});return this.handleResponse(t)}async updateStatus(e,t){let n=await this.knock.client().makeRequest({method:"PUT",url:`/v1/messages/${e}/${t}`});return this.handleResponse(n)}async removeStatus(e,t){let n=await this.knock.client().makeRequest({method:"DELETE",url:`/v1/messages/${e}/${t}`});return this.handleResponse(n)}async batchUpdateStatuses(e,t){let n=await this.knock.client().makeRequest({method:"POST",url:`/v1/messages/batch/${t}`,data:{message_ids:e}});return this.handleResponse(n)}async bulkUpdateAllStatusesInChannel(e){let{channelId:t,status:n,options:r}=e,i=await this.knock.client().makeRequest({method:"POST",url:`/v1/channels/${t}/messages/bulk/${n}`,data:r});return this.handleResponse(i)}handleResponse(e){var t,n;if("error"===e.statusCode){if((null==(n=null==(t=e.error)?void 0:t.response)?void 0:n.status)<500)return e.error||e.body;throw Error(e.error||e.body)}return e.body}}var ty=Object.defineProperty;class tb{constructor(e){((e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?ty(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(this,"instance"),this.instance=e}async getChannelData(e){let{collection:t,objectId:n,channelId:r}=e,i=await this.instance.client().makeRequest({method:"GET",url:`/v1/objects/${t}/${n}/channel_data/${r}`});return this.handleResponse(i)}async setChannelData(e){let{objectId:t,collection:n,channelId:r,data:i}=e,s=await this.instance.client().makeRequest({method:"PUT",url:`v1/objects/${n}/${t}/channel_data/${r}`,data:{data:i}});return this.handleResponse(s)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var t_=Object.defineProperty;let tw="default";function tE(e){return"object"==typeof e?e:{subscribed:e}}class tk{constructor(e){((e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?t_(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(this,"instance"),this.instance=e}async getAll(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences`});return this.handleResponse(e)}async get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preferenceSet||tw,n=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences/${t}`});return this.handleResponse(n)}async set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tw,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}`,data:e});return this.handleResponse(r)}async setChannelTypes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tw,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/channel_types`,data:e});return this.handleResponse(r)}async setChannelType(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preferenceSet||tw,i=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/channel_types/${e}`,data:{subscribed:t}});return this.handleResponse(i)}async setWorkflows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tw,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/workflows`,data:e});return this.handleResponse(r)}async setWorkflow(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preferenceSet||tw,i=tE(t),s=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/workflows/${e}`,data:i});return this.handleResponse(s)}async setCategories(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tw,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}/categories`,data:e});return this.handleResponse(r)}async setCategory(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.preferenceSet||tw,i=tE(t),s=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${r}/categories/${e}`,data:i});return this.handleResponse(s)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var tC=Object.defineProperty;let tT="$tenants";class tR{constructor(e){((e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?tC(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(this,"instance"),this.instance=e}async authCheck(e){let{tenant:t,knockChannelId:n}=e,r=await this.instance.client().makeRequest({method:"GET",url:`/v1/providers/slack/${n}/auth_check`,params:{access_token_object:{object_id:t,collection:tT},channel_id:n}});return this.handleResponse(r)}async getChannels(e){let{knockChannelId:t,tenant:n}=e,r=e.queryOptions||{},i=await this.instance.client().makeRequest({method:"GET",url:`/v1/providers/slack/${t}/channels`,params:{access_token_object:{object_id:n,collection:tT},channel_id:t,query_options:{cursor:r.cursor,limit:r.limit,exclude_archived:r.excludeArchived,team_id:r.teamId,types:r.types}}});return this.handleResponse(i)}async revokeAccessToken(e){let{tenant:t,knockChannelId:n}=e,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/providers/slack/${n}/revoke_access`,params:{access_token_object:{object_id:t,collection:tT},channel_id:n}});return this.handleResponse(r)}handleResponse(e){var t,n;if("error"===e.statusCode){if((null==(n=null==(t=e.error)?void 0:t.response)?void 0:n.status)<500)return e.error||e.body;throw Error(e.error||e.body)}return e.body}}var tS=Object.defineProperty;let tO="default";class tA{constructor(e){((e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?tS(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n})(this,"instance"),this.instance=e}async get(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}`});return this.handleResponse(e)}async identify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}`,params:e});return this.handleResponse(t)}async getAllPreferences(){let e=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences`});return this.handleResponse(e)}async getPreferences(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.preferenceSet||tO,n=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/preferences/${t}`,params:{tenant:e.tenant}});return this.handleResponse(n)}async setPreferences(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.preferenceSet||tO,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/preferences/${n}`,data:e});return this.handleResponse(r)}async getChannelData(e){let t=await this.instance.client().makeRequest({method:"GET",url:`/v1/users/${this.instance.userId}/channel_data/${e.channelId}`});return this.handleResponse(t)}async setChannelData(e){let{channelId:t,channelData:n}=e,r=await this.instance.client().makeRequest({method:"PUT",url:`/v1/users/${this.instance.userId}/channel_data/${t}`,data:{data:n}});return this.handleResponse(r)}handleResponse(e){if("error"===e.statusCode)throw Error(e.error||e.body);return e.body}}var tL=Object.defineProperty,tj=(e,t,n)=>{let r;return(r="symbol"!=typeof t?t+"":t)in e?tL(e,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[r]=n,n};class tN{constructor(e,t={}){if(tj(this,"host"),tj(this,"apiClient",null),tj(this,"userId"),tj(this,"userToken"),tj(this,"logLevel"),tj(this,"tokenExpirationTimer",null),tj(this,"feeds",new _(this)),tj(this,"objects",new tb(this)),tj(this,"preferences",new tk(this)),tj(this,"slack",new tR(this)),tj(this,"user",new tA(this)),tj(this,"messages",new tv(this)),this.apiKey=e,this.host=t.host||"https://api.knock.app",this.logLevel=t.logLevel,this.log("Initialized Knock instance"),this.apiKey&&this.apiKey.startsWith("sk_"))throw Error("[Knock] You are using your secret API key on the client. Please use the public key.")}client(){return this.userId||console.warn(`[Knock] You must call authenticate(userId, userToken) first before trying to make a request.
        Typically you'll see this message when you're creating a feed instance before having called
        authenticate with a user Id and token. That means we won't know who to issue the request
        to Knock on behalf of.
        `),this.apiClient||(this.apiClient=this.createApiClient()),this.apiClient}authenticate(e,t,n){let r=!1;this.apiClient&&(this.userId!==e||this.userToken!==t)&&(this.log("userId or userToken changed; reinitializing connections"),this.feeds.teardownInstances(),this.teardown(),r=!0),this.userId=e,this.userToken=t,this.log(`Authenticated with userId ${e}`),this.userToken&&(null==n?void 0:n.onUserTokenExpiring)instanceof Function&&this.maybeScheduleUserTokenExpiration(n.onUserTokenExpiring,n.timeBeforeExpirationInMs),r&&(this.apiClient=this.createApiClient(),this.feeds.reinitializeInstances(),this.log("Reinitialized real-time connections"))}isAuthenticated(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?!!(this.userId&&this.userToken):!!this.userId}teardown(){var e;this.tokenExpirationTimer&&clearTimeout(this.tokenExpirationTimer),null!=(e=this.apiClient)&&e.socket&&this.apiClient.socket.isConnected()&&this.apiClient.socket.disconnect()}log(e){"debug"===this.logLevel&&console.log(`[Knock] ${e}`)}createApiClient(){return new tm({apiKey:this.apiKey,host:this.host,userToken:this.userToken})}async maybeScheduleUserTokenExpiration(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;if(!this.userToken)return;let n=function(e,t){let n;if("string"!=typeof e)throw new w("Invalid token specified: must be a string");t||(t={});let r=+(!0!==t.header),i=e.split(".")[r];if("string"!=typeof i)throw new w(`Invalid token specified: missing part #${r+1}`);try{n=function(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Error("base64 string is not of the correct length")}try{var n;return n=t,decodeURIComponent(atob(n).replace(/(.)/g,(e,t)=>{let n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}catch(e){return atob(t)}}(i)}catch(e){throw new w(`Invalid token specified: invalid base64 for part #${r+1} (${e.message})`)}try{return JSON.parse(n)}catch(e){throw new w(`Invalid token specified: invalid json for part #${r+1} (${e.message})`)}}(this.userToken),r=(n.exp??0)*1e3,i=Date.now();if(r&&r>i){let s=r-t-i;this.tokenExpirationTimer=setTimeout(async()=>{let r=await e(this.userToken,n);"string"==typeof r&&this.authenticate(this.userId,r,{onUserTokenExpiring:e,timeBeforeExpirationInMs:t})},s)}}}function tP(e){let t=(0,a.useRef)();return(0,a.useMemo)(()=>{let n=t.current;return n&&function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}(e,n)?n:(t.current=e,e)},[e])}function tI(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.authenticate(t,n,{onUserTokenExpiring:null==r?void 0:r.onUserTokenExpiring,timeBeforeExpirationInMs:null==r?void 0:r.timeBeforeExpirationInMs})}function tx(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=a.default.useRef(),s=tP(r);return a.default.useMemo(()=>{let r=i.current;if(r&&r.isAuthenticated()&&(r.userId!==t||r.userToken!==n))return tI(r,t,n,s),r;r&&r.teardown();let o=new tN(e,{host:s.host,logLevel:s.logLevel});return tI(o,t,n,s),i.current=o,o},[e,t,n,s])}a.createContext(null);var tU=((s=tU||{}).All="all",s.Read="read",s.Unseen="unseen",s.Unread="unread",s);let tD=/[T ]/,t$=/[Z ]/i,tF=/([Z+-].*)$/,tM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,tB=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,tq=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tH(e){return e?parseInt(e):1}function tz(e){return e&&parseFloat(e.replace(",","."))||0}let tK=[31,null,31,30,31,30,31,31,30,31,30,31];function tW(e){return e%400==0||e%4==0&&e%100!=0}function tG(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}function tJ(e){let t=tG(e);return t.setHours(0,0,0,0),t}function tV(e){let t=tG(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),e-n}function tY(e,t){let n=tJ(e),r=tJ(t);return Math.round((n-tV(n)-(r-tV(r)))/864e5)}function tX(e,t){let n=tG(e),r=tG(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function tZ(e){return Math.trunc(tG(e).getMonth()/3)+1}function tQ(e,t){let n=tG(e),r=tG(t);return 4*(n.getFullYear()-r.getFullYear())+(tZ(n)-tZ(r))}let t0={};function t1(e,t){let n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??t0.weekStartsOn??t0.locale?.options?.weekStartsOn??0,r=tG(e),i=r.getDay();return r.setDate(r.getDate()-(7*(i<n)+i-n)),r.setHours(0,0,0,0),r}function t4(e,t,n){let r=t1(e,n),i=t1(t,n);return Math.round((r-tV(r)-(i-tV(i)))/6048e5)}function t2(e,t){let n=tG(e),r=tG(t);return n.getFullYear()-r.getFullYear()}function t9(e){return t=>{let n=(e?Math[e]:Math.trunc)(t);return 0===n?0:n}}function t5(e,t,n){let r=(tG(e)-tG(t))/36e5;return t9(n?.roundingMethod)(r)}function t3(e,t,n){let r=(tG(e)-tG(t))/6e4;return t9(n?.roundingMethod)(r)}function t8(e,t,n){let r=(tG(e)-tG(t))/1e3;return t9(n?.roundingMethod)(r)}function t7(e,t){return void 0!==e?e:t}function t6(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,a.useRef)(),i=tP(n);return(0,a.useMemo)(()=>(r.current&&r.current.dispose(),r.current=e.feeds.initialize(t,i),r.current.store.subscribe(e=>{var t;return null==(t=null==r?void 0:r.current)?void 0:t.store.setState(e)}),r.current.listenForUpdates(),r.current),[e,t,i])}let ne="undefined"==typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?a.useEffect:a.useLayoutEffect,nt="u">typeof window?a.useLayoutEffect:a.useEffect;function nn(e,t){return(function(e){let t=a.useMemo(()=>{var t;let n,r,i,s,o,l,c,u;return c="function"==typeof(t=e.store)?(r=new Set,i=(e,t)=>{let i="function"==typeof e?e(n):e;if(i!==n){let e=n;n=t?i:Object.assign({},n,i),r.forEach(t=>t(n,e))}},s=()=>n,o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let o=t(n);function a(){let r=t(n);if(!i(o,r)){let t=o;e(o=r,t)}}return r.add(a),()=>r.delete(a)},l={setState:i,getState:s,subscribe:(e,t,n)=>t||n?o(e,t,n):(r.add(e),()=>r.delete(e)),destroy:()=>r.clear()},n=t(i,s,l),l):t,Object.assign(u=function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.getState,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,[,r]=(0,a.useReducer)(e=>e+1,0),i=c.getState(),s=(0,a.useRef)(i),o=(0,a.useRef)(t),l=(0,a.useRef)(n),u=(0,a.useRef)(!1),h=(0,a.useRef)();void 0===h.current&&(h.current=t(i));let d=!1;(s.current!==i||o.current!==t||l.current!==n||u.current)&&(e=t(i),d=!n(h.current,e)),ne(()=>{d&&(h.current=e),s.current=i,o.current=t,l.current=n,u.current=!1});let f=(0,a.useRef)(i);ne(()=>{let e=()=>{try{let e=c.getState(),t=o.current(e);l.current(h.current,t)||(s.current=e,h.current=t,r())}catch(e){u.current=!0,r()}},t=c.subscribe(e);return c.getState()!==f.current&&e(),t},[]);let p=d?e:h.current;return(0,a.useDebugValue)(p),p},c),u[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");let e=[u,c];return{next(){let t=e.length<=0;return{value:e.shift(),done:t}}}},u},[e]),[,n]=a.useReducer(e=>e+1,0);return nt(()=>{let t=e.store.subscribe(n);return n(),t},[e]),t})(e)(t||e.store.getState)}let nr=a.createContext(void 0),ni=()=>{let e=a.useContext(nr);if(!e)throw Error("useKnockFeed must be used within a KnockFeedProvider");return e};function ns(){let{translations:e,locale:t}=(0,a.useContext)(c);return{locale:t,t:t=>e[t]||l.translations[t]}}a.createContext(null),e.i(1269010),e.s([],3184458);let no=e=>{let{color:t="rgba(0,0,0,0.4)",speed:n="medium",gap:r=4,thickness:i=4,size:s="1em",...o}=e;return a.default.createElement("svg",{height:s,width:s,...o,style:{animationDuration:`${"fast"===n?600:"slow"===n?900:750}ms`},className:"__react-svg-spinner_circle",role:"img","aria-labelledby":"title desc",viewBox:"0 0 32 32"},a.default.createElement("title",{id:"title"},"Circle loading spinner"),a.default.createElement("desc",{id:"desc"},'Image of a partial circle indicating "loading."'),a.default.createElement("style",{dangerouslySetInnerHTML:{__html:`
      .__react-svg-spinner_circle{
          transition-property: transform;
          animation-name: __react-svg-spinner_infinite-spin;
          animation-iteration-count: infinite;
          animation-timing-function: linear;
      }
      @keyframes __react-svg-spinner_infinite-spin {
          from {transform: rotate(0deg)}
          to {transform: rotate(360deg)}
      }
    `}}),a.default.createElement("circle",{role:"presentation",cx:16,cy:16,r:14-i/2,stroke:t,fill:"none",strokeWidth:i,strokeDasharray:2*Math.PI*(11-r),strokeLinecap:"round"}))},na=e=>{let{hasLabel:t}=e;return a.default.createElement("div",{className:`rnf-button-spinner rnf-button-spinner--${t?"with-label":"without-label"}`},a.default.createElement(no,null))},nl=e=>{let{variant:t="primary",loadingText:n,isLoading:r=!1,isDisabled:i=!1,isFullWidth:s=!1,onClick:o,children:l}=e,{colorMode:c}=ni(),u=["rnf-button",`rnf-button--${t}`,s?"rnf-button--full-width":"",r?"rnf-button--is-loading":"",`rnf-button--${c}`].join(" "),h=n||a.default.createElement("span",{className:"rnf-button__button-text-hidden"},l);return a.default.createElement("button",{onClick:o,className:u,disabled:r||i,type:"button"},r&&a.default.createElement(na,{hasLabel:!!n}),r?h:l)},nc=e=>{let{children:t}=e;return a.default.createElement("div",{className:"rnf-button-group"},t)},nu=e=>{let{width:t=24,height:n=24}=e;return a.default.createElement("svg",{width:t,viewBox:"0 0 24 24",fill:"none",height:n},a.default.createElement("path",{d:"M20.0474 16.4728C18.8436 14.9996 17.9938 14.2496 17.9938 10.1879C17.9938 6.46832 16.0944 5.14317 14.5311 4.49957C14.3235 4.41426 14.128 4.21832 14.0647 4.00504C13.7905 3.07176 13.0217 2.24957 11.9999 2.24957C10.978 2.24957 10.2088 3.07223 9.93736 4.00598C9.87408 4.2216 9.67861 4.41426 9.47096 4.49957C7.9058 5.1441 6.0083 6.46457 6.0083 10.1879C6.00596 14.2496 5.15611 14.9996 3.95237 16.4728C3.45362 17.0832 3.89049 17.9996 4.76283 17.9996H19.2416C20.1092 17.9996 20.5433 17.0803 20.0474 16.4728Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.default.createElement("path",{d:"M14.9999 17.9988V18.7488C14.9999 19.5445 14.6838 20.3075 14.1212 20.8701C13.5586 21.4327 12.7955 21.7488 11.9999 21.7488C11.2042 21.7488 10.4412 21.4327 9.87856 20.8701C9.31595 20.3075 8.99988 19.5445 8.99988 18.7488V17.9988",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},nh=e=>{let{width:t=14,height:n=14}=e;return a.default.createElement("svg",{width:t,height:n,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.default.createElement("path",{d:"M7.00012 0.499939C3.41606 0.499939 0.500122 3.41588 0.500122 6.99994C0.500122 10.584 3.41606 13.4999 7.00012 13.4999C10.5842 13.4999 13.5001 10.584 13.5001 6.99994C13.5001 3.41588 10.5842 0.499939 7.00012 0.499939ZM9.35356 8.6465C9.40194 8.69247 9.44063 8.74766 9.46735 8.80881C9.49407 8.86997 9.50828 8.93585 9.50913 9.00259C9.50999 9.06932 9.49747 9.13555 9.47233 9.19737C9.44718 9.25919 9.40992 9.31535 9.36273 9.36254C9.31553 9.40973 9.25937 9.447 9.19755 9.47214C9.13573 9.49729 9.0695 9.5098 9.00277 9.50895C8.93604 9.50809 8.87015 9.49389 8.809 9.46717C8.74784 9.44045 8.69265 9.40176 8.64668 9.35337L7.00012 7.70712L5.35356 9.35337C5.25903 9.44318 5.13315 9.49251 5.00277 9.49084C4.87239 9.48918 4.74782 9.43664 4.65562 9.34444C4.56342 9.25224 4.51088 9.12767 4.50921 8.99729C4.50755 8.86691 4.55687 8.74103 4.64668 8.6465L6.29293 6.99994L4.64668 5.35338C4.55687 5.25884 4.50755 5.13297 4.50921 5.00259C4.51088 4.87221 4.56342 4.74764 4.65562 4.65544C4.74782 4.56324 4.87239 4.5107 5.00277 4.50903C5.13315 4.50736 5.25903 4.55669 5.35356 4.6465L7.00012 6.29275L8.64668 4.6465C8.74121 4.55669 8.86709 4.50736 8.99747 4.50903C9.12785 4.5107 9.25242 4.56324 9.34462 4.65544C9.43682 4.74764 9.48936 4.87221 9.49103 5.00259C9.4927 5.13297 9.44337 5.25884 9.35356 5.35338L7.70731 6.99994L9.35356 8.6465Z",fill:"currentColor"}))};e.i(3351853);var nd=e.i(6062144),nf=e.i(5826902),np=e.i(2106115),nm=e.i(1941666),ng=e.i(3734840),nv=function(e){return e.reduce(function(e,t){var n=t[0],r=t[1];return e[n]=r,e},{})},ny="undefined"!=typeof window&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect,nb=[],n_=function(e,t,n){void 0===n&&(n={});var r=a.useRef(null),i={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||nb},s=a.useState({styles:{popper:{position:i.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),o=s[0],l=s[1],c=a.useMemo(function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);np.flushSync(function(){l({styles:nv(n.map(function(e){return[e,t.styles[e]||{}]})),attributes:nv(n.map(function(e){return[e,t.attributes[e]]}))})})},requires:["computeStyles"]}},[]),u=a.useMemo(function(){var e={onFirstUpdate:i.onFirstUpdate,placement:i.placement,strategy:i.strategy,modifiers:[].concat(i.modifiers,[c,{name:"applyStyles",enabled:!1}])};return(0,ng.default)(r.current,e)?r.current||e:(r.current=e,e)},[i.onFirstUpdate,i.placement,i.strategy,i.modifiers,c]),h=a.useRef();return ny(function(){h.current&&h.current.setOptions(u)},[u]),ny(function(){if(null!=e&&null!=t){var r=(n.createPopper||nm.createPopper)(e,t,u);return h.current=r,function(){r.destroy(),h.current=null}}},[e,t,n.createPopper]),{state:h.current?h.current.state:null,styles:o.styles,attributes:o.attributes,update:h.current?h.current.update:null,forceUpdate:h.current?h.current.forceUpdate:null}};function nw(e){var t=a.useRef(e);return t.current=e,a.useCallback(function(){return t.current},[])}var nE=function(){};function nk(e,t){return void 0===e&&(e=0),void 0===t&&(t=0),function(){return{width:0,height:0,top:t,right:e,bottom:t,left:e,x:0,y:0,toJSON:function(){return null}}}}var nC=["styles","attributes"],nT={getBoundingClientRect:nk()},nR={closeOnOutsideClick:!0,closeOnTriggerHidden:!1,defaultVisible:!1,delayHide:0,delayShow:0,followCursor:!1,interactive:!1,mutationObserverOptions:{attributes:!0,childList:!0,subtree:!0},offset:[0,6],trigger:"hover"};let nS=e=>{var t,n,r,i,s,o,l,c,u,h,d,f,p,m,g,v,y,b,_,w,E,k,C,T,R,S,O,A,L;let{item:j}=e,{colorMode:N,feedClient:P}=ni(),{t:I}=ns(),x=(0,a.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),P.markAsArchived(j)},[j]),{getTooltipProps:U,setTooltipRef:D,setTriggerRef:$,visible:F}=(t={placement:"top-end"},void 0===n&&(n={}),o=Object.keys(nR).reduce(function(e,t){var n;return(0,nf.default)({},e,((n={})[t]=void 0!==e[t]?e[t]:nR[t],n))},t),l=a.useMemo(function(){return[{name:"offset",options:{offset:o.offset}}]},Array.isArray(o.offset)?o.offset:[]),c=(0,nf.default)({},n,{placement:n.placement||o.placement,modifiers:n.modifiers||l}),h=(u=a.useState(null))[0],d=u[1],p=(f=a.useState(null))[0],m=f[1],v=(g=function(e){var t=e.initial,n=e.value,r=e.onChange,i=void 0===r?nE:r;if(void 0===t&&void 0===n)throw TypeError('Either "value" or "initial" variable must be set. Now both are undefined');var s=a.useState(t),o=s[0],l=s[1],c=nw(o),u=a.useCallback(function(e){var t=c(),n="function"==typeof e?e(t):e;"function"==typeof n.persist&&n.persist(),l(n),"function"==typeof i&&i(n)},[c,i]),h=void 0!==n;return[h?n:o,h?i:u]}({initial:o.defaultVisible,value:o.visible,onChange:o.onVisibleChange}))[0],y=g[1],b=a.useRef(),a.useEffect(function(){return function(){return clearTimeout(b.current)}},[]),w=(_=n_(o.followCursor?nT:h,p,c)).styles,E=_.attributes,C=(k=(0,nd.default)(_,nC)).update,T=nw({visible:v,triggerRef:h,tooltipRef:p,finalConfig:o}),R=a.useCallback(function(e){return Array.isArray(o.trigger)?o.trigger.includes(e):o.trigger===e},Array.isArray(o.trigger)?o.trigger:[o.trigger]),S=a.useCallback(function(){clearTimeout(b.current),b.current=window.setTimeout(function(){return y(!1)},o.delayHide)},[o.delayHide,y]),O=a.useCallback(function(){clearTimeout(b.current),b.current=window.setTimeout(function(){return y(!0)},o.delayShow)},[o.delayShow,y]),A=a.useCallback(function(){T().visible?S():O()},[T,S,O]),a.useEffect(function(){if(T().finalConfig.closeOnOutsideClick){var e=function(e){var t,n=T(),r=n.tooltipRef,i=n.triggerRef,s=(null==e.composedPath||null==(t=e.composedPath())?void 0:t[0])||e.target;s instanceof Node&&null!=r&&null!=i&&!r.contains(s)&&!i.contains(s)&&S()};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}},[T,S]),a.useEffect(function(){if(null!=h&&R("click"))return h.addEventListener("click",A),function(){return h.removeEventListener("click",A)}},[h,R,A]),a.useEffect(function(){if(null!=h&&R("double-click"))return h.addEventListener("dblclick",A),function(){return h.removeEventListener("dblclick",A)}},[h,R,A]),a.useEffect(function(){if(null!=h&&R("right-click")){var e=function(e){e.preventDefault(),A()};return h.addEventListener("contextmenu",e),function(){return h.removeEventListener("contextmenu",e)}}},[h,R,A]),a.useEffect(function(){if(null!=h&&R("focus"))return h.addEventListener("focus",O),h.addEventListener("blur",S),function(){h.removeEventListener("focus",O),h.removeEventListener("blur",S)}},[h,R,O,S]),a.useEffect(function(){if(null!=h&&R("hover"))return h.addEventListener("mouseenter",O),h.addEventListener("mouseleave",S),function(){h.removeEventListener("mouseenter",O),h.removeEventListener("mouseleave",S)}},[h,R,O,S]),a.useEffect(function(){if(null!=p&&R("hover")&&T().finalConfig.interactive)return p.addEventListener("mouseenter",O),p.addEventListener("mouseleave",S),function(){p.removeEventListener("mouseenter",O),p.removeEventListener("mouseleave",S)}},[p,R,O,S,T]),L=null==k||null==(r=k.state)||null==(i=r.modifiersData)||null==(s=i.hide)?void 0:s.isReferenceHidden,a.useEffect(function(){o.closeOnTriggerHidden&&L&&S()},[o.closeOnTriggerHidden,S,L]),a.useEffect(function(){if(o.followCursor&&null!=h)return h.addEventListener("mousemove",e),function(){return h.removeEventListener("mousemove",e)};function e(e){nT.getBoundingClientRect=nk(e.clientX,e.clientY),null==C||C()}},[o.followCursor,h,C]),a.useEffect(function(){if(null!=p&&null!=C&&null!=o.mutationObserverOptions){var e=new MutationObserver(C);return e.observe(p,o.mutationObserverOptions),function(){return e.disconnect()}}},[o.mutationObserverOptions,p,C]),(0,nf.default)({getArrowProps:function(e){return void 0===e&&(e={}),(0,nf.default)({},e,E.arrow,{style:(0,nf.default)({},e.style,w.arrow),"data-popper-arrow":!0})},getTooltipProps:function(e){return void 0===e&&(e={}),(0,nf.default)({},e,{style:(0,nf.default)({},e.style,w.popper)},E.popper,{"data-popper-interactive":o.interactive})},setTooltipRef:m,setTriggerRef:d,tooltipRef:p,triggerRef:h,visible:v},k));return a.default.createElement("button",{ref:$,onClick:x,type:"button","aria-label":I("archiveNotification"),className:`rnf-archive-notification-btn rnf-archive-notification-btn--${N}`},a.default.createElement(nh,null),F&&a.default.createElement("div",{ref:D,...U({className:`rnf-tooltip rnf-tooltip--${N}`})},I("archiveNotification")))},nO=e=>{let{name:t,src:n}=e;return a.default.createElement("div",{className:"rnf-avatar"},n?a.default.createElement("img",{src:n,alt:`Image of ${t}`,className:"rnf-avatar__image"}):a.default.createElement("span",{className:"rnf-avatar__initials"},function(e){let[t,n]=e.split(" ");return t&&n?`${t.charAt(0)}${n.charAt(0)}`:t?t.charAt(0):""}(t)))};function nA(e){e&&""!==e&&setTimeout(()=>window.location.assign(e),200)}a.default.forwardRef((e,t)=>{var n;let{item:r,onItemClick:i,onButtonClick:s,avatar:o,children:l,archiveButton:c}=e,{feedClient:u,colorMode:h}=ni(),{locale:d}=ns(),f=(0,a.useMemo)(()=>r.blocks.reduce((e,t)=>({...e,[t.name]:t}),{}),[r]),p=null==(n=f.action_url)?void 0:n.rendered,m=f.actions,g=a.default.useCallback(()=>(u.markAsInteracted(r),i?i(r):nA(p)),[r,p,i,u]),v=a.default.useCallback((e,t)=>(u.markAsInteracted(r),s?s(r,t):nA(t.action)),[s,u,r]),y=a.default.useCallback(e=>{"Enter"===e.key&&(e.stopPropagation(),g())},[g]),b=r.actors[0];return a.default.createElement("div",{ref:t,className:`rnf-notification-cell rnf-notification-cell--${h}`,onClick:g,onKeyDown:y,tabIndex:0},a.default.createElement("div",{className:"rnf-notification-cell__inner"},!r.read_at&&a.default.createElement("div",{className:"rnf-notification-cell__unread-dot"}),t7(o,b&&"name"in b&&b.name&&a.default.createElement(nO,{name:b.name,src:b.avatar})),a.default.createElement("div",{className:"rnf-notification-cell__content-outer"},f.body&&a.default.createElement("div",{className:"rnf-notification-cell__content",dangerouslySetInnerHTML:{__html:f.body.rendered}}),m&&a.default.createElement("div",{className:"rnf-notification-cell__button-group"},a.default.createElement(nc,null,m.buttons.map((e,t)=>a.default.createElement(nl,{variant:0===t?"primary":"secondary",key:e.name,onClick:t=>v(t,e)},e.label)))),l&&a.default.createElement("div",{className:"rnf-notification-cell__child-content"},l),a.default.createElement("span",{className:"rnf-notification-cell__timestamp"},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{let n=function(e,t){let n,r,i=function(e){let t,n={},r=e.split(tD);if(r.length>2)return n;if(/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],t$.test(n.date)&&(n.date=e.split(t$)[0],t=e.substr(n.date.length,e.length))),t){let e=tF.exec(t);e?(n.time=t.replace(e[1],""),n.timezone=e[1]):n.time=t}return n}(e);if(i.date){let e=function(e,t){let n=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};let i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:e.slice((r[1]||r[2]).length)}}(i.date,(void 0)??2);n=function(e,t){if(null===t)return new Date(NaN);let n=e.match(tM);if(!n)return new Date(NaN);let r=!!n[4],i=tH(n[1]),s=tH(n[2])-1,o=tH(n[3]),a=tH(n[4]),l=tH(n[5])-1;if(r){let e,n;return a>=1&&a<=53&&l>=0&&l<=6?((e=new Date(0)).setUTCFullYear(t,0,4),n=e.getUTCDay()||7,e.setUTCDate(e.getUTCDate()+((a-1)*7+l+1-n)),e):new Date(NaN)}{let e=new Date(0);return s>=0&&s<=11&&o>=1&&o<=(tK[s]||(tW(t)?29:28))&&i>=1&&i<=(tW(t)?366:365)?(e.setUTCFullYear(t,s,Math.max(i,o)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!n||isNaN(n.getTime()))return new Date(NaN);let s=n.getTime(),o=0;if(i.time&&isNaN(o=function(e){let t=e.match(tB);if(!t)return NaN;let n=tz(t[1]),r=tz(t[2]),i=tz(t[3]);return(24===n?0===r&&0===i:i>=0&&i<60&&r>=0&&r<60&&n>=0&&n<25)?36e5*n+6e4*r+1e3*i:NaN}(i.time)))return new Date(NaN);if(i.timezone){if(isNaN(r=function(e){if("Z"===e)return 0;let t=e.match(tq);if(!t)return 0;let n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return i>=0&&i<=59?n*(36e5*r+6e4*i):NaN}(i.timezone)))return new Date(NaN)}else{let e=new Date(s+o),t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return new Date(s+o+r)}(e);return function(e,t,n){let r,i=0,s=tG(e),o=tG(t);if(n?.unit)"second"===(r=n?.unit)?i=t8(s,o):"minute"===r?i=t3(s,o):"hour"===r?i=t5(s,o):"day"===r?i=tY(s,o):"week"===r?i=t4(s,o):"month"===r?i=tX(s,o):"quarter"===r?i=tQ(s,o):"year"===r&&(i=t2(s,o));else{let e=t8(s,o);60>Math.abs(e)?(i=t8(s,o),r="second"):3600>Math.abs(e)?(i=t3(s,o),r="minute"):86400>Math.abs(e)&&1>Math.abs(tY(s,o))?(i=t5(s,o),r="hour"):604800>Math.abs(e)&&(i=tY(s,o))&&7>Math.abs(i)?r="day":2629746>Math.abs(e)?(i=t4(s,o),r="week"):7889238>Math.abs(e)?(i=tX(s,o),r="month"):0x1e18558>Math.abs(e)&&4>tQ(s,o)?(i=tQ(s,o),r="quarter"):(i=t2(s,o),r="year")}return new Intl.RelativeTimeFormat(n?.locale,{localeMatcher:n?.localeMatcher,numeric:n?.numeric||"auto",style:n?.style}).format(i,r)}(n,new Date,{locale:t.locale})}catch{return e}}(r.inserted_at,{locale:d}))),t7(c,a.default.createElement(nS,{item:r}))))}),tU.All,tU.Unread,tU.Read;let nL=e=>{let{badgeCountType:t="unseen"}=e,{useFeedStore:n}=ni(),r=n(e=>(function(e,t){switch(e){case"all":return t.total_count;case"unread":return t.unread_count;case"unseen":return t.unseen_count}})(t,e.metadata));return 0!==r?a.default.createElement("div",{className:"rnf-unseen-badge"},a.default.createElement("span",{className:"rnf-unseen-badge__count"},r>9?"9+":r)):null};a.default.forwardRef((e,t)=>{let{onClick:n,badgeCountType:r}=e,{colorMode:i}=ni();return a.default.createElement("button",{className:`rnf-notification-icon-button rnf-notification-icon-button--${i}`,role:"button","aria-label":"Open notification feed",ref:t,onClick:n},a.default.createElement(nu,null),a.default.createElement(nL,{badgeCountType:r}))});var nj=e.i(7775453),nN=e.i(8188625),nP=e.i(5352162),nI=e.i(8217788),nx=e.i(4226827),nU=e.i(1139806),nD=(e.i(8987438),e.i(5898647)),n$=(e.i(6391507),e.i(7311916)),nF=e.i(8712279),nM=e.i(1819232),nB=(e.i(3575301),e.i(73772)),nq=e.i(6221821),nH="Popover",[nz,nK]=(0,nP.createContextScope)(nH,[nD.createPopperScope]),nW=(0,nD.createPopperScope)(),[nG,nJ]=nz(nH),nV="PopoverAnchor";a.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=nJ(nV,n),s=nW(n),{onCustomAnchorAdd:l,onCustomAnchorRemove:c}=i;return a.useEffect(()=>(l(),()=>c()),[l,c]),(0,o.jsx)(nD.Anchor,{...s,...r,ref:t})}).displayName=nV;var nY="PopoverTrigger";a.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=nJ(nY,n),s=nW(n),a=(0,nN.useComposedRefs)(t,i.triggerRef),l=(0,o.jsx)(nF.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":n5(i.open),...r,ref:a,onClick:(0,nj.composeEventHandlers)(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:(0,o.jsx)(nD.Anchor,{asChild:!0,...s,children:l})}).displayName=nY;var[nX,nZ]=nz("PopoverPortal",{forceMount:void 0}),nQ="PopoverContent";a.forwardRef((e,t)=>{let n=nZ(nQ,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=nJ(nQ,e.__scopePopover);return(0,o.jsx)(n$.Presence,{present:r||s.open,children:s.modal?(0,o.jsx)(n1,{...i,ref:t}):(0,o.jsx)(n4,{...i,ref:t})})}).displayName=nQ;var n0=(0,nM.createSlot)("PopoverContent.RemoveScroll"),n1=a.forwardRef((e,t)=>{let n=nJ(nQ,e.__scopePopover),r=a.useRef(null),i=(0,nN.useComposedRefs)(t,r),s=a.useRef(!1);return a.useEffect(()=>{let e=r.current;if(e)return(0,nB.hideOthers)(e)},[]),(0,o.jsx)(nq.RemoveScroll,{as:n0,allowPinchZoom:!0,children:(0,o.jsx)(n2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,nj.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:(0,nj.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,n=0===t.button&&!0===t.ctrlKey;s.current=2===t.button||n},{checkForDefaultPrevented:!1}),onFocusOutside:(0,nj.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),n4=a.forwardRef((e,t)=>{let n=nJ(nQ,e.__scopePopover),r=a.useRef(!1),i=a.useRef(!1);return(0,o.jsx)(n2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||n.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let s=t.target;n.triggerRef.current?.contains(s)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),n2=a.forwardRef((e,t)=>{let{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:h,...d}=e,f=nJ(nQ,n),p=nW(n);return(0,nx.useFocusGuards)(),(0,o.jsx)(nU.FocusScope,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:(0,o.jsx)(nI.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:(0,o.jsx)(nD.Content,{"data-state":n5(f.open),role:"dialog",id:f.contentId,...p,...d,ref:t,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),n9="PopoverClose";function n5(e){return e?"open":"closed"}a.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=nJ(n9,n);return(0,o.jsx)(nF.Primitive.button,{type:"button",...r,ref:t,onClick:(0,nj.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})}).displayName=n9,a.forwardRef((e,t)=>{let{__scopePopover:n,...r}=e,i=nW(n);return(0,o.jsx)(nD.Arrow,{...i,...r,ref:t})}).displayName="PopoverArrow";var n3=a.forwardRef((e,t)=>{let{children:n,...r}=e,i=a.Children.toArray(n),s=i.find(n6);if(s){let e=s.props.children,n=i.map(t=>t!==s?t:a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null);return(0,o.jsx)(n8,{...r,ref:t,children:a.isValidElement(e)?a.cloneElement(e,void 0,n):null})}return(0,o.jsx)(n8,{...r,ref:t,children:n})});n3.displayName="Slot";var n8=a.forwardRef((e,t)=>{let{children:n,...r}=e;if(a.isValidElement(n)){var i;let e,s,o=(i=n,(s=(e=Object.getOwnPropertyDescriptor(i.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.ref:(s=(e=Object.getOwnPropertyDescriptor(i,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?i.props.ref:i.props.ref||i.ref);return a.cloneElement(n,{...function(e,t){let n={...t};for(let r in t){let i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];s(...t),i(...t)}:i&&(n[r]=i):"style"===r?n[r]={...i,...s}:"className"===r&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props),ref:t?function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>t.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}(t,o):o})}return a.Children.count(n)>1?a.Children.only(null):null});n8.displayName="SlotClone";var n7=e=>{let{children:t}=e;return(0,o.jsx)(o.Fragment,{children:t})};function n6(e){return a.isValidElement(e)&&e.type===n7}var re=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let n=a.forwardRef((e,n)=>{let{asChild:r,...i}=e,s=r?n3:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(s,{...i,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});a.forwardRef((e,t)=>(0,o.jsx)(re.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}})).displayName="VisuallyHidden",new Intl.Collator,e.s([],9357228),e.i(3184458),e.s(["useAuthenticatedKnockClient",()=>tx,"useNotificationStore",()=>nn,"useNotifications",()=>t6],4228477);var rt=e.i(455575),rn=e.i(4689995),rr=e.i(2405338),ri=e.i(2854814),rs=e.i(277234),ro=e.i(5338940),ra=e.i(7917902),rl=e.i(1717203);function rc(e){let{userAccount:t=!1}=e,{user:n,team:r,isLoading:i}=(0,ra.useAccount)(),s="";t?s+="&userAccount=true":r?.id&&(s+=`&tenant=${r.id}`);let{data:o,error:a,isLoading:l}=(0,rr.default)(()=>n?.uid&&(t||r?.id)?`/api/notifications?uid=${encodeURIComponent(n.uid)}${s}`:null,rs.fetchAPI,{refreshInterval:36e5,revalidateOnFocus:!1,keepPreviousData:!1});return!o?.token||i||!t&&r?.limited||l?{token:void 0,isLoading:i||l,error:a}:{token:o.token,isLoading:!1,error:a}}e.s(["useKnockToken",()=>rc],4810515);var ru=e.i(6933680),rh=e.i(8479701);let rd=(0,a.createContext)({userId:"",userToken:"",can:void 0,useClient(){},setPrefsLoaded:()=>{throw Error("Context not provided")}});function rf(e){let{children:t,defaultLoaded:n,fallback:r}=e,[i,s]=(0,a.useState)(n),{user:l,team:c,isLoading:u}=(0,ra.useAccount)(),{isLoading:h,can:d}=(0,rl.default)(),{token:f}=rc({userAccount:!c}),p=(0,a.useMemo)(()=>{if(!f||!l?.uid)return;let e=c?.id;return{userId:l.uid,userToken:f,can:c?d:()=>!l.limited,useClient:()=>tx("pk_cBlwgRRBkMc-3KKgA0J7W-q7LbxjyDuL1u3XXU164p4",l.uid,f),preferenceOptions:{preferenceSet:e},prefsLoaded:i,setPrefsLoaded:()=>{i||s(!0)}}},[l,c,f,d,i]);return u||h||!p?r??null:(0,o.jsx)(rd.Provider,{value:p,children:t})}rd.displayName="PreferencesContext";let rp="personal-account";function rm(){let e=(0,a.useContext)(rd),{team:t}=(0,ro.useTeam)(),{activeBudget:n,isLoading:r,error:i}=(0,ri.useActiveBudget)(),s=e.useClient(),{data:o,isLoading:l,error:c,mutate:u}=(0,rr.default)(["knock-preferences",e.preferenceOptions?.preferenceSet||rp],async e=>{let[t,n]=e,r=n===rp?void 0:n;try{return await s?.preferences.get({preferenceSet:r})}catch(e){if(e instanceof Error&&/code 404/.exec(e.message)&&"created"in await (0,rs.fetchAPI)("/api/notifications/user",{method:"PUT"}))return s?.preferences.get({preferenceSet:r});throw e}},{refreshInterval:0,revalidateOnFocus:!1}),{data:h,isLoading:d,mutate:f}=(0,rr.default)(s?["knock-preferences","user-data",s.userId]:null,async()=>{let e=await s?.client().makeRequest({url:`/v1/users/${s.userId??""}`});return e?.body},{refreshInterval:0,revalidateOnFocus:!1,onError:()=>{rt.toasts.error("Could not load overage data")}}),p=l||d||r&&!i,{trigger:m}=(0,rn.default)(s?["knock-preferences","user-data",s.userId??""]:null,async(e,t)=>{let{arg:n}=t,r=await s?.client().makeRequest({url:`/v1/users/${s.userId??""}`,method:"PUT",data:n.preferences});return r?.body},{onError:()=>{rt.toasts.error("Failed to update overage data")}}),g=(0,a.useCallback)(n=>{let{channels:r,enabled:i}=n;if(p||!o)throw Error("Cannot set preferences");let a=!!i&&{conditions:[{variable:`recipient.muted_project_ids_by_team.${t?.id||"default"}`,operator:"not_contains",argument:"data.projectId"}]},l=r.reduce((e,t)=>(e[t]=a,e),{}),c={...o,channel_types:{...o.channel_types,...l}};return r.includes("push")&&(c.channels={...o.channels,[ru.WEBHOOK_PUSH_CHANNEL_ID]:a}),u(s?.preferences.set(c,e.preferenceOptions),{revalidate:!1,optimisticData:c})},[s,e,p,o,u,t]),v=(0,a.useCallback)(t=>{let{preferences:n}=t;if(p||!o)throw Error("Cannot set preferences");return u(s?.preferences.set(n,e.preferenceOptions),{revalidate:!1,optimisticData:n})},[s,e,p,o,u]),y=(0,a.useCallback)(async n=>{let{percentages:r,uri:i,channels:a,workflowId:l}=n;if(!o)throw Error("Cannot set preferences");if(!s)throw Error("Does not have Knock client defined");let c=a.reduce((e,n)=>(e[`overage_${i}_${n}_${t?.id??s.userId??""}`]=r,e),{}),h=await m({preferences:c},{revalidate:!1,optimisticData:e=>({...e,...c})}),d=null!==o.workflows?o.workflows[l]??{}:{},f=!1;for(let e of a){let n=d.channel_types?d.channel_types[e]??{conditions:[]}:{conditions:[]},r="boolean"!=typeof n?n.conditions:[];r?.find(n=>n.variable===`recipient.overage_${i}_${e}_${t?.id??s.userId??""}`)||(f=!0)}let p=a.reduce((e,n)=>(e[n]={conditions:[{variable:`recipient.overage_${i}_${n}_${t?.id??s.userId??""}`,operator:"contains",argument:"budget-reached"===l?"data.data.percentOfBudget":"data.usagePercent"}]},e),{});if(f){let t={...o,workflows:{...o.workflows,[l]:{...d,channel_types:{...d.channel_types,...p}}}};await u(s.preferences.set(t,e.preferenceOptions),{revalidate:!1,optimisticData:t})}return h},[s,e.preferenceOptions,u,m,o,t?.id]),b=(0,a.useCallback)(async e=>{let{overageSelections:n}=e;if(!o)throw Error("Cannot set preferences");if(!s)throw Error("Does not have Knock client defined");let r={};return Object.entries(n).forEach(e=>{let[n,i]=e;r[`overage_${n}_${t?.id??s.userId??""}`]=i}),await m({preferences:r},{revalidate:!1,optimisticData:e=>({...e,...r})})},[s,o,m,t?.id]),_=(0,a.useCallback)(async()=>h||f(),[f,h]),w=(0,a.useCallback)(async e=>await m({preferences:e},{revalidate:!1,optimisticData:t=>({...t,...e})}),[m]),E=h?.muted_project_ids_by_team?.[t?.id??"default"]??[],k=(0,a.useCallback)(async e=>{let n=ru.ALL_NOTIFICATION_CHANNELS.filter(e=>{let t=!!h?.phone_number;return("sms"!==e||!!t)&&(o?.channel_types?.[e]===void 0||o?.channel_types?.[e]===!0)});return n.length>0&&await g({channels:n,enabled:!0}),w({muted_project_ids_by_team:{[t?.id??"default"]:e}})},[t,o,h,w,g]),C=(0,a.useCallback)(async(e,t)=>{let n=E.filter(t=>t!==e);return k(n=t?[...n,e]:n)},[E,k]),T=(0,a.useCallback)(async e=>{let{percentages:n,category:r}=e,i=t?.id??s?.userId??"",o={},a=await s?.client().makeRequest({url:`/v1/users/${s.userId??""}`});a?.body?.[`overage_${r}_email_${i}`]||(o[`overage_${r}_email_${i}`]=n),a?.body?.[`overage_${r}_in_app_feed_${i}`]||(o[`overage_${r}_in_app_feed_${i}`]=n);let l={[`overage_${r}_in_app_feed_${i}`]:n};return await m({preferences:l},{revalidate:!1,optimisticData:e=>({...e,...l})})},[s,t,m]),R=(0,a.useCallback)(t=>{let{uri:n,channels:r,enabled:i}=t;if(p||!o)throw Error("Cannot set preferences");let a=o.categories?.[n];if("boolean"==typeof a)throw Error("Can only update groups configured by channel_types");let l=r.reduce((e,t)=>(e[t]=i,e),{}),c={...o,categories:{...o.categories,[n]:{channel_types:{...a?.channel_types,...l}}}};return r.includes("push")&&(c.categories[n].channels={...o.categories[n]?.channels,[ru.WEBHOOK_PUSH_CHANNEL_ID]:i}),u(s?.preferences.set(c,e.preferenceOptions),{revalidate:!1,optimisticData:c})},[s,e,p,o,u]),S=(0,a.useCallback)(e=>{let t=!!h?.phone_number,n=o?.channel_types?.[e]??!0;return("sms"!==e||!!t)&&("push"!==e||!!(0,rh.isPushSupported)())&&n},[o,h]),O=(0,a.useCallback)((e,t)=>{let n=o?.categories?.[e];return"boolean"==typeof n?n:void 0===n||(n.channel_types?.[t]??!0)},[o]);return{preferenceSet:e.preferenceOptions?.preferenceSet,preferences:o,activeBudget:n,userPreferences:h??{},mutateUserPreferences:f,isLoading:p,error:c,mutatePreferences:u,setChannel:g,setPreferences:v,setGroup:R,getUserData:_,setOverageDefaults:T,setUserProperties:w,mutateOveragePreferences:y,mutateAllOveragePreferences:b,isGroupEnabled:O,isChannelEnabled:S,setPrefsLoaded:e.setPrefsLoaded,mutedProjectIds:E,setMutedProjectIds:k,setMuteProject:C}}e.s(["PreferencesProvider",()=>rf,"usePreferences",()=>rm],5601342)}]);

//# debugId=fe9cfc92-6873-9940-0c6c-19d5de0fc33b
//# sourceMappingURL=a15f0d3755484f70.js.map
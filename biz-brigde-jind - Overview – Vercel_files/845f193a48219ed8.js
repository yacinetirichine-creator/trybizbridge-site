;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="fa70dcda-d846-a351-6fca-7543009287b2")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1989456,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1.5 3.5H3.5L5 1H11L12.5 3.5H14.5H16V5V12.5C16 13.8807 14.8807 15 13.5 15H2.5C1.11929 15 0 13.8807 0 12.5V5V3.5H1.5ZM4.78624 4.27174L5.84929 2.5H10.1507L11.2138 4.27174L11.6507 5H12.5H14.5V12.5C14.5 13.0523 14.0523 13.5 13.5 13.5H2.5C1.94772 13.5 1.5 13.0523 1.5 12.5V5H3.5H4.34929L4.78624 4.27174ZM9.75 8.5C9.75 9.4665 8.9665 10.25 8 10.25C7.0335 10.25 6.25 9.4665 6.25 8.5C6.25 7.5335 7.0335 6.75 8 6.75C8.9665 6.75 9.75 7.5335 9.75 8.5ZM11.25 8.5C11.25 10.2949 9.79493 11.75 8 11.75C6.20507 11.75 4.75 10.2949 4.75 8.5C4.75 6.70507 6.20507 5.25 8 5.25C9.79493 5.25 11.25 6.70507 11.25 8.5Z" fill="currentColor"/>');e.s(["Camera",0,t])},8168077,e=>{"use strict";function t(e){return new Promise(t=>{let i=new FileReader;i.addEventListener("load",e=>{let{target:i}=e;i?.result instanceof ArrayBuffer&&crypto.subtle.digest("SHA-1",i.result).then(e=>{t(function(e){let t=[],i=new DataView(e);for(let e=0;e<i.byteLength;e+=4){let a=i.getUint32(e).toString(16),s="00000000",l=(s+a).slice(-s.length);t.push(l)}return t.join("")}(e))}).catch(e=>console.error(e))}),i.readAsArrayBuffer(e)})}e.s(["generateSHA1",()=>t],8168077)},839208,e=>{e.v({disabled:"input-module__Ogo2qq__disabled",errored:"input-module__Ogo2qq__errored",focused:"input-module__Ogo2qq__focused","has-border":"input-module__Ogo2qq__has-border",icon:"input-module__Ogo2qq__icon",input:"input-module__Ogo2qq__input","input-wrapper":"input-module__Ogo2qq__input-wrapper",right:"input-module__Ogo2qq__right",wrapper:"input-module__Ogo2qq__wrapper"})},8464864,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),a=e.i(9722978),s=e.i(9544652),l=e.i(6677848),r=e.i(839208);e.s(["default",0,e=>{let{autoFocus:n,children:d,disabled:o,errored:u,icon:c,iconRight:h,maxLength:p,placeholder:m,type:f,value:x,defaultValue:g,tabIndex:b,width:T,height:j,maxWidth:v,onInput:S,onKeyDown:_,margin:y,max:A,min:I,onChange:N,className:w,onPaste:C,onFocus:E,onBlur:O,readOnly:P,title:F,required:L,label:R,innerRef:k,spellCheck:U="false",border:V=!0,style:G,position:$,...D}=e,[M,H]=i.default.useState(n||!1),q=(0,s.useDisabled)(o),z=window.innerWidth<=600;return(0,t.jsxs)("div",{className:(0,a.clsx)("wrapper",r.default.wrapper,{[r.default.errored]:u,[r.default.focused]:M,[r.default.disabled]:q,[r.default["has-border"]]:V},w),style:{"--input-height":j?(0,l.px)(j):void 0,"--input-width":T?(0,l.px)(T):void 0,"--input-max-width":v?(0,l.px)(v):void 0,"--input-wrapper-margin":y||void 0,...G},...D,children:[c?(0,t.jsx)("span",{className:r.default.icon,children:c}):null,(0,t.jsxs)("div",{className:r.default["input-wrapper"],children:[(0,t.jsx)("input",{"aria-label":R||F||m,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",autoFocus:!z&&n,className:(0,a.clsx)(r.default.input),defaultValue:g,disabled:q,id:D.id,max:A,maxLength:p,min:I,onBlur:e=>{H(!1),O?.(e)},onChange:N?e=>{N?.(e.target.value)}:void 0,onFocus:e=>{H(!0),E?.(e)},onInput:S,onKeyDown:_,onPaste:C,placeholder:m,readOnly:P,ref:e=>{k&&k(e)},required:L,spellCheck:U,tabIndex:b,title:F||x?.toString()||m,type:f||"text",value:x}),d]}),h?(0,t.jsx)("span",{className:(0,a.clsx)(r.default.icon,"right"),children:h}):null]})}])},9906153,e=>{e.v({input:"labeled-input-module__Kg8zea__input"})},9108953,e=>{"use strict";var t=e.i(1146226),i=e.i(9650453),a=e.i(9722978),s=e.i(6677848),l=e.i(8464864),r=e.i(9906153);e.s(["default",0,e=>{let{className:n,label:d,labelPosition:o,labelWidth:u,position:c="left",width:h,height:p,maxWidth:m,disabled:f,maxLength:x,id:g,placeholder:b,style:T,value:j,onChange:v,...S}=e;return(0,t.jsxs)("div",{className:i.default.dynamic([["32497c492b8de330",[h?(0,s.px)(h):"initial",p?(0,s.px)(p):"initial",m?`max-width: ${(0,s.px)(m)};`:"",u||"initial"]]])+" "+((0,a.clsx)("wrapper",o,n)||""),children:[(0,t.jsx)("div",{className:i.default.dynamic([["32497c492b8de330",[h?(0,s.px)(h):"initial",p?(0,s.px)(p):"initial",m?`max-width: ${(0,s.px)(m)};`:"",u||"initial"]]])+" label",children:(0,t.jsx)("span",{title:d,className:i.default.dynamic([["32497c492b8de330",[h?(0,s.px)(h):"initial",p?(0,s.px)(p):"initial",m?`max-width: ${(0,s.px)(m)};`:"",u||"initial"]]])+" geist-ellipsis",children:d})}),(0,t.jsx)(l.default,{...S,className:(0,a.clsx)("inner-input",r.default.input),position:c,width:h,height:p,maxWidth:m,disabled:f,maxLength:x,id:g,placeholder:b,style:T,value:j,onChange:v}),(0,t.jsx)(i.default,{id:"32497c492b8de330",dynamic:[h?(0,s.px)(h):"initial",p?(0,s.px)(p):"initial",m?`max-width: ${(0,s.px)(m)};`:"",u||"initial"],children:`.wrapper.__jsx-style-dynamic-selector{width:${h?(0,s.px)(h):"initial"};height:${p?(0,s.px)(p):"initial"};${m?`max-width: ${(0,s.px)(m)};`:""};display:inline-flex}.wrapper.right.__jsx-style-dynamic-selector{flex-direction:row-reverse}.label.__jsx-style-dynamic-selector{background-color:var(--accents-1);border-style:solid;border-color:var(--accents-2);border-radius:var(--geist-radius)0 0 var(--geist-radius);color:var(--accents-4);max-width:${u||"initial"};padding:0 var(--geist-gap-half);border-width:1px 0 1px 1px;align-items:center;font-size:14px;display:flex}.wrapper.right.__jsx-style-dynamic-selector>.label.__jsx-style-dynamic-selector{border-width:1px 1px 1px 0}@media only screen and (max-device-width:780px) and (-webkit-min-device-pixel-ratio:0){.label.__jsx-style-dynamic-selector{font-size:16px}.wrapper.__jsx-style-dynamic-selector,.label.__jsx-style-dynamic-selector{height:calc(2*var(--geist-gap))}}`})]})}])},4035574,e=>{"use strict";let t=(0,e.i(3639076).vercelApiFetcher)({path:"/v2/user",params:()=>({flags:!0})});e.s(["getUser",0,t])},8447830,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),a=e.i(8248823),s=e.i(5323212),l=e.i(5255926),r=e.i(9318197),n=e.i(1906681),d=e.i(455575),o=e.i(57106),u=e.i(277234),c=e.i(4244280),h=e.i(5338940),p=e.i(185801),m=e.i(5877749);let f=(0,i.memo)(function(e){let{error:f,isLoading:x,allowOverride:g,setAllowOverride:b,saving:T,handleSave:j,hasChangedValue:v,team:S,nextPreviewSetting:_,setNextPreviewSetting:y,nextProductionSetting:A,setNextProductionSetting:I}=function(){let{team:e,isLoading:t,mutate:s}=(0,h.useTeam)(),l=(0,d.useToasts)(),[r,n]=(0,i.useState)(!1),[o,p]=(0,i.useState)(null),m=e?.enablePreviewFeedback||"default",f=m.includes("-force")||!1,x=m.replace("-force",""),g=e?.enableProductionFeedback?.replace("-force","")||"default",[b,T]=(0,i.useState)(x),[j,v]=(0,i.useState)(g),[S,_]=(0,i.useState)(!0),y=!t&&(b!==x||j!==g);(0,i.useEffect)(()=>{_(!f)},[f]);let[A,I]=(0,i.useState)(!1);(0,i.useEffect)(()=>{t||A||(I(!0),T(x),v(g))},[t,A]);let N=async t=>{n(!0),p(null);let i="string"==typeof t?t:b,r="string"==typeof t?t:j;if(!S&&(i.endsWith("-force")||(i=`${i}-force`),r.endsWith("-force")||(r=`${r}-force`)),e)try{await (0,u.fetchAPI)(`${c.API_TEAMS}/${e.id}`,{method:"PATCH",body:{enablePreviewFeedback:i,enableProductionFeedback:r}}),s(),l.success("Updated the Vercel Toolbar setting successfully."),n(!1)}catch(e){p((0,a.normalizeError)(e))}};return{state:x,team:e,error:o,saving:r,isLoading:t,handleSave:N,hasChangedValue:y,nextPreviewSetting:b,setNextPreviewSetting:T,nextProductionSetting:j,setNextProductionSetting:v,allowOverride:S,setAllowOverride:_}}();return(0,t.jsx)("div",{id:"comments",children:(0,t.jsx)("div",{id:"toolbar",children:(0,t.jsxs)(p.ProjectSettingsFieldset,{description:"Enable the Vercel Toolbar on your Deployments.",disabled:e.disabled||!!S?.limited||x,error:f,highlightNote:e.disabled,note:e.disabled?(0,t.jsxs)(t.Fragment,{children:[" ","You need additional permissions to manage the Vercel Toolbar."]}):(0,t.jsxs)("span",{children:["Learn more about the"," ",(0,t.jsx)(o.Link,{external:!0,href:"/docs/workflow-collaboration/vercel-toolbar",variant:"highlight",children:"Vercel Toolbar"})]}),onSave:()=>j(),saveDisabled:x,saveLoading:T,title:"Vercel Toolbar",children:[(0,t.jsx)("div",{className:"flex flex-col md:flex-row items-stretch justify-start gap-4 flex-initial",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.Skeleton,{height:62,style:{flex:"1 0 0"}}),(0,t.jsx)(l.Skeleton,{height:62,style:{flex:"1 0 0"}})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{flex:"1 0 0"},children:(0,t.jsxs)(s.Select,{label:"Pre-Production Deployments",onChange:e=>{y(e.target.value||"default")},value:_,children:[(0,t.jsx)("option",{value:"default",children:"Default (on)"}),(0,t.jsx)("option",{value:"on",children:"On"}),(0,t.jsx)("option",{value:"off",children:"Off"})]})}),(0,t.jsx)("div",{style:{flex:"1 0 0"},children:(0,t.jsxs)(s.Select,{label:"Production Deployments",onChange:e=>{I(e.target.value||"default")},value:A,children:[(0,t.jsx)("option",{value:"default",children:"Default (on)"}),(0,t.jsx)("option",{value:"on",children:"On"}),(0,t.jsx)("option",{value:"off",children:"Off"})]})})]})}),v||"off"!==A?(0,t.jsx)(r.Spacer,{}):null,(0,t.jsx)(m.ProductionToolbarDisclaimer,{enabledInProduction:"off"!==A,hasChanged:v}),(0,t.jsx)(r.Spacer,{}),(0,t.jsx)("div",{style:{borderBottom:"1px solid var(--accents-2)",display:"flex",width:"100%"}}),(0,t.jsx)(r.Spacer,{}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"Allow this setting to be overridden on the project level."}),(0,t.jsx)(r.Spacer,{y:.5}),(0,t.jsxs)("label",{style:{cursor:"pointer"},children:[(0,t.jsx)(n.Toggle,{checked:g,onChange:()=>b(!g),size:"large"}),(0,t.jsx)(r.Spacer,{inline:!0,x:.5}),(0,t.jsx)("span",{className:"text-copy-14",children:g?"Enabled":"Disabled"})]})]})})})});e.s(["default",0,f])},8111190,4965818,3995351,2953410,e=>{"use strict";var t=e.i(1146226),i=e.i(9650453),a=e.i(1488180),s=e.i(5169864),l=e.i(2504781),r=e.i(7137884),n=e.i(5063443),d=e.i(8517043),o=e.i(1232681),u=e.i(3895030),c=e.i(455575),h=e.i(9070994),p=e.i(4244280),m=e.i(1574218),f=e.i(8464864),x=e.i(4787360),g=e.i(6214931),b=e.i(1877305),T=e.i(5807088),j=e.i(4004502),v=e.i(3925949),S=e.i(145675),_=e.i(4035574);let y=s.default.memo(function(e){let{promise:i,mutate:a}=(0,S.useApi)(v.getTeam),{promise:l,mutate:r}=(0,S.useApi)(_.getUser),n=(0,s.use)(i),{user:d}=(0,s.use)(l),o=(e.forceUserContext?void 0:n)||d,u=!e.forceUserContext&&"slug"in n;return!o||e.loading?(0,t.jsx)(T.default,{height:80}):(0,t.jsx)(A,{...e,account:o,disabled:e.disabled||o.limited,isTeam:u,revalidate:u?a:r})});class A extends s.PureComponent{constructor(e){super(e),this.state={error:null,value:e.isCreating?"":e.account?.name||""}}inputRef=null;onInputRef=e=>{this.inputRef=e};onSubmit=e=>{e.preventDefault(),this.setState({loading:!0,error:null}),this.props.isTeam?this.updateTeamName():this.updateUserName()};updateTeamName=()=>{(0,h.default)(`${p.API_TEAMS}/${this.props.account.id}`,{method:"PATCH",body:{name:(0,a.default)(this.state.value).replace("&#39;","'")}}).then(this.props.revalidate).then(()=>{c.toasts&&c.toasts.success("Your team's name has been updated."),this.setState({loading:!1})}).catch(e=>{this.setState({loading:!1,error:e})})};updateUserName=()=>{(0,h.default)(p.API_USER,{method:"PATCH",body:{name:(0,a.default)(this.state.value).replace("&#39;","'")}}).then(this.props.revalidate).then(()=>{c.toasts&&c.toasts.success("Your name has been updated."),this.setState({loading:!1})}).catch(e=>{this.setState({loading:!1,error:e})})};componentDidMount=()=>{this.props.autofocus&&!this.props.disabled&&this.focus()};focus=()=>{this.inputRef.focus(),this.inputRef.value.length&&this.inputRef.select()};componentDidUpdate=e=>{this.props.autofocus&&!this.props.disabled&&(!e.autofocus||e.disabled)&&this.focus()};render(){let{isTeam:e,isCreating:a,disabled:s}=this.props,{error:c}=this.state;return(0,t.jsxs)("div",{className:"jsx-6a67bb5d5c919d12",children:[(0,t.jsx)("form",{onSubmit:this.onSubmit,className:"jsx-6a67bb5d5c919d12",children:(0,t.jsxs)(d.Fieldset,{disabled:s,children:[(0,t.jsxs)(r.FieldsetContent,{children:[(0,t.jsx)(b.FieldsetTitle,{id:e||a?g.TEAM_SETTINGS_NAVIGATION_TITLES.general.name:x.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.name,children:e||a?g.TEAM_SETTINGS_NAVIGATION_TITLES.general.name:x.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.name}),(0,t.jsx)(u.FieldsetSubtitle,{children:e||a?`This is your team's visible name within ${m.PRODUCT}. For example, the name of your company or department.`:"Please enter your full name, or a display name you are comfortable with."}),(0,t.jsx)("div",{className:"jsx-6a67bb5d5c919d12 input",children:(0,t.jsx)(f.default,{disabled:this.state.loading,innerRef:this.onInputRef,maxLength:32,onChange:e=>this.setState({value:e}),value:this.state.value})})]}),(0,t.jsxs)(o.FieldsetFooter,{disabled:!1,highlight:s,children:[(0,t.jsx)(o.FieldsetFooter.Status,{children:c?(0,t.jsx)(n.ErrorText,{children:c.message}):s?"You need additional permissions to manage your team's name.":"Please use 32 characters at maximum."}),!s&&(0,t.jsx)(o.FieldsetFooter.Actions,{children:(0,t.jsx)(l.Button,{"data-testid":(0,j.tid)("account","name","save"),disabled:""===this.state.value.trim(),loading:this.state.loading,size:"small",children:"Save"})})]})]})}),(0,t.jsx)(i.default,{id:"6a67bb5d5c919d12",children:".input.jsx-6a67bb5d5c919d12{width:300px;max-width:100%}.input.jsx-6a67bb5d5c919d12>.wrapper{width:100%}"})]})}}e.s(["default",0,y],8111190);var I=e.i(5610834),N=e.i(8977282),w=e.i(277234),C=e.i(9668517),E=e.i(1434061),O=e.i(7917902),P=e.i(9108953);let F=(0,s.memo)(function(e){let{account:i,mutate:a,...s}=(0,O.useAccount)();if(e.teamSettings){if(!i||e.loading)return(0,t.jsx)(T.default,{height:102})}else if(!i)return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.default,{className:"geist-hide-on-mobile",height:80}),(0,t.jsx)(T.default,{className:"geist-show-on-mobile",height:164})]});return(0,t.jsx)(L,{...s,...e,disabled:e.disabled||i.limited,mutate:a,team:s.team??void 0,user:s.user??void 0})});function L(e){let{user:i,team:a,loading:h,disabled:f,isTeam:T,mutate:j,forceUserContext:v=!1}=e,S=(0,I.useRouter)(),_=(0,C.useTeamSlug)(),y=v?void 0:a,A=!v&&T,[O,F]=(0,s.useState)(y?.slug??i?.username),[L,R]=(0,s.useState)(null),[k,U]=(0,s.useState)(h||!1);return L&&"code"in L&&"too_many_requests"===L.code&&(L.message="You can only update this field three times per week. Please try again later."),(0,t.jsx)("div",{children:(0,t.jsx)("form",{onSubmit:e=>{var t,i;e.preventDefault(),U(!0),R(null);let s=O?.toLowerCase();s&&(y?(t=s,a&&(0,w.fetchAPI)(`${p.API_TEAMS}/${a.id}`,{method:"PATCH",body:JSON.stringify({slug:t}),throwOnHTTPError:!0}).then(async e=>{await (0,E.jwtKVStoreInitialize)(),await j(),e.slug!==_&&(window.location=`/${encodeURIComponent(e.slug)}/~/settings`),c.toasts.success("Your team's URL has been updated."),U(!1),(0,N.setScope)(t)}).catch(e=>{U(!1),R(e)})):(i=s,(0,w.fetchAPI)(p.API_USER,{method:"PATCH",body:JSON.stringify({username:i}),throwOnHTTPError:!0,wrapErrorsLegacy:!0}).then(()=>(0,E.jwtKVStoreInitialize)()).then(()=>{c.toasts.success("Your username has been updated."),U(!1)}).then(j).then(()=>S.refresh()).catch(e=>{U(!1),R(e)})))},children:(0,t.jsxs)(d.Fieldset,{disabled:!!f,children:[(0,t.jsxs)(r.FieldsetContent,{children:[(0,t.jsx)(b.FieldsetTitle,{id:A?g.TEAM_SETTINGS_NAVIGATION_TITLES.general.slug:x.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.username,children:A?g.TEAM_SETTINGS_NAVIGATION_TITLES.general.slug:x.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.username}),(0,t.jsx)(u.FieldsetSubtitle,{children:A?`This is your team's URL namespace on ${m.PRODUCT}. Within it, your team can inspect their projects, check out any recent activity, or configure settings to their liking.`:`This is your URL namespace within ${m.PRODUCT}.`}),(0,t.jsx)(P.default,{className:void 0,disabled:k,label:`${m.PRODUCT_DOMAIN}/`,labelPosition:void 0,labelWidth:void 0,maxLength:48,maxWidth:"100%",onChange:e=>F(e),value:O,width:300})]}),(0,t.jsxs)(o.FieldsetFooter,{disabled:!1,highlight:!!f,children:[(0,t.jsx)(o.FieldsetFooter.Status,{children:L?(0,t.jsx)("div",{className:"md:pr-2",children:(0,t.jsx)(n.ErrorText,{children:L.message})}):(0,t.jsx)("span",{style:{textRendering:"optimizeSpeed"},children:f?"You need additional permissions to manage your team's slug.":"Please use 48 characters at maximum."})}),!f&&(0,t.jsx)(o.FieldsetFooter.Actions,{children:(0,t.jsx)(l.Button,{disabled:O?.trim()==="",loading:k,size:"small",children:"Save"})})]})]})})})}e.s(["SlugFieldset",0,F],4965818);var R=e.i(2305006),k=e.i(1989456),U=e.i(5255926),V=e.i(4585051),G=e.i(9396687),$=e.i(6891161),D=e.i(4450569),M=e.i(8168077),H=e.i(2989356);let q=(0,c.withToasts)(e=>{let{uploaded:i,onSkip:a,onUpdate:l}=e,r=(0,s.useMemo)(()=>{let e=i.width/i.height,t=(0,R.makeAspectCrop)({x:e>3?45:25,width:e>3?14:50,aspect:1},e);return t.y=e>3?0:50-t.height/2,t},[i]),n=(0,c.useToasts)(),d=(0,s.useRef)(!1),o=(0,s.useRef)(null),u=(0,s.useRef)(!1),[h,m]=(0,s.useState)(!1),[f,x]=(0,s.useState)(r),{team:g,loading:b}=(0,O.useAccount)();(0,s.useEffect)(()=>(d.current=!0,()=>d.current=!1),[]);let T=(0,s.useCallback)(e=>{n.error(e)},[n]),j=(0,s.useCallback)(async e=>{try{let t=await e();if(!d.current)return!1;return t}catch(e){if(!d.current)return!1;return m(!1),e.toString().toLowerCase().includes("failed to fetch")?T("A network error has occurred."):T(e.toString()),!1}},[T]),v=(0,s.useCallback)(async e=>{if(!d.current)return;let t=await (0,M.generateSHA1)(e);if(!d.current)return;let i=await j(()=>fetch(`${p.API_AVATARS}/${t}?head=1`));if(!1===i||!i.ok&&await j(()=>(0,w.default)(p.API_FILES_V2,{method:"POST",headers:{"Content-Type":"application/octet-stream","Content-Length":e.size,"x-now-digest":t,"x-now-size":e.size},body:e}))===!1)return;let a=g?`${p.API_TEAMS}/${g.id}`:p.API_USER,s=await j(()=>(0,w.default)(a,{method:"PATCH",body:JSON.stringify({avatar:t})}));!1!==s&&(l&&(l(s),n.success("Avatar has been updated.")),m(!1))},[g,l,n,j]),S=(0,s.useCallback)(()=>{var e;let t,i,a,s,l;e=o.current,t=Math.round(e.naturalWidth*(f.x/100)),i=Math.round(e.naturalHeight*(f.y/100)),a=Math.round(e.naturalWidth*(f.width/100)),s=Math.round(e.naturalHeight*(f.height/100)),(l=document.createElement("canvas")).width=a,l.height=s,l.getContext("2d").drawImage(e,t,i,a,s,0,0,a,s),l.toBlob(v)},[f,v]),_=(0,s.useCallback)(e=>{o.current=e,u.current&&(S(),u.current=!1)},[S]),y=(0,s.useCallback)(()=>{m(!0),o.current?S():u.current=!0},[S]);return(0,t.jsx)(G.Keyboard,{handlers:{ENTER:y},useKeys:!0,children:(0,t.jsxs)($.Modal,{active:!0,onClickOutside:a,children:[(0,t.jsxs)($.Modal.Body,{children:[(0,t.jsx)(R.default,{crop:f,disabled:h,keepSelection:!0,onChange:x,onImageLoaded:_,src:i.dataURL}),(0,t.jsx)(H.default,{})]}),(0,t.jsxs)($.Modal.Actions,{children:[(0,t.jsx)($.Modal.Action,{onClick:a,type:"ghost",children:"Cancel"}),(0,t.jsx)($.Modal.Action,{disabled:b||h,loading:h,onClick:y,children:"Set Avatar"})]})]})})}),z=s.default.memo(q),B=s.default.memo(e=>{let{size:a=80,isCreating:l,disabled:r,loading:n,forceUserContext:d}=e,o=(0,s.useRef)(!1),u=(0,s.useRef)(),[c,h]=(0,s.useState)(null),[p,m]=(0,s.useState)(!1),{promise:f,mutate:x}=(0,S.useApi)(_.getUser),{promise:g,mutate:b}=(0,S.useApi)(v.getTeam),{user:T}=(0,s.use)(f),j=(0,s.use)(g),y=!d&&"slug"in j,A=y?j:T;(0,s.useEffect)(()=>(o.current=!0,()=>o.current=!1),[]);let I=(0,s.useCallback)(e=>{let[t]=e.target.files,i=new FileReader;i.addEventListener("load",()=>{if(!o.current)return;let e=i.result,t=new Image;t.src=e,t.onload=()=>{if(!o.current)return;let{height:i,width:a}=t;h({dataURL:e,width:a,height:i}),m(!0)}}),window.DataTransferItem&&t instanceof DataTransferItem&&(t=t.getAsFile()),i.readAsDataURL(t)},[]),N=(0,s.useCallback)(()=>{u.current&&(u.current.value=""),h(null),m(!1)},[]),w=(0,s.useMemo)(()=>l?(0,t.jsx)(D.default,{center:!0,style:{width:a,height:a,borderRadius:"50%",border:"1px solid var(--accents-2)",background:"var(--geist-background)"},children:(0,t.jsx)(k.Camera,{})}):!A||n?(0,t.jsx)(U.Skeleton,{height:a,rounded:!0,width:a}):(0,t.jsx)(V.Avatar,{hash:A.avatar,size:a,teamId:j?.id,title:A.name||A.slug||A.username||A.email,uid:T?.uid??T?.id}),[l,n,T,j,A,a,d]),C=(0,s.useCallback)(e=>{e.preventDefault(),!r&&u.current&&u.current.click()},[r]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{disabled:r,onClick:C,tabIndex:"0",className:i.default.dynamic([["1c41f03761a4af4d",[r?"not-allowed":"pointer",r?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""]]])+" geist-reset",children:[w,(0,t.jsx)(i.default,{id:"1c41f03761a4af4d",dynamic:[r?"not-allowed":"pointer",r?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""],children:`button.__jsx-style-dynamic-selector{cursor:${r?"not-allowed":"pointer"};${r?`
              pointer-events: none;
              filter: saturate(0);
              opacity: 0.3;
            `:""};border-radius:50%;font-size:0;transition:all .2s;display:inline-block;overflow:visible}button.__jsx-style-dynamic-selector:hover{filter:brightness(.9)}button.__jsx-style-dynamic-selector:focus{box-shadow:0 0 0 2px var(--accents-4);outline:none}`})]}),(0,t.jsx)("input",{accept:"image/png,image/jpeg,image/webp","aria-label":"Upload Avatar",className:"geist-visually-hidden",onChange:I,ref:u,type:"file"}),p&&c?(0,t.jsx)(z,{onSkip:N,onUpdate:e=>{y?b(e):x(e),N()},uploaded:c}):null]})}),W=s.default.memo(function(e){let{isCreating:a,loading:s,disabled:l,forceUserContext:n,...c}=e,{account:h,isTeam:p,isLoading:m}=(0,O.useAccount)(),f=!n&&(p||a);return m||s?(0,t.jsx)(T.default,{height:55}):(0,t.jsxs)(d.Fieldset,{disabled:l||!!h?.limited,children:[(0,t.jsxs)(r.FieldsetContent,{children:[(0,t.jsxs)("div",{className:"jsx-bb8dccab58423263 avatar",children:[(0,t.jsx)(B,{disabled:l,isCreating:a,loading:c.loading,forceUserContext:n}),(0,t.jsx)(i.default,{id:"bb8dccab58423263",children:".avatar.jsx-bb8dccab58423263{float:right;display:flex}"})]}),(0,t.jsx)(b.FieldsetTitle,{id:f?g.TEAM_SETTINGS_NAVIGATION_TITLES.general.avatar:x.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.avatar,children:f?g.TEAM_SETTINGS_NAVIGATION_TITLES.general.avatar:x.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.avatar}),(0,t.jsxs)(u.FieldsetSubtitle,{children:[f?"This is your team's avatar. ":"This is your avatar. ",(0,t.jsx)("br",{}),"Click on the avatar to upload a custom one from your files."]})]}),(0,t.jsx)(o.FieldsetFooter,{disabled:!1,highlight:l,children:(0,t.jsx)(o.FieldsetFooter.Status,{children:l?"You need additional permissions to manage your team's avatar.":"An avatar is optional but strongly recommended."})})]})});e.s(["default",0,W],3995351);var Y=e.i(8362472);let K=(0,s.memo)(function(e){let{id:i,forceUserContext:a=!1}=e,{account:s,isTeam:l}=(0,O.useAccount)(),n=!a&&l;return s?(0,t.jsxs)(d.Fieldset,{disabled:s.limited,children:[(0,t.jsxs)(r.FieldsetContent,{children:[(0,t.jsx)(b.FieldsetTitle,{id:n?g.TEAM_SETTINGS_NAVIGATION_TITLES.general.id:x.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.id,children:n?g.TEAM_SETTINGS_NAVIGATION_TITLES.general.id:x.PERSONAL_ACCOUNT_SETTINGS_NAVIGATION_TITLES.general.id}),(0,t.jsx)(u.FieldsetSubtitle,{children:n?`This is your team's ID within ${m.PRODUCT}.`:`This is your user ID within ${m.PRODUCT}.`}),(0,t.jsx)(Y.Snippet,{prompt:!1,text:i})]}),(0,t.jsx)(o.FieldsetFooter,{children:(0,t.jsxs)(o.FieldsetFooter.Status,{children:["Used when interacting with the ",m.PRODUCT," API."]})})]}):(0,t.jsx)(T.default,{height:81})});e.s(["IdFieldset",0,K],2953410)},1033625,e=>{"use strict";var t=e.i(8248823);e.s(["transform",0,e=>{if(void 0===e)return{reasons:[]};let i=e.fields,a=[];return i.forEach(e=>{switch(e.type){case"select":a.push(...function(e){let t=[];for(let i of e)if(i.selected){if("other"===i.id&&i.reveals?.value){t.push({slug:i.id,description:i.reveals.value});continue}if("other"===i.id)continue;t.push({slug:i.id,description:i.label})}return t}(e.options));break;case"text":if(!e.value)break;a.push({slug:e.id,description:e.value});break;default:(0,t.exhaustivenessCheck)(e)}}),{reasons:a}}])},8933976,e=>{"use strict";function t(e){let{user:t,teams:i}=e;return t?.version==="northstar"&&1===i.length&&i[0].billing?.plan==="hobby"}function i(e){let{team:t,teams:i}=e,a=i.filter(e=>e.billing?.plan==="hobby");return 1===a.length&&a[0].id===t.id}e.s(["isTeamLastHobbyTeam",()=>i,"onlyTeamIsHobbyTeam",()=>t])}]);

//# debugId=fa70dcda-d846-a351-6fca-7543009287b2
//# sourceMappingURL=67c4ac2176e26e6c.js.map
;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="403b48ee-067c-e47c-5cc2-d30af06cd8a6")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1961840,e=>{"use strict";var t=e.i(2405338),n=e.i(8042625),a=e.i(277234),i=e.i(4244280),r=e.i(5338940);function s(e,s){let{isReady:l,team:o}=(0,r.useTeam)();return(0,t.default)(()=>e&&l?`${(0,i.API_PROJECTS_VERSION)("v7")}/${encodeURIComponent(e)}/system-env-values${(0,n.encode)({teamId:o?.id})}`:"",e=>(0,a.fetchAPI)(e,{throwOnHTTPError:!0}),s)}e.s(["default",()=>s])},3245331,e=>{"use strict";var t=e.i(1146226);e.s(["default",0,function(e){return(0,t.jsx)("form",{...e,onKeyDown:e=>{if("Enter"===e.key&&e.metaKey){let t=e.target;t.form&&t.form.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}},onSubmit:t=>{t.preventDefault(),e.onSubmit?.(t)}})}])},7332807,e=>{e.v({popoverBottom:"styled-combobox-module__rI3xva__popoverBottom",popoverShadow:"styled-combobox-module__rI3xva__popoverShadow",projectOptionList:"styled-combobox-module__rI3xva__projectOptionList",themeBorder:"styled-combobox-module__rI3xva__themeBorder"})},3845686,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),a=e.i(9722978),i=e.i(6881349),r=e.i(7332807);function s(e){let{items:s,selectedItems:l,hideSelectedItems:o,placeholderText:d,OptionComponent:c,search:u,setSearch:m,onChange:v,ListFooterComponent:p,disabled:h,size:x,classNames:f}=e,[y,g]=(0,n.useState)(!1),j=(0,n.useMemo)(()=>o?s.filter(e=>!l.find(t=>e.id===t.id)):s,[o,s,l]);return(0,t.jsxs)(i.Combobox,{className:(0,a.clsx)(r.default.portal,f?.combobox),disabled:h,onChange:v,onChangeOpen:g,placeholder:d,size:x,value:u,children:[(0,t.jsx)(i.Combobox.Input,{className:(0,a.clsx)(r.default.themeBorder,r.default.inputBox,{[r.default.popoverShadow]:y},f?.input),onChange:e=>{m(e.target.value)}}),(0,t.jsx)(i.Combobox.List,{ListFooterComponent:p,avoidCollisions:!1,className:(0,a.clsx)(r.default.projectOptionList,r.default.themeBorder,r.default.popoverBottom,r.default.popoverShadow,f?.list),children:j.map(e=>(0,t.jsx)(c,{item:e},e.id))})]})}e.s(["StyledCombobox",()=>s])},8916169,e=>{"use strict";var t=e.i(1146226),n=e.i(2504781),a=e.i(119294),i=e.i(6352514),r=e.i(9544652);e.s(["default",0,e=>{let s=(0,r.useDisabled)(e.disabled),l=e.loading??e.swr?.isLoadingMore,o="Load More";return!e.swr?.initialDataLoaded||e.swr?.isReachingEnd?null:(0,t.jsx)(n.Button,{type:"secondary",width:"100%",...e,disabled:s,loading:l,onClick:t=>{let n=e.onClick??e.swr?.loadMore;n?.(t),a.analytics.track(i.AnalyticsEvent.CLICK_EVENT,{click_name:"dashboard_cta",click_value:o})},children:o})}])},4171299,e=>{"use strict";var t=e.i(8042625),n=e.i(277234),a=e.i(4244280),i=e.i(1080700);async function r(e){let{envVar:r,teamId:s,payload:l,applyToAllCustomEnvironments:o}=e,d={};return r.key!==l.key&&(d.key=l.key),r.value!==l.value&&(d.value=l.value),(0,i.arraysEqual)(r.target.sort(),l.target.sort())||(d.target=[...l.target]),l.projectIdUpdates&&(d.projectIdUpdates=l.projectIdUpdates),void 0!==l.comment&&(d.comment=l.comment),void 0!==o&&(d.applyToAllCustomEnvironments=o),(0,n.fetchAPI)(`${a.API_SHARED_ENV_VARIABLES}${(0,t.encode)({teamId:s})}`,{method:"PATCH",body:JSON.stringify({updates:{[r.id]:d}}),throwOnHTTPError:!0})}async function s(e){let{envVar:i,projectId:r,teamId:s}=e,l=`${a.API_SHARED_ENV_VARIABLES}/${i.id}/unlink/${r}${(0,t.encode)({teamId:s})}`;await (0,n.fetchAPI)(l,{method:"PATCH",throwOnHTTPError:!0,body:{}})}async function l(e){let{envVars:i,projectId:r,teamId:s}=e,l={};i.forEach(e=>{if(e.projectId.includes(r))throw Error("Project already added to env var");l[e.id]={projectIdUpdates:{link:[r],unlink:[]}},e.applyToAllCustomEnvironments&&(l[e.id].applyToAllCustomEnvironments=e.applyToAllCustomEnvironments)}),await (0,n.fetchAPI)(`${a.API_SHARED_ENV_VARIABLES}${(0,t.encode)({teamId:s})}`,{method:"PATCH",body:JSON.stringify({updates:l}),throwOnHTTPError:!0})}e.s(["addProjectToSharedEnvVars",()=>l,"removeProjectFromSharedEnvVar",()=>s,"updateSharedEnvVar",()=>r])},9307140,e=>{e.v({fullWidthHR:"full-width-hr-module__8ZqTOq__fullWidthHR"})},809476,e=>{"use strict";var t=e.i(1146226),n=e.i(8206804),a=e.i(9307140);function i(){return(0,t.jsx)("div",{"aria-hidden":!0,children:(0,t.jsx)(n.default,{className:a.default.fullWidthHR,margin:0})})}e.s(["FullWidthHR",()=>i])},4089015,e=>{"use strict";var t=e.i(8042625),n=e.i(277234),a=e.i(4244280),i=e.i(5927860);async function r(e){let{projectId:r,kvs:s,target:l,type:o=i.EnvType.Encrypted,teamId:d,applyToAllCustomEnvironments:c}=e;return(0,n.fetchAPI)(`${a.API_SHARED_ENV_VARIABLES}${(0,t.encode)({teamId:d})}`,{method:"POST",body:JSON.stringify({evs:s,projectId:r,target:l,type:o,applyToAllCustomEnvironments:c}),throwOnHTTPError:!0})}e.s(["addSharedEnvs",()=>r])},5601055,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),a=e.i(9220646),i=e.i(2504781),r=e.i(3869281),s=e.i(8735244),l=e.i(5468328),o=e.i(3753138),d=e.i(4482823),c=e.i(2560270),u=e.i(4345845),m=e.i(2634426),v=e.i(5756088),p=e.i(6107899),h=e.i(3394346),x=e.i(9722978),f=e.i(5339191),y=e.i(1098160),g=e.i(5166685),j=e.i(7713873),b=e.i(5927860),E=e.i(4004502),_=e.i(1138941),C=e.i(7957424),k=e.i(1516738),S=e.i(2928617),w=e.i(6060673);let N=(0,j.brandCustomEnvId)("applyToAllCustomEnvironments");function T(e){let{canCreateProductionEnvVars:n,disabled:l=!1,onChange:o,selectedEnvironmentIds:u=new Set([j.PreviewEnvironment.id,j.DevelopmentEnvironment.id]),isPreviewEnvironment:m,disableDevelopmentEnvironment:v}=e,p=(0,_.useProjectIdOrName)(),h=""===p,{isLoading:x,isAllPreProductionEnvironmentsIndeterminate:f,isAllPreProductionEnvironmentsSelected:y,preProductionEnvironmentIds:g,hasCustomEnvironments:b,customEnvironments:E,label:C,icon:k}=A({selectedEnvironmentIds:u,isPreviewEnvironment:m}),{data:T}=(0,w.useProject)(m?p:void 0),{data:L=[]}=(0,S.useProjectBranches)(m?T?.id:void 0),V=e=>t=>{if(m)o([e]);else{let n=new Set(u);return t?n.add(e):n.delete(e),o(Array.from(n)),n}};return(0,t.jsxs)(a.Root,{children:[(0,t.jsx)(a.Trigger,{asChild:!0,children:(0,t.jsx)(i.Button,{className:"group !justify-between !pl-0 !font-normal",disabled:l,name:"add-form-environments-picker",suffix:(0,t.jsx)(c.ChevronDown,{}),type:"secondary",typeName:"button",width:"100%",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial -ml-1.5 h-10",children:[(0,t.jsx)("span",{className:"-my-4 grid size-10 shrink-0 place-items-center rounded-l border-r bg-background-200 group-disabled:bg-gray-100",children:x?(0,t.jsx)(s.Spinner,{}):k}),(0,t.jsx)("span",{className:"block w-full gap-2 overflow-hidden text-ellipsis text-gray-1000 ",children:C})]})})}),(0,t.jsx)(a.Portal,{children:(0,t.jsx)("div",{className:"tailwind-preflight",children:(0,t.jsxs)(a.Content,{className:"flex max-h-[calc(var(--radix-popover-content-available-height)-32px)] w-[var(--radix-popover-trigger-width)] flex-col gap-px overflow-auto rounded-lg bg-background-100 p-2 shadow-md",sideOffset:5,children:[!m&&(0,t.jsx)(I,{enabled:u.has(j.ProductionEnvironment.id),env:j.ProductionEnvironment,disabled:n?void 0:"missingPermission",name:"add-form-production",onChange:e=>{V(j.ProductionEnvironment.id)(e)},testId:"production-checkbox"}),(b||h)&&!m?(0,t.jsxs)("label",{className:"group flex h-9 shrink-0 select-none items-center justify-between rounded bg-background-100 px-2 py-[6px] text-gray-1000 transition-colors hover:cursor-pointer hover:bg-gray-alpha-300 focus-visible:bg-gray-alpha-300",children:[(0,t.jsx)("span",{className:"text-[12px] leading-[16px] font-medium text-gray-900 transition-colors group-hover:!text-gray-1000",children:"Pre-Production Environments"}),(0,t.jsx)(r.Checkbox,{checked:f?y:void 0,indeterminate:!f||void 0,onChange:e=>{let t=new Set(u);g.forEach(n=>{e.target.checked?t.add(n):t.delete(n)}),o(Array.from(t))}})]}):null,(0,t.jsx)(I,{customLabel:"Preview",enabled:u.has(j.PreviewEnvironment.id),env:j.PreviewEnvironment,hideCheckbox:m,name:"add-form-preview",onChange:e=>{V(j.PreviewEnvironment.id)(e)},testId:"preview-checkbox"}),h||m?null:(0,t.jsx)(t.Fragment,{children:E.sort((e,t)=>e.slug.localeCompare(t.slug)).map(e=>(0,t.jsx)(I,{enabled:u.has(e.id),env:e,name:`add-form-custom-environment-${e.slug}`,onChange:t=>{V(e.id)(t)},testId:e.slug},e.id))}),m?(0,t.jsx)(t.Fragment,{children:L.sort((e,t)=>e.ref.localeCompare(t.ref)).filter(e=>e.ref!==T?.link?.productionBranch).map(e=>(0,t.jsx)(P,{branch:e,enabled:u.has((0,j.brandCustomEnvId)(e.ref)),onChange:t=>{V((0,j.brandCustomEnvId)(e.ref))(t)}},e.ref))}):null,!m&&(0,t.jsx)(I,{enabled:u.has(j.DevelopmentEnvironment.id),env:j.DevelopmentEnvironment,disabled:v?"sensitive":void 0,name:"add-form-development",onChange:e=>{V(j.DevelopmentEnvironment.id)(e)},testId:"development-checkbox"}),h?(0,t.jsxs)("label",{className:"flex h-9 shrink-0 select-none items-center justify-between rounded bg-background-100 px-2 py-[6px] text-gray-1000 transition-colors hover:cursor-pointer hover:bg-gray-alpha-300 focus-visible:bg-gray-alpha-300",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-900",children:(0,t.jsx)(d.Asterisk,{})}),(0,t.jsx)("span",{className:"flex gap-1",children:(0,t.jsx)("span",{children:"Include all custom environments"})})]}),(0,t.jsx)(r.Checkbox,{checked:u.has(N),onChange:e=>{V(N)(e.target.checked)}})]}):null]})})})]})}function I(e){let{env:n,onChange:a,enabled:i,hideCheckbox:s,customLabel:o,name:d,testId:c,disabled:u}=e,m=(0,j.isCustomEnvironment)(n),p="missingPermission"===u?`Additional permissions are required to create ${(0,j.envName)(n)} environment variables.`:"Sensitive environment variables cannot be created in the Development environment";return(0,t.jsx)(l.Tooltip,{className:"block",disableTriggers:!u,text:p,children:(0,t.jsxs)("label",{className:`flex h-9 shrink-0 select-none items-center justify-between rounded bg-background-100 px-2 py-[6px] text-gray-1000 transition-colors hover:bg-gray-alpha-300 focus-visible:bg-gray-alpha-300 ${u?"hover:cursor-not-allowed":"hover:cursor-pointer"}`,"data-testid":(0,E.tid)("env-variables","label",o||(0,j.envName)(n)),children:[(0,t.jsxs)("span",{className:"flex w-[calc(100%-16px)] items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-900",children:(0,t.jsx)(k.EnvironmentIcon,{id:n.id})}),(0,t.jsxs)("span",{className:"flex w-[calc(100%-36px)] gap-1",children:[(0,t.jsx)("span",{className:"overflow-hidden text-ellipsis text-nowrap",children:o||(0,j.envName)(n)}),n.slug&&m?(0,t.jsx)("span",{className:"hidden max-w-[38ch] cursor-pointer truncate rounded-sm bg-gray-100 px-[6px] font-mono text-[13px] leading-5 text-gray-900 outline-0 transition-colors hover:bg-gray-200 focus-visible:shadow-focus-ring active:bg-gray-300 md:inline",children:n.slug}):null]})]}),u?(0,t.jsx)(v.LockClosed,{}):(0,t.jsx)(r.Checkbox,{checked:i,className:(0,x.clsx)(s&&"opacity-0"),"data-testid":(0,E.tid)("env-variables",c),name:d,onChange:e=>{a(e.target.checked)}}),s?(0,t.jsx)(L,{enabled:i}):null]})})}function P(e){let{branch:n,onChange:a,enabled:i}=e;return(0,t.jsxs)("label",{className:(0,x.clsx)("flex h-9 shrink-0 select-none items-center justify-between rounded bg-background-100 px-2 py-[6px] text-gray-1000 transition-colors hover:cursor-pointer hover:bg-gray-alpha-300 focus-visible:bg-gray-alpha-300"),children:[(0,t.jsxs)("span",{className:"flex w-[calc(100%-16px)] items-center gap-2 text-sm",children:[(0,t.jsx)("span",{className:"text-gray-900",children:(0,t.jsx)(u.GitBranch,{})}),(0,t.jsx)("span",{className:"flex w-[calc(100%-36px)] gap-1",children:(0,t.jsx)("span",{className:"overflow-hidden text-ellipsis text-nowrap",children:n.ref})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Checkbox,{checked:i,className:"pointer-events-none absolute inset-0 opacity-0",onChange:e=>{a(e.target.checked)}}),(0,t.jsx)(L,{enabled:i})]})]})}function L(e){let{enabled:n}=e;return(0,t.jsx)(f.AnimatePresence,{initial:!1,children:n?(0,t.jsx)(y.motion.span,{children:(0,t.jsx)(y.motion.svg,{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)(y.motion.path,{animate:{strokeDashoffset:0,opacity:1,transition:{duration:.15,ease:"easeIn"}},d:"M1.5 10L4.29289 12.7929C4.68342 13.1834 5.31658 13.1834 5.70711 12.7929L14.5 4",exit:{strokeDashoffset:0,opacity:0,transition:{duration:.2}},initial:{strokeDashoffset:1},pathLength:"1",stroke:"currentColor",strokeLinecap:"butt",strokeLinejoin:"round",strokeWidth:"1.5px",style:{strokeDasharray:"1"}})})}):null})}function A(e){let{selectedEnvironmentIds:t,isPreviewEnvironment:a=!1}=e,i=(0,_.useProjectIdOrName)(),{data:{environments:r},isLoading:s}=(0,C.useAllEnvironments)(i),l=""===i,o=r.filter(j.isCustomEnvironment),d=(0,n.useMemo)(()=>l?[j.PreviewEnvironment.id,j.DevelopmentEnvironment.id,N]:[j.PreviewEnvironment.id,j.DevelopmentEnvironment.id,...o.map(e=>e.id)],[o,l]),c=(0,n.useMemo)(()=>d.every(e=>t.has(e)),[d,t]),u=(0,n.useMemo)(()=>d.some(e=>t.has(e))?d.every(e=>t.has(e)):d.every(e=>!t.has(e)),[d,t]),m=o.length>0,{label:v,icon:p,environmentNamesList:h}=(0,n.useMemo)(()=>V({selectedEnvironmentIds:t,environments:r,isAllPreProductionEnvironmentsSelected:c,isPreviewEnvironment:a}),[t,r,a,c]);return{isLoading:s,isAllPreProductionEnvironmentsSelected:c,isAllPreProductionEnvironmentsIndeterminate:u,hasCustomEnvironments:m,preProductionEnvironmentIds:d,customEnvironments:o,label:v,environmentNamesList:h,icon:p}}let V=e=>{var n;let a,{selectedEnvironmentIds:i,environments:r,isPreviewEnvironment:s,isAllPreProductionEnvironmentsSelected:l}=e;if(s&&1===i.size){let e=Array.from(i),n=r.find(t=>t.id===e[0]);return n&&n.id===(0,j.brandCustomEnvId)(b.EnvTarget.Preview)?{environmentNamesList:["Preview"],label:"Preview",icon:(0,t.jsx)(p.PreviewEye,{color:"gray-900"})}:{environmentNamesList:[e[0]],label:e[0],icon:(0,t.jsx)(u.GitBranch,{color:"gray-900"})}}if(0===i.size)return{environmentNamesList:[],label:"No Environments",icon:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(m.Layers,{color:"gray-900"}),(0,t.jsx)("div",{className:"absolute left-px top-0 box-content h-[1.5px] w-[131%] origin-top-left rotate-[44deg] bg-gray-900",style:{borderBottom:"1.5px solid var(--ds-background-200)"}})]})};if(i.has(j.ProductionEnvironment.id)&&l)return{environmentNamesList:["Production","Preview","Development","All Custom Environments"],label:"All Environments",icon:(0,t.jsx)(m.Layers,{color:"gray-900"})};if(l)return{environmentNamesList:["All Pre-Production Environments"],label:"All Pre-Production Environments",icon:(0,t.jsx)(m.Layers,{color:"gray-900"})};if(1===i.size){if(i.has(N))return{environmentNamesList:["All Custom Environments"],label:"All Custom Environments",icon:(0,t.jsx)(m.Layers,{color:"gray-900"})};let e=r.find(e=>e.id===Array.from(i)[0]);if(void 0===e)return{environmentNamesList:["All Custom Environments"],label:"All Custom Environments",icon:(0,t.jsx)(m.Layers,{color:"gray-900"})};if(e.id===(0,j.brandCustomEnvId)(b.EnvTarget.Production))return{environmentNamesList:["Production"],label:"Production",icon:(0,t.jsx)(o.ArrowCircleUp,{color:"gray-900"})};if(e.id===(0,j.brandCustomEnvId)(b.EnvTarget.Preview))return{environmentNamesList:["Preview"],label:"Preview",icon:(0,t.jsx)(p.PreviewEye,{color:"gray-900"})};if(e.id===(0,j.brandCustomEnvId)(b.EnvTarget.Development))return{environmentNamesList:["Development"],label:"Development",icon:(0,t.jsx)(h.Wrench,{color:"gray-900"})}}let d=(n=Array.from(i).flatMap(e=>{let t=r.find(t=>t.id===e);return t?[(0,j.envName)(t)]:[]}),a={Production:1,Preview:2,Development:4,"All Custom Environments":5},n.sort((e,t)=>{let n=a[e]||3,i=a[t]||3;return n!==i?n-i:3===n&&3===i?e.localeCompare(t):0}));if(i.has(N)&&d.push("All Custom Environments"),d.length>3){let e=d.slice(0,3),n=d.slice(3),a=[...e,`${n.length} more`];return{environmentNamesList:d,label:`${(0,g.toListSentence)(a)}`,icon:(0,t.jsx)(m.Layers,{color:"gray-900"})}}return{environmentNamesList:d,label:`${(0,g.toListSentence)(d)}`,icon:(0,t.jsx)(m.Layers,{color:"gray-900"})}};e.s(["CustomEnvironmentEnvVarPicker",()=>T,"INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID",0,N,"useCustomEnvironmentsPrettyLabel",()=>A])},1642786,e=>{e.v({bold:"tev-environments-selector-module__yCytCa__bold",selectGitBranch:"tev-environments-selector-module__yCytCa__selectGitBranch",truncate:"tev-environments-selector-module__yCytCa__truncate"})},1847448,4805353,e=>{"use strict";var t=e.i(8230165),n=e.i(8128646),a=e.i(5927860),i=e.i(187815),r=e.i(1146226),s=e.i(5169864),l=e.i(5610834),o=e.i(2504781),d=e.i(6881349),c=e.i(3671642),u=e.i(5338940),m=e.i(3322724),v=e.i(7713873),p=e.i(57106),h=e.i(1717203),x=e.i(7557283),f=e.i(6060673),y=e.i(2928617),g=e.i(5601055),j=e.i(7401972),b=e.i(1642786),E=e.i(9722978);function _(e){let{dispatch:t,state:n,mustBeSensitive:a,teamId:i,variant:l,gitBranch:d,restrictToEnvironmentIds:u,disableEnvironmentPicker:p,disableDevelopmentEnvironment:f}=e,{can:y,isLoading:j}=(0,h.default)({teamId:i}),b=(0,m.useIsTablet)()||"project"===l,_=n.target,C=_.production||_.preview,k=y(x.Action.Create,"project"===l?x.Resource.ProjectEnvVarsProduction:x.Resource.SharedEnvVarsProduction);(0,s.useEffect)(()=>{!j&&(k||t({type:"update_target",payload:{target:{production:!1}}}),(n.sensitive||a)&&C&&t({type:"update_target",payload:{target:{development:!1}}}))},[k,j,a,n.sensitive,C,_.production,t]);let w=!!u?.length,N=u?.length===1&&u[0]===v.PreviewEnvironment.id;(0,s.useEffect)(()=>{if(u?.length)if(N)t({type:"update_custom_environment_target",payload:{target:{customEnvironmentIds:[],development:!1,preview:!0,production:!1}}});else{let e=[],n=[];u.forEach(t=>{["production","development","preview"].includes(t)?e.push(t):n.push(t)}),t({type:"update_custom_environment_target",payload:{target:{customEnvironmentIds:n,applyToAllCustomEnvironments:n.includes(g.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID),development:e.includes("development"),preview:e.includes("preview"),production:e.includes("production")}}})}},[t,N,u]);let T=w?N&&!p:!p;return(0,r.jsxs)("div",{className:(0,E.default)("flex flex-col items-stretch justify-start flex-initial",b?"gap-1":""),children:[(0,r.jsx)(c.Label,{value:"Environments"}),(0,r.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,r.jsx)(g.CustomEnvironmentEnvVarPicker,{canCreateProductionEnvVars:k,disabled:w||p,disableDevelopmentEnvironment:f,isPreviewEnvironment:N,onChange:e=>{if(u?.length&&!N)return;if(N&&1===e.length){let n="preview"===e[0]?void 0:e[0];n&&t({type:"set_git_branch_name",payload:{branchName:n}}),t({type:"update_custom_environment_target",payload:{target:{customEnvironmentIds:[],development:!1,preview:!0,production:!1,gitBranch:!!n}}});return}let n=[],a=[];e.forEach(e=>{["production","development","preview"].includes(e)?n.push(e):a.push(e)}),t({type:"update_custom_environment_target",payload:{target:{customEnvironmentIds:a,development:n.includes("development"),preview:n.includes("preview"),production:n.includes("production"),gitBranch:!1,applyToAllCustomEnvironments:a.includes(g.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID)}}})},selectedEnvironmentIds:new Set(u?.length?u:[...n.target.customEnvironmentIds,n.target.production&&"production",n.target.development&&"development",n.target.preview&&"preview",n.target.applyToAllCustomEnvironments&&g.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID].filter(Boolean))}),"project"===l&&T?(0,r.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-3 flex-1",children:[(0,r.jsx)(o.Button,{onClick:()=>{t({type:"update_target",payload:{target:{customEnvironmentIds:[],production:!1,development:!1,preview:!0,gitBranch:!_.gitBranch}}})},size:"small",type:"secondary",typeName:"button",variant:"invert",children:_.gitBranch?"Cancel":"Select a custom Preview branch"}),_.gitBranch?(0,r.jsx)(S,{checkedState:_,dispatch:t,gitBranch:d}):null]}):null]})]})}function C(e){let t=[];return e.development&&t.push(a.EnvTarget.Development),e.preview&&t.push(a.EnvTarget.Preview),e.production&&t.push(a.EnvTarget.Production),t}function k(e){return{production:e.target.includes(a.EnvTarget.Production),preview:e.target.includes(a.EnvTarget.Preview),development:e.target.includes(a.EnvTarget.Development),gitBranch:!!e.gitBranch,customEnvironmentIds:e.applyToAllCustomEnvironments?[g.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID]:[],applyToAllCustomEnvironments:e.applyToAllCustomEnvironments}}function S(e){let{gitBranch:t,checkedState:n,dispatch:a}=e,i=(0,l.useParams)()?.project,{data:o}=(0,f.useProject)(i),{teamSlug:c}=(0,u.useTeam)(),m=o?.id,{data:v}=(0,y.useProjectBranches)(m),[,{branches:h}]=(0,j.useProjectDeployedBranches)({project:o,query:t}),x=(0,s.useMemo)(()=>Array.from(new Set([...h||[],...(v||[]).filter(Boolean).map(e=>e.ref)])),[v,h]);return n.gitBranch?o?.link?(0,r.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-4 flex-initial",children:(0,r.jsxs)(d.Combobox,{className:b.default.selectGitBranch,onChange:e=>a({type:"set_git_branch_name",payload:{branchName:e||void 0}}),placeholder:"All Preview Branches",size:"small",value:t||null,children:[(0,r.jsx)(d.Combobox.Input,{onChange:e=>{a({type:"set_git_branch_name",payload:{branchName:e.target.value.trim()||void 0}})},trimValue:!0}),(0,r.jsxs)(d.Combobox.List,{emptyMessage:"No preview branches",maxWidth:450,children:[(0,r.jsx)(r.Fragment,{children:t&&!x.find(e=>e===t)?(0,r.jsx)(d.Combobox.Option,{displayValue:!0,value:t||"",children:`Use "${t}"`}):null}),(0,r.jsx)(r.Fragment,{children:x.map(e=>{let t=String(o.link?.productionBranch)===e;return t?null:(0,r.jsx)(d.Combobox.Option,{disabled:t,value:e,children:e},e)})})]})]})}):(0,r.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-4 flex-initial",children:(0,r.jsx)(p.ButtonLink,{as:`/${c}/${o?.name}/settings/git`,href:"/[teamSlug]/[project]/settings/git",size:"small",type:"secondary",children:"Connect Git Repository"})}):null}e.s(["TEVEnvironmentSelector",()=>_,"getEnvironmentTargets",()=>C,"getEnvironmentTargetsStateFromEnv",()=>k],4805353);let w={kvs:[{key:"",value:"",tempId:(0,t.default)("env_"),comment:""}],projects:[],target:{development:!0,production:!0,preview:!0,gitBranch:!1,customEnvironmentIds:[]},error:void 0,isProcessing:!1,gitBranch:""};e.s(["EnvironmentVariablesReducer",0,(e,r)=>(0,n.produce)(e,e=>{switch(r.type){case"add_new_kv":return e.kvs=[...e.kvs,{key:"",value:"",tempId:(0,t.default)("env_")}],e;case"remove_kv":return e.kvs=e.kvs.filter(e=>e.tempId!==r.payload.id),0===e.kvs.length&&(e.kvs=[{key:"",value:"",tempId:(0,t.default)("env_")}]),e;case"update_kv":return e.kvs[r.payload.index]={...e.kvs[r.payload.index],...r.payload.update},e.error&&(e.error.envVarIds=e.error.envVarIds.filter(t=>t!==e.kvs[r.payload.index].tempId)),e;case"prefill_form":{let{envVar:t}=r.payload;return e.kvs=[{key:t.key,value:t.value,tempId:t.id}],e.target=k(t),e.gitBranch=t.gitBranch||"",e.projects=t.projects??[],e.sensitive=t.type===a.EnvType.Sensitive,e}case"update_target":return e.target={...e.target,...r.payload.target},e.target.preview||(e.gitBranch=void 0,e.target.gitBranch=!1),e;case"update_custom_environment_target":return e.target={...e.target,...r.payload.target},e;case"add_project":{let{project:t}=r.payload;return e.projects.find(e=>e.id===t.id)||(e.projects=[...e.projects,t]),e}case"remove_project":{let{id:t}=r.payload;return e.projects=e.projects.filter(e=>e.id!==t),e}case"error":return e.error={errorObject:r.payload.error,envVarIds:e.kvs.map(e=>e.tempId)},e;case"processing":return e.isProcessing=r.payload.isProcessing,e;case"sensitive":return e.sensitive=r.payload.sensitive,e;case"reset":return e.kvs=w.kvs,e.projects=w.projects,e.error=w.error,e.sensitive=w.sensitive,e;case"import_file":{let{fileData:n,insertAtIndex:a}=r.payload,s=Object.entries((0,i.parseEnv)(n));if(0===s.length)return e;return e.kvs=[...e.kvs.slice(0,a),...s.map(e=>{let[n,a]=e;return{key:n,value:a,tempId:(0,t.default)("env_")}}),...e.kvs.slice(a+1)],e}case"set_git_branch_name":{let{branchName:t}=r.payload;return e.gitBranch=t,e}case"form_submitted":{let{response:t}=r.payload;if(0===t.failed.length)return e.kvs=w.kvs,e.projects=w.projects,e.error=w.error,e;let n=e.kvs.filter(e=>!t.created.find(t=>t.key===e.key));return e.kvs=n,e.error={errorObject:t.failed[0].error,envVarIds:n.map(e=>e.tempId)},e}default:return e}}),"initialEnvVariableFormState",0,w],1847448)},1728195,e=>{e.v({container:"input-module__1EzHua__container",error:"input-module__1EzHua__error",input:"input-module__1EzHua__input",keyboardFocus:"input-module__1EzHua__keyboardFocus",large:"input-module__1EzHua__large",mediumSmall:"input-module__1EzHua__mediumSmall",noPrefixStyle:"input-module__1EzHua__noPrefixStyle",noSuffixStyle:"input-module__1EzHua__noSuffixStyle",prefix:"input-module__1EzHua__prefix",small:"input-module__1EzHua__small",suffix:"input-module__1EzHua__suffix",xSmall:"input-module__1EzHua__xSmall"})},538090,e=>{e.v({bold:"tev-add-form-module__PZYaGG__bold",button:"tev-add-form-module__PZYaGG__button",commentField:"tev-add-form-module__PZYaGG__commentField",container:"tev-add-form-module__PZYaGG__container "+e.i(1728195).container,dragEffectBackground:"tev-add-form-module__PZYaGG__dragEffectBackground",envVarsForm:"tev-add-form-module__PZYaGG__envVarsForm",error:"tev-add-form-module__PZYaGG__error "+e.i(1728195).error,keyboardFocus:"tev-add-form-module__PZYaGG__keyboardFocus",label:"tev-add-form-module__PZYaGG__label",large:"tev-add-form-module__PZYaGG__large",projectList:"tev-add-form-module__PZYaGG__projectList",projectName:"tev-add-form-module__PZYaGG__projectName",selectedProjectEntity:"tev-add-form-module__PZYaGG__selectedProjectEntity",small:"tev-add-form-module__PZYaGG__small",textAreaHeight:"tev-add-form-module__PZYaGG__textAreaHeight",textarea:"tev-add-form-module__PZYaGG__textarea "+e.i(1728195).input,textareaInput:"tev-add-form-module__PZYaGG__textareaInput",textareaStack:"tev-add-form-module__PZYaGG__textareaStack",textareaWrapper:"tev-add-form-module__PZYaGG__textareaWrapper",viewValueButton:"tev-add-form-module__PZYaGG__viewValueButton"})},7280270,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),a=e.i(2504781),i=e.i(6881349),r=e.i(3671642),s=e.i(5255926),l=e.i(7917902),o=e.i(7957251),d=e.i(2107254),c=e.i(5819220),u=e.i(979715),m=e.i(4712634),v=e.i(8916169),p=e.i(7710663),h=e.i(6319736),x=e.i(6509836),f=e.i(1138941),y=e.i(538090),g=e.i(3845686);function j(e){let{dispatch:n,selectedProjects:a,SWRDataToWaitFor:i}=e,{data:o}=(0,p.useFrameworks)(),{account:d}=(0,l.useAccount)();return(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:(0,t.jsx)(r.Label,{value:"Link to Projects",children:(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-1",children:(0,t.jsxs)(h.EnsureSWRData,{data:[d,o,...i],fallback:(0,t.jsx)(s.Skeleton,{height:40,width:"100%"}),children:[(0,t.jsx)(E,{selectProject:e=>{n({type:"add_project",payload:{project:e}})},selectedProjects:a}),!!a.length&&(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-1",children:a.map(e=>(0,t.jsx)(b,{project:e,removeProject:()=>{n({type:"remove_project",payload:{id:e.id}})}},e.id))})]})})})})}function b(e){let{project:n,removeProject:i}=e,r=(0,f.useFramework)(n);return(0,t.jsxs)(c.Entity,{actions:(0,t.jsx)(a.Button,{"aria-label":"remove row",className:y.default.button,onClick:()=>{i(n)},style:{"--themed-bg":"var(--ds-gray-1000)"},svgOnly:!0,type:"tertiary",children:(0,t.jsx)(o.MinusCircle,{})}),className:y.default.selectedProjectEntity,thumbnail:(0,t.jsx)(m.EntityThumbnail,{size:20,wrap:!0,children:r?(0,t.jsx)(x.FrameworkIcon,{framework:r,size:20}):null}),children:[(0,t.jsx)(u.EntityField,{className:y.default.bold,title:n.name}),n.targets?.production?.alias?.[0]?(0,t.jsx)(u.EntityField,{description:n.targets.production.alias[0]}):null]},n.id)}function E(e){let{selectedProjects:a,selectProject:i}=e,[r,l]=(0,n.useState)(""),[o,c]=(0,d.useProjectListInfinite)({limit:20,latestDeployments:0,search:r},{},!1,!0);if(void 0===o.data)return(0,t.jsx)(s.Skeleton,{height:40,width:"100%"});let{projects:u}=c;return(0,t.jsx)(g.StyledCombobox,{ListFooterComponent:(0,t.jsx)(v.default,{swr:c}),OptionComponent:_,classNames:{list:y.default.projectList},hideSelectedItems:!0,items:u,onChange:e=>{let t=u.find(t=>t.name===e)??null;t&&i(t)},placeholderText:"Search for a Project to link to…",search:r,selectedItems:a,setSearch:l})}function _(e){let{item:n}=e,a=(0,f.useFramework)(n);return(0,t.jsx)(i.Combobox.Option,{prefix:a?(0,t.jsx)(x.FrameworkIcon,{framework:a,size:24}):void 0,suffix:n.targets?.production?.alias?.[0]??void 0,truncateSuffix:!0,value:n.name,children:(0,t.jsx)("span",{className:y.default.projectName,children:n.name})})}e.s(["TEVProjectSelectComponent",()=>j])},2183562,e=>{e.v({amber:"index-module__G9ddHW__amber",hidden:"index-module__G9ddHW__hidden",muted:"index-module__G9ddHW__muted",overlay:"index-module__G9ddHW__overlay",symbol:"index-module__G9ddHW__symbol",tooltipContainer:"index-module__G9ddHW__tooltipContainer",tooltipContainerContainer:"index-module__G9ddHW__tooltipContainerContainer",tooltipContent:"index-module__G9ddHW__tooltipContent"})},6024244,e=>{e.v({container:"tev-key-input-module__L-kdSa__container",inputSpacer:"tev-key-input-module__L-kdSa__inputSpacer",monoInput:"tev-key-input-module__L-kdSa__monoInput",overlay:"tev-key-input-module__L-kdSa__overlay",tooltipContainer:"tev-key-input-module__L-kdSa__tooltipContainer",tooltipContainerContainer:"tev-key-input-module__L-kdSa__tooltipContainerContainer",tooltipContent:"tev-key-input-module__L-kdSa__tooltipContent",warn:"tev-key-input-module__L-kdSa__warn"})},5451849,1081769,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),a=e.i(9722978),i=e.i(5468328),r=e.i(762945),s=e.i(5339191),l=e.i(1098160),o=e.i(7577497),d=e.i(2183562);function c(e){let{value:c,width:m,id:v,className:p}=e,[h,x]=(0,n.useState)(!1),f=0===c.length,y=f?" ":c.replace(/\n$/,"\n "),g=f?[]:y.split(""),j=!f&&/^\s+/gm.exec(y),b=!f&&/\s+$/gm.exec(y),E=y.includes("\r")||y.includes("\n"),_=y.includes("\0"),C=[];return j&&b?C.push("starts and ends with whitespace"):j?C.push("starts with whitespace"):b&&C.push("ends with whitespace"),E&&C.push("has return characters"),_&&C.push("contains null characters"),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("pre",{"aria-hidden":"true",className:(0,a.clsx)(d.default.overlay,p),style:{width:m??"100%"},children:u(g).map((e,n)=>e.class?(0,t.jsx)("span",{className:(0,a.clsx)(d.default.symbol,e.class),children:e.symbol},n):(0,t.jsx)("span",{className:d.default.hidden,children:e.symbol},n))}),(0,t.jsx)(s.AnimatePresence,{children:C.length>0&&!h?(0,t.jsx)(l.motion.div,{animate:{opacity:1},"aria-label":`This value ${C.join(" and ")}.`,className:d.default.tooltipContainerContainer,exit:{opacity:0},id:v,initial:{opacity:0},transition:{duration:0},children:(0,t.jsx)(l.motion.div,{animate:{opacity:1},className:d.default.tooltipContainer,exit:{opacity:0,transition:{duration:0}},initial:{opacity:0},children:!h&&(0,t.jsx)(i.Tooltip,{"aria-label":"Hide warning",as:"button",delay:!1,htmlType:"button",onClick:()=>{x(!0)},sticky:!0,text:(0,t.jsx)("div",{onClick:e=>{e.stopPropagation()},className:(0,a.clsx)("flex flex-row items-center justify-between gap-2 flex-initial",d.default.tooltipContent),children:(0,t.jsxs)(o.Balancer,{children:["This value ",C.join(" and "),"."]})}),children:(0,t.jsx)(r.Warning,{size:14})})})},"tooltip"):null})]})}let u=e=>{let t=m(e),n=m([...e].reverse()),a=e.slice(0,t),i=e.slice(t,e.length-n),r=e.slice(e.length-n,e.length);return[...a.map(e=>({symbol:v[e].symbol||v[" "].symbol,class:d.default.amber})),...i.map(e=>{let t=v[e];return t?{symbol:t.symbol,class:t.class||d.default.muted}:{symbol:e}}),...r.map((e,t)=>t===r.length-1&&"\n"===r[t-1]&&" "===r[t]?{symbol:e}:{symbol:v[e].symbol||v[" "].symbol,class:d.default.amber})]};function m(e){let t=/^\s+$/;for(let n=0;n<e.length;n++)if(!t.test(e[n]))return n;return -1}let v={"\n":{symbol:"↵\n",class:d.default.amber},"\r":{symbol:"↵\n",class:d.default.amber},"	":{symbol:"⇥",class:d.default.amber},"\v":{symbol:"␋",class:d.default.amber}," ":{symbol:"␣"},"\f":{symbol:"␌",class:d.default.amber}," ":{symbol:"␣"}," ":{symbol:"␣"},"​":{symbol:"␣"},"‌":{symbol:"␣"},"‍":{symbol:"␣"},"\u2028":{symbol:"␣"},"\u2029":{symbol:"␣"}," ":{symbol:"␣"}," ":{symbol:"␣"},"　":{symbol:"␣"},"\uFEFF":{symbol:"␣"}};e.s(["EnvVariableValueOverlay",()=>c],5451849);var p=e.i(3500331),h=e.i(361349),x=e.i(5610834),f=e.i(6060673),y=e.i(1138941),g=e.i(4551858),j=e.i(6024244);function b(e){let{inputRef:n,isErrorState:i,disabled:r,testId:s,onChange:l,id:o,placeholder:d,value:c,onPaste:u}=e,m=C(c);return(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-1",children:[(0,t.jsxs)("div",{className:(0,a.clsx)("flex flex-col items-stretch justify-start flex-initial",j.default.container),children:[(0,t.jsx)(p.Input,{"aria-label":"environment variable key",className:j.default.monoInput,"data-testid":s,disabled:r,id:o,label:n?"key":null,maxLength:256,onChange:l,onPaste:u,placeholder:d,ref:n,style:{paddingRight:m?"36px":"12px"},type:i?"error":"default",value:c}),(0,t.jsx)(k,{inputRef:n,keyValue:c})]}),(0,t.jsx)("div",{className:j.default.inputSpacer})]})}let E=["NEXT_PUBLIC_","VUE_APP_","REACT_APP_","GATSBY_","GRIDSOME_","NUXT_PUBLIC_","STORYBOOK_","VITE_","PUBLIC_"],_=["password","key","private","access_token","access","auth","secret","jwt","signature"],C=e=>{let t=S();return(t?[...E,t]:E).find(t=>e.toLowerCase().startsWith(t.toLowerCase()))};function k(e){let o,{keyValue:d,inputRef:c}=e,[u,m]=(0,n.useState)(d),[v,p]=(0,n.useState)(!1),[x,f]=(0,n.useState)(!1),y=C(d),g=`${y||""} exposes this value to the browser. Verify it is safe to share publicly`,b=(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"font-mono text-[12px] leading-[16px] font-medium",children:y})," ","exposes this value to the browser. Verify it is safe to share publicly."]}),E=!!y,k=(o=RegExp(_.join("|"),"i").exec(d))?o[0]:null;return null!==k&&(g=`This key, which is prefixed with ${y||""} and includes the term ${k}, might expose sensitive information to the browser. Verify it is safe to share publicly.`,b=(0,t.jsxs)(t.Fragment,{children:["This key, which is prefixed with"," ",(0,t.jsx)("span",{className:"font-mono text-[12px] leading-[16px] font-medium",children:y})," ","and includes the term"," ",(0,t.jsx)("span",{className:"font-mono text-[12px] leading-[16px] font-medium",children:k}),", might expose sensitive information to the browser. Verify it is safe to share publicly."]})),(0,n.useEffect)(()=>{v&&d!==u&&p(!1)},[v,d,u]),(0,h.useInterval)(()=>{c?.current&&f(c.current.scrollWidth>c.current.clientWidth+4&&0===c.current.scrollLeft)},50),(0,t.jsx)(s.AnimatePresence,{children:E&&y&&!v?(0,t.jsxs)(l.motion.div,{animate:{opacity:1},"aria-label":g,className:j.default.tooltipContainerContainer,exit:{opacity:0},initial:{opacity:0},transition:{duration:0},children:[(0,t.jsx)(l.motion.div,{animate:{opacity:+!!x},className:j.default.overlay,style:{pointerEvents:"none"},transition:{duration:0}}),(0,t.jsx)(l.motion.div,{animate:{opacity:1},className:(0,a.clsx)(j.default.tooltipContainer,{[j.default.warn]:k}),exit:{opacity:0,transition:{duration:0}},initial:{opacity:0},children:(0,t.jsx)(i.Tooltip,{"aria-label":"Hide warning",as:"button",delay:!1,htmlType:"button",onClick:()=>{p(!0),m(d)},sticky:!0,text:(0,t.jsx)("div",{onClick:e=>{e.stopPropagation()},className:(0,a.clsx)("flex flex-row items-center justify-between gap-2 flex-initial",j.default.tooltipContent),children:(0,t.jsx)("span",{children:b})}),children:(0,t.jsx)(r.Warning,{size:14})})})]},"tooltip"):null})}let S=()=>{var e;let t,{data:n}=(0,f.useProject)((0,y.useProjectIdOrName)()),{data:a}=(0,f.useProject)(n?.id),i=(0,x.useParams)()?.teamSlug,r=a?.framework,s=!1;(void 0===r||"sveltekit-1"!==r&&"sveltekit-2"!==r)&&(s=!0);let l=a?.targets?.production?.id;void 0===l&&(s=!0);let o=new URL(`/api/v7/deployments/${l||""}/files/get`,"https://vercel.com");o.searchParams.append("path","svelte.config.js");let{data:d}=(0,g.useFileContent)(s?null:{type:"file",name:"svelte.config.js",link:o.toString(),mime:"application/javascript"},i);return void 0!==d&&"string"==typeof d?(e=d,(t=/publicPrefix:\s*'(?<value>[^']*)'/.exec(e))?t[1]:null):null};e.s(["EnvVariableKeyInput",()=>b],1081769)},4981189,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),a=e.i(2359053),i=e.i(9722978),r=e.i(9318197),s=e.i(3671642),l=e.i(2504781),o=e.i(3500331),d=e.i(4030453),c=e.i(8356984),u=e.i(7957251),m=e.i(5883567),v=e.i(1933683),p=e.i(3973638),h=e.i(5756088),x=e.i(3496900),f=e.i(4004502),y=e.i(5927860),g=e.i(9544652),j=e.i(692265),b=e.i(2446691),E=e.i(5451849),_=e.i(1081769),C=e.i(187815),k=e.i(538090);let S=(0,n.forwardRef)((e,a)=>{let{disabled:u,label:m,resize:x,width:y,error:_,type:C,size:S,className:N,wrapperClassName:T,spellCheck:I=!1,autoCapitalize:P="off",autoComplete:L="off",autoCorrect:A="off",isEditing:V=!1,isSensitive:B=!1,inputType:R,...O}=e,D=(0,j.useId)("aria"),M=m?s.Label:"label",{focusProps:F,isFocusVisible:G}=(0,c.useFocusRing)({isTextInput:!0}),H={...m?{value:m,withInput:!0,className:(0,i.clsx)(T,k.default.label)}:{className:T}},$=(0,g.useDisabled)()||u,z=(0,j.useId)("textarea-"),W=(0,b.useType)(_?"error":C),[U,Y]=(0,n.useState)(!!B);(0,n.useEffect)(()=>{Y(!!B)},[B]);let Z=U||B&&V,q=!!(B&&!V)&&(0,t.jsx)(l.Button,{"aria-label":"Toggle sensitive value visibility",className:(0,i.clsx)(k.default.button,k.default.viewValueButton,"!-mr-1 !ml-3"),onClick:()=>Y(!U),svgOnly:!0,title:"Toggle sensitive value visibility",type:"secondary",typeName:"button",children:U?(0,t.jsx)(v.Eye,{size:16,style:{flexShrink:0}}):(0,t.jsx)(p.EyeOff,{size:16,style:{flexShrink:0}})});return(0,t.jsxs)(M,{"data-version":"v1",...H,children:[(0,t.jsxs)("div",{className:`flex flex-row items-stretch justify-start flex-initial ${(0,i.clsx)(k.default.textareaStack,Z?k.default.textAreaHeight:"")}`,children:[(0,t.jsx)("div",{className:(0,i.clsx)(k.default.container,W,k.default.textareaWrapper),children:Z?(0,t.jsx)(o.Input,{...O,autoCapitalize:P,autoComplete:L,autoCorrect:A,className:(0,i.clsx)(k.default.textarea,W,{[k.default.large]:"large"===S,[k.default.small]:"small"===S},N,k.default.textareaInput),"data-testid":(0,f.tid)("env-variables","add-form","value-input"),disabled:$,innerWrapperClassName:"!shadow-none",prefix:B&&V?(0,t.jsx)(h.LockClosed,{size:16}):null,prefixStyling:!1,ref:a,spellCheck:I,typeName:R,width:y??"100%"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("textarea",{"aria-describedby":D,...O,autoCapitalize:P,autoComplete:L,autoCorrect:A,className:(0,i.clsx)(k.default.textarea,W,{[k.default.large]:"large"===S,[k.default.small]:"small"===S,[String(k.default.keyboardFocus)]:G},N,k.default.textareaInput),"data-testid":(0,f.tid)("env-variables","add-form","value-input"),disabled:$,ref:a,spellCheck:I,style:{resize:x,width:y},...F}),(0,t.jsx)(E.EnvVariableValueOverlay,{id:D,value:O.value,width:y})]})}),q]}),_?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.Spacer,{y:.5}),(0,t.jsx)(d.Error,{"data-testid":O["data-testid"]?(0,f.tid)(O["data-testid"],"error"):void 0,error:_,id:`${z}-error`,size:w[S||"small"],style:{width:y}})]}):null]})}),w={xSmall:"small",small:"small",mediumSmall:"small",large:"large"};function N(e){let{kvs:i,dispatch:r,enableBulk:s=!1,isEditing:o=!1,firstInputRef:d,error:c,isSensitive:u}=e,[v,p]=(0,a.useQueryState)("new",a.parseAsString),h=(0,n.useRef)(null);return(0,n.useEffect)(()=>{v&&v&&i.length>0&&""===i[0].key&&(r({type:"update_kv",payload:{index:0,update:{key:v}}}),h.current&&h.current.focus(),p(null))},[v,i,r,p]),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[i.map((e,n,a)=>(0,t.jsx)(T,{dispatch:r,enableBulk:s,index:n,inputRef:0===n?d:void 0,valueInputRef:0===n?h:void 0,isEditing:o,isErrorState:c?.envVarIds.includes(e.tempId),isSensitive:u,kv:e},e.tempId)),s?(0,t.jsx)("div",{className:"flex flex-row items-stretch justify-start gap-3 flex-1",children:(0,t.jsx)(l.Button,{onClick:()=>r({type:"add_new_kv"}),prefix:(0,t.jsx)(m.PlusCircle,{}),size:"small",type:"secondary",typeName:"button",children:"Add Another"})}):null]})}function T(e){let{inputRef:a,valueInputRef:i,dispatch:r,index:s,kv:d,enableBulk:c=!1,isEditing:m=!1,isErrorState:v,isSensitive:p}=e,[h,g]=(0,n.useState)(!!p),[j,b]=(0,n.useState)(!1),E=(0,n.useRef)(null);return(0,n.useEffect)(()=>{g(!!p)},[p]),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-evenly gap-3 flex-1",children:[(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-evenly gap-3 flex-1",children:[(0,t.jsx)(_.EnvVariableKeyInput,{disabled:!!p&&m,inputRef:a,isErrorState:v,onChange:e=>{r({type:"update_kv",payload:{index:s,update:{key:e.target.value}}})},onPaste:e=>{c&&0!==Object.entries((0,C.parseEnv)(e.clipboardData.getData("text"))).length&&(e.preventDefault(),r({type:"import_file",payload:{fileData:e.clipboardData.getData("text"),insertAtIndex:s}}))},placeholder:"CLIENT_KEY…",testId:(0,f.tid)("env-variables","add-form","name-input"),value:d.key}),(0,t.jsx)("div",{className:"flex flex-col items-stretch justify-start flex-1",children:(0,t.jsx)(S,{"aria-label":"shared environment variable value",autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",inputType:h&&!m?"password":"text",isEditing:m,isSensitive:p,label:a?"value":null,onChange:e=>r({type:"update_kv",payload:{index:s,update:{value:e.target.value}}}),ref:i,type:v?"error":"default",placeholder:p&&m?"This value is sensitive":void 0,value:d.value})}),(0,t.jsxs)("div",{className:"flex flex-row items-end justify-start gap-2 flex-initial",children:[(0,t.jsx)(l.Button,{"aria-label":"Toggle add note","aria-pressed":j?"true":"false",className:k.default.button,onClick:()=>{b(e=>{let t=!e;return t?setTimeout(()=>{E.current&&E.current.focus()},0):r({type:"update_kv",payload:{index:s,update:{comment:""}}}),t})},svgOnly:!0,title:"Toggle add note",type:"secondary",typeName:"button",children:(0,t.jsx)(x.PencilEdit,{size:16,style:{flexShrink:0}})}),c?(0,t.jsx)(l.Button,{"aria-label":"remove row",className:k.default.button,onClick:()=>r({type:"remove_kv",payload:{id:d.tempId}}),svgOnly:!0,title:"Delete row",type:"secondary",typeName:"button",children:(0,t.jsx)(u.MinusCircle,{size:16,style:{flexShrink:0}})}):(0,t.jsx)("div",{"aria-hidden":!0,style:{width:40}})]})]}),j?(0,t.jsx)(o.Input,{"aria-label":"shared environment variable comment",id:"comment",innerWrapperClassName:a?void 0:k.default.commentField,label:a?"Note":null,maxLength:y.ENV_VAR_COMMENT_MAX_LENGTH,onChange:e=>r({type:"update_kv",payload:{index:s,update:{comment:e.target.value}}}),placeholder:"A note explaining what this environment variable is for",ref:E,value:d.comment,wrapperClassName:a?k.default.commentField:void 0}):null]})}S.displayName="Textarea",e.s(["TEVInputSection",()=>N])},2215529,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),a=e.i(9731939),i=e.i(8248823),r=e.i(134877),s=e.i(5610834),l=e.i(3993360),o=e.i(2504781),d=e.i(455575),c=e.i(4030453),u=e.i(4004502),m=e.i(9722978),v=e.i(5433449),p=e.i(5927860),h=e.i(1717203),x=e.i(7557283),f=e.i(3245331),y=e.i(8432052),g=e.i(4089015),j=e.i(4171299),b=e.i(6060673),E=e.i(9512272),_=e.i(5601055),C=e.i(6949145),k=e.i(1847448),S=e.i(4805353),w=e.i(7280270),N=e.i(4981189),T=e.i(809476),I=e.i(538090),P=e.i(3671642),L=e.i(1906681),A=e.i(5468328),V=e.i(57106);function B(e){let{dispatch:a,state:i}=e,r=!!i.target.development;return(0,n.useEffect)(()=>{a({type:"sensitive",payload:{sensitive:!i.target.development&&!!i.sensitive}})},[i.target.development]),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-start gap-0 flex-initial",children:[(0,t.jsx)(P.Label,{value:"Sensitive"}),(0,t.jsxs)("div",{className:"flex flex-col items-start justify-start gap-2 flex-initial",children:[(0,t.jsxs)("p",{className:"text-copy-14",children:["If enabled, you and your team will not be able to read the values after creation."," ",(0,t.jsx)(V.Link,{external:!0,href:"/docs/environment-variables/sensitive-environment-variables",type:"highlight",children:"Learn more"})]}),(0,t.jsx)(A.Tooltip,{disableTriggers:!i.target.development,text:"Sensitive environment variables cannot be created in the Development environment.",children:(0,t.jsx)(L.Toggle,{"aria-labelledby":"label-for-sensitive-toggle",checked:!!i.sensitive,direction:"switch-first",disabled:r,name:"add-form-sensitive",onChange:()=>{a({type:"sensitive",payload:{sensitive:!i.sensitive}}),!1===i.sensitive&&a({type:"update_target",payload:{target:{development:!1}}})},size:"large",children:(0,t.jsx)("p",{className:"text-copy-14",id:"label-for-sensitive-toggle",children:i.sensitive?"Enabled":"Disabled"})})})]})]})}function R(e){let{isEditing:a,envVar:i,teamId:r,onSave:s,onCancel:l,disableEnvironmentPicker:c,containerClassName:u}=e,{can:m,isLoading:v}=(0,h.default)({teamId:r}),f=m(x.Action.Update,x.Resource.SharedEnvVars),y=(0,d.useToasts)(),{data:g,isLoading:E}=(0,b.useProjects)(i.projectId,{config:{revalidateOnFocus:!1}}),[C,k]=(0,n.useState)(null);(0,n.useEffect)(()=>{!E&&(i.type===p.EnvType.Sensitive||i.decrypted)&&k({...i,projects:g})},[g,i,E]);let w=(0,n.useCallback)(e=>{let t=new Set(e.projects.map(e=>e.id)),n=new Set(i.projectId),a=[...t].filter(e=>!n.has(e)),s=[...n].filter(e=>!t.has(e));return(0,j.updateSharedEnvVar)({envVar:i,payload:{...e.kvs[0],target:(0,S.getEnvironmentTargets)(e.target),projectIdUpdates:{link:a,unlink:s}},teamId:r,applyToAllCustomEnvironments:e.target.customEnvironmentIds.includes(_.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID)})},[i,r]);return(0,t.jsx)(M,{arePermissionsLoading:v,bulkEnvVarEnabled:!1,canCreateSharedEnvVars:f,containerClassName:u,disableEnvironmentPicker:c,envVar:i,envVarWithProjects:C,formSubmit:w,isEditing:a,onSave:e=>{y.success("Updated Shared Environment Variable successfully."),s(e)},secondaryAction:(0,t.jsx)(o.Button,{onClick:l,size:"small",type:"secondary",children:"Cancel"}),teamId:r,variant:"shared"})}function O(e){let{teamId:a,onSave:i}=e,{can:r,isLoading:s}=(0,h.default)({teamId:a}),c=r(x.Action.Create,x.Resource.SharedEnvVars),u=(0,d.useToasts)(),m=(0,n.useRef)(null),v=(0,n.useCallback)(e=>(0,g.addSharedEnvs)({kvs:e.kvs,projectId:e.projects.map(e=>e.id),target:(0,S.getEnvironmentTargets)(e.target),teamId:a,type:e.sensitive?p.EnvType.Sensitive:p.EnvType.Encrypted,applyToAllCustomEnvironments:e.target.customEnvironmentIds.includes(_.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID)}),[a]);return(0,t.jsx)(M,{arePermissionsLoading:s,bulkEnvVarEnabled:!0,canCreateSharedEnvVars:c,destructiveAction:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{accept:"env","aria-hidden":!0,multiple:!1,ref:m,style:{display:"none"},type:"file"}),(0,t.jsx)(o.Button,{disabled:!m.current,onClick:()=>m.current?.click(),prefix:(0,t.jsx)(l.Download,{}),size:"small",type:"secondary",typeName:"button",children:"Import"})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"or paste the .env contents above"})]}),fileUploadRef:m,formSubmit:v,onSave:e=>{u.success("Added Shared Environment Variable successfully."),i?.(e)},teamId:a,variant:"shared"})}function D(e){let{teamId:a,onSave:i,formClassName:r,containerClassName:l,restrictToEnvironmentIds:d}=e,{project:c}=(0,s.useParams)()??{project:""},{data:u}=(0,b.useProject)(c),m=u?.id,{can:f,isLoading:y}=(0,h.default)({teamId:a}),g=f(x.Action.Create,x.Resource.ProjectEnvVars),j=(0,n.useRef)(null),_=(0,n.useCallback)(e=>{let t=(0,S.getEnvironmentTargets)(e.target);if(void 0===m)throw Error("Couldn't find project");return(0,E.addEnvs)(m,e.kvs.map(n=>{let a={name:n.key,value:n.value,target:t,type:e.sensitive?p.EnvType.Sensitive:p.EnvType.Encrypted,gitBranch:e.target.gitBranch&&e.gitBranch?e.gitBranch:void 0,comment:n.comment};return a.customEnvironmentIds=e.target.customEnvironmentIds,a}),a)},[m,a]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(M,{arePermissionsLoading:y,bulkEnvVarEnabled:!0,canCreateSharedEnvVars:g,containerClassName:l,destructiveAction:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-3 flex-initial",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{accept:"env","aria-hidden":!0,multiple:!1,ref:j,style:{display:"none"},type:"file"}),(0,t.jsx)(o.Button,{disabled:!j.current,onClick:()=>j.current?.click(),prefix:(0,t.jsx)(v.FileText,{}),size:"small",type:"secondary",typeName:"button",children:"Import .env"})]}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:"or paste the .env contents above"})]}),fileUploadRef:j,formClassName:r,formSubmit:_,onSave:e=>{i?.(e)},restrictToEnvironmentIds:d,teamId:a,variant:"project"})})}function M(e){var s;let{formSubmit:l,onSave:v,isEditing:h,canCreateSharedEnvVars:x,arePermissionsLoading:g,bulkEnvVarEnabled:j,envVar:b,envVarWithProjects:E,secondaryAction:_,destructiveAction:P,teamId:L,fileUploadRef:A,variant:V,formClassName:R,containerClassName:O,restrictToEnvironmentIds:D,disableEnvironmentPicker:M}=e,F=b?{gitBranch:(s=b).gitBranch||"",isProcessing:!1,kvs:[],projects:[],sensitive:s.type===p.EnvType.Sensitive,target:(0,S.getEnvironmentTargetsStateFromEnv)(s)}:k.initialEnvVariableFormState,[G,H]=(0,n.useReducer)(k.EnvironmentVariablesReducer,F),{team:$,isTeamReady:z,isLoading:W}=(0,C.useSensitiveEnvironmentVariablePolicy)(),U=z&&!W&&(0,C.getBooleanValueFromOnOffDefault)($?.sensitiveEnvironmentVariablePolicy),Y=(0,n.useRef)(null),Z=(0,n.useRef)(null),q=(0,d.useToasts)();(0,n.useEffect)(()=>{let e=A?.current;if(e)return document.addEventListener("dragenter",t),document.addEventListener("dragover",n),document.addEventListener("dragleave",a),document.addEventListener("drop",s),e.addEventListener("change",r),()=>{document.removeEventListener("dragenter",t),document.removeEventListener("dragover",n),document.removeEventListener("dragleave",a),document.removeEventListener("drop",s),e.removeEventListener("change",r)};function t(e){Z.current&&e.dataTransfer?.items[0].kind==="file"&&Z.current.classList.add("drag-enter")}function n(e){Z.current&&e.target===Z.current&&(e.preventDefault(),Z.current.classList.add("drag-over"))}function a(e){Z.current&&e.target===Z.current&&(Z.current.classList.remove("drag-over"),Z.current.classList.remove("drag-enter"))}function i(e){if(!e||"text/plain"!==e.type&&""!==e.type)return void q.error("Please upload a valid env file");let t=new FileReader;t.onload=e=>{let t=e.target?.result;t&&H({type:"import_file",payload:{fileData:t.toString(),insertAtIndex:G.kvs.length-1}})},t.readAsText(e)}function r(e){i(e.target.files?.[0])}function s(e){Z.current&&(e.target===Z.current&&(e.preventDefault(),i(e.dataTransfer?.files[0])),Z.current.classList.remove("drag-over"),Z.current.classList.remove("drag-enter"))}},[A,G.kvs.length,q]),(0,n.useEffect)(()=>{(E?.type===p.EnvType.Sensitive||E?.decrypted)&&H({type:"prefill_form",payload:{envVar:E}})},[E]);let K=(0,n.useCallback)(async()=>{H({type:"processing",payload:{isProcessing:!0}});try{let e,t=await l(G);if(H({type:"form_submitted",payload:{response:t}}),E?.id){let t=new Set(E.projectId),n=new Set(G.projects.map(e=>e.id)),a=[...t].filter(e=>n.has(e)).concat([...n].filter(e=>!t.has(e)));e={id:E.id,key:G.kvs[0].key,value:G.sensitive?"":G.kvs[0].value,target:(0,S.getEnvironmentTargets)(G.target),projectId:a,type:G.sensitive?p.EnvType.Sensitive:p.EnvType.Encrypted,updatedAt:(E.updatedAt??0)+1}}v(e),H({type:"reset"})}catch(e){H({type:"error",payload:{error:(0,r.isAPIError)(e)&&"envs_size_too_large"===e.code?Error("Unable to save environment variables. Insufficient space. Consider deleting some variables."):(0,i.normalizeError)(e)}})}H({type:"processing",payload:{isProcessing:!1}}),Y.current?.focus()},[E?.id,E?.updatedAt,E?.projectId,l,v,G]),J=G.error?(0,t.jsx)(c.Error,{"data-testid":(0,u.tid)("env-variables","error-message"),error:G.error.errorObject}):null;return(0,t.jsxs)(f.default,{className:(0,m.clsx)(I.default.envVarsForm,"tailwind"),"data-testid":(0,u.tid)("env-variables","add-form"),onSubmit:()=>void K(),children:[(0,t.jsx)("div",{className:I.default.dragEffectBackground,ref:Z}),(0,t.jsx)(y.EntityForm,{className:(0,m.clsx)("bg-background-100 p-0",R),destructiveAction:P,disabled:g||!x,footerClassName:"p-4 bg-background-200 rounded-bl-[var(--geist-radius)] rounded-br-[var(--geist-radius)] env-vars-footer",footerNote:null,footerSeparator:!1,primaryAction:(0,t.jsx)(o.Button,{loading:G.isProcessing,size:"small",typeName:"submit",children:"Save"}),secondaryAction:_,title:null,children:(0,t.jsxs)("div",{className:(0,m.clsx)("flex flex-col items-stretch justify-start gap-4 flex-initial p-4 pb-0",O),children:[h||U?null:(0,t.jsx)(B,{dispatch:H,state:G}),(0,t.jsx)(T.FullWidthHR,{}),(0,t.jsx)(S.TEVEnvironmentSelector,{disableEnvironmentPicker:M,disableDevelopmentEnvironment:!!G.sensitive,dispatch:H,gitBranch:G.gitBranch,mustBeSensitive:U,restrictToEnvironmentIds:D,state:G,teamId:L,variant:V}),(0,t.jsx)(T.FullWidthHR,{}),(0,t.jsx)(a.NuqsAdapter,{children:(0,t.jsx)(N.TEVInputSection,{dispatch:H,enableBulk:j,error:G.error,firstInputRef:Y,isEditing:h,isLoading:null===E,isSensitive:G.sensitive,kvs:G.kvs})}),J,"shared"===V&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.FullWidthHR,{}),(0,t.jsx)(w.TEVProjectSelectComponent,{SWRDataToWaitFor:[null===E?void 0:null],dispatch:H,selectedProjects:G.projects})]}),(0,t.jsx)(T.FullWidthHR,{})]})})]})}e.s(["ProjectEnvVariablesAddForm",()=>D,"TeamEnvVariablesAddForm",()=>O,"TeamEnvVariablesEditForm",()=>R],2215529)},1558786,e=>{e.v({iconContainer:"env-variables-icon-module__0YD5da__iconContainer"})},42012,7855500,3225137,e=>{"use strict";var t=e.i(1146226),n=e.i(9722978),a=e.i(3627160),i=e.i(5756088),r=e.i(4585051),s=e.i(4450569),l=e.i(5328446),o=e.i(7743427),d=e.i(6417808);let c=()=>(0,t.jsxs)("svg",{fill:"none",height:"16",viewBox:"0 0 16 16",width:"16",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M2.66675 4.66675V2.66675H13.3334V4.66675",stroke:"#666666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M6 13.3333H10",stroke:"#666666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M8 2.66675V13.3334",stroke:"#666666",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]});var u=e.i(1558786);function m(e){let{env:m}=e,{data:v}=(0,l.default)(m?.configurationId),{data:p}=(0,o.useIntegration)(v?.integrationId);if(!m.configurationId)if("plain"===m.type)return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"plaintextIconContainer"),children:(0,t.jsx)(c,{})});else if("system"===m.type)return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"systemIconContainer"),children:(0,t.jsx)(d.default,{color:"var(--accents-5)",width:16})});else if("encrypted"===m.type)return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"encryptedIconContainer"),children:(0,t.jsx)(a.Code,{color:"gray-700"})});else if("sensitive"===m.type)return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"sensitiveIconContainer"),children:(0,t.jsx)(i.LockClosed,{color:"gray-700"})});else return(0,t.jsx)(s.default,{center:!0,className:(0,n.clsx)(u.default.iconContainer,"secretIconContainer"),children:(0,t.jsx)(i.LockClosed,{color:"gray-700"})});return(0,t.jsx)(r.Avatar,{className:"integrationIcon",hash:p?.icon,placeholder:!v||!p,size:30})}e.s(["default",()=>m],42012);var v=e.i(5169864),p=e.i(5858269),h=e.i(57106),x=e.i(9318197),f=e.i(9334091),y=e.i(3500331),g=e.i(4030453),j=e.i(3671642),b=e.i(2455417),E=e.i(6891161),_=e.i(455575),C=e.i(8042625),k=e.i(277234),S=e.i(4244280),w=e.i(5338940),N=e.i(2405338),T=e.i(1717203),I=e.i(7557283);function P(){let{config:e,id:t,noRequest:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{isReady:a,team:i}=(0,w.useTeam)(),{can:r,isLoading:s}=(0,T.default)(),l=r(I.Action.Read,I.Resource.Secrets),o=a&&!s&&!n&&l;return(0,N.default)(()=>o?`${S.API_SECRETS}${(0,C.encode)({teamId:i?.id,id:t})}`:null,e=>(0,k.fetchAPI)(e,{throwOnHTTPError:!0}),e)}e.s(["useSecrets",()=>P],7855500);var L=e.i(1138941),A=e.i(6060673);let V=e=>e.startsWith("-----BEGIN PRIVATE KEY-----\\n")&&e.endsWith("\\n-----END PRIVATE KEY-----\\n")?e.replace(/\\n/g,"\n"):e;e.s(["default",0,e=>{let{active:n,initialSecretName:a,onCancel:i,onAdd:r}=e,[l,o]=(0,v.useState)(""),[d,c]=(0,v.useState)(""),[u,m]=(0,v.useState)(void 0),[N,T]=(0,v.useState)(!1),{team:I}=(0,w.useTeam)(),B=(0,_.useToasts)(),{data:R}=P(),{data:O}=(0,A.useProject)((0,L.useProjectIdOrName)());(0,v.useEffect)(()=>{n&&o(e=>{if(e)return e;let t=(0,p.default)(a||O?.name||"");return R?.secrets.find(e=>e.name.toLowerCase()===t.toLowerCase())?`${t}-${Math.random().toString(36).substring(9)}`:t})},[a,n,O,R]);let D=async()=>{T(!0);let e=await (0,k.fetchAPI)(`${S.API_SECRETS}${(0,C.encode)({teamId:I?.id})}`,{method:"POST",body:JSON.stringify({name:l,value:d}),throwOnHTTPError:!1});T(!1),e.error?m(e.error):(r(e.uid),B.success("Created Secret successfully."))},M=(0,v.useCallback)(()=>{m(void 0),c(""),o("")},[]);return(0,t.jsxs)(E.Modal.Modal,{active:n,onAnimationDone:M,onClickOutside:i,width:"420px",children:[(0,t.jsxs)(E.Modal.Body,{children:[(0,t.jsxs)(s.default,{center:!0,children:[(0,t.jsx)("h4",{className:"text-copy-16",style:{fontWeight:500,margin:0},children:"Add Secret"}),(0,t.jsx)("p",{className:"text-copy-14 text-center",style:{color:"var(--accents-5)"},children:"Secrets contain sensitive information, are encrypted and also available across all projects."})]}),(0,t.jsx)("main",{children:(0,t.jsxs)("form",{className:"form",onSubmit:async e=>{e?.preventDefault(),await D()},children:[(0,t.jsx)(s.default,{children:(0,t.jsx)(j.Label,{value:"Value",children:(0,t.jsx)(f.Textarea,{"aria-label":"Value",autoFocus:!0,disabled:N,name:"add-secret-value",onChange:e=>{c(V(e.target.value))},placeholder:"i9ju23nf39nunu3asn",rows:2,value:d,width:"100%"})})}),(0,t.jsx)(x.Spacer,{y:1}),(0,t.jsx)(s.default,{children:(0,t.jsx)(j.Label,{id:"add-secret-name",value:"Name",withInput:!0,children:(0,t.jsx)(y.Input,{disabled:N,id:"add-secret-name",name:"add-secret-name",onChange:e=>{o(e.target.value)},placeholder:"secret-name",prefix:"@",style:{height:40},value:l,width:"100%"})})}),(0,t.jsx)(x.Spacer,{}),(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{style:{color:"var(--accents-5)"},children:["You will be able to reuse this Secret in multiple Projects using this name."," "]}),(0,t.jsx)(h.Link,{external:!0,href:"/docs/environment-variables#secrets",type:"highlight",children:"Learn More"})]}),u?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(x.Spacer,{y:.5})," ",(0,t.jsx)(g.Error,{error:u})," "]}):null]})})]}),(0,t.jsxs)(E.Modal.Actions,{children:[(0,t.jsx)(E.Modal.Action,{onClick:i,type:"secondary",children:"Cancel"}),(0,t.jsxs)(E.Modal.Action,{disabled:N,onClick:D,children:[N?(0,t.jsx)(b.LoadingDots,{}):null,!N&&"Create Secret"]})]})]})},"formatEnvValueWithNewline",0,V],3225137)},1839393,e=>{e.v({envVarValueSensitive:"env-variables-edit-form-module__FkdT-q__envVarValueSensitive",envVarValueSensitiveText:"env-variables-edit-form-module__FkdT-q__envVarValueSensitiveText",mono:"env-variables-edit-form-module__FkdT-q__mono",overlay:"env-variables-edit-form-module__FkdT-q__overlay",textarea:"env-variables-edit-form-module__FkdT-q__textarea"})},8764444,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),a=e.i(8248823),i=e.i(2504781),r=e.i(3869281),s=e.i(6881349),l=e.i(4030453),o=e.i(3500331),d=e.i(3671642),c=e.i(8522580),u=e.i(1848296),m=e.i(5255926),v=e.i(9318197),p=e.i(9334091),h=e.i(4004502),x=e.i(8042625),f=e.i(277234),y=e.i(4244280),g=e.i(5927860),j=e.i(5338940),b=e.i(5140444),E=e.i(5610834),_=e.i(8432052),C=e.i(4450569),k=e.i(3225137),S=e.i(187815),w=e.i(7855500),N=e.i(6060673),T=e.i(7482607),I=e.i(1961840),P=e.i(5451849),L=e.i(1081769),A=e.i(1991452),V=e.i(57106),B=e.i(1717203),R=e.i(7557283),O=e.i(2928617),D=e.i(5601055),M=e.i(7401972);function F(e){let{selectedGitBranch:a,checkedProduction:r,checkedPreview:l,checkedDevelopment:o,setCheckedProduction:c,setCheckedPreview:u,setCheckedDevelopment:m,setSelectedGitBranch:p,onChangeSelectedCustomEnvironmentIds:h,selectedCustomEnvironmentIds:x,disableEnvironmentPicker:f,disableDevelopmentEnvironment:y,hideGitBranchSelector:b}=e,[E,_]=(0,n.useState)(""),[C,k]=(0,n.useState)(!!a),{project:S}=(0,A.useRouter)().query,{data:w}=(0,N.useProject)(S),{teamSlug:T}=(0,j.useTeam)(),{can:I}=(0,B.default)(),P=w?.id,{data:L}=(0,O.useProjectBranches)(P),[,{branches:F}]=(0,M.useProjectDeployedBranches)({project:w,query:E}),G=(0,n.useMemo)(()=>Array.from(new Set([...F||[],...(L||[]).filter(Boolean).map(e=>e.ref)])),[L,F]),H=I(R.Action.Create,R.Resource.ProjectEnvVarsProduction),$=[...x];return r&&$.push(g.EnvTarget.Production),l&&$.push(g.EnvTarget.Preview),o&&$.push(g.EnvTarget.Development),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start flex-initial",children:[(0,t.jsx)(d.Label,{value:"Environments"}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-4 flex-initial",children:[(0,t.jsx)(D.CustomEnvironmentEnvVarPicker,{canCreateProductionEnvVars:H,disabled:f,disableDevelopmentEnvironment:y,onChange:e=>{let t=[],n=[];e.forEach(e=>{(0,g.isSystemEnvTarget)(e)?t.push(e):n.push(e)}),c(t.includes(g.EnvTarget.Production)),u(t.includes(g.EnvTarget.Preview)),m(t.includes(g.EnvTarget.Development)),k(!!(1===t.length&&t.includes(g.EnvTarget.Preview))),h(n)},selectedEnvironmentIds:new Set($)}),b?null:(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start gap-3 flex-1",children:[(0,t.jsx)(i.Button,{onClick:()=>{c(!1),u(!0),h([]),m(!1),k(e=>!e),C&&p(null)},size:"small",type:"secondary",typeName:"button",variant:"invert",children:C?"Cancel":"Select a custom Preview branch"}),C?w?.link?(0,t.jsxs)(s.Combobox,{onChange:e=>p(e||""),placeholder:"All Preview Branches",size:"small",value:a||null,children:[(0,t.jsx)(s.Combobox.Input,{onChange:e=>_(e.target.value.trim()),trimValue:!0}),(0,t.jsxs)(s.Combobox.List,{emptyMessage:"No preview branches",children:[(0,t.jsx)(t.Fragment,{children:E&&!G.find(e=>e===E)?(0,t.jsx)(s.Combobox.Option,{displayValue:!0,value:E||"",children:`Use "${E}"`}):null}),(0,t.jsx)(t.Fragment,{children:G.map(e=>{let n=String(w.link?.productionBranch)===e;return n?null:(0,t.jsx)(s.Combobox.Option,{disabled:n,value:e,children:e},e)})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsx)(V.ButtonLink,{as:`/${T}/${w?.name}/settings/git`,href:"/[teamSlug]/[project]/settings/git",type:"secondary",children:"Connect Git Repository"})]}):null]})]})]})}var G=e.i(1839393);function H(e){let{envVariable:A,onDiscard:V,onSave:B,onSecretAdd:R,disableEnvironmentPicker:O,disableNameInput:D,disableComment:M,disableEnvironmentInput:H,customSave:$,editTextareaValueProps:z}=e,[W,U]=(0,n.useState)(A.type),[Y,Z]=(0,n.useState)({value:A.key,edited:!1}),[q,K]=(0,n.useState)({value:A.comment,edited:!1}),[J,X]=(0,n.useState)(()=>W===g.EnvType.Plain?A.value:""),[Q,ee]=(0,n.useState)(()=>W===g.EnvType.Encrypted&&A.decrypted?A.value:""),[et,en]=(0,n.useState)(!1),ea=(0,n.useId)(),ei=Array.isArray(A.target)?A.target:[A.target],er=A.type===g.EnvType.Secret&&ei.includes(g.EnvTarget.Development),[es,el]=(0,n.useState)(ei.includes(g.EnvTarget.Production)),[eo,ed]=(0,n.useState)(ei.includes(g.EnvTarget.Preview)),[ec,eu]=(0,n.useState)(ei.includes(g.EnvTarget.Development)),[em,ev]=(0,n.useState)(A.customEnvironmentIds||[]),{data:ep}=(0,w.useSecrets)(),{team:eh}=(0,j.useTeam)(),{user:ex}=(0,b.useUser)(),{project:ef,envIdOrSlug:ey}=(0,E.useParams)()||{},{data:eg}=(0,N.useProject)(ef),[ej,eb]=(0,n.useState)(void 0),eE=eh?.id;(0,n.useEffect)(()=>{A.decrypted&&ee(A.value)},[A.decrypted,A.value]);let e_=(0,n.useMemo)(()=>ep?.secrets.map(e=>({label:`@${e.name}`,value:e.uid}))??[],[ep]),[eC,ek]=(0,n.useState)(A.gitBranch),{data:eS}=(0,I.default)(ef),[ew,eN]=(0,n.useState)(!1),[eT,eI]=(0,n.useState)(""),[eP,eL]=(0,n.useState)(()=>W===g.EnvType.Secret?A.value:null),[eA,eV]=(0,n.useState)(()=>W===g.EnvType.System?A.value:null),eB=(0,n.useCallback)(e=>{"create-new-secret"===e?eN(!0):(null===e&&eI(""),eL(e))},[eN,eL,eI]),eR=(0,n.useCallback)(e=>{if((eV(e),null!==e)&&(!Y.value||!Y.edited))switch(eg?.framework){case"nextjs":Z({edited:!1,value:`NEXT_PUBLIC_${e}`});break;case"create-react-app":Z({edited:!1,value:`REACT_APP_${e}`})}},[Y,eg]),{open:eO}=(0,T.useSaveAndRedeploy)(),eD=(0,n.useCallback)(async()=>{en(!0);let e="";switch(W){case g.EnvType.Plain:e=J;break;case g.EnvType.Secret:e=eP;break;case g.EnvType.System:e=eA;break;case g.EnvType.Encrypted:case g.EnvType.Sensitive:e=Q}let t=[];es&&t.push(g.EnvTarget.Production),eo&&t.push(g.EnvTarget.Preview),ec&&t.push(g.EnvTarget.Development);try{let n=eC||null,a=W===g.EnvType.Sensitive?{value:e||void 0,target:t,gitBranch:n,comment:q.value}:{key:Y.value,value:e,target:t,type:W,gitBranch:n,comment:q.value};if(a.customEnvironmentIds=em,$)await $(a);else{let e=await (0,f.fetchAPI)(`${(0,y.API_PROJECTS_VERSION)("v7")}/${ef}/env/${A.id}${(0,x.encode)({teamId:eE})}`,{method:"PATCH",body:JSON.stringify(a),throwOnHTTPError:!0});B(e),eO("Updated Environment Variable successfully.")}}catch(e){eb((0,a.normalizeError)(e))}en(!1)},[B,$,Y,q,J,eP,eA,Q,ef,eE,ec,eo,es,A,W,eC,em,eO]);(0,n.useEffect)(()=>{let e=e=>{(e.metaKey||e.ctrlKey)&&13===e.keyCode&&"TEXTAREA"===e.target.tagName&&eD()};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[eD]);let eM=(0,n.useMemo)(()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.Label,{value:"Type"}),(0,t.jsx)(u.RadioGroup,{label:"Environment Variable Type",onChange:e=>{U(e),er||e!==g.EnvType.Secret||eu(!1)},value:W,children:(0,t.jsxs)(C.default,{direction:["column","row","row"],gap:0,style:{fontSize:"14px"},children:[(0,t.jsx)(u.RadioGroup.Item,{value:g.EnvType.Plain,children:"Plaintext"}),(0,t.jsx)(v.Spacer,{x:1,y:.5}),(0,t.jsx)(u.RadioGroup.Item,{value:g.EnvType.Secret,children:"Secret"}),(0,t.jsx)(v.Spacer,{x:1,y:.5}),(0,t.jsx)(u.RadioGroup.Item,{value:g.EnvType.System,children:"Provided by System"})]})})]}),[W,eu,er]),eF=(0,n.useMemo)(()=>(0,t.jsx)(C.default,{flex:.5,children:(0,t.jsx)(d.Label,{value:"Value",children:(0,t.jsxs)(s.Combobox,{disabled:er,onChange:eB,placeholder:"Select Secret…",value:eP,children:[(0,t.jsx)(s.Combobox.Input,{className:"edit-var-select-secret",onChange:e=>eI(e.target.value)}),(0,t.jsxs)(s.Combobox.List,{children:[(0,t.jsx)(s.Combobox.Option,{value:"create-new-secret",children:eT?`Create new Secret "${eT}" for ${eh?.name??ex?.name??ex?.username}`:`Create a new Secret for ${eh?.name??ex?.name??ex?.username}`}),(0,t.jsx)(t.Fragment,{children:e_.map(e=>(0,t.jsx)(s.Combobox.Option,{value:e.value,children:e.label},e.value))})]})]})})}),[eI,eB,e_,er,eT,eP,eh,ex]),eG=(0,n.useMemo)(()=>(0,t.jsx)(C.default,{flex:.5,children:(0,t.jsx)(d.Label,{value:"Value",children:(0,t.jsxs)(s.Combobox,{onChange:eR,placeholder:"Select System Environment Variable…",value:eA,children:[(0,t.jsx)(s.Combobox.Input,{}),(0,t.jsx)(s.Combobox.List,{children:eS?.systemEnvValues.map(e=>(0,t.jsx)(s.Combobox.Option,{value:e,children:e},e))})]})})}),[eS,eR,eA]),eH=(0,n.useMemo)(()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsx)(d.Label,{value:"Value",children:(0,t.jsx)(p.Textarea,{onChange:e=>X((0,k.formatEnvValueWithNewline)(e.target.value)),placeholder:"i9ju23nf39nunu3asn",rows:3,value:J,width:"100%"})})]}),[J,X]),e$=!A.decrypted;return(0,t.jsxs)(_.EntityForm,{footerNote:(()=>{if(!O)return!1;let e=ei.length>1,t=em.length>1;return e||t||ei.length>0&&em.length>0})()?(0,t.jsx)(c.Note,{type:"warning",children:"Editing this environment variable will affect multiple environments."}):null,primaryAction:(0,t.jsx)(i.Button,{"data-testid":(0,h.tid)("env-variables-edit-form","save-button"),loading:et,onClick:eD,size:"small",children:"Save"}),secondaryAction:(0,t.jsx)(i.Button,{onClick:V,size:"small",type:"secondary",children:"Cancel"}),children:[(0,t.jsxs)(C.default,{direction:"column",children:[(0,t.jsxs)(C.default,{flex:3,gap:0,children:[er?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.Note,{size:"small",children:["Secrets can no longer be used in the Development Environment. ",'Please switch this Environment Variable to the "Plaintext" type in order to edit its value.']}),(0,t.jsx)(v.Spacer,{y:.5})]}):null,![g.EnvType.Encrypted,g.EnvType.Sensitive].includes(W)&&(0,t.jsxs)(t.Fragment,{children:[eM,(0,t.jsx)(v.Spacer,{y:.5})]}),(0,t.jsx)(C.default,{children:(0,t.jsxs)(C.default,{direction:["column","row","row"],gap:.5,children:[(0,t.jsx)(C.default,{flex:[g.EnvType.Plain,g.EnvType.Encrypted,g.EnvType.Sensitive].includes(W)?1:.5,children:(0,t.jsx)(d.Label,{value:"Name",children:(0,t.jsx)(L.EnvVariableKeyInput,{disabled:W===g.EnvType.Sensitive||D,id:"edit-env-name",onChange:e=>Z({edited:!0,value:e.target.value}),onPaste:e=>{if(J||Q)return;let t=Object.entries((0,S.parseEnv)(e.clipboardData.getData("text")));if(0===t.length||t.length>1)return;e.preventDefault();let n=t[0],a=n[0],i=n[1];Z({edited:!0,value:a}),W===g.EnvType.Plain?X((0,k.formatEnvValueWithNewline)(i)):[g.EnvType.Encrypted,g.EnvType.Sensitive].includes(W)&&ee((0,k.formatEnvValueWithNewline)(i))},placeholder:"EXAMPLE_NAME",value:Y.value})})}),W===g.EnvType.Secret?eF:null,W===g.EnvType.System?eG:null]})}),W===g.EnvType.Plain?eH:null,[g.EnvType.Encrypted,g.EnvType.Sensitive].includes(W)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsx)(d.Label,{value:"Value",children:(0,t.jsxs)(m.Skeleton,{show:W===g.EnvType.Encrypted&&e$,style:{position:"relative"},children:[(0,t.jsx)(p.Textarea,{"aria-describedby":ea,onChange:e=>ee((0,k.formatEnvValueWithNewline)(e.target.value)),placeholder:"YOUR_SECRET_VALUE_GOES_HERE",rows:6,value:Q,width:"100%",wrapperClassName:G.default.textarea,...z}),(0,t.jsx)(P.EnvVariableValueOverlay,{className:G.default.overlay,id:ea,value:Q,width:"100%",...z})]})})]}),[g.EnvType.Encrypted,g.EnvType.Sensitive].includes(W)?null:(0,t.jsx)(()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsx)("span",{className:"text-copy-16",style:{textTransform:"uppercase",fontSize:"0.75rem",fontWeight:500,color:"var(--geist-secondary)"},children:"Environments"}),(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsxs)(C.default,{direction:["column","row","row"],gap:0,children:[(0,t.jsx)(r.Checkbox,{checked:es,name:"edit-form-production",onChange:()=>el(!es),children:"Production"}),(0,t.jsx)(v.Spacer,{x:1,y:.5}),(0,t.jsx)(r.Checkbox,{checked:eo,name:"edit-form-preview",onChange:()=>ed(!eo),children:"Preview"}),(0,t.jsx)(v.Spacer,{x:1,y:.5}),(0,t.jsx)(r.Checkbox,{checked:ec,disabled:W===g.EnvType.Secret&&!er||W===g.EnvType.Sensitive,name:"edit-form-development",onChange:()=>eu(!ec),children:"Development"})]})]}),{}),(0,t.jsx)(v.Spacer,{y:.5}),(0,t.jsxs)(C.default,{direction:["column","row","row"],gap:.5,children:[M?null:(0,t.jsx)(C.default,{flex:[g.EnvType.Plain,g.EnvType.Encrypted,g.EnvType.Sensitive].includes(W)?1:.5,children:(0,t.jsx)(d.Label,{value:"Comment",children:(0,t.jsx)(o.Input,{id:"edit-env-comment",maxLength:g.ENV_VAR_COMMENT_MAX_LENGTH,onChange:e=>K({edited:!0,value:e.target.value}),placeholder:"A comment explaining what this environment variable is for",value:q.value,width:"100%"})})}),W===g.EnvType.Secret?eF:null,W===g.EnvType.System?eG:null]})]}),[g.EnvType.Encrypted,g.EnvType.Sensitive].includes(W)&&!H?(0,t.jsx)(C.default,{flex:2,children:(0,t.jsx)(F,{checkedDevelopment:ec,checkedPreview:eo,checkedProduction:es,disableEnvironmentPicker:O,disableDevelopmentEnvironment:W===g.EnvType.Sensitive,hideGitBranchSelector:!!(O&&ey!==g.EnvTarget.Preview),onChangeSelectedCustomEnvironmentIds:ev,selectedCustomEnvironmentIds:em,selectedGitBranch:eC,setCheckedDevelopment:eu,setCheckedPreview:ed,setCheckedProduction:el,setSelectedGitBranch:ek})}):null]}),ej?(0,t.jsxs)(t.Fragment,{children:[" ",(0,t.jsx)(v.Spacer,{y:1})," ",(0,t.jsx)(l.Error,{error:ej})," "]}):null,(0,t.jsx)(k.default,{active:ew,initialSecretName:eT||Y.value,onAdd:e=>{eN(!1),eI(""),eL(e),R()},onCancel:()=>{eN(!1),eI("")}})]})}e.s(["EnvVariablesEditForm",()=>H],8764444)},8386321,e=>{e.v({button:"copy-text-module__WvBs7a__button"})},7188996,3756284,e=>{"use strict";var t=e.i(1146226),n=e.i(9722978),a=e.i(7808943),i=e.i(5169864),r=e.i(5468328),s=e.i(545405),l=e.i(8386321);function o(e){let{children:n,value:a}=e,[o,d]=(0,i.useState)("Click to copy");return(0,t.jsx)(r.Tooltip,{center:!1,cursor:"pointer",delay:!1,desktopOnly:!0,padding:"var(--geist-gap-quarter)",position:"top",style:{minWidth:"0",overflow:"hidden",maxWidth:"100%"},text:o,children:(0,t.jsx)("button",{className:l.default.button,onBlur:()=>{"Copied!"===o&&setTimeout(()=>d("Click to copy"),500)},onClick:()=>{(0,s.copyToClipboard)(a),d("Copied!")},onMouseOut:()=>{"Copied!"===o&&setTimeout(()=>d("Click to copy"),500)},type:"button",children:n})})}function d(e){let{value:i}=e;return(0,t.jsx)(o,{value:i,children:(0,t.jsx)(a.default,{className:(0,n.clsx)("env-var-value","geist-ellipsis"),noWrap:!0,title:i,children:i})})}e.s(["CopyText",()=>o],3756284),e.s(["CopyInlineCode",()=>d],7188996)},4251055,e=>{e.v({bullets:"env-variables-table-module__L-jLVG__bullets",commentWrapper:"env-variables-table-module__L-jLVG__commentWrapper",dataStoreIconWrapperStyles:"env-variables-table-module__L-jLVG__dataStoreIconWrapperStyles",editing:"env-variables-table-module__L-jLVG__editing",empty:"env-variables-table-module__L-jLVG__empty",entity:"env-variables-table-module__L-jLVG__entity",iconsContainer:"env-variables-table-module__L-jLVG__iconsContainer",key:"env-variables-table-module__L-jLVG__key",overriddenEnvVar:"env-variables-table-module__L-jLVG__overriddenEnvVar",plaintextEnvValue:"env-variables-table-module__L-jLVG__plaintextEnvValue",resultRow:"env-variables-table-module__L-jLVG__resultRow",reveal:"env-variables-table-module__L-jLVG__reveal",section:"env-variables-table-module__L-jLVG__section",suggestionHighlight:"env-variables-table-module__L-jLVG__suggestionHighlight",time:"env-variables-table-module__L-jLVG__time",timeAgoText:"env-variables-table-module__L-jLVG__timeAgoText",varName:"env-variables-table-module__L-jLVG__varName",varNameContainer:"env-variables-table-module__L-jLVG__varNameContainer",virtuosoRowOverflowAnchor:"env-variables-table-module__L-jLVG__virtuosoRowOverflowAnchor"})},6899807,e=>{"use strict";var t=e.i(1146226),n=e.i(5169864),a=e.i(1937421),i=e.i(9722978),r=e.i(8248823),s=e.i(57106),l=e.i(4585051),o=e.i(3306538),d=e.i(2504781),c=e.i(4030453),u=e.i(8459493),m=e.i(7448864),v=e.i(6891161),p=e.i(6850581),h=e.i(5255926),x=e.i(9318197),f=e.i(1344973),y=e.i(5468328),g=e.i(455575),j=e.i(5433449),b=e.i(3973638),E=e.i(1933683),_=e.i(762945),C=e.i(1000031),k=e.i(4345845),S=e.i(2065543),w=e.i(4004502),N=e.i(5927860),T=e.i(7713873),I=e.i(5338940),P=e.i(3322724),L=e.i(4272098),A=e.i(7218483),V=e.i(5166685),B=e.i(5819220),R=e.i(4712634),O=e.i(979715),D=e.i(4450569),M=e.i(7808943),F=e.i(42012),G=e.i(8764444),H=e.i(6060673),$=e.i(7482607),z=e.i(2729296);e.i(6887680);var W=e.i(6810699),U=e.i(1138941),Y=e.i(7743427),Z=e.i(3850869),q=e.i(5601055),K=e.i(7188996),J=e.i(3756284),X=e.i(3703009),Q=e.i(8525850),ee=e.i(2215529),et=e.i(4251055);function en(e){let{env:a,secretsMappedById:r,revealType:s,onViewEnvironmentVariable:l}=e,[o,c]=(0,n.useState)("hidden");if((0,n.useEffect)(()=>{void 0!==a.decrypted&&(a.decrypted&&"loading"===o?c("revealed"):a.decrypted||"revealed"!==o||c("hidden"))},[a.decrypted,o,a]),2===s)return(0,t.jsxs)("div",{className:"flex flex-row items-stretch justify-start flex-initial",children:[(0,t.jsxs)(y.Tooltip,{text:"Additional permissions are required to reveal production environment variables values.",children:[(0,t.jsx)(x.Spacer,{x:.1}),(0,t.jsx)(E.Eye,{size:16})]}),(0,t.jsx)(x.Spacer,{x:.5}),(0,t.jsx)(f.Text,{className:et.default.bullets,color:"gray-900",children:"•".repeat(15)})]});if(1===s)return(0,t.jsx)(K.CopyInlineCode,{value:a.value});if(a.type===N.EnvType.Secret&&r){let e=r[a.value]?.name;return e?(0,t.jsx)("i",{title:`@${e}`,children:`@${e}`}):(0,t.jsx)("i",{title:a.value,children:a.value||"-"})}if(a.type===N.EnvType.Plain)return(0,t.jsx)(M.default,{className:(0,i.clsx)(et.default.plaintextEnvValue,"env-var-value","geist-ellipsis"),title:a.value,children:a.value});if(a.type===N.EnvType.Encrypted){if(a.decrypted&&!a.value)return(0,t.jsx)("i",{title:"This Environment Variable has no value",children:"Empty"});switch(o){case"revealed":return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(d.Button,{"aria-label":"Click to hide",className:et.default.reveal,onClick:()=>c("hidden"),svgOnly:!0,title:"Click to hide",variant:"unstyled",children:(0,t.jsx)(b.EyeOff,{size:16})}),(0,t.jsx)(K.CopyInlineCode,{value:a.value})]});case"hidden":case"loading":return(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-2 flex-initial",children:[(0,t.jsx)(d.Button,{"aria-label":"Click to reveal",className:et.default.reveal,loading:"loading"===o,onClick:()=>{a.decrypted?c("revealed"):c("loading"),l?.(a)},size:"small",svgOnly:!0,title:"Click to reveal",variant:"unstyled",children:"loading"!==o&&(0,t.jsx)(E.Eye,{size:16})}),(0,t.jsx)(f.Text,{color:"gray-900",className:et.default.bullets,children:"•".repeat(15)})]})}}return a.type===N.EnvType.Sensitive?null:(0,t.jsx)("i",{title:a.value,children:a.value})}function ea(e){let{env:n,team:a,projectName:i,resource:r}=e;switch(n.contentHint?.type){case"blob-read-write-token":return(0,t.jsx)(s.Link,{href:a&&i?`/${a.slug}/${i}/stores/blob/${n.contentHint.storeId}`:a?`/${a.slug}/~/stores/blob/${n.contentHint.storeId}`:`/dashboard/stores/blob/${n.contentHint.storeId}`,style:{color:"var(--geist-secondary)"},children:(0,t.jsx)("div",{className:et.default.dataStoreIconWrapperStyles,children:(0,t.jsx)(X.DataStore,{size:"small",type:"blob"})})});case"integration-store-secret":return r&&a?(0,t.jsx)(y.Tooltip,{text:"Open linked integration",children:(0,t.jsx)(s.Link,{href:(0,Q.getResourceDetailsPath)(r,a.slug,i),style:{color:"var(--geist-secondary)"},children:(0,t.jsx)(ei,{...n.contentHint})})}):null;case"flags-connection-string":return(0,t.jsx)(y.Tooltip,{text:"Open flags",children:(0,t.jsx)(s.Link,{href:`/${a.slug}/${i}/flags`,style:{color:"var(--geist-secondary)"},children:(0,t.jsx)("div",{className:et.default.dataStoreIconWrapperStyles,children:(0,t.jsx)(y.Tooltip,{text:"This environment variable connects this project with flags",children:(0,t.jsx)(S.ToggleOnAlt,{size:16})})})})})}return n.edgeConfigId?(0,t.jsx)(y.Tooltip,{desktopOnly:!0,text:"This environment variable connects this project to an Edge Config",children:(0,t.jsx)(s.Link,{href:a&&i?`/${a.slug}/${i}/stores/edge-config/${n.edgeConfigId}`:a?`/${a.slug}/~/stores/edge-config/${n.edgeConfigId}`:`/dashboard/stores/edge-config/${n.edgeConfigId}`,style:{color:"var(--geist-secondary)"},children:(0,t.jsx)("div",{className:et.default.dataStoreIconWrapperStyles,children:(0,t.jsx)(X.DataStore,{size:"small",type:"edge-config"})})})}):null}function ei(e){let{integrationId:n,integrationProductId:a}=e,{product:i}=(0,Y.useIntegrationAndProduct)({integrationIdOrSlug:n,productIdOrSlug:a});return i?(0,t.jsx)(l.Avatar,{hash:i.iconUrl,size:20,title:i.name}):(0,t.jsx)(C.Linked,{size:12})}function er(e){let{env:a,className:r,hasConnectedStore:s,onRemove:d,onSave:c,onDetach:v,onSecretAdd:h,secretsMappedById:x,isEditing:f,setIsEditing:g,search:b,canReadProductionValues:E,canUnlinkSharedEnvVariable:_,disableDeleteEnvVariable:C,disableEditEnvVariable:k,onViewEnvironmentVariable:S,team:I,projectId:L,projectName:V,getOverriddenTargetsForSharedEnvVar:D=e=>[],virtuosoIndexData:M,disableMoreMenuProps:H,environment:$,disableNameInput:W,disableComment:U,disableEnvironmentInput:Y,customSave:Z,additionalMenuItems:q,editTextareaValueProps:K,resource:X}=e,ei=(0,P.useIsMobile)(),er=(0,n.useRef)(null),el=(0,z.isSharedEnv)(a),eo=(0,A.useAgo)(a.updatedAt||a.createdAt,{justNowLabel:"just now"}),ed=(0,n.useMemo)(()=>el?D(a):[],[a,D,el]);(0,n.useEffect)(()=>{f&&er.current?.scrollIntoView({behavior:"smooth",block:"nearest"})},[f]);let ec=(0,n.useMemo)(()=>{var e;return a?(0,t.jsxs)("span",{className:et.default.varNameContainer,children:[(0,t.jsx)(J.CopyText,{value:a.key,children:(0,t.jsx)("span",{className:(0,i.clsx)(ed.length?et.default.overriddenEnvVar:void 0,et.default.varName),style:{fontFamily:"var(--font-mono)",fontWeight:500},title:a.key,children:b?(e=a.key,e.split(RegExp("("+b+")","gi")).map((e,n)=>e.toLowerCase()===b.toLowerCase()?(0,t.jsx)("span",{className:et.default.suggestionHighlight,children:e},n):e)):a.key},a.id)}),(0,t.jsxs)("div",{className:(0,i.clsx)("flex flex-row items-stretch justify-start gap-2 flex-initial",et.default.iconsContainer),children:[(0,t.jsx)(ea,{env:a,projectName:V,resource:X,team:I}),void 0!==a.comment&&""!==a.comment&&(0,t.jsx)(y.Tooltip,{text:a.comment,children:(0,t.jsx)("div",{className:et.default.commentWrapper,children:(0,t.jsx)(j.FileText,{size:14})})})]}),"sensitive"===a.type?(0,t.jsx)(o.Badge,{size:"sm",style:{marginLeft:"8px",backgroundColor:"var(--geist-secondary-lighter)",color:"var(--geist-secondary-dark)"},children:"Sensitive"}):null]}):null},[a,ed.length,L,V,X,b,I]),eu=a.target===N.EnvTarget.Production||Array.isArray(a.target)&&1===a.target.length&&a.target[0]===N.EnvTarget.Production,em=(0,n.useMemo)(()=>{if(!a.contentHint)return null;switch(a.contentHint.type){case"blob-read-write-token":return(0,t.jsx)(u.MenuItem,{href:I&&V?`/${I.slug}/${V}/stores/blob/${a.contentHint.storeId}/projects`:I?`/${I.slug}/~/stores/blob/${a.contentHint.storeId}/projects`:`/dashboard/stores/blob/${a.contentHint.storeId}/projects`,isLink:!0,children:"Manage Blob Connection"});case"integration-store-secret":return X&&I?(0,t.jsx)(u.MenuItem,{href:(0,Q.getResourceDetailsPath)(X,I.slug,V),isLink:!0,children:"Manage Connection"}):null;default:return null}},[a.contentHint,V,X,I]),ev=(0,n.useMemo)(()=>el?V?"Unlink from this Project":"Delete":"Remove",[el,V]);return(0,n.createElement)(B.Entity,{...M,className:(0,i.clsx)(r,et.default.resultRow,{[et.default.editing]:f},f&&"pb-0"),disabledDotMenuTooltip:void 0!==H?(0,t.jsx)(t.Fragment,{children:H.tooltip}):(0,t.jsx)(t.Fragment,{children:"Additional permissions are required to manage production environment variables."}),editing:f,footer:f?I&&el?(0,t.jsx)("div",{className:"-mx-4 -mt-4",children:(0,t.jsx)(ee.TeamEnvVariablesEditForm,{containerClassName:"pt-0",disableEnvironmentPicker:!!$,envVar:a,isEditing:f,onCancel:()=>g(!1),onRemove:()=>{d?.(a)},onSave:e=>{g(!1),c?.(e)},teamId:I.id})}):(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)(G.EnvVariablesEditForm,{customSave:Z,disableComment:U,disableEnvironmentInput:Y,disableEnvironmentPicker:!!$,disableNameInput:W,editTextareaValueProps:K,envVariable:a,onDiscard:()=>g(!1),onSave:e=>{g(!1),c?.(e)},onSecretAdd:()=>{h?.()}},a.id)}):null,footerClassName:f?"border-t-0":void 0,indent:!1,isDotMenuDisabled:!E&&eu||H?.disabled,key:a.id,menuItems:em?(0,t.jsxs)(t.Fragment,{children:[em,!1===s&&(!el||_)?(0,t.jsx)(u.MenuItem,{onClick:()=>{d?.(a)},style:{color:"var(--geist-error)"},children:ev}):(0,t.jsx)(y.Tooltip,{desktopOnly:!0,disableTriggers:!s,text:"You can remove this environment variable by disconnecting the project from the connected store.",children:(0,t.jsx)(m.MenuItemLocked,{children:ev})})]}):(0,t.jsxs)(t.Fragment,{children:[!(el&&L)&&(k?(0,t.jsx)(m.MenuItemLocked,{children:"Edit"}):(0,t.jsx)(u.MenuItem,{"data-testid":(0,w.tid)("env-vars-table","menu-item","edit",a.key),onClick:()=>g(!0),children:"Edit"})),$&&a.type===N.EnvType.Encrypted&&(()=>{if(el||!$)return!1;let e=0;return a.customEnvironmentIds&&(e+=a.customEnvironmentIds.length),Array.isArray(a.target)?e+=a.target.length:e+=1,e>1})()?(0,t.jsx)(y.Tooltip,{desktopOnly:!0,style:{width:"100%"},text:`Detach this environment variable and create a new copy just for the ${$?(0,T.envName)($):""} environment.`,children:(0,t.jsx)(u.MenuItem,{onClick:()=>{v?.(a)},children:"Detach"})}):null,q,(el?_:!C)?(0,t.jsx)(u.MenuItem,{onClick:()=>{d?.(a)},style:{color:"var(--geist-error)"},children:ev}):(0,t.jsx)(m.MenuItemLocked,{children:ev})]}),ref:er,thumbnail:(0,t.jsx)(R.EntityThumbnail,{size:24,children:(0,t.jsx)(F.default,{env:a})}),children:[(0,t.jsx)(O.EntityField,{className:et.default.key,description:(0,t.jsx)(es,{env:a,overriddenTargets:ed}),title:ec}),a.type===N.EnvType.Sensitive&&ei?null:(0,t.jsx)(O.EntityField,{children:(0,t.jsx)(en,{env:a,onViewEnvironmentVariable:S,revealType:!eu||E?0:2,secretsMappedById:x})}),(0,t.jsx)(O.EntityField,{avatar:a.updatedBy||a.createdBy?(0,t.jsx)(y.Tooltip,{text:a.lastEditedByDisplayName,children:(0,t.jsx)(l.Avatar,{size:24,uid:a.updatedBy||a.createdBy})}):null,className:et.default.time,description:a.updatedAt?(0,t.jsxs)(p.RelativeTimeCard,{date:a.updatedAt,side:"left",children:[(0,t.jsxs)("span",{className:et.default.timeAgoText,children:[a.updatedBy?"Updated":"Added"," "]}),eo]}):null,right:!0})]})}function es(e){let{overriddenTargets:n,env:a}=e;return(0,t.jsx)(el,{env:a,overriddenTargets:n})}function el(e){let{overriddenTargets:n,env:a}=e,i=[...Array.isArray(a.target)?a.target:[a.target],...a.customEnvironmentIds||[]].filter(e=>!!e);a.applyToAllCustomEnvironments&&i.push(q.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID);let{label:r,isLoading:s,environmentNamesList:l}=(0,q.useCustomEnvironmentsPrettyLabel)({selectedEnvironmentIds:new Set(i)});return(0,t.jsx)(h.Skeleton,{className:"truncate",show:s,children:(0,t.jsx)(y.Tooltip,{center:!1,delay:!0,desktopOnly:!0,disableTriggers:l.length<1,maxWidth:"300px",padding:"var(--geist-gap-quarter)",position:"top",style:{minWidth:"0",display:"block"},text:l.join(",\n"),children:n.length?(0,t.jsxs)("div",{className:"flex flex-row items-center justify-start gap-1 flex-initial",children:[(0,t.jsx)(_.Warning,{align:"bottom",size:16}),(0,t.jsx)("span",{children:"Overridden by Project"})]}):a.gitBranch?(0,t.jsxs)("span",{className:"flex flex-wrap gap-1",children:[r,(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(k.GitBranch,{}),(0,t.jsx)("span",{className:"font-mono",children:a.gitBranch})]})]}):(0,t.jsx)("span",{className:"block w-full truncate",children:r})})})}function eo(e){let n=e.context,a=e.item,{open:i}=(0,$.useSaveAndRedeploy)();if(!a||!n)return null;let{canReadProductionValues:r,canUnlinkSharedEnvVariable:s,getOverriddenTargetsForSharedEnvVar:l,isStoreDeleted:o,currentEditingEnv:d,onRemove:c,onSave:u,onDetach:m,onSecretAdd:v,onViewEnvironmentVariable:p,project:h,search:x,secretsMappedById:f,setCurrentEditingEnv:y,team:g,shouldDisableEnvRow:j,environment:b,resources:E}=n,_={"data-index":e["data-index"],"data-item-index":e["data-item-index"],"data-known-size":e["data-known-size"]},C=a.contentHint,k=C?.type==="integration-store-secret"?E?.find(e=>e.id===C.storeId):void 0;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(er,{canReadProductionValues:r,canUnlinkSharedEnvVariable:s,className:et.default.virtuosoRowOverflowAnchor,disableMoreMenuProps:j?.(a),env:a,environment:b,getOverriddenTargetsForSharedEnvVar:l,hasConnectedStore:!!a.contentHint&&"storeId"in a.contentHint&&!o(a.contentHint.storeId),isEditing:a.id===d,onDetach:m,onRemove:c,onSave:e=>{i("Updated Environment Variable successfully."),u?.(e)},onSecretAdd:v,onViewEnvironmentVariable:p,projectId:h?.id,projectName:h?.name,resource:k?.type==="integration"?k:void 0,search:x,secretsMappedById:f,setIsEditing:e=>{p?.(a),y(e?a.id:null)},team:g,virtuosoIndexData:_},a.id)})}function ed(e){let{envVariables:i,onRemove:r,onSave:s,onDetach:o,secretsData:d,onSecretAdd:c,search:m,isLoading:v,withSecrets:p,withEnvs:h,projectId:f,canReadProductionValues:y,canUnlinkSharedEnvVariable:g,disabled:j,onViewEnvironmentVariable:b,textConfig:E,getOverriddenTargetsForSharedEnvVar:_=e=>[],shouldDisableEnvRow:C,environment:k,currentEditingEnv:S,setCurrentEditingEnv:N}=e,{isStoreDeleted:T,data:P}=(0,W.useResourceList)({resourceIds:i?.map(e=>e.contentHint&&"storeId"in e.contentHint?e.contentHint.storeId:void 0).filter(e=>!!e)??[]}),L=(0,U.useProjectIdOrName)()||f,{data:A}=(0,H.useProject)(f),{isReady:V,team:M}=(0,I.useTeam)(),F=(0,n.useMemo)(()=>d?.secrets.reduce((e,t)=>(e[t.uid]=t,e),{})??{},[d?.secrets]),G=!V||v||h&&!Array.isArray(i)||p&&!d,$=(0,n.useMemo)(()=>({canReadProductionValues:y,canUnlinkSharedEnvVariable:g,getOverriddenTargetsForSharedEnvVar:_,isStoreDeleted:T,currentEditingEnv:S,onRemove:r,onSave:s,onDetach:o,onSecretAdd:c,onViewEnvironmentVariable:b,project:A,search:m,secretsMappedById:F,setCurrentEditingEnv:N,team:M,shouldDisableEnvRow:C,environment:k,resources:P?.stores}),[y,g,_,T,S,r,s,o,c,b,A,m,F,N,M,C,k,P?.stores]);return G?(0,t.jsx)("div",{children:["p1","p2"].map(e=>(0,t.jsxs)(B.Entity,{className:et.default.resultRow,menuItems:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.MenuItem,{children:"Edit"}),(0,t.jsx)(u.MenuItem,{children:"Remove"})]}),placeholder:!0,thumbnail:(0,t.jsx)(R.EntityThumbnail,{size:30}),children:[(0,t.jsx)(O.EntityField,{description:"",descriptionSkeletonWidth:"50%",title:"",titleSkeletonWidth:"40%",width:"40%"}),(0,t.jsx)(O.EntityField,{description:"",descriptionSkeletonWidth:"80%",title:"",titleSkeletonWidth:"20%",width:"27%"}),(0,t.jsx)(O.EntityField,{avatar:(0,t.jsx)(l.Avatar,{size:24}),description:"",descriptionSkeletonWidth:"60%",right:!0})]},e))}):j?(0,t.jsx)(Z.AdditionalPermissionsRequired,{resource:L?"Environment Variables of this project":"Environment Variables",team:L?null:M}):m&&i?.length===0?(0,t.jsxs)(D.default,{center:!0,className:et.default.empty,"data-testid":(0,w.tid)("env-vars-table","container","empty"),children:[(0,t.jsx)("h6",{className:"text-copy-16 m-0 text-center",children:"No Results Found"}),(0,t.jsx)(x.Spacer,{y:.5}),(0,t.jsxs)("p",{className:"text-copy-14 m-0 text-center",style:{color:"var(--accents-6)",wordBreak:"break-word"},children:['Your search for "',m,'" did not return any results.']})]}):i?.length===0?(0,t.jsxs)(D.default,{center:!0,className:et.default.empty,children:[(0,t.jsx)("h6",{className:"text-copy-16 m-0 text-center",children:E?.emptyState.title??"No Environment Variables Added"}),(0,t.jsx)(x.Spacer,{y:.5}),(0,t.jsx)("p",{className:"text-copy-14 m-0 text-center",children:E?.emptyState.description??"Add Environment Variables to Production, Preview, and Development environments, including branches in Preview."})]}):(0,t.jsx)("div",{"data-testid":(0,w.tid)("env-vars-table","container"),children:(0,t.jsx)(a.Virtuoso,{components:{Item:eo},context:$,data:i,initialItemCount:Math.min(i?.length??0,10),overscan:1e3,style:{minHeight:i?78*i.length:"auto"},useWindowScroll:!0})})}function ec(e,a){let[i,s]=(0,n.useState)(!1),[l,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(null),{data:h}=(0,H.useProject)(e),y=(0,g.useToasts)(),{team:j}=(0,I.useTeam)(),b=(0,n.useCallback)(e=>{p(e),s(!0)},[]),E=(0,n.useCallback)(()=>{s(!1)},[]),_=(0,n.useCallback)(()=>{u(!1),o(null),p(null)},[]),C=(0,n.useCallback)(async()=>{if(m){u(!0);try{await (0,z.deleteEnvVar)({envVars:[m],projectId:e,teamId:j?.id}),E(),y.success("Removed Environment Variable successfully."),await a?.()}catch(e){o((0,r.normalizeError)(e))}finally{u(!1)}}},[m,y,j,e,E,a]),k=[];m?.customEnvironmentIds&&k.push(...m.customEnvironmentIds),m?.target&&((0,L.default)(m.target)?k.push(...m.target):k.push(m.target)),m?.applyToAllCustomEnvironments&&k.push(q.INCLUDE_ALL_CUSTOM_ENVIRONMENTS_ID);let{environmentNamesList:S}=(0,q.useCustomEnvironmentsPrettyLabel)({selectedEnvironmentIds:new Set(k.filter(e=>!!e))});return{modal:(0,n.useMemo)(()=>(0,t.jsxs)(v.Modal.Modal,{active:i,onAnimationDone:_,onClickOutside:E,children:[(0,t.jsxs)(v.Modal.Body,{children:[(0,t.jsx)(v.Modal.Header,{children:(0,t.jsx)(v.Modal.Title,{children:"Remove Environment Variable"})}),(0,t.jsxs)("p",{className:"text-copy-14",children:["You are about to remove an environment variable from your project"," ",(0,t.jsx)("span",{className:"font-medium",children:h?.name}),". This action cannot be undone."]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-6 flex-initial",children:[(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(f.Text,{children:"Environment Variable:"}),(0,t.jsx)("p",{className:"m-0 truncate rounded bg-background-200 px-4 py-3 text-gray-1000 shadow-border",title:m?.key,children:m?m.key:""})]}),(0,t.jsxs)("div",{className:"flex flex-col items-stretch justify-start gap-2 flex-initial",children:[(0,t.jsx)(f.Text,{children:"Affected Environments:"}),(0,t.jsx)("p",{className:"m-0 rounded bg-background-200 px-4 py-3 text-gray-1000 shadow-border",children:(0,V.toListSentence)(S)})]})]}),l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Spacer,{y:1}),(0,t.jsx)(c.Error,{error:l})]}):null]}),(0,t.jsxs)(v.Modal.Actions,{children:[(0,t.jsx)(v.Modal.Action,{onClick:E,type:"secondary",children:"Cancel"}),(0,t.jsx)(v.Modal.Action,{loading:d,onClick:C,type:"error",children:"Remove"})]})]}),[i,_,E,h?.name,m,l,d,S,C]),open:b,close:E}}e.s(["EnvVarEntity",()=>er,"default",()=>ed,"useRemoveEnvModal",()=>ec])}]);

//# debugId=403b48ee-067c-e47c-5cc2-d30af06cd8a6
//# sourceMappingURL=57b2854fa84dafd7.js.map
;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="34764290-fc69-6ad3-dd91-3a9675d3d969")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,1542949,e=>{"use strict";var t=e.i(5610834),i=e.i(5348482),r=e.i(4660689);function s(){let e=(0,t.useParams)(),s=(0,t.useSearchParams)(),a=(0,i.useComputeQueryBuilderParams)();return function(t){let{additionalParams:i,removeExistingParams:l,projectSlug:n,ignoreProject:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=n||e?.project,u=c&&!o?`/${e?.teamSlug}/${c}/observability`:`/${e?.teamSlug}/~/observability`,d=new URLSearchParams;l||s?.forEach((e,t)=>{r.EXCLUDED_NAVIGATION_PARAMS.includes(t)||d.set(t,e)});let m=t.startsWith("/")?t:`/${t}`;return"/query"===m&&a(d),i&&Object.entries(i).forEach(e=>{let[t,i]=e;void 0!==i&&d.set(t,i)}),`${u}${m}${d.size?`?${d.toString()}`:""}`}}e.s(["useO11yNavigation",()=>s])},7713873,e=>{"use strict";var t=e.i(5927860);function i(e){return e.startsWith("env_")}function r(e){return i(e.id)}function s(e){return r(e)?e.slug:e.name}let a={id:t.EnvTarget.Production,name:"Production",slug:t.EnvTarget.Production,description:"Primary project environment meant to serve qualified, promoted deployments to real users",branchMatcher:void 0,domains:[],createdAt:void 0,updatedAt:void 0},l={id:t.EnvTarget.Preview,name:"Preview",slug:t.EnvTarget.Preview,description:"Standard environment — included with all Vercel projects — for previewing changes before promoting them to production",branchMatcher:void 0,domains:[],createdAt:void 0,updatedAt:void 0},n={id:t.EnvTarget.Development,name:"Development",slug:t.EnvTarget.Development,branchMatcher:void 0,description:"Standard environment — included with all Vercel projects — used to supply environment variables in local development",createdAt:void 0,updatedAt:void 0},o="[all-environments]",c="[all-custom-environments]";function u(e){return e===o||e===c||Object.values(t.EnvTarget).includes(e.replace(/^\[|\]$/g,""))||i(e)}function d(e){return i(e)?e:`[${e}]`}e.s(["DevelopmentEnvironment",0,n,"PreviewEnvironment",0,l,"ProductionEnvironment",0,a,"allCustomEnvironmentsFilter",0,c,"allEnvironmentsFilter",0,o,"brandCustomEnvId",0,e=>e,"envName",()=>s,"isCustomEnvId",()=>i,"isCustomEnvironment",()=>r,"isEnvFilter",()=>u,"mapToEnvFilter",()=>d])},7957424,e=>{"use strict";var t=e.i(2405338),i=e.i(8042625),r=e.i(277234),s=e.i(4244280),a=e.i(9668517),l=e.i(7713873);function n(e,l){let n=(0,a.useTeamSlug)(),o=(0,i.encode)({slug:n}),{skip:c,...u}=l||{},d=async e=>{try{let t=await (0,r.fetchAPI)(e,{throwOnHTTPError:!0});return{customEnvironments:t.environments,accountLimit:t.accountLimit}}catch(e){return{customEnvironments:[],accountLimit:{total:0}}}};return(0,t.default)(e&&!c?`${(0,s.API_ENVIRONMENTS)(e)}${o}`:null,d,u)}function o(e,i){let r=n(e,i),{data:s,error:a,isLoading:o,isValidating:c,mutate:u}=(0,t.default)(e?[e,"allEnvironments",r.data]:null,()=>({environments:[l.ProductionEnvironment,l.PreviewEnvironment,...r.data?.customEnvironments||[],l.DevelopmentEnvironment]}),{...i,fallbackData:{environments:[l.ProductionEnvironment,l.PreviewEnvironment,l.DevelopmentEnvironment]}});return{data:s,error:r.error||a,isLoading:r.isLoading||o,isValidating:r.isValidating||c,mutate:u}}e.s(["useAllEnvironments",()=>o,"useCustomEnvironments",()=>n])},7429602,e=>{"use strict";var t=e.i(1146226),i=e.i(3306538),r=e.i(2504781),s=e.i(4557026),a=e.i(9722978);e.s(["default",0,function(e){let{feedback:l,muted:n,size:o,variant:c,className:u}=e;return(0,t.jsxs)("div",{className:(0,a.clsx)("flex items-center gap-[var(--geist-space)]",u),children:[(0,t.jsx)(i.Badge,{className:n?"text-[var(--geist-background)] bg-[var(--accents-3)] border-0 dark:text-[var(--geist-background)] dark:bg-[var(--accents-6)]":"",size:o,variant:n?"gray-subtle":c||"pink",children:"Beta"}),l?(0,t.jsx)(r.Button,{className:"sm:block max-[600px]:hidden",onClick:s.dispatchShowFeedbackEvent,size:"small",type:"tertiary",typeName:"button",children:"Provide feedback"}):null]})}])},2731997,e=>{"use strict";var t=e.i(1146226),i=e.i(5610834),r=e.i(4313344),s=e.i(8151845);function a(e){let{allowAll:a=!0,customEnvironments:l=[]}=e,[n,o]=(0,s.useSonarQueryState)();if("/notebooks"!==((0,i.usePathname)()?.split("observability").pop()||""))return(0,t.jsx)(r.EnvironmentSelector,{allowAll:a,environment:n.environment,customEnvironments:l,onChange:e=>{o({environment:e})}})}e.s(["EnvironmentSelect",()=>a])},3470411,e=>{"use strict";var t=e.i(1146226),i=e.i(8412040),r=e.i(5610834),s=e.i(4597921),a=e.i(5338940),l=e.i(7073483),n=e.i(7348630),o=e.i(1794286),c=e.i(7432042),u=e.i(5169864),d=e.i(8151845),m=e.i(854682),b=e.i(7622186),v=e.i(2749380);e.i(6728635);var p=e.i(2630141),x=e.i(1509029);e.i(6483798);var h=e.i(8287059);function f(){let e=(0,h.useOpenUpgradeModal)(),[i,f]=(0,d.useSonarQueryState)(),{start:g,end:y}=(0,d.useRangeFromQueryState)(),{team:j}=(0,a.useTeam)(),{hasObservabilityPlusAccessOnCurrentProject:S,ready:w}=(0,m.useHasObservabilityPlus)(),P=(0,p.useOpenEnableModal)(),E=(0,s.useServerFlag)("observability-maximum-lookback","inherit"),N=(0,u.useMemo)(()=>{if(!j)return new Date;let e=(0,b.getMaximumLookback)({team:j,hasObservabilityPlusAccess:S,observabilityMaximumLookbackFlag:E});return new Date(Date.now()-e)},[j,S,E]);if((0,u.useEffect)(()=>{if(w&&j&&g<N&&!S){let e=Object.keys((0,v.getTimeRangePresets)())[0];(0,l.track)("Observability Changed Date Range Period",{period:e}),f({period:e})}},[N,f,g,j,S,w]),"/notebooks"===((0,r.usePathname)()?.split("observability").pop()||""))return;let k=Object.entries((0,v.getTimeRangePresets)()).filter(e=>{let[t,i]=e;return!S||(0,n.isAfter)(i.start,N)}).map(e=>{let[t,i]=e;return{key:t,...i,needsUpgrade:i.start.getTime()<N.getTime()}}),O=(()=>{if(j?.billing?.plan==="hobby"){let t=Date.now()-x.FreeProRetention;return[{presets:k.filter(e=>!e.needsUpgrade)},{title:"Upgrade to Pro",divider:!0,presets:k.filter(e=>e.needsUpgrade&&e.start.getTime()>=t).map(t=>({...t,onClick:()=>{e({teamHint:j.id,source:"observability-period-filter",onConversionSuccess:()=>{f({period:t.key})}})}}))},{title:"Observability Plus",presets:k.filter(e=>e.needsUpgrade&&e.start.getTime()<t).map(e=>({...e,onClick:()=>{P({via:"date-range-select",upgradeUseCase:"retention"})}}))}]}let t=k.filter(e=>e.needsUpgrade);return t.length?[{presets:k.filter(e=>!e.needsUpgrade)},{title:"Observability Plus",divider:!0,presets:t.map(e=>({...e,onClick:()=>{P({via:"date-range-select",upgradeUseCase:"retention"})}}))}]:[{presets:k}]})(),C=i.period?k.find(e=>e.key===i.period)?.key:void 0;return(0,t.jsx)(o.Calendar,{allowClear:!1,compact:!0,minValue:N,onChange:(e,t)=>{let i=new Date(e.start),r=new Date(e.end);t?((0,l.track)("Observability Changed Date Range Period",{period:t}),f({period:t})):((0,l.track)("Observability Changed Date Range Period",{period:(0,c.default)(r.getTime()-i.getTime())}),f({from:i,to:r}))},popoverAlignment:"center",presetKey:C,presets:O,value:{start:g,end:y},width:"190px"},"date-range-select-o11y")}var g=e.i(2731997),y=e.i(2807115),j=e.i(60582),S=e.i(6143247),w=e.i(7957424);function P(e){let{children:s,hideEnvironmentSelect:a,hideOptionsMenu:l}=e,n=(0,r.usePathname)()?.split("observability").pop()||"",o=(0,r.useParams)(),c=!a&&!n.startsWith("/alerts")&&!n.startsWith("/query"),u=!n.startsWith("/alerts")&&!n.startsWith("/query"),d=n.includes("/workflows"),{data:m}=(0,w.useCustomEnvironments)(o?.project,{skip:!n.includes("/workflows")});return(0,t.jsx)("div",{className:"w-full md:w-auto",children:(0,t.jsx)(i.MobileScrollWrapper,{className:(0,S.cn)("-mx-5 md:mx-0",j.IS_DASH?"w-full -my-4 md:my-0":"-my-2"),contentClassName:(0,S.cn)("md:!overflow-visible py-3 px-5 md:px-0"),style:{"--overlay-color":"var(--ds-background-200-value)"},children:(0,t.jsxs)("div",{className:(0,S.cn)("flex flex-row items-center gap-2",j.IS_DASH&&"w-full"),children:[s,c?(0,t.jsx)(g.EnvironmentSelect,{allowAll:!d,customEnvironments:m?.customEnvironments??[]}):null,j.IS_DASH&&(0,t.jsx)("div",{className:"flex-1"}),u?(0,t.jsx)(f,{}):null,l||j.IS_DASH?null:(0,t.jsx)(y.OptionsMenu,{})]})})})}e.s(["HeaderControls",()=>P],3470411)},7348630,e=>{"use strict";var t=e.i(516467);function i(e,i){return+(0,t.toDate)(e)>+(0,t.toDate)(i)}e.s(["isAfter",()=>i])},7458020,e=>{"use strict";var t=e.i(5169864);e.s(["useScrollEnd",0,function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[r,s]=(0,t.useState)(!1),[a,l]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{let t=e.current;if(!t)return;let r=()=>{s(t.scrollLeft+t.clientWidth+i>=t.scrollWidth),l(t.scrollLeft<=i)};return r(),t.addEventListener("scroll",r),window.addEventListener("resize",r),()=>{t.removeEventListener("scroll",r),window.removeEventListener("resize",r)}},[e,i]),{start:a,end:r}}])},806506,e=>{e.v({"scroll-content":"mobile-scroll-wrapper-module__7291Ja__scroll-content","tab-shadow-wrapper":"mobile-scroll-wrapper-module__7291Ja__tab-shadow-wrapper","tabs-shadow":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow","tabs-shadow--hidden":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--hidden","tabs-shadow--left":"mobile-scroll-wrapper-module__7291Ja__tabs-shadow--left",wrapper:"mobile-scroll-wrapper-module__7291Ja__wrapper"})},8412040,e=>{"use strict";var t=e.i(1146226),i=e.i(9722978),r=e.i(5169864),s=e.i(7458020),a=e.i(806506);function l(e){let{children:l,contentStyle:n,contentClassName:o,...c}=e,u=(0,r.useRef)(null),{start:d,end:m}=(0,s.useScrollEnd)(u,20);return(0,t.jsxs)("div",{className:(0,i.clsx)(a.default.wrapper,c.className),style:c.style,children:[(0,t.jsx)("div",{className:(0,i.clsx)(a.default["scroll-content"],o),ref:u,style:n,children:l}),(0,t.jsxs)("div",{className:a.default["tab-shadow-wrapper"],children:[(0,t.jsx)("div",{className:(0,i.clsx)(a.default["tabs-shadow"],a.default["tabs-shadow--left"],{[a.default["tabs-shadow--hidden"]]:d||!m})}),(0,t.jsx)("div",{className:(0,i.clsx)(a.default["tabs-shadow"],{[a.default["tabs-shadow--hidden"]]:m})})]})]})}e.s(["MobileScrollWrapper",()=>l])},4313344,e=>{"use strict";var t=e.i(1146226),i=e.i(6881349);let r={production:"Production",preview:"Preview",all:"All environments"};function s(e){var s,a;let{environment:l,onChange:n,allowAll:o=!0,customEnvironments:c=[]}=e,u=[...Object.entries(r).filter(e=>{let[t]=e;return o||"all"!==t}),...c.map(e=>[e.slug,e.name??e.slug])];return(0,t.jsxs)(i.Combobox,{clearable:!1,value:l,noInputPrefix:!0,width:(s=l,a=u,`${Math.min((a.find(e=>{let[t]=e;return t===s})?.[1].length??0)*8.6+48,200)}px`),onChange:e=>{e&&n(e)},noRawSelectedValue:!0,children:[(0,t.jsx)(i.Combobox.Input,{}),(0,t.jsx)(i.Combobox.List,{maxWidth:300,children:u.map(e=>{let[r,s]=e;return(0,t.jsx)(i.Combobox.Option,{value:r,children:s},r)})})]})}e.s(["EnvironmentSelector",()=>s])},2807115,e=>{"use strict";var t=e.i(1146226),i=e.i(8674454),r=e.i(6694387),s=e.i(4991687),a=e.i(8459493),l=e.i(5468328),n=e.i(8876434),o=e.i(6143247),c=e.i(5169864),u=e.i(854682),d=e.i(5610834);e.i(6728635);var m=e.i(2630141);e.i(3182268);var b=e.i(7849855),v=e.i(7114658),p=e.i(1717203),x=e.i(7557283),h=e.i(6891161),f=e.i(8522580);let g=e=>{let{active:i,projectName:r,onClose:s,onConfirm:a}=e,[l,n]=(0,c.useState)(!1),o=async()=>{n(!0);try{await a(),s()}finally{n(!1)}};return(0,t.jsxs)(h.Modal.Modal,{active:i,onClickOutside:s,width:"500px",children:[(0,t.jsx)(h.Modal.Body,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)(h.Modal.Title,{children:"Exclude Project from Observability Plus?"}),(0,t.jsxs)("p",{children:["Excluding ",(0,t.jsx)("strong",{children:r})," from Observability Plus will disable the following features for this project:"]}),(0,t.jsxs)(f.Note,{type:"warning",children:[(0,t.jsx)("strong",{children:"Anomaly Alerts"})," will stop being sent"]}),(0,t.jsx)(f.Note,{type:"warning",children:"Logs retention will decrease from 14 days to 3 days"}),(0,t.jsx)(f.Note,{type:"warning",children:"Data will no longer appear in the Query Builder"}),(0,t.jsx)("p",{children:"You can re-enable Observability Plus for this project at any time."})]})}),(0,t.jsxs)(h.Modal.Actions,{children:[(0,t.jsx)(h.Modal.Action,{disabled:l,onClick:s,type:"secondary",children:"Cancel"}),(0,t.jsx)(h.Modal.Action,{disabled:l,loading:l,onClick:o,type:"error",children:"Exclude Project"})]})]})};var y=e.i(60582);function j(e){let{children:l,className:b}=e,v=(0,d.useParams)(),{hasObservabilityPlusAccess:p,impersonating:x,hasObservabilityPlusSubscribed:h}=(0,u.useHasObservabilityPlus)(),f=(0,m.useOpenEnableModal)(),[g,j]=(0,c.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.MenuContainer,{position:"bottom-end",children:[(0,t.jsx)(r.MenuButton,{"aria-label":"More Actions",className:(0,o.cn)("shrink-0",b),shape:"square",svgOnly:!0,type:y.IS_DASH?"tertiary":"secondary",children:(0,t.jsx)(n.MoreHorizontal,{})}),(0,t.jsxs)(i.Menu,{width:230,children:[l,p?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.MenuItem,{isLink:!0,href:`/${v?.teamSlug}/~/settings/billing#observability`,children:"Configure Observability Plus"}),(0,t.jsx)(S,{onOpenExcludeModal:()=>j(!0)})]}):null,p&&(!x||h)?null:(0,t.jsx)(a.MenuItem,{onClick:()=>f({via:"header-menu"}),children:"Upgrade to Observability Plus"})]})]}),(0,t.jsx)(w,{active:g,onClose:()=>j(!1)})]})}function S(e){let{onOpenExcludeModal:i}=e,{can:r,isLoading:s}=(0,p.default)(),{isObservabilityPlusForProjectsFlagEnabled:l,toggleObservabilityPlusForProject:n,isCurrentProjectExcluded:o,isValidating:c}=(0,v.useObservabilityPlusForProjects)(),{projectSlug:u}=(0,b.useProjectSlug)();if(!l||!u)return null;let d=!s&&r(x.Action.Update,x.Resource.ObservabilityConfiguration);return o?(0,t.jsx)(a.MenuItem,{disabled:!d||c||s,onClick:()=>{u&&n({projectName:u,disabled:!1})},children:(0,t.jsx)(P,{text:d?void 0:"Please ask your team owners",children:"Include Project in Plus"})}):(0,t.jsx)(a.MenuItem,{disabled:!d||c||s,onClick:i,type:"error",children:(0,t.jsx)(P,{text:d?void 0:"Please ask your team owners",children:"Exclude Project from Plus"})})}function w(e){let{active:i,onClose:r}=e,{toggleObservabilityPlusForProject:s}=(0,v.useObservabilityPlusForProjects)(),{projectSlug:a}=(0,b.useProjectSlug)();return a?(0,t.jsx)(g,{active:i,projectName:a,onClose:r,onConfirm:async()=>{a&&await s({projectName:a,disabled:!0})}}):null}function P(e){let{text:i,children:r}=e;return i?(0,t.jsx)(l.Tooltip,{text:i,children:r}):r}e.s(["OptionsMenu",()=>j],2807115)},7622186,e=>{"use strict";var t=e.i(7432042),i=e.i(1509029);function r(e){let r,s,{team:a,hasObservabilityPlusAccess:l,observabilityMaximumLookbackFlag:n}=e;if(r=l?i.PlusRetention:a.billing?.plan==="pro"?i.FreeProRetention:a.billing?.plan==="enterprise"?i.FreeEntRetention:i.FreeHobbyRetention,"inherit"===n)return r;try{s=(0,t.default)(n)}catch(e){console.error("Failed to parse observability-maximum-lookback flag. Defaulting to plan settings"),s=r}return s>(0,t.default)("90d")&&(s=(0,t.default)("90d")),s}e.s(["getMaximumLookback",()=>r])},1397323,e=>{"use strict";var t=e.i(1146226),i=e.i(5169864),r=e.i(57106),s=e.i(9722978),a=e.i(6159310);function l(e){let{routes:r,excludeParams:s}=e,l=(0,a.useNavLinks)(r,{preserveSearchParams:!0,excludeParams:s});return(0,i.useMemo)(()=>{let e={heading:"",tabs:[]},t=[e];for(let i of l.links){if(i.isHeading){e={heading:i.label,tabs:[]},t.push(e);continue}e.tabs.push(i)}return t},[l.links]).map(e=>(0,t.jsx)(n,{group:e},e.heading))}function n(e){let{group:i}=e;return(0,t.jsxs)(t.Fragment,{children:[i.heading?(0,t.jsx)("div",{className:"mt-4 ml-3 text-xs font-medium uppercase text-gray-800",children:i.heading}):null,(0,t.jsx)("div",{className:"flex flex-col divide-x",children:i.tabs.map(e=>{let{icon:i,label:a,href:l,isActive:n,meta:o}=e;return(0,t.jsxs)(r.Link,{className:(0,s.clsx)("flex flex-row items-center gap-2 rounded border-none px-3 py-2 text-sm font-medium no-underline focus:relative",n?"text-primary  bg-gray-200":"text-gray-900"),href:l,children:[i?(0,t.jsx)(i,{}):null,a,o?.suffix||null]},a)})})]})}e.s(["TabList",()=>l])},3298321,e=>{"use strict";var t=e.i(1146226),i=e.i(3306538),r=e.i(5468328),s=e.i(1542949),a=e.i(854682),l=e.i(3470411),n=e.i(57106),o=e.i(60582),c=e.i(6143247);function u(e){let{title:i,isSubPage:r}=e,a=(0,s.useO11yNavigation)();return(0,t.jsx)("div",{className:(0,c.cn)("w-full border-b md:py-8",o.IS_DASH&&"md:py-0 border-none mt-2"),children:(0,t.jsxs)("div",{className:"container flex flex-col justify-between gap-2 py-6 md:flex-row md:items-center md:py-0",children:[o.IS_DASH?null:r?(0,t.jsxs)("div",{className:"flex flex-col -mb-2",children:[(0,t.jsx)(n.Link,{href:a("/"),className:"text-sm text-gray-900 inline-block -mt-2 h-4 hover:underline",children:"Observability"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1.5",children:[(0,t.jsx)("h1",{className:"font-medium text-heading-32 text-3xl",children:i}),(0,t.jsx)(d,{})]})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h1",{className:"font-medium text-heading-32",children:i}),(0,t.jsx)(d,{})]}),(0,t.jsx)("div",{className:(0,c.cn)(o.IS_DASH?"w-full":"md:ml-auto"),children:(0,t.jsx)(l.HeaderControls,{children:o.IS_DASH?(0,t.jsx)(d,{}):null})})]})})}function d(){let{hasObservabilityPlusSubscribed:e,hasObservabilityPlusAccess:s,impersonating:l}=(0,a.useHasObservabilityPlus)();return s&&!e&&l&&(0,t.jsx)(r.Tooltip,{maxWidth:260,text:(0,t.jsxs)("span",{children:["As you're impersonating, you have a temporary access to Observability Plus.",(0,t.jsx)("br",{}),"Customers do not."]}),children:(0,t.jsx)(i.Badge,{variant:"trial",children:"Temporary access"})})}e.s(["PageHeader",()=>u])},8890553,e=>{"use strict";var t=e.i(1146226),i=e.i(2504781),r=e.i(8522580),s=e.i(2712781),a=e.i(9096446);e.i(6728635);var l=e.i(2630141),n=e.i(5169864),o=e.i(2020034),c=e.i(6143247),u=e.i(60582);function d(e){let{hasObservabilityPlusAccess:d,teamPlan:m,showInfoBanner:b,applyPromotion:v}=e,p=(0,l.useOpenEnableModal)(),[x,h]=(0,n.useState)(!1);return d||!b||x?null:(0,t.jsx)("div",{className:(0,c.cn)("container",u.IS_DASH?"mt-0 mb-2":"mt-6 -mb-2"),children:(0,t.jsx)("div",{className:(0,c.cn)("md:mr-[-2px] md:ml-[-10px] relative group",u.IS_DASH&&"md:mr-0 md:ml-0"),children:(0,t.jsx)(r.Note,{fill:!0,icon:(0,t.jsx)(s.Sparkles,{}),action:(0,t.jsxs)("div",{className:"flex items-center gap-2 p-0.5 relative",children:[(0,t.jsx)(i.Button,{onClick:()=>{p({from:"observability",via:"layout-banner"})},size:"small",children:"hobby"===m?"Upgrade to Pro":v?"Get 30 days for free":"Get Observability Plus"}),(0,t.jsx)(i.Button,{onClick:()=>{(0,o.setCookie)("observability-plus-banner-hidden","true","14d","/"),h(!0)},size:"tiny",shape:"circle",svgOnly:!0,type:"secondary","aria-label":"Dismiss banner",className:"absolute -top-5 -right-5 !transition-opacity !duration-250 opacity-0 group-hover:opacity-100",children:(0,t.jsx)(a.CrossSmall,{})})]}),children:(0,t.jsxs)("span",{className:"text-gray-1000 opacity-80",children:[(0,t.jsx)("span",{className:"font-medium",children:"Unlock anomaly alerts, custom queries, 30-day retention, and more"})," ","with"," ","hobby"===m?"Pro and Observability Plus":"Observability Plus","."]})})})})}e.s(["ObservabilityPlusInfoBanner",()=>d])},2206042,e=>{"use strict";var t=e.i(1146226),i=e.i(3306538),r=e.i(2504781),s=e.i(8522580),a=e.i(5169864),l=e.i(5467025),n=e.i(1397323),o=e.i(3298321),c=e.i(5348482),u=e.i(409142),d=e.i(6728635),m=e.i(2630141),b=e.i(5610834),v=e.i(5338940),p=e.i(5140444),x=e.i(15236),h=e.i(8631221),f=e.i(3196486),g=e.i(6060673),y=e.i(854682);function j(){let e=(0,b.usePathname)(),t=(0,b.useParams)(),i=(0,y.useHasObservabilityPlus)(),{team:r}=(0,v.useTeam)(),{user:s}=(0,p.useUser)(),{data:l}=(0,g.useProject)(t?.project),n=(0,x.computeRoute)(e,t);return(0,a.useEffect)(()=>{s?.uid&&r?.id&&i.ready&&(0,f.sendToSnowflake)(h.Topic.VercelObservabilityV0Activity,{user_id:s.uid,team_id:r.id,project_id:l?.id??null,route:n,path:e,access:i.hasObservabilityPlusAccess?"plus":"free",action:"pageview",plan:r.billing?.plan},"vercel-app")},[r?.id,s?.uid,l?.id,i.ready,i.hasObservabilityPlusAccess,n,e,r?.billing?.plan]),null}var S=e.i(7429602),w=e.i(4660689),P=e.i(60582),E=e.i(6190050),N=e.i(7420728),k=e.i(7114658);e.i(3182268);var O=e.i(7849855),C=e.i(6143247);function A(e){let{customMenuItem:b,children:v,banner:p}=e,{state:x}=(0,u.useSearchParamsState)({enableModal:{defaultValue:"none"}}),h=(0,m.useOpenEnableModal)();(0,a.useEffect)(()=>{"show"===x.enableModal&&h({via:"deep-link"})},[x.enableModal,h]);let{isCurrentProjectExcluded:f,hasObservabilityPlus:g,toggleObservabilityPlusForProject:y,isLoading:A}=(0,k.useObservabilityPlusForProjects)(),{projectSlug:_}=(0,O.useProjectSlug)(),[M,D]=(0,a.useState)(!1),T=(0,a.useCallback)(async()=>{if(_){D(!0);try{await y({projectName:_,disabled:!1})}finally{D(!1)}}},[_,y]),I=(0,E.useRoute)(),{title:H,isSubPage:L}=(0,a.useMemo)(()=>{if(!I)return{title:"Observability",isSubPage:!1};let e=N.Routes[I];return e&&"/[teamSlug]/[project]/observability"!==I&&("Observability"===e.group||I.includes("/observability/"))?{title:e.label,isSubPage:!0}:{title:"Observability",isSubPage:!1}},[I]),R=(0,c.useComputeQueryBuilderParams)();return(0,t.jsxs)(l.ObservabilityChartContextProvider,{children:[(0,t.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,t.jsx)(o.PageHeader,{title:H,isSubPage:L}),p,g&&f&&!A?(0,t.jsx)("div",{className:"container mt-6",children:(0,t.jsx)("div",{className:"md:mr-[-2px] md:ml-[-10px] relative",children:(0,t.jsx)(s.Note,{type:"warning",fill:!0,action:(0,t.jsx)(r.Button,{loading:M,onClick:T,size:"small",type:"secondary",children:"Enable for this project"}),children:"This project is excluded from Observability Plus. Anomaly alerts and other advanced features are not available for this project."})})}):null,(0,t.jsx)("div",{className:(0,C.cn)("relative mt-8 flex-1",P.IS_DASH&&"mt-1"),children:(0,t.jsxs)("div",{className:"container flex flex-col gap-6 pb-10 md:flex-row",children:[P.IS_DASH?null:(0,t.jsxs)("div",{className:"flex min-w-[209px] flex-col gap-2 -mx-2.5 md:mr-0",children:[(0,t.jsx)(n.TabList,{excludeParams:w.EXCLUDED_NAVIGATION_PARAMS,routes:[{label:"Overview",route:"/[teamSlug]/[project]/observability"},{route:"/[teamSlug]/[project]/observability/query",computeSearch:R},"/[teamSlug]/~/observability/notebooks",{route:"/[teamSlug]/[project]/observability/alerts",meta:{suffix:(0,t.jsx)(S.default,{size:"sm"})}},{heading:"Compute"},"/[teamSlug]/[project]/observability/vercel-functions","/[teamSlug]/[project]/observability/external-apis","/[teamSlug]/[project]/observability/middleware",{route:"/[teamSlug]/[project]/observability/workflows",meta:{suffix:(0,t.jsx)(S.default,{size:"sm"})}},{route:"/[teamSlug]/[project]/observability/sandboxes",meta:{suffix:(0,t.jsx)(S.default,{size:"sm"})}},"/[teamSlug]/[project]/observability/runtime-cache",{heading:"CDN"},"/[teamSlug]/[project]/observability/edge-requests","/[teamSlug]/[project]/observability/fast-data-transfer","/[teamSlug]/[project]/observability/image-optimization","/[teamSlug]/[project]/observability/isr","/[teamSlug]/[project]/observability/rewrites","/[teamSlug]/[project]/observability/microfrontends",{heading:"Deployments"},"/[teamSlug]/[project]/observability/build-diagnostics",{heading:"Services"},"/[teamSlug]/[project]/observability/ai","/[teamSlug]/[project]/observability/blob",{route:"/[teamSlug]/[project]/observability/queues",meta:{suffix:(0,t.jsx)(S.default,{size:"sm"})}},{heading:"Early Access"},"/[teamSlug]/[project]/observability/tracing",{route:"/[teamSlug]/[project]/observability/errors",meta:{suffix:(0,t.jsx)(S.default,{size:"sm"})}},{route:"/[teamSlug]/[project]/observability/metrics",meta:{suffix:(0,t.jsx)(i.Badge,{size:"sm",children:"Internal"})}}]}),b||null]}),(0,t.jsx)("div",{className:"flex-1",children:v})]})})]}),(0,t.jsx)(d.EnableModal,{}),(0,t.jsx)(j,{})]})}e.s(["ObservabilityProjectLayout",()=>A],2206042)}]);

//# debugId=34764290-fc69-6ad3-dd91-3a9675d3d969
//# sourceMappingURL=337dcbc933474161.js.map
;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="a4f4ff3f-52fc-4a16-6a11-45f9ea34c204")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,6198010,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M 8.75,1 H7.25 V7.25 H1.5 V8.75 H7.25 V15 H8.75 V8.75 H14.5 V7.25 H8.75 V1.75 Z" fill="currentColor"/>');e.s(["Plus",0,t])},2006677,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M8 14.5C11.5899 14.5 14.5 11.5899 14.5 8C14.5 4.41015 11.5899 1.5 8 1.5C4.41015 1.5 1.5 4.41015 1.5 8C1.5 11.5899 4.41015 14.5 8 14.5ZM8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM9 11C9 11.5523 8.55229 12 8 12C7.44772 12 7 11.5523 7 11C7 10.4477 7.44772 10 8 10C8.55229 10 9 10.4477 9 11ZM7.09584 5.82182C7.25716 5.48223 7.6022 5.25 7.99999 5.25C8.55227 5.25 8.99999 5.69772 8.99999 6.25C8.99999 6.75329 8.62748 7.17086 8.14337 7.23989C7.70367 7.3026 7.24999 7.67511 7.24999 8.25V8.5V9.25H8.74999V8.63535C9.76443 8.31661 10.5 7.36971 10.5 6.25C10.5 4.86929 9.3807 3.75 7.99999 3.75C7.00158 3.75 6.14136 4.3353 5.74095 5.17818L5.41913 5.85563L6.77402 6.49926L7.09584 5.82182Z" fill="currentColor"/>');e.s(["Question",0,t])},4047087,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M1 2H1.75H14.25H15V3.5H14.25H1.75H1V2ZM1 12.5H1.75H14.25H15V14H14.25H1.75H1V12.5ZM1.75 7.25H1V8.75H1.75H14.25H15V7.25H14.25H1.75Z" fill="currentColor"/>');e.s(["MenuAlt",0,t])},8250954,e=>{"use strict";var t=e.i(9487122);function r(e){return(0,t.constructFrom)(e,Date.now())}e.s(["constructNow",()=>r])},2812875,e=>{"use strict";var t=e.i(4495794);function r(e,r,n){return(0,t.addMonths)(e,-r,n)}e.s(["subMonths",()=>r])},8355955,e=>{e.v({previous:"Previous",next:"Next",selectedDateDescription:"Selected Date: {date, date, full}",selectedRangeDescription:"Selected Range: {start, date, long} to {end, date, long}",todayDate:"Today, {date, date, full}",todayDateSelected:"Today, {date, date, full} selected",dateSelected:"{date, date, full} selected",startRangeSelectionPrompt:"Click to start selecting date range",finishRangeSelectionPrompt:"Click to finish selecting date range"})},6995468,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M5.5 0.5V1.25V2H10.5V1.25V0.5H12V1.25V2H14H15.5V3.5V13.5C15.5 14.8807 14.3807 16 13 16H3C1.61929 16 0.5 14.8807 0.5 13.5V3.5V2H2H4V1.25V0.5H5.5ZM2 3.5H14V6H2V3.5ZM2 7.5V13.5C2 14.0523 2.44772 14.5 3 14.5H13C13.5523 14.5 14 14.0523 14 13.5V7.5H2Z" fill="currentColor"/>');e.s(["Calendar",0,t])},1019550,(e,t,r)=>{var n=e.r(9225935),a=e.r(1716110),i=e.r(5697125),l=Math.ceil,o=Math.max;t.exports=function(e,t,r){t=(r?a(e,t,r):void 0===t)?1:o(i(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var u=0,d=0,c=Array(l(s/t));u<s;)c[d++]=n(e,u,u+=t);return c}},6221821,e=>{"use strict";var t=e.i(4824627),r=e.i(5169864),n=e.i(7589795),a=e.i(1092505),i=(0,e.i(8545226).createSidecarMedium)(),l=function(){},o=r.forwardRef(function(e,n){var o=r.useRef(null),s=r.useState({onScrollCapture:l,onWheelCapture:l,onTouchMoveCapture:l}),u=s[0],d=s[1],c=e.forwardProps,f=e.children,p=e.className,m=e.removeScrollBar,v=e.enabled,g=e.shards,h=e.sideCar,y=e.noRelative,b=e.noIsolation,x=e.inert,C=e.allowPinchZoom,w=e.as,N=e.gapMode,E=(0,t.__rest)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=(0,a.useMergeRefs)([o,n]),j=(0,t.__assign)((0,t.__assign)({},E),u);return r.createElement(r.Fragment,null,v&&r.createElement(h,{sideCar:i,removeScrollBar:m,shards:g,noRelative:y,noIsolation:b,inert:x,setCallbacks:d,allowPinchZoom:!!C,lockRef:o,gapMode:N}),c?r.cloneElement(r.Children.only(f),(0,t.__assign)((0,t.__assign)({},j),{ref:S})):r.createElement(void 0===w?"div":w,(0,t.__assign)({},j,{className:p,ref:S}),f))});o.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},o.classNames={fullWidth:n.fullWidthClassName,zeroRight:n.zeroRightClassName};var s=e.i(9453149);e.i(1310638);var u=e.i(5931876);e.i(736947);var d=e.i(1069595),c=!1;if("undefined"!=typeof window)try{var f=Object.defineProperty({},"passive",{get:function(){return c=!0,!0}});window.addEventListener("test",f,f),window.removeEventListener("test",f,f)}catch(e){c=!1}var p=!!c&&{passive:!1},m=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},v=function(e,t){var r=t.ownerDocument,n=t;do{if("undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),g(e,n)){var a=h(e,n);if(a[1]>a[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},g=function(e,t){return"v"===e?m(t,"overflowY"):m(t,"overflowX")},h=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},y=function(e,t,r,n,a){var i,l=(i=window.getComputedStyle(t).direction,"h"===e&&"rtl"===i?-1:1),o=l*n,s=r.target,u=t.contains(s),d=!1,c=o>0,f=0,p=0;do{if(!s)break;var m=h(e,s),v=m[0],y=m[1]-m[2]-l*v;(v||y)&&g(e,s)&&(f+=y,p+=v);var b=s.parentNode;s=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!u&&s!==document.body||u&&(t.contains(s)||t===s))return c&&(a&&1>Math.abs(f)||!a&&o>f)?d=!0:!c&&(a&&1>Math.abs(p)||!a&&-o>p)&&(d=!0),d},b=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},x=function(e){return[e.deltaX,e.deltaY]},C=function(e){return e&&"current"in e?e.current:e},w=0,N=[];let E=(0,s.exportSidecar)(i,function(e){var n=r.useRef([]),a=r.useRef([0,0]),i=r.useRef(),l=r.useState(w++)[0],o=r.useState(d.styleSingleton)[0],s=r.useRef(e);r.useEffect(function(){s.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(l));var r=(0,t.__spreadArray)([e.lockRef.current],(e.shards||[]).map(C),!0).filter(Boolean);return r.forEach(function(e){return e.classList.add("allow-interactivity-".concat(l))}),function(){document.body.classList.remove("block-interactivity-".concat(l)),r.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(l))})}}},[e.inert,e.lockRef.current,e.shards]);var c=r.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var r,n=b(e),l=a.current,o="deltaX"in e?e.deltaX:l[0]-n[0],u="deltaY"in e?e.deltaY:l[1]-n[1],d=e.target,c=Math.abs(o)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===c&&"range"===d.type)return!1;var f=v(c,d);if(!f)return!0;if(f?r=c:(r="v"===c?"h":"v",f=v(c,d)),!f)return!1;if(!i.current&&"changedTouches"in e&&(o||u)&&(i.current=r),!r)return!0;var p=i.current||r;return y(p,t,e,"h"===p?o:u,!0)},[]),f=r.useCallback(function(e){if(N.length&&N[N.length-1]===o){var t="deltaY"in e?x(e):b(e),r=n.current.filter(function(r){var n;return r.name===e.type&&(r.target===e.target||e.target===r.shadowParent)&&(n=r.delta,n[0]===t[0]&&n[1]===t[1])})[0];if(r&&r.should){e.cancelable&&e.preventDefault();return}if(!r){var a=(s.current.shards||[]).map(C).filter(Boolean).filter(function(t){return t.contains(e.target)});(a.length>0?c(e,a[0]):!s.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),m=r.useCallback(function(e,t,r,a){var i={name:e,delta:t,target:r,should:a,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(r)};n.current.push(i),setTimeout(function(){n.current=n.current.filter(function(e){return e!==i})},1)},[]),g=r.useCallback(function(e){a.current=b(e),i.current=void 0},[]),h=r.useCallback(function(t){m(t.type,x(t),t.target,c(t,e.lockRef.current))},[]),E=r.useCallback(function(t){m(t.type,b(t),t.target,c(t,e.lockRef.current))},[]);r.useEffect(function(){return N.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:E}),document.addEventListener("wheel",f,p),document.addEventListener("touchmove",f,p),document.addEventListener("touchstart",g,p),function(){N=N.filter(function(e){return e!==o}),document.removeEventListener("wheel",f,p),document.removeEventListener("touchmove",f,p),document.removeEventListener("touchstart",g,p)}},[]);var S=e.removeScrollBar,j=e.inert;return r.createElement(r.Fragment,null,j?r.createElement(o,{styles:"\n  .block-interactivity-".concat(l," {pointer-events: none;}\n  .allow-interactivity-").concat(l," {pointer-events: all;}\n")}):null,S?r.createElement(u.RemoveScrollBar,{noRelative:e.noRelative,gapMode:e.gapMode}):null)});var S=r.forwardRef(function(e,n){return r.createElement(o,(0,t.__assign)({},e,{ref:n,sideCar:E}))});S.classNames=o.classNames,e.s(["RemoveScroll",0,S],6221821)},73772,e=>{"use strict";var t=new WeakMap,r=new WeakMap,n={},a=0,i=function(e){return e&&(e.host||i(e.parentNode))},l=function(e,l,o,s){var u=(Array.isArray(e)?e:[e]).map(function(e){if(l.contains(e))return e;var t=i(e);return t&&l.contains(t)?t:(console.error("aria-hidden",e,"in not contained inside",l,". Doing nothing"),null)}).filter(function(e){return!!e});n[o]||(n[o]=new WeakMap);var d=n[o],c=[],f=new Set,p=new Set(u),m=function(e){!e||f.has(e)||(f.add(e),m(e.parentNode))};u.forEach(m);var v=function(e){!e||p.has(e)||Array.prototype.forEach.call(e.children,function(e){if(f.has(e))v(e);else try{var n=e.getAttribute(s),a=null!==n&&"false"!==n,i=(t.get(e)||0)+1,l=(d.get(e)||0)+1;t.set(e,i),d.set(e,l),c.push(e),1===i&&a&&r.set(e,!0),1===l&&e.setAttribute(o,"true"),a||e.setAttribute(s,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return v(l),f.clear(),a++,function(){c.forEach(function(e){var n=t.get(e)-1,a=d.get(e)-1;t.set(e,n),d.set(e,a),n||(r.has(e)||e.removeAttribute(s),r.delete(e)),a||e.removeAttribute(o)}),--a||(t=new WeakMap,t=new WeakMap,r=new WeakMap,n={})}},o=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),a=t||("undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),l(n,a,r,"aria-hidden")):function(){return null}};e.s(["hideOthers",()=>o])},6088229,e=>{"use strict";var t,r=e.i(5169864);function n(e,t){let{checkForDefaultPrevented:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var a=e.i(8188625),i=e.i(5352162),l=e.i(8987438),o=e.i(3575301),s=e.i(8712279),u=e.i(3935125),d=e.i(6952338),c=e.i(1146226),f="dismissableLayer.update",p=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),m=r.forwardRef((e,i)=>{let{disableOutsidePointerEvents:l=!1,onEscapeKeyDown:o,onPointerDownOutside:m,onFocusOutside:h,onInteractOutside:y,onDismiss:b,...x}=e,C=r.useContext(p),[w,N]=r.useState(null),E=w?.ownerDocument??globalThis?.document,[,S]=r.useState({}),j=(0,a.useComposedRefs)(i,e=>N(e)),O=Array.from(C.layers),[R]=[...C.layersWithOutsidePointerEventsDisabled].slice(-1),D=O.indexOf(R),k=w?O.indexOf(w):-1,P=C.layersWithOutsidePointerEventsDisabled.size>0,M=k>=D,V=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,n=(0,u.useCallbackRef)(e),a=r.useRef(!1),i=r.useRef(()=>{});return r.useEffect(()=>{let e=e=>{if(e.target&&!a.current){let r=function(){g("dismissableLayer.pointerDownOutside",n,a,{discrete:!0})},a={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);a.current=!1},r=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(r),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>a.current=!0}}(e=>{let t=e.target,r=[...C.branches].some(e=>e.contains(t));M&&!r&&(m?.(e),y?.(e),e.defaultPrevented||b?.())},E),A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document,n=(0,u.useCallbackRef)(e),a=r.useRef(!1);return r.useEffect(()=>{let e=e=>{e.target&&!a.current&&g("dismissableLayer.focusOutside",n,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,n]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{let t=e.target;![...C.branches].some(e=>e.contains(t))&&(h?.(e),y?.(e),e.defaultPrevented||b?.())},E);return(0,d.useEscapeKeydown)(e=>{k===C.layers.size-1&&(o?.(e),!e.defaultPrevented&&b&&(e.preventDefault(),b()))},E),r.useEffect(()=>{if(w)return l&&(0===C.layersWithOutsidePointerEventsDisabled.size&&(t=E.body.style.pointerEvents,E.body.style.pointerEvents="none"),C.layersWithOutsidePointerEventsDisabled.add(w)),C.layers.add(w),v(),()=>{l&&1===C.layersWithOutsidePointerEventsDisabled.size&&(E.body.style.pointerEvents=t)}},[w,E,l,C]),r.useEffect(()=>()=>{w&&(C.layers.delete(w),C.layersWithOutsidePointerEventsDisabled.delete(w),v())},[w,C]),r.useEffect(()=>{let e=()=>S({});return document.addEventListener(f,e),()=>document.removeEventListener(f,e)},[]),(0,c.jsx)(s.Primitive.div,{...x,ref:j,style:{pointerEvents:P?M?"auto":"none":void 0,...e.style},onFocusCapture:n(e.onFocusCapture,A.onFocusCapture),onBlurCapture:n(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:n(e.onPointerDownCapture,V.onPointerDownCapture)})});function v(){let e=new CustomEvent(f);document.dispatchEvent(e)}function g(e,t,r,n){let{discrete:a}=n,i=r.originalEvent.target,l=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),a?(0,s.dispatchDiscreteCustomEvent)(i,l):i.dispatchEvent(l)}m.displayName="DismissableLayer",r.forwardRef((e,t)=>{let n=r.useContext(p),i=r.useRef(null),l=(0,a.useComposedRefs)(t,i);return r.useEffect(()=>{let e=i.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}},[n.branches]),(0,c.jsx)(s.Primitive.div,{...e,ref:l})}).displayName="DismissableLayerBranch";var h=e.i(1139806),y=e.i(6391507),b=e.i(3385064),x=e=>{var t;let n,i,{present:l,children:o}=e,s=function(e){var t,n;let[a,i]=r.useState(),l=r.useRef(null),o=r.useRef(e),s=r.useRef("none"),[u,d]=(t=e?"mounted":"unmounted",n={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},r.useReducer((e,t)=>n[e][t]??e,t));return r.useEffect(()=>{let e=C(l.current);s.current="mounted"===u?e:"none"},[u]),(0,b.useLayoutEffect)(()=>{let t=l.current,r=o.current;if(r!==e){let n=s.current,a=C(t);e?d("MOUNT"):"none"===a||t?.display==="none"?d("UNMOUNT"):r&&n!==a?d("ANIMATION_OUT"):d("UNMOUNT"),o.current=e}},[e,d]),(0,b.useLayoutEffect)(()=>{if(a){let e,t=a.ownerDocument.defaultView??window,r=r=>{let n=C(l.current).includes(CSS.escape(r.animationName));if(r.target===a&&n&&(d("ANIMATION_END"),!o.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},n=e=>{e.target===a&&(s.current=C(l.current))};return a.addEventListener("animationstart",n),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",n),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}d("ANIMATION_END")},[a,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:r.useCallback(e=>{l.current=e?getComputedStyle(e):null,i(e)},[])}}(l),u="function"==typeof o?o({present:s.isPresent}):r.Children.only(o),d=(0,a.useComposedRefs)(s.ref,(t=u,(i=(n=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.ref:(i=(n=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in n&&n.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof o||s.isPresent?r.cloneElement(u,{ref:d}):null};function C(e){return e?.animationName||"none"}x.displayName="Presence";var w=0;function N(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var E=e.i(6221821),S=e.i(73772),j=e.i(1819232),O="Dialog",[R,D]=(0,i.createContextScope)(O),[k,P]=R(O),M=e=>{let{__scopeDialog:t,children:n,open:a,defaultOpen:i,onOpenChange:s,modal:u=!0}=e,d=r.useRef(null),f=r.useRef(null),[p,m]=(0,o.useControllableState)({prop:a,defaultProp:i??!1,onChange:s,caller:O});return(0,c.jsx)(k,{scope:t,triggerRef:d,contentRef:f,contentId:(0,l.useId)(),titleId:(0,l.useId)(),descriptionId:(0,l.useId)(),open:p,onOpenChange:m,onOpenToggle:r.useCallback(()=>m(e=>!e),[m]),modal:u,children:n})};M.displayName=O;var V="DialogTrigger",A=r.forwardRef((e,t)=>{let{__scopeDialog:r,...i}=e,l=P(V,r),o=(0,a.useComposedRefs)(t,l.triggerRef);return(0,c.jsx)(s.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":ee(l.open),...i,ref:o,onClick:n(e.onClick,l.onOpenToggle)})});A.displayName=V;var T="DialogPortal",[I,L]=R(T,{forceMount:void 0}),F=e=>{let{__scopeDialog:t,forceMount:n,children:a,container:i}=e,l=P(T,t);return(0,c.jsx)(I,{scope:t,forceMount:n,children:r.Children.map(a,e=>(0,c.jsx)(x,{present:n||l.open,children:(0,c.jsx)(y.Portal,{asChild:!0,container:i,children:e})}))})};F.displayName=T;var _="DialogOverlay",B=r.forwardRef((e,t)=>{let r=L(_,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=P(_,e.__scopeDialog);return i.modal?(0,c.jsx)(x,{present:n||i.open,children:(0,c.jsx)(W,{...a,ref:t})}):null});B.displayName=_;var H=(0,j.createSlot)("DialogOverlay.RemoveScroll"),W=r.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=P(_,r);return(0,c.jsx)(E.RemoveScroll,{as:H,allowPinchZoom:!0,shards:[a.contentRef],children:(0,c.jsx)(s.Primitive.div,{"data-state":ee(a.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),$="DialogContent",U=r.forwardRef((e,t)=>{let r=L($,e.__scopeDialog),{forceMount:n=r.forceMount,...a}=e,i=P($,e.__scopeDialog);return(0,c.jsx)(x,{present:n||i.open,children:i.modal?(0,c.jsx)(z,{...a,ref:t}):(0,c.jsx)(Z,{...a,ref:t})})});U.displayName=$;var z=r.forwardRef((e,t)=>{let i=P($,e.__scopeDialog),l=r.useRef(null),o=(0,a.useComposedRefs)(t,i.contentRef,l);return r.useEffect(()=>{let e=l.current;if(e)return(0,S.hideOthers)(e)},[]),(0,c.jsx)(K,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:n(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:n(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:n(e.onFocusOutside,e=>e.preventDefault())})}),Z=r.forwardRef((e,t)=>{let n=P($,e.__scopeDialog),a=r.useRef(!1),i=r.useRef(!1);return(0,c.jsx)(K,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||n.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let r=t.target;n.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),K=r.forwardRef((e,t)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:l,onCloseAutoFocus:o,...s}=e,u=P($,n),d=r.useRef(null),f=(0,a.useComposedRefs)(t,d);return r.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??N()),document.body.insertAdjacentElement("beforeend",e[1]??N()),w++,()=>{1===w&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),w--}},[]),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(h.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:l,onUnmountAutoFocus:o,children:(0,c.jsx)(m,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":ee(u.open),...s,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(ea,{titleId:u.titleId}),(0,c.jsx)(ei,{contentRef:d,descriptionId:u.descriptionId})]})]})}),q="DialogTitle",Y=r.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=P(q,r);return(0,c.jsx)(s.Primitive.h2,{id:a.titleId,...n,ref:t})});Y.displayName=q;var X="DialogDescription",G=r.forwardRef((e,t)=>{let{__scopeDialog:r,...n}=e,a=P(X,r);return(0,c.jsx)(s.Primitive.p,{id:a.descriptionId,...n,ref:t})});G.displayName=X;var Q="DialogClose",J=r.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,i=P(Q,r);return(0,c.jsx)(s.Primitive.button,{type:"button",...a,ref:t,onClick:n(e.onClick,()=>i.onOpenChange(!1))})});function ee(e){return e?"open":"closed"}J.displayName=Q;var et="DialogTitleWarning",[er,en]=(0,i.createContext)(et,{contentName:$,titleName:q,docsSlug:"dialog"}),ea=e=>{let{titleId:t}=e,n=en(et),a=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return r.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},ei=e=>{let{contentRef:t,descriptionId:n}=e,a=en("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return r.useEffect(()=>{let e=t.current?.getAttribute("aria-describedby");n&&e&&(document.getElementById(n)||console.warn(i))},[i,t,n]),null};e.s(["Close",()=>J,"Content",()=>U,"Description",()=>G,"Overlay",()=>B,"Portal",()=>F,"Root",()=>M,"Title",()=>Y,"Trigger",()=>A],6088229)},3675495,e=>{"use strict";let t=(0,e.i(9334638).withNewIcon)('<path fill-rule="evenodd" clip-rule="evenodd" d="M11.4749 1.33217L11.1964 2.02853L6.19636 14.5285L5.91781 15.2249L4.5251 14.6678L4.80364 13.9714L9.80364 1.47144L10.0822 0.775085L11.4749 1.33217ZM4 5.49999C4.82843 5.49999 5.5 4.82841 5.5 3.99999C5.5 3.17156 4.82843 2.49999 4 2.49999C3.17157 2.49999 2.5 3.17156 2.5 3.99999C2.5 4.82841 3.17157 5.49999 4 5.49999ZM7 3.99999C7 5.65684 5.65685 6.99999 4 6.99999C2.34315 6.99999 1 5.65684 1 3.99999C1 2.34313 2.34315 0.999986 4 0.999986C5.65685 0.999986 7 2.34313 7 3.99999ZM13.5 12C13.5 12.8284 12.8284 13.5 12 13.5C11.1716 13.5 10.5 12.8284 10.5 12C10.5 11.1716 11.1716 10.5 12 10.5C12.8284 10.5 13.5 11.1716 13.5 12ZM12 15C13.6569 15 15 13.6568 15 12C15 10.3431 13.6569 8.99999 12 8.99999C10.3431 8.99999 9 10.3431 9 12C9 13.6568 10.3431 15 12 15Z" fill="currentColor"/>');e.s(["Percentage",0,t])},7867910,e=>{"use strict";var t=e.i(5169864);function r(e,r){(0,t.useEffect)(()=>{let t=t=>{let n=document.activeElement,a=n&&["input","select","textarea"].includes(n.tagName.toLowerCase());t.key.toLowerCase()!==r||a||t.ctrlKey||t.metaKey||(t.preventDefault(),e())};return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[e,r])}e.s(["useHotkey",()=>r])},5627633,e=>{"use strict";var t=e.i(8238153),r=e.i(8492421);let n=["years","months","weeks","days","hours","minutes","seconds"];function a(e,a){let i=(0,r.getDefaultOptions)(),l=a?.locale??i.locale??t.defaultLocale,o=a?.format??n,s=a?.zero??!1,u=a?.delimiter??" ";return l.formatDistance?o.reduce((t,r)=>{let n=`x${r.replace(/(^.)/,e=>e.toUpperCase())}`,a=e[r];return void 0!==a&&(s||e[r])?t.concat(l.formatDistance(n,a)):t},[]).join(u):""}e.s(["formatDuration",()=>a])},4998750,e=>{"use strict";var t=e.i(2749380);function r(e){return null==e?"Please retry later":`${e.message??e}`}let n="$time";function a(e){let{variables:r,widgets:n,...a}=e;return{...a,variables:function(e){if(e)return{...e,time:e.time?(0,t.parseTime)(e.time):void 0}}(r),widgets:n?.map(e=>{let{query:{time:r,...n},...a}=e;return{type:"query-visualization",...a,query:{...n,time:(0,t.parseTime)(r)}}})}}function i(e){if(!e)return;let{time:t,...r}=e;return{...r,time:t?"string"==typeof t?t:{from:t.from.toISOString(),to:t.to.toISOString()}:void 0}}function l(e,t){return t?{...e,time:e.time===n&&t.time?t.time:e.time}:e}e.s(["DEFAULT_TIME_VALUE",0,"12h","TIME_VARIABLE",0,n,"extractError",()=>r,"parseNotebook",()=>a,"replaceVariables",()=>l,"serializeVariables",()=>i])},8673480,e=>{"use strict";function t(e,t){let{id:r,teamSlug:n}=t;return`${e.replace("{id}",r??"")}?${new URLSearchParams({slug:n}).toString()}`}function r(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return r=>{let n=r??{hasAccess:!0,notebooks:[]},a=n.notebooks.findIndex(t=>{let{id:r}=t;return r===e.id});return -1!==a?t?n.notebooks[a]=e:n.notebooks.splice(a,1):t&&n.notebooks.push(e),n}}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return n=>{if(!n)return{...e,widgets:t?[t]:void 0};let a={...n,...e};if(r&&(a.widgets=a.widgets?.filter(e=>{let{id:t}=e;return t!==r})),t){a.widgets||(a.widgets=[]);let e=a.widgets.findIndex(e=>{let{id:r}=e;return r===t.id});a.widgets=[...a.widgets.slice(0,e),t,...a.widgets.slice(e+1)]}return a}}e.s(["buildSWRKey",()=>t,"updateCachedList",()=>r,"updateCachedNotebook",()=>n])},5086286,e=>{"use strict";var t=e.i(4998750),r=e.i(2749380),n=e.i(4244280),a=e.i(9668517),i=e.i(5338940),l=e.i(9979783),o=e.i(119294),s=e.i(6352514),u=e.i(5924191),d=e.i(4689995),c=e.i(8673480);function f(){let e=(0,a.useTeamSlug)()??"",{team:f}=(0,i.useTeam)(),{mutate:p}=(0,u.useSWRConfig)(),m=(0,c.buildSWRKey)(n.API_NOTEBOOKS,{teamSlug:e}),{trigger:v,isMutating:g}=(0,d.default)(m,async(a,i)=>{let{arg:{title:o,widget:s}}=i,u=(0,t.parseNotebook)(await (0,l.typedFetchData)(n.API_NOTEBOOKS,"post",{slug:e},{title:o,variables:{time:t.DEFAULT_TIME_VALUE},widgets:s?[{query:(0,r.serializeQuery)(s.query),title:s.title}]:void 0},{throwOnHTTPError:!0}));return p((0,c.buildSWRKey)(n.API_NOTEBOOK,{id:u.id,teamSlug:e}),(0,c.updateCachedNotebook)(u,u.widgets?.[0])),setTimeout(()=>void p(m,(0,c.updateCachedList)(u)),1e3),u},{revalidate:!1});return{createNotebook:async(e,t)=>{let r=await v(e);return o.analytics.track(s.AnalyticsEvent.OBSERVABILITY_NOTEBOOK_CREATED,{teamId:f?.id,plan:f?.billing?.plan??"hobby",hasInitialWidget:!!e.widget,source:t??"notebook-list-page"}),r},isSaving:g}}e.s(["useCreateNotebook",()=>f])},7371622,e=>{"use strict";var t=e.i(4244280),r=e.i(9668517),n=e.i(215852),a=e.i(8673480);function i(){let e=(0,r.useTeamSlug)()??"";return(0,n.useIsomorphicSuspenseSWR)((0,a.buildSWRKey)(t.API_NOTEBOOKS,{teamSlug:e})).data}e.s(["useNotebooks",()=>i])},9192216,e=>{"use strict";var t=e.i(1146226),r=e.i(4004502),n=e.i(8145419),a=e.i(9689002),i=e.i(5255926),l=e.i(8735244),o=e.i(5883567),s=e.i(6143247),u=e.i(5169864);function d(e){let{label:o,options:d,isLoading:p,isSelected:m,onChange:v,onSearch:g,parseNewValue:h,getId:y,getValue:b,value:x,open:C,reverse:w,allowEmptyAdd:N=!1,addLabel:E="Add",...S}=e,[j,O]=(0,u.useState)(""),[R,D]=(0,u.useState)(!1),[k,P]=(0,u.useState)(!1),M=(0,u.useRef)(null),V=(0,u.useRef)(null),A=(0,u.useRef)(0);(0,u.useEffect)(()=>{x&&C&&setTimeout(()=>{let e=V.current?.querySelector(`[data-value="${b(x)}"]`);e?.scrollIntoView({block:"start"})},50)},[C]);let T=(0,u.useMemo)(()=>d?.length?`Find ${o}...`:`Enter ${o}`,[d,o]),{selected:I,groups:L}=(0,u.useMemo)(()=>{let e={selected:[],groups:{}};for(let t of d??[])if(m?.(t))e.selected.push(t);else{let r=t.group??"";r in e.groups||(e.groups[r]=[]),e.groups[r].push(t)}return e},[d,m]),F=(0,u.useMemo)(()=>h&&(j.length>0?(d??[]).every(e=>y(e)!==j):N),[j,d,y,h,N]),_=(0,u.useCallback)(e=>{if(h){let t=h(e);null===t?D(!0):(v(t),O(""),M.current?.focus())}},[v,h]),B=(0,u.useCallback)(e=>{O(e),D(!1),clearTimeout(A.current),g&&(A.current=setTimeout(()=>{P(!0),g(e).finally(()=>P(!1))},250))},[g]),H=(0,u.useCallback)(e=>{if("Tab"===e.key)e.key=e.shiftKey?"ArrowUp":"ArrowDown";else if(" "===e.key&&0===j.trim().length){e.preventDefault();let t=V.current?.querySelector('[aria-selected="true"] input[type="checkbox"]');t?.click()}},[j]);return(0,t.jsxs)(n.Command,{className:(0,s.cn)("w-100 rounded-lg border-gray-alpha-400 bg-background-100 shadow-menu flex",w?"flex-col-reverse":"flex-col"),loop:!0,onKeyDown:H,children:[(0,t.jsxs)("div",{className:(0,s.cn)("flex w-full items-center justify-between px-4 py-3",d?.length!==0&&"border-b"),children:[(0,t.jsx)(n.Command.Input,{className:(0,s.cn)("w-full border-none bg-transparent text-sm outline-none",R&&"text-[--geist-error]"),onValueChange:B,placeholder:T,ref:M,value:j}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-[14px] flex justify-center",children:k&&(0,t.jsx)(l.Spinner,{size:14})}),(0,t.jsx)(a.Kbd,{small:!0,children:"Esc"})]})]}),(0,t.jsxs)(n.Command.List,{className:"flex max-h-[288px] w-full flex-col overflow-y-auto",ref:V,children:[d&&!p?(0,t.jsxs)(t.Fragment,{children:[I.length?(0,t.jsx)(c,{addBorder:!0,getId:y,getValue:b,items:I,onChange:v,setSearch:O,...S}):null,Object.entries(L).map(e=>{let[r,n]=e;return(0,t.jsx)(c,{getId:y,getValue:b,heading:r,items:n,onChange:v,setSearch:O,...S},r)})]}):(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2 p-2","data-testid":(0,r.tid)("command-menu","loading"),children:[(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"}),(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"}),(0,t.jsx)(i.Skeleton,{className:"h-4",width:"100%"})]}),!p&&!k&&d&&(0,t.jsxs)(n.Command.Empty,{className:"px-4 py-3 text-center text-sm text-gray-900",children:["No matching ",o.toLowerCase()]}),F?(0,t.jsx)(f,{onAddNew:_,search:j,addLabel:E,allowEmptyAdd:N,label:o}):null]})]})}function c(e){let{heading:r,items:a,setSearch:i,renderItem:l,getId:o,getValue:u,onChange:d,addBorder:c}=e;return a.length?(0,t.jsx)(n.Command.Group,{className:(0,s.cn)("h-full p-1.5  [&>[cmdk-group-heading]]:px-2 [&>[cmdk-group-heading]]:pb-1 [&>[cmdk-group-heading]]:pt-0.5 [&>[cmdk-group-heading]]:text-xs [&>[cmdk-group-heading]]:text-gray-800",c&&"border-b"),heading:r,children:a.map(e=>(0,t.jsx)(n.Command.Item,{className:"w-full cursor-pointer rounded-md text-sm *:aria-selected:rounded  *:aria-selected:bg-gray-100 focus-visible:bg-gray-100 active:bg-gray-100",onSelect:()=>{d(e),i("")},value:u(e),children:l(e)},o(e)))}):null}function f(e){let{search:r,onAddNew:a,addLabel:i,allowEmptyAdd:l,label:s}=e,u=r.length>0?`${i} "${r}"`:l?`${i} new ${s}`:"",d=r.length>0?r:"new-item";return(0,t.jsx)(n.Command.Group,{className:"sticky bottom-0 z-10 rounded-b-lg border-t outline-none -mt-px",children:(0,t.jsx)(n.Command.Item,{"aria-label":u,className:"flex w-full cursor-pointer bg-white items-center p-1 text-gray-900 *:aria-selected:rounded *:aria-selected:bg-gray-100 focus-visible:bg-gray-100 active:bg-gray-100",onSelect:()=>a(r||""),value:d,children:(0,t.jsxs)("div",{className:"flex w-full items-center gap-2 p-1.5",children:[(0,t.jsx)(o.PlusCircle,{size:14}),(0,t.jsx)("p",{className:"text-copy-14 text-gray-900",children:u})]})})})}e.s(["CommandMenu",()=>d])},5376857,8569407,e=>{"use strict";let t=(0,e.i(5169864).createContext)(null);t.displayName="FilterBarContext",e.s(["FilterBarContext",0,t],5376857);var r=e.i(1146226),n=e.i(2504781),a=e.i(1971436),i=e.i(6143247);function l(e){let{iconOnly:t,...l}=e;return(0,r.jsx)(n.Button,{"aria-label":"Add filter",prefix:t?void 0:(0,r.jsx)(a.FilterSmall,{}),shape:t?"square":void 0,size:"small",...l,className:(0,i.cn)("!text-gray-900 hover:!text-gray-1000 data-[state='open']:!bg-gray-100",!t&&"!pl-2",l.className),type:"tertiary",typeName:"button",children:t?(0,r.jsx)(a.FilterSmall,{}):"Add filter"})}e.s(["AddFilter",()=>l],8569407)},1482596,8815885,2789287,e=>{"use strict";var t=e.i(1146226),r=e.i(5169864),n=e.i(5376857),a=e.i(8569407),i=e.i(2504781),l=e.i(9096446),o=e.i(6143247),s=e.i(4004502),u=e.i(9220646),d=e.i(9722978),c=e.i(3869281),f=e.i(5468328),p=e.i(3306538),m=e.i(9192216),v=e.i(5778089);let g=e=>{let{label:t,id:r}=e;return`${r}${t?`
${t}`:""}`};function h(e){let{values:n,options:a,label:l,rounded:o=!1,size:s="small",onOpenChange:f,onChange:h,onSearch:b,open:x,className:C,parseNewValue:w,children:N,disabled:E,availableOperators:S}=e,j=(0,r.useCallback)(e=>n.some(t=>{let{id:r}=t;return r===e.id}),[n]),O=(0,r.useCallback)(e=>{let r="string"==typeof e.label&&e.label.length>0,n=r?e.label:e.id;return(0,t.jsx)(y,{text:e.tooltip,children:(0,t.jsxs)("div",{className:(0,d.clsx)("flex w-full items-center gap-2 px-2 py-1.5",e.disabled&&"cursor-not-allowed opacity-75"),onClick:t=>{let r=document.getSelection();if(r?.isCollapsed===!1){t.preventDefault(),t.stopPropagation();return}t.target.closest("label")&&(t.preventDefault(),t.stopPropagation(),h(e,!0))},children:[!S||S.some(e=>"multiple"===e.type||"array"===e.type)?(0,t.jsx)(c.Checkbox,{checked:j(e),disabled:e.disabled,onChange:()=>void 0,tabIndex:-1}):null,(0,t.jsx)("div",{className:"flex min-w-0 flex-1 max-w-[min(32rem,75vw)] flex-col items-start",children:r&&e.label!==e.id?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-full truncate font-medium leading-tight",title:e.label,children:e.label}),(0,t.jsx)("span",{className:"w-full truncate text-sm text-gray-800 leading-tight",title:e.id,children:e.id})]}):""===n?(0,t.jsx)("span",{className:"text-sm text-gray-800",children:v.emptyStringReplacement}):(0,t.jsx)("span",{className:"w-full truncate",title:n,children:n})}),e.badge?(0,t.jsx)("div",{className:"ml-2 shrink-0",children:(0,t.jsx)(y,{text:e.badge.tooltip,children:(0,t.jsx)(p.Badge,{size:"sm",...e.badge})})}):null]})})},[h,j,S]);return(0,t.jsxs)(u.Root,{modal:!0,onOpenChange:f,open:x,children:[(0,t.jsx)(u.Anchor,{className:"flex",children:(0,t.jsx)(u.Trigger,{asChild:!0,children:N||(0,t.jsx)(i.Button,{className:(0,d.clsx)("!ring-1 ring-gray-400 focus:z-10 focus:ring-gray-500",!o&&"rounded-[0!important]","left"===o&&"rounded-r-[0!important]","right"===o&&"rounded-l-[0!important]",E&&"bg-[var(--themed-bg)!important]",C),disabled:E,size:s,type:"secondary",typeName:"button",children:(0,v.getValueLabel)(n,l)})})}),(0,t.jsx)(u.Portal,{children:(0,t.jsx)(u.Content,{align:"start",className:"tailwind-preflight",onCloseAutoFocus:()=>f(!1),sideOffset:8,children:(0,t.jsx)(m.CommandMenu,{getId:v.getValueId,getValue:g,isSelected:j,label:l,onChange:h,onSearch:b,options:a,parseNewValue:w,renderItem:O})})})]})}function y(e){let{text:r,children:n}=e;return r?(0,t.jsx)(f.Tooltip,{className:"w-full",text:r,children:n}):n}var b=e.i(6198010);let x=e=>{let{id:t}=e;return t},C=e=>{let{label:t,group:r}=e;return`${t}${r?` ${r}`:""}`},w=e=>(0,t.jsxs)("div",{className:"flex w-full items-center gap-2 rounded px-2 py-1.5",children:["icon"in e&&e.icon?(0,t.jsx)(e.icon,{className:"size-4"}):null,e.label]});function N(e){let{label:r,value:n,options:a,onOpenChange:l,open:o,onChange:s,isLoading:c,rounded:f=!1,size:p="small",className:v,children:g,disabled:h,prefix:y,suffix:N,id:E}=e;return(0,t.jsxs)(u.Root,{modal:!0,onOpenChange:l,open:o,children:[(0,t.jsx)(u.Anchor,{className:"flex",children:(0,t.jsx)(u.Trigger,{asChild:!0,children:g||(0,t.jsx)(i.Button,{id:E,"aria-label":`Select ${r}`,className:(0,d.clsx)("!px-1",!f&&"rounded-[0!important]","left"===f&&"rounded-r-[0!important]","right"===f&&"rounded-l-[0!important]",h&&"bg-[var(--themed-bg)!important]",v),disabled:h,prefix:n&&"icon"in n&&n.icon?(0,t.jsx)(n.icon,{className:"size-4"}):y,size:p,suffix:N,type:"secondary",typeName:"button",children:n?n.label:(0,t.jsx)(b.Plus,{"aria-label":`Select ${r}`})})})}),(0,t.jsx)(u.Portal,{children:(0,t.jsx)(u.Content,{align:"start",className:"tailwind-preflight",sideOffset:8,children:(0,t.jsx)(m.CommandMenu,{getId:x,getValue:C,isLoading:c,label:r,onChange:s,open:o,options:a,renderItem:w,value:n})})})]})}e.s(["SingleFilterPopoverBox",()=>N],8815885);var E=e.i(4055164);function S(e){let t=(0,r.useContext)(n.FilterBarContext);if(!t)throw Error("Missing FilterBarContext.Provider in the React tree");return(0,E.useStore)(t,e)}function j(e){let{value:{value:n}={id:"",value:""},onChange:a,onToggle:i,disabled:l,ref:o}=e,[s,u]=(0,r.useState)(n);return(0,t.jsx)("div",{className:"focus:border-rounded -my-px flex items-center border bg-background-100 px-2",children:(0,t.jsx)("input",{"aria-label":"input value",className:(0,d.clsx)("block w-full bg-background-100 focus:outline-none focus:ring-transparent sm:text-sm",l&&"bg-[--themed-bg] text-gray-700"),disabled:l,onBlur:()=>{s!==n&&a((0,v.toValueObj)(s)),i(!1)},onChange:e=>u(e.target.value),onFocus:()=>i(!0),ref:o,type:"text",value:s.toString()})})}function O(e){let{index:n}=e,a=S(e=>e.filters),u=S(e=>e.removeFilter),d=S(e=>e.chooseValue),c=S(e=>e.chooseOperator),f=S(e=>e.searchValues),p=S(e=>e.toggleFilter),m=S(e=>e.edited),g=S(e=>e.config.dimensions),y=S(e=>e.disabled),b=(0,r.useRef)(null),{open:x,dimension:C,values:w,operator:E,availableValues:O,availableOperators:R,parseValue:D}=(0,r.useMemo)(()=>({open:null,availableValues:void 0,availableOperators:void 0,parseValue:void 0,values:a[n]?.values??[],operator:a[n]?.operator,...m?.index===n?m:{},dimension:g.find(e=>{let{id:t}=e;return t===a[n]?.dimension})??g[0]}),[m,a,n,g]),k=(0,r.useCallback)(e=>{e&&"value"===x||p(e?"value":null,n)},[n,p,x]),P=(0,r.useCallback)(e=>void p(e?"operator":null,n),[n,p]);return(0,r.useEffect)(()=>{"match"===E.type&&"value"===x&&setTimeout(()=>b.current?.focus(),100)},[x,E.type]),(0,t.jsxs)("div",{className:"flex h-8 items-stretch","data-testid":(0,s.tid)("filter-bar","cascading-filter"),children:[(0,t.jsx)("div",{className:"rounded-l-md bg-background-100 px-2 py-1.5 text-sm font-normal shadow-border",children:(0,v.renderItem)(C,!0)}),(0,t.jsx)(N,{className:"!font-normal !ring-1 ring-gray-400 focus:ring-gray-500",disabled:y,label:"operator",onChange:c,onOpenChange:P,open:"operator"===x,options:R,value:E}),"match"===E.type&&(0,t.jsx)(j,{disabled:y,onChange:d,onToggle:k,ref:b,value:w[0]}),"match"!==E.type&&"valueless"!==E.type&&(0,t.jsx)(h,{disabled:y,label:C.label,onChange:d,onOpenChange:k,onSearch:f,open:"value"===x,options:O,parseNewValue:D,values:w,availableOperators:R}),(0,t.jsx)(i.Button,{"aria-label":"Remove filter",className:(0,o.cn)("!px-0.5 !ring-1 ring-gray-400 hover:!text-gray-1000 focus:ring-gray-500",y?"bg-[var(--themed-bg)!important]":"!text-gray-900"),disabled:y,onClick:()=>u(n),size:"small",style:{borderTopLeftRadius:0,borderBottomLeftRadius:0},svgOnly:!0,type:"secondary",typeName:"button",children:(0,t.jsx)(l.CrossSmall,{size:"small"})})]})}function R(){let{dimension:e,operator:r,availableValues:n,availableOperators:i,values:l,parseValue:o}=S(e=>e.edited??{dimension:null,operator:null,availableValues:[],availableOperators:[],values:[],parseValue:void 0}),s=S(e=>e.config.dimensions),u=S(e=>e.edited?.index===null?e.edited.open:null),d=S(e=>e.startNewFilter),c=S(e=>e.chooseDimension),f=S(e=>e.chooseOperator),p=S(e=>e.chooseValue),m=S(e=>e.searchValues),v=S(e=>e.disabled);return e?r?(0,t.jsx)(h,{label:e.label,onChange:p,onOpenChange:d,onSearch:m,open:"value"===u,options:n,parseNewValue:o,values:l,availableOperators:i,children:(0,t.jsx)(a.AddFilter,{disabled:v})}):(0,t.jsx)(N,{label:"operator",onChange:f,onOpenChange:d,open:"value"===u,options:i,children:(0,t.jsx)(a.AddFilter,{disabled:v})}):(0,t.jsx)(N,{label:"dimension",onChange:e=>void c(e),onOpenChange:d,open:"operator"===u,options:s,children:(0,t.jsx)(a.AddFilter,{disabled:v})})}function D(e){let{renderFilter:n,addFilter:a}=e,i=S(e=>e.filters);return(0,t.jsxs)("div",{className:"items-top tailwind-preflight flex flex-wrap gap-2",children:[i.map((e,a)=>(0,t.jsx)(r.Fragment,{children:(n||(e=>e))((0,t.jsx)(O,{index:a}),e,a)},a)),a||(0,t.jsx)(R,{})]})}e.s(["useStore",()=>S],2789287);var k=e.i(1706982);function P(e,t,r){let{edited:n}=r();t({edited:n?.index===e?null:n})}function M(e,t,r,n){let{filters:a,edited:i,onChange:l}=n(),o=t?.operator?.type==="valueless",s=void 0===t||o||t.values?.length?[...a.slice(0,e),t?{...a[e],...t}:void 0,...a.slice(e+1)].filter(e=>void 0!==e):a;r({filters:s,edited:t&&i?{...i,operator:t.operator??i.operator,values:t.values??i.values}:null}),l(s)}function V(e,t){let{dimensions:r}=t;return r.find(t=>{let{id:r}=t;return e?.dimension===r})}function A(e,t,r,n){let{valuesByDimension:a,edited:i}=n(),l=[...a[e.id]??[]],o=new Set(l.map(e=>{let{id:t}=e;return t})),s=!(e.id in a);for(let e of t)o.has(e.id)||(o.add(e.id),l.push(e),s=!0);s&&(i?.dimension?.id===e.id&&r({edited:{...i,availableValues:l}}),r({valuesByDimension:{...a,[e.id]:l}}))}function T(e){return"stringArray"===e.type?e=>{let{type:t}=e;return"array"===t||"valueless"===t}:"boolean"===e.type?e=>{let{type:t}=e;return"single"===t||"valueless"===t}:"number"===e.type?e=>{let{type:t}=e;return"multiple"===t||"single"===t||"numerical"===t||"valueless"===t}:e=>{let{type:t}=e;return"multiple"===t||"single"===t||"match"===t||"valueless"===t}}async function I(e,t){let{filters:r,config:n}=t(),a=new Set;for(let e of r){let r=V(e,n);!r||r.id in t().valuesByDimension||a.add(r)}for(let i of(await Promise.allSettled([...a].map(async r=>{A(r,await L({dimension:r},n.resolveValues),e,t)})),r)){let r=V(i,n);"match"!==i.operator.type&&r&&A(r,i.values,e,t)}e({filters:r.map(e=>({...e,values:e.values.map(r=>t().valuesByDimension[e.dimension]?.find(e=>e.id===r.id)??r)}))})}async function L(e,t){let r=t?.(e);return r instanceof Object&&"then"in r?await r??[]:r??[]}function F(e,t){return JSON.stringify(e)===JSON.stringify(t)}function _(e){let{renderFilter:a,addFilter:i,...l}=e,o=(0,r.useRef)((0,k.createStore)()((e,t)=>({config:{dimensions:[],operators:[]},filters:[],onChange:()=>void 0,disabled:!1,operatorUponCreation:!1,autoSelectSingleDimension:!1,edited:null,valuesByDimension:{},setProps:async r=>{let{onChange:n,disabled:a,config:i,filters:l,operatorUponCreation:o,autoSelectSingleDimension:s}=r,u=t();if(a!==u.disabled&&e({disabled:a}),n!==u.onChange&&e({onChange:n}),o!==u.operatorUponCreation&&e({operatorUponCreation:o}),s!==u.autoSelectSingleDimension&&e({autoSelectSingleDimension:s}),F(u.config,i)&&i.resolveValues===u.config.resolveValues&&i.createValue===u.config.createValue&&i.resolveOperators===u.config.resolveOperators)F(u.filters,l)||(e({filters:l}),await I(e,t));else{e({config:i,filters:l,edited:null});let r=l.filter(e=>{let{dimension:t}=e;return i.dimensions.some(e=>{let{id:r}=e;return r===t})});F(l,r)||(e({filters:r}),n(r)),await I(e,t)}},toggleFilter:async(r,n)=>{let{config:a,disabled:i,edited:l,filters:o,valuesByDimension:s}=t(),u=o[n],d=V(u,a);!i&&u&&d&&(r||l?.index===null||l?.values.length!==0||M(l.index,void 0,e,t),e({edited:r?{index:n,operator:u.operator,values:u.values,open:r,dimension:d,availableOperators:a.operators.filter(T(d)),availableValues:s[d.id],parseValue:(0,v.makeParseValue)(d)}:null}),A(d,await L({dimension:d},a.resolveValues),e,t))},startNewFilter:r=>{let{config:n,disabled:a,edited:i,filters:l,operatorUponCreation:o,autoSelectSingleDimension:s,valuesByDimension:u}=t();if(!a){if(r&&s&&1===n.dimensions.length){let r=n.dimensions[0],a="stringArray"===r.type?n.defaultArrayOperator:n.defaultSingleOperator;e({edited:{index:null,open:"value",dimension:r,operator:o?void 0:a,values:[],availableOperators:n.operators.filter(T(r)),availableValues:u[r.id],parseValue:(0,v.makeParseValue)(r)}}),L({dimension:r},n.resolveValues).then(n=>A(r,n,e,t));return}if(e({edited:r?{index:null,open:"operator",operator:o?void 0:n.defaultSingleOperator,values:[],availableOperators:n.operators}:null}),i?.dimension&&(i.operator?.type==="multiple"||i.operator?.type==="array")){let{values:r,operator:n,dimension:{id:a}}=i;r.length&&M(l.length,{values:r,operator:n,dimension:a},e,t)}}},chooseDimension:async r=>{let{config:n,edited:a,valuesByDimension:i,operatorUponCreation:l}=t();if(!a)return;let o="stringArray"===r.type?n.defaultArrayOperator:n.defaultSingleOperator;e({edited:{...a,open:"value",dimension:r,operator:l?void 0:o,parseValue:(0,v.makeParseValue)(r),availableValues:i[r.id],availableOperators:n.operators.filter(T(r))}}),A(r,await L({dimension:r},n.resolveValues),e,t)},chooseOperator:async r=>{let{edited:n,filters:a}=t();if(!n)return;if(null===n.index)return void("valueless"===r.type&&n.dimension?(e({edited:null}),M(a.length,{dimension:n.dimension.id,operator:r,values:[]},e,t)):e({edited:{...n,open:"value",operator:r}}));if(n.operator?.type==="valueless"&&"valueless"!==r.type){let t={...n,operator:r,open:null};return e({edited:t}),await new Promise(e=>{setTimeout(e,50)}),e({edited:{...t,open:"value"}})}let i=n.values;"multiple"!==r.type&&n.values.length>1&&(i=n.values.slice(0,1)),"valueless"===r.type&&(i=[]),M(n.index,{...a[n.index],operator:r,values:i},e,t),P(n.index,e,t)},chooseValue:(r,n)=>{let{config:a,filters:i,edited:l}=t();if(!l||!l.dimension||!l.operator)return;let{dimension:o,operator:s,values:u}=l;if(function(e,t){let{value:r}=e;return"number"===t.type&&("number"!=typeof r||Number.isNaN(r))||"boolean"===t.type&&!0!==r&&!1!==r}(r,o))return;let d={values:u,operator:s},c=!1;"match"===s.type?d.values=[r]:(u.every(e=>{let{id:t}=e;return t!==r.id})?(A(o,[r],e,t),"multiple"===s.type||"array"===s.type?d.values=[...u,r]:n?(d.values=[...u,r],d.operator=a.defaultMultiOperator):d.values=[r]):(d.values=u.filter(e=>{let{id:t}=e;return t!==r.id}),n&&"multiple"===s.type&&d.values.length<2&&(d.operator=a.defaultSingleOperator)),c=!n),null===l.index?n?e({edited:{...l,...d}}):(d.values.length&&M(i.length,{dimension:l.dimension.id,...d},e,t),e({edited:null})):(0===d.values.length&&c?M(l.index,void 0,e,t):M(l.index,d,e,t),c&&P(l.index,e,t))},searchValues:async r=>{let{config:n,edited:a}=t();if(!a?.dimension)return;let{dimension:i}=a,l=await L({dimension:i,text:r},n.resolveValues);A(i,l,e,t)},removeFilter:r=>{let{disabled:n,filters:a}=t();!n&&a[r]&&M(r,void 0,e,t)},resetOperator:()=>{let{disabled:r,edited:n}=t();!r&&n&&n.dimension&&e({edited:{...n,operator:void 0,values:[],open:"operator"}})},resetDimension:()=>{let{disabled:r,edited:n,config:a}=t();!r&&n&&e({edited:{index:null,values:[],open:"operator",availableOperators:a.operators}})}}))),s=(0,r.useMemo)(()=>l,[l]);return(0,r.useEffect)(()=>{o.current.getState().setProps(s)},[s]),(0,t.jsx)(n.FilterBarContext.Provider,{value:o.current,children:(0,t.jsx)(D,{renderFilter:a,addFilter:i})})}e.s(["FilterBar",()=>_],1482596)},9372366,e=>{"use strict";var t=e.i(4337458),r=e.i(854682),n=e.i(9667097),a=e.i(1283928),i=e.i(1233856),l=e.i(455575),o=e.i(5169864),s=e.i(8690335),u=e.i(4919835),d=e.i(9486194),c=e.i(9429462),f=e.i(7722264),p=e.i(2107254),m=e.i(9668517),v=e.i(747275);let g=e=>{let{observabilityConfiguration:t}=(0,r.useHasObservabilityPlus)(),n=(0,m.useTeamSlug)(),{data:a,updateSearch:i,search:l}=(0,p.default)({limit:10,latestDeployments:null},{},n??void 0);return{decorate:(0,o.useCallback)(async e=>[...e,...a?.projects.map(e=>{let{id:t,name:r}=e;return{id:t,value:t,label:r}})??[]].map(e=>t?.observabilityPlus.excludedProjects?.some(t=>t.id===e.id)?{...e,disabled:!0,tooltip:"Excluded from Observability Plus"}:e),[t,a]),triggerMutation:async e=>{l!==e.text&&i(e.text)},dimensionId:"projectId"}},h=e=>{let{trigger:t}=(0,c.useDeploymentBadgeResolverMutation)(e);return{decorate:(0,o.useCallback)(async e=>{try{let r=await t();return(0,u.applyBadgesToDeploymentIds)(e,r)}catch{return e}},[t]),triggerMutation:()=>t().catch(()=>{}),dimensionId:"deploymentId"}},y=e=>{let{event:n,measure:a}=(0,s.splitEventAndMeasure)(e),i=(0,t.useSonarQueryScope)(),{hasObservabilityPlusAccess:l}=(0,r.useHasObservabilityPlus)();return{decorate:async(e,t)=>{let{dimension:r,text:o}=t;return i?[...e,...await b({event:n,measure:a,column:r.id,reason:l?"observability_query_builder_plus":"observability_query_builder_free",text:o,...i})]:[]},dimensionId:null}};async function b(e){let{event:t,measure:r,column:l,ownerId:o,reason:u,text:c}=e,f={minutes:5},p=(0,i.startOfDuration)(new Date(Date.now()-36e5),f),m=(0,i.endOfDuration)(new Date,f),v=s.labelColumnByColumn.get(l),g=d.staticDimensionValues.find(e=>e.dimensions.includes(l))?.values,h="number"===a.AllDimensions[l].type;if(g)return g.map(e=>({id:e.id.toString(),value:e.id,..."label"in e?{label:e.label}:{}})).sort((e,t)=>String(e.id).localeCompare(String(t.id)));let y=c?`contains(${v||l},'${c}')`:void 0;return(await (0,n.getSonarData)({event:t,scope:{type:"owner",ownerId:o},reason:u,startTime:p,endTime:m,rollups:{value:{measure:r,aggregation:"sum"}},filter:y,granularity:f,groupBy:v?[l,v]:[l],limit:10,tailRollup:"truncate",summaryOnly:!0})).summary.map(e=>{let t=h?Number.parseFloat(e[l]):e[l];return{id:t.toString(),label:v?e[v]:void 0,value:t}})}e.s(["getDimensionValues",()=>b,"useValuesResolver",0,e=>{let t,r,n,a=(0,l.useToasts)(),{decorate:i,triggerMutation:s}=(t=[y,g,h].map(t=>t(e)),(r=(0,o.useRef)(t)).current=t,n=e=>r.current.filter(t=>null===t.dimensionId||t.dimensionId===e.dimension.id),{decorate:async(e,t)=>{let r=e;for(let e of n(t))r=await e.decorate(r,t);return r},triggerMutation:e=>Promise.all(n(e).map(t=>t.triggerMutation?.(e)))});return async e=>{let{dimension:t,text:r}=e;try{s({dimension:t,text:r});let e=await i([],{dimension:t,text:r});return(0,v.default)(e,"id")}catch(e){return a.error(`Error fetching dimension values. ${(0,f.isError)(e)?e.message:""}`),[]}}}])}]);

//# debugId=a4f4ff3f-52fc-4a16-6a11-45f9ea34c204
//# sourceMappingURL=04e4fa9a5c627b04.js.map